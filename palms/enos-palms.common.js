module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "fae3");
/******/ })
/************************************************************************/
/******/ ({

/***/ "0064":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/enEdit.vue?vue&type=template&id=17a0b84b&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full quotes-app"},[_c('TitleBar',{attrs:{"portal":_vm.portal,"uiAPI":_vm.uiAPI},on:{"click":function($event){_vm.$emit('activated')}}},[_vm._v("\n     Effect Node Editor\n  ")]),_c('div',{staticClass:"content-div",on:{"click":function($event){_vm.$emit('activated')}}},[(_vm.portal && _vm.ready && _vm.root)?_c('SVGArea',{ref:"svgarea",attrs:{"Doc":_vm.Doc,"meta":_vm.portal.data,"connectors":_vm.connectors,"modules":_vm.root.modules,"uiAPI":_vm.uiAPI,"Data":_vm.Data,"root":_vm.root,"win":_vm.portal.win},on:{"cloneModule":_vm.cloneModule,"removeBox":_vm.removeBox,"editBox":_vm.editBox,"saveBox":_vm.updateBox,"animateBox":_vm.animateBox,"disconnect":_vm.updateBothSocket,"connect":_vm.updateBothSocket,"moveBox":_vm.updateBox,"ready":function($event){_vm.hasSvg = true}}}):_vm._e(),(_vm.hasSvg)?_c('div',{staticClass:"buttons bottom-left"},[_c('span',{staticClass:"linker",on:{"click":_vm.makePulseMod}},[_vm._v("Add Main Loop")]),_c('span',{staticClass:"linker",on:{"click":_vm.makeDomMod}},[_vm._v("Add Dom Updater")])]):_vm._e(),(_vm.hasSvg)?_c('div',{staticClass:"tools top-left"},[_c('span',{staticClass:"linker",on:{"click":_vm.scrollHome}},[_vm._v("Home View")]),_c('span',{staticClass:"linker",on:{"click":_vm.toggleFlow}},[_vm._v("Toggle Flow")])]):_vm._e()],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/enEdit.vue?vue&type=template&id=17a0b84b&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.sort.js
var es6_array_sort = __webpack_require__("55dd");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find.js
var es6_array_find = __webpack_require__("7514");

// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js
var web_dom_iterable = __webpack_require__("ac6a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.function.name.js
var es6_function_name = __webpack_require__("7f7f");

// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js
var runtime = __webpack_require__("96cf");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("3b8d");

// EXTERNAL MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue + 4 modules
var TitleBar = __webpack_require__("d654");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Index.vue?vue&type=template&id=58da8613&scoped=true&
var Indexvue_type_template_id_58da8613_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ready)?_c('div',{staticClass:"full pos-rel"},[(_vm.win)?_c('svg',{ref:"svg",attrs:{"xmlns":"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","width":((_vm.win.width) + "px"),"height":((_vm.win.height - 30) + "px"),"viewBox":((_vm.view.x.toFixed(1)) + " " + (_vm.view.y.toFixed(1)) + " " + (_vm.win.width) + " " + (_vm.win.height - 30))}},[_c('defs',[_c('marker',{staticStyle:{"overflow":"visible","cursor":"move"},attrs:{"id":(_vm.uniq + "circle-ok")}},[_c('circle',{attrs:{"r":"3","fill":'lime'}})]),_c('marker',{staticStyle:{"overflow":"visible","cursor":"move"},attrs:{"id":(_vm.uniq + "circle-ready")}},[_c('circle',{attrs:{"r":"3","stroke":"rgba(255,255,255,0.3)","fill":"rgba(255,255,255,0.3)"}})]),_c('marker',{staticStyle:{"overflow":"visible","cursor":"move"},attrs:{"id":(_vm.uniq + "circle-error")}},[_c('circle',{attrs:{"r":"3","fill":'red'}})]),_c('marker',{staticStyle:{"overflow":"visible","cursor":"move"},attrs:{"id":(_vm.uniq + "circle-info")}},[_c('circle',{attrs:{"r":"3","fill":'blue'}})]),_c('linearGradient',{attrs:{"id":(_vm.uniq + "kale-salad"),"x1":"0%","y1":"0%","x2":"100%","y2":"0%"}},[_c('stop',{staticStyle:{"stop-color":"#00C9FF","stop-opacity":"1"},attrs:{"offset":"0%"}}),_c('stop',{staticStyle:{"stop-color":"#92FE9D","stop-opacity":"1"},attrs:{"offset":"100%"}})],1),_c('linearGradient',{attrs:{"id":(_vm.uniq + "disco-club"),"x1":"0%","y1":"0%","x2":"100%","y2":"0%"}},[_c('stop',{staticStyle:{"stop-color":"#FC466B","stop-opacity":"1"},attrs:{"offset":"0%"}}),_c('stop',{staticStyle:{"stop-color":"#3F5EFB","stop-opacity":"1"},attrs:{"offset":"100%"}})],1),_c('linearGradient',{attrs:{"id":(_vm.uniq + "danger"),"x1":"0%","y1":"0%","x2":"100%","y2":"100%"}},[_c('stop',{staticStyle:{"stop-color":"#FF0000","stop-opacity":"1"},attrs:{"offset":"0%"}}),_c('stop',{staticStyle:{"stop-color":"#FFFFFF","stop-opacity":"1"},attrs:{"offset":"100%"}})],1),_c('linearGradient',{attrs:{"id":(_vm.uniq + "calm-blue"),"x1":"0%","y1":"0%","x2":"100%","y2":"100%"}},[_c('stop',{staticStyle:{"stop-color":"#52ACFF","stop-opacity":"1"},attrs:{"offset":"0%"}}),_c('stop',{staticStyle:{"stop-color":"#52ACFF","stop-opacity":"1"},attrs:{"offset":"25%"}}),_c('stop',{staticStyle:{"stop-color":"#FFE32C","stop-opacity":"1"},attrs:{"offset":"100%"}})],1),_c('linearGradient',{attrs:{"id":(_vm.uniq + "calm-pink"),"x1":"0%","y1":"0%","x2":"100%","y2":"100%"}},[_c('stop',{staticStyle:{"stop-color":"#FAACA8","stop-opacity":"1"},attrs:{"offset":"0%"}}),_c('stop',{staticStyle:{"stop-color":"#DDD6F3","stop-opacity":"1"},attrs:{"offset":"100%"}})],1)],1),(_vm.win && _vm.view && _vm.$refs['svg'])?_c('Panner',{attrs:{"svg":_vm.$refs['svg'],"view":_vm.view,"win":_vm.win},on:{"move":_vm.onPannerMove}}):_vm._e(),_vm._l((_vm.modules),function(box){return _c('g',{key:(_vm.uniq + "boxes-" + (box._id))},[(_vm.$refs.svg)?_c('ModuleBox',{attrs:{"uniq":_vm.uniq,"Data":_vm.Data,"Doc":_vm.Doc,"socketuis":_vm.socketuis,"hand":_vm.hand,"view":_vm.view,"win":_vm.win,"box":box,"svg":_vm.$refs['svg']},on:{"cloneModule":_vm.cloneModule,"editBox":_vm.editBox,"toggle-size":_vm.toggleSize,"connect":_vm.onConnect,"disconnect":_vm.onDisconnect,"move":_vm.onMoveBox,"removeBox":_vm.removeBox}}):_vm._e()],1)}),_vm._l((_vm.outputCable),function(pair){return _c('g',{key:(_vm.uniq + "cabel-" + (pair.socket.from + pair.socket.to))},[(_vm.$refs.svg)?_c('Cable',{attrs:{"running":_vm.flowYo,"Data":_vm.Data,"Doc":_vm.Doc,"uniq":_vm.uniq,"pair":pair,"socketuis":_vm.socketuis,"svg":_vm.$refs['svg']},on:{"move":_vm.onMoveCable}}):_vm._e()],1)})],2):_vm._e()]):_vm._e()}
var Indexvue_type_template_id_58da8613_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Index.vue?vue&type=template&id=58da8613&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Panner.vue?vue&type=template&id=ccc1ab0e&
var Pannervue_type_template_id_ccc1ab0e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('rect',{attrs:{"x":_vm.view.x.toFixed(2),"y":_vm.view.y.toFixed(2),"width":_vm.win.width,"height":_vm.win.height - 30,"fill":"transparent","stroke":"none"}})}
var Pannervue_type_template_id_ccc1ab0e_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Panner.vue?vue&type=template&id=ccc1ab0e&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Panner.vue?vue&type=script&lang=js&
//
//
//
//
//
/* harmony default export */ var Pannervue_type_script_lang_js_ = ({
  props: {
    view: {},
    win: {},
    svg: {}
  },
  data: function data() {
    return {
      isDown: false
    };
  },
  mounted: function mounted() {
    var _this = this;

    var h = {
      onMD: function onMD(evt) {
        if (evt.touches && evt.touches[0]) {
          evt.preventDefault();
          h.tsx = evt.touches[0].pageX;
          h.tsy = evt.touches[0].pageY;
        }

        _this.isDown = true;
      },
      onMM: function onMM(evt) {
        if (evt.touches && evt.touches[0]) {
          evt.preventDefault();
          h.dx = evt.touches[0].pageX - h.tsx;
          h.dy = evt.touches[0].pageY - h.tsy;
          h.tsx = evt.touches[0].pageX;
          h.tsy = evt.touches[0].pageY;

          if (_this.isDown) {
            _this.$emit('move', {
              dx: h.dx,
              dy: h.dy
            });
          }

          return;
        }

        if (_this.isDown) {
          _this.$emit('move', {
            dx: evt.movementX,
            dy: evt.movementY
          }); // console.log(evt)

        }
      },
      onMU: function onMU(evt) {
        _this.isDown = false;
      } // console.log(this)

    };
    this.$el.addEventListener('touchstart', h.onMD, false);
    this.$el.addEventListener('touchend', h.onMU, false);
    this.$el.addEventListener('touchmove', h.onMM, false);
    this.$el.addEventListener('touchcancel', h.onMU, false);
    this.$el.addEventListener('mousedown', h.onMD, false);
    this.$el.addEventListener('mouseup', h.onMU, false);
    this.$el.addEventListener('mousemove', h.onMM, false);
    this.$el.addEventListener('mouseleave', h.onMU, false);

    this.clean = function () {
      _this.$el.removeEventListener('mousedown', h.onMD);

      _this.$el.removeEventListener('mouseup', h.onMU);

      _this.$el.removeEventListener('mousemove', h.onMM);

      _this.$el.removeEventListener('mouseleave', h.onMU);
    };
  },
  methods: {},
  beforeDestroy: function beforeDestroy() {
    this.clean();
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Panner.vue?vue&type=script&lang=js&
 /* harmony default export */ var SVGArea_Pannervue_type_script_lang_js_ = (Pannervue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Panner.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  SVGArea_Pannervue_type_script_lang_js_,
  Pannervue_type_template_id_ccc1ab0e_render,
  Pannervue_type_template_id_ccc1ab0e_staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var Panner = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Cable.vue?vue&type=template&id=7412da8d&scoped=true&
var Cablevue_type_template_id_7412da8d_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[(_vm.aBridge && _vm.bBridge)?_c('path',{staticClass:"path",style:(_vm.getStyle()),attrs:{"d":_vm.getFromNode(_vm.aBridge, _vm.bBridge),"fill":"none","marker-start":("url(#" + _vm.uniq + "circle-ready)"),"marker-mid":("url(#" + _vm.uniq + "square)"),"marker-end":("url(#" + _vm.uniq + "circle-ready)")}}):_vm._e()])}
var Cablevue_type_template_id_7412da8d_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Cable.vue?vue&type=template&id=7412da8d&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Cable.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
/* harmony default export */ var Cablevue_type_script_lang_js_ = ({
  props: {
    Data: {},
    Doc: {},
    uniq: {},
    socketuis: {},
    pair: {},
    svg: {},
    running: {
      default: false // bridge: {
      //   required: true
      // }

    }
  },
  mounted: function mounted() {// console.log(this.pair, this.aaBridge)
  },
  components: {},
  computed: {
    aBridge: function aBridge() {
      var _this = this;

      var socketUI = this.socketuis.find(function (s) {
        return _this.pair.socket.from === s.socket.socket.from;
      });

      if (socketUI) {
        return socketUI.bridge.a;
      } else {
        return false;
      }
    },
    bBridge: function bBridge() {
      var _this2 = this;

      var socketUI = this.socketuis.find(function (s) {
        // console.log(s)
        return _this2.pair.socket.to === s.socket.socket.from;
      });

      if (socketUI) {
        return socketUI.bridge.a;
      } else {
        return false;
      }
    }
  },
  data: function data() {
    // console.log(this.socketuis)
    var getID = function getID() {
      return '--' + (Math.random() * 1024 * 1024 * 1024).toFixed(0);
    };

    return {
      bridge: {
        id: getID(),
        line: {
          running: true,
          stroke: "green"
        },
        a: {
          rect: {
            x: 50,
            y: 50,
            w: 1,
            h: 1,
            stroke: "",
            fill: "lime"
          },
          marker: {
            stroke: "",
            fill: "green"
          }
        },
        b: {
          rect: {
            x: 200,
            y: 10,
            w: 1,
            h: 1,
            stroke: "",
            fill: "lime"
          },
          marker: {
            stroke: "",
            fill: "green"
          }
        }
      }
    };
  },
  methods: {
    onMove: function onMove(v) {
      v.bridge = this.bridge;
      this.$emit('move', v);
    },
    getStyle: function getStyle() {
      return {
        'stroke': this.pair.color,
        // `url(#${this.uniq}kale-salad)`,
        'stroke-dasharray': this.running ? '8px' : '0px',
        'animation-play-state': this.running ? 'running' : 'paused',
        'animation-direction': this.bridge.a.voltage > this.bridge.b.voltage ? "normal" : "reverse"
      };
    },
    getFromNode: function getFromNode(a, b) {
      return this.getFromCenter(a, b); // if (a.x < b.x) {
      //   return this.getFromNodeLeftToRight(a, b)
      // } else if (a.y < b.y) {
      //   return this.getFromNodeUpToDown(a, b)
      // }
    },
    getFromCenter: function getFromCenter(a, b) {
      // console.log(a, b)
      var ax = a.rect.x + a.rect.w / 2;
      var ay = a.rect.y + a.rect.h / 2;
      var bx = b.rect.x + b.rect.w / 2;
      var by = b.rect.y + b.rect.h / 2;
      return "\n        M ".concat(ax, ",").concat(ay, "\n        C ").concat(ax, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat(by, "\n      ");
    },
    getFromNodeLeftToRight: function getFromNodeLeftToRight(a, b) {
      var ax = a.rect.x + a.rect.w;
      var ay = a.rect.y + a.rect.h / 2;
      var bx = b.rect.x; // + b.rect.w / 2

      var by = b.rect.y + b.rect.h / 2;
      return "\n        M ".concat(ax, ",").concat(ay, "\n        C ").concat(ax, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat(by, "\n      ");
    },
    getFromNodeUpToDown: function getFromNodeUpToDown(a, b) {
      var ax = a.rect.x + a.rect.w;
      var ay = a.rect.y + a.rect.h / 2;
      var bx = b.rect.x; // + b.rect.w / 2

      var by = b.rect.y + b.rect.h / 2;
      return "\n        M ".concat(ax, ",").concat(ay, "\n        C ").concat(ax, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat(by, "\n      ");
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Cable.vue?vue&type=script&lang=js&
 /* harmony default export */ var SVGArea_Cablevue_type_script_lang_js_ = (Cablevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enEdit/SVGArea/Cable.vue?vue&type=style&index=0&id=7412da8d&scoped=true&lang=css&
var Cablevue_type_style_index_0_id_7412da8d_scoped_true_lang_css_ = __webpack_require__("86b8");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Cable.vue






/* normalize component */

var Cable_component = Object(componentNormalizer["a" /* default */])(
  SVGArea_Cablevue_type_script_lang_js_,
  Cablevue_type_template_id_7412da8d_scoped_true_render,
  Cablevue_type_template_id_7412da8d_scoped_true_staticRenderFns,
  false,
  null,
  "7412da8d",
  null
  
)

/* harmony default export */ var Cable = (Cable_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue?vue&type=template&id=1d17a179&scoped=true&
var ModuleBoxvue_type_template_id_1d17a179_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',{ref:"rect",staticClass:"box",attrs:{"width":_vm.boxW,"height":_vm.boxH,"x":_vm.box.pos.x,"y":_vm.box.pos.y,"fill":"white","d-fill":"`url(#${uniq}calm-blue)`"}}),_vm._l((_vm.inputs),function(input,ii){return _c('g',{key:input.id},[_c('IOSocket',{attrs:{"boxH":_vm.boxH,"uniq":_vm.uniq,"Data":_vm.Data,"Doc":_vm.Doc,"socketuis":_vm.socketuis,"hand":_vm.hand,"view":_vm.view,"socket":input,"win":_vm.win,"svg":_vm.svg,"type":"input","x":_vm.box.pos.x + ii * _vm.inputW,"y":_vm.box.pos.y - 13,"w":_vm.inputW,"h":13},on:{"connect":_vm.onConnect,"disconnect":_vm.onDisconnect}})],1)}),_vm._l((_vm.outputs),function(output,ii){return _c('g',{key:output.id},[_c('IOSocket',{attrs:{"boxH":_vm.boxH,"uniq":_vm.uniq,"Data":_vm.Data,"Doc":_vm.Doc,"socketuis":_vm.socketuis,"hand":_vm.hand,"view":_vm.view,"socket":output,"win":_vm.win,"svg":_vm.svg,"type":"output","x":_vm.box.pos.x + ii * _vm.outputW,"y":_vm.box.pos.y + _vm.boxH - 13 + 13,"w":_vm.outputW,"h":13},on:{"connect":_vm.onConnect,"disconnect":_vm.onDisconnect}})],1)}),_c('text',{ref:"drag",staticClass:"noselect",staticStyle:{"cursor":"grab"},attrs:{"x":3.5 + _vm.box.pos.x + 2,"y":3.5 + _vm.box.pos.y + 10 + 2}},[_vm._v(_vm._s(_vm.box.name))]),_c('text',{staticClass:"noselect",staticStyle:{"text-decoration":"underline","cursor":"pointer"},attrs:{"height":10,"x":3.5 + _vm.box.pos.x + 2,"y":3.5 + _vm.box.pos.y + 25 + 2,"fill":("url(#" + _vm.uniq + "disco-club)")},on:{"click":function($event){_vm.$emit('editBox', _vm.box)}}},[_vm._v("Edit")]),_c('text',{staticClass:"noselect",staticStyle:{"text-decoration":"underline","cursor":"pointer"},attrs:{"height":10,"x":3.5 + _vm.box.pos.x + 30 + 2,"y":3.5 + _vm.box.pos.y + 25 + 2,"fill":("url(#" + _vm.uniq + "disco-club)")},on:{"click":function($event){_vm.$emit('cloneModule', { box: _vm.box })}}},[_vm._v("Clone")]),_c('text',{staticClass:"noselect",staticStyle:{"text-decoration":"underline","cursor":"pointer"},attrs:{"height":10,"x":3.5 + _vm.box.pos.x + 30 + 45 + 2,"y":3.5 + _vm.box.pos.y + 25 + 2,"fill":("url(#" + _vm.uniq + "disco-club)")},on:{"click":function($event){_vm.$emit('removeBox', { box: _vm.box, inputs: _vm.inputs, outputs: _vm.outputs })}}},[_vm._v("Remove")])],2)}
var ModuleBoxvue_type_template_id_1d17a179_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue?vue&type=template&id=1d17a179&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/IOSocket.vue?vue&type=template&id=16b57e2f&scoped=true&
var IOSocketvue_type_template_id_16b57e2f_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[(_vm.type === 'input')?_c('rect',{ref:"socket",staticClass:"mover cross-hair",attrs:{"stroke":"black","fill":_vm.socket.color,"x":_vm.x,"y":_vm.y,"width":_vm.w,"height":_vm.h}}):(_vm.type === 'output')?_c('rect',{ref:"socket",staticClass:"mover cross-hair",attrs:{"stroke":"black","fill":_vm.socket.color,"x":_vm.x,"y":_vm.y,"width":_vm.w,"height":_vm.h}}):_vm._e(),(_vm.type === 'input')?_c('circle',{ref:"socket",staticClass:"mover cross-hair stroke-only",attrs:{"stroke":'black',"fill":'none',"cx":_vm.x + _vm.w / 2,"cy":_vm.y + _vm.h / 2,"dwidth":_vm.w,"r":_vm.h / 4}}):(_vm.type === 'output')?_c('circle',{ref:"socket",staticClass:"mover cross-hair stroke-only ",attrs:{"stroke":'black',"fill":'none',"cx":_vm.x + _vm.w / 2,"cy":_vm.y + _vm.h / 2,"dwidth":_vm.w,"r":_vm.h / 4}}):_vm._e(),(_vm.isDown)?_c('path',{staticClass:"path",style:(_vm.getStyle()),attrs:{"stroke":("url(#" + _vm.uniq + "kale-salad)"),"d":_vm.getFromNode(_vm.bridge.a, _vm.bridge.b),"fill":'none',"marker-start":("url(#" + _vm.uniq + "circle-ok)"),"marker-mid":"url(#${uniq}square)","marker-end":("url(#" + _vm.uniq + "circle-ok)")}}):_vm._e()])}
var IOSocketvue_type_template_id_16b57e2f_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/IOSocket.vue?vue&type=template&id=16b57e2f&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/parse-int.js
var parse_int = __webpack_require__("e814");
var parse_int_default = /*#__PURE__*/__webpack_require__.n(parse_int);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.to-string.js
var es6_regexp_to_string = __webpack_require__("6b54");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js + 1 modules
var objectSpread = __webpack_require__("cebc");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find-index.js
var es6_array_find_index = __webpack_require__("20d6");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/IOSocket.vue?vue&type=script&lang=js&




//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var IOSocketvue_type_script_lang_js_ = ({
  props: {
    uniq: {},
    Data: {},
    Doc: {},
    socketuis: {},
    hand: {},
    view: {},
    socket: {},
    win: {},
    svg: {},
    type: {},
    x: {},
    y: {},
    w: {},
    h: {}
  },
  data: function data() {
    var getID = function getID() {
      return '--' + (Math.random() * 1024 * 1024 * 1024).toFixed(0);
    };

    var self = this;
    var bridge = {
      id: getID(),
      line: {
        running: true,
        stroke: "green"
      },
      a: {
        rect: {
          get x() {
            return self.x;
          },

          get y() {
            return self.y;
          },

          // x: this.x,
          // y: this.y,
          get w() {
            return self.w;
          },

          get h() {
            return self.h;
          },

          stroke: "",
          fill: "lime"
        },
        marker: {
          stroke: "",
          fill: "green"
        }
      },
      b: {
        rect: {
          _mX: 0,
          _mY: 0,

          get x() {
            return bridge.b.rect._mX;
          },

          get y() {
            return bridge.b.rect._mY;
          },

          // y: 10,
          w: 10,
          h: 10,
          stroke: "",
          fill: "lime"
        },
        marker: {
          stroke: "",
          fill: "green"
        }
      }
    };
    return {
      from: false,
      to: false,
      onHand: false,
      isDown: false,
      bridge: bridge,
      should: ''
    };
  },
  watch: {
    isDown: function isDown() {
      this.socket.onHand = this.isDown;
      this.$emit('down', this.isDown);

      if (this.isDown) {
        this.svg.classList.add('is-down');
        this.hand.dragLine = this.bridge;
        this.hand.socket = this.socket;
      } else {
        this.svg.classList.remove('is-down');
        this.hand.dragLine = false;
        this.hand.socket = false;
      }
    }
  },
  beforeDestroy: function beforeDestroy() {
    var _this = this;

    var idx = this.socketuis.findIndex(function (e) {
      return e === _this;
    });
    this.socketuis.splice(idx, 1);
  },
  mounted: function mounted() {
    var _this2 = this;

    this.socketuis.push(this);
    this.$forceUpdate();
    this.$el.socket = this.socket;
    var h = {
      onMD: function onMD(evt) {
        _this2.onHand = true;
        _this2.isDown = true;
        _this2.bridge.b.rect._mX = evt.offsetX - _this2.bridge.b.rect.w + _this2.view.x;
        _this2.bridge.b.rect._mY = evt.offsetY - _this2.bridge.b.rect.h + _this2.view.y;
      },
      onMM: function onMM(evt) {
        if (_this2.isDown) {
          _this2.bridge.b.rect._mX = evt.offsetX - _this2.bridge.b.rect.w + _this2.view.x;
          _this2.bridge.b.rect._mY = evt.offsetY - _this2.bridge.b.rect.h + _this2.view.y;
        }
      },
      onMUBox: function onMUBox() {},
      onMU: function onMU() {
        if (_this2.onHand) {
          if (_this2.hand.should === 'connect') {
            _this2.$emit('connect', Object(objectSpread["a" /* default */])({}, _this2.hand.hit));
          }
        }

        if (_this2.hand.should === 'disconnect') {
          var to = _this2.Data.getToSocketByFromID({
            Doc: _this2.Doc,
            fromSocketID: _this2.socket.socket.from
          });

          if (to && _this2.socket && _this2.onHand) {
            _this2.$emit('disconnect', {
              to: to,
              from: _this2.socket
            });
          } else if (!to && _this2.socket && _this2.onHand) {
            to = _this2.Data.getToSocketByFromID({
              Doc: _this2.Doc,
              fromSocketID: _this2.socket.socket.to
            });

            _this2.$emit('disconnect', {
              to: to,
              from: _this2.socket
            });
          }

          _this2.hand.hit = {};
        }

        _this2.onHand = false;
        _this2.isDown = false;
      },
      onME: function onME() {
        var from = _this2.hand.socket;
        var to = _this2.socket; // hit

        if (!_this2.onHand && from && to && from.id !== to.id && from.mod.from !== to.mod.from && from.type !== to.type) {
          /*
          // socket object
          mod: {
            from: modID,
            to: false
          },
          socket: {
            from: sID,
            to: false
          }
          */
          _this2.hand.hit.from = from;
          _this2.hand.hit.to = to;
          console.log('enter');
          _this2.hand.should = 'connect';
        } else {
          _this2.hand.should = 'nothing';
        } // console.log(from, to)

      },
      onML: function onML() {
        if (_this2.onHand) {
          _this2.hand.should = 'nothing';

          if (_this2.socket.socket.to) {
            _this2.hand.should = 'disconnect';
          }
        }
      } // this.$el.addEventListener('touchstart', h.onMD, false)
      // this.$el.addEventListener('touchend', h.onMU, false)
      // this.$el.addEventListener('touchmove', h.onMM, false)
      // this.$el.addEventListener('touchcancel', h.onMU, false)

    };
    this.$el.addEventListener('mouseenter', h.onME, false);
    this.$el.addEventListener('mouseleave', h.onML, false);
    this.$el.addEventListener('mouseup', h.onMUBox, false);
    this.$el.addEventListener('mousedown', h.onMD, false);
    this.svg.addEventListener('mousemove', h.onMM, false);
    this.svg.addEventListener('mouseleave', h.onMU, false);
    this.svg.addEventListener('mouseup', h.onMU, false);
    this.$el.addEventListener('mouseup', h.onMU, false);

    this.clean = function () {
      _this2.$el.removeEventListener('mouseenter', h.onME);

      _this2.$el.removeEventListener('mouseleave', h.onML);

      _this2.$el.removeEventListener('mouseup', h.onMUBox);

      _this2.$el.removeEventListener('mousedown', h.onMD);

      _this2.svg.removeEventListener('mousemove', h.onMM);

      _this2.svg.removeEventListener('mouseleave', h.onMU);

      _this2.svg.removeEventListener('mouseup', h.onMU);

      _this2.$el.removeEventListener('mouseup', h.onMU);
    };
  },
  methods: {
    invertColor: function invertColor(hex) {
      /* eslint-disable */
      if (hex.indexOf('#') === 0) {
        hex = hex.slice(1);
      } // convert 3-digit hex to 6-digits.


      if (hex.length === 3) {
        hex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];
      }

      if (hex.length !== 6) {
        throw new Error('Invalid HEX color.');
      } // invert color components


      var r = (255 - parse_int_default()(hex.slice(0, 2), 16)).toString(16),
          g = (255 - parse_int_default()(hex.slice(2, 4), 16)).toString(16),
          b = (255 - parse_int_default()(hex.slice(4, 6), 16)).toString(16); // pad each with zeros and return


      return '#' + this.padZero(r) + this.padZero(g) + this.padZero(b);
      /* eslint-enable */
    },
    padZero: function padZero(str, len) {
      /* eslint-disable */
      len = len || 2;
      var zeros = new Array(len).join('0');
      return (zeros + str).slice(-len);
      /* eslint-enable */
    },
    getFromNode: function getFromNode(a, b) {
      var ax = a.rect.x + a.rect.w / 2;
      var ay = a.rect.y + a.rect.h / 2;
      var bx = b.rect.x + b.rect.w / 2;
      var by = b.rect.y + b.rect.h / 2;
      return "\n        M ".concat(ax, ",").concat(ay, "\n        C ").concat(ax, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat((ay + by) / 2, "\n          ").concat(bx, ",").concat(by, "\n      ");
    },
    // getStroke () {
    //   return `${this.bridge.line.stroke}`
    // },
    getStyle: function getStyle() {
      return {
        'stroke-dasharray': this.bridge.line.running ? '8px' : '0px',
        'animation-play-state': this.bridge.line.running ? 'running' : 'paused',
        'animation-direction': this.type === 'input' ? "normal" : "reverse"
      };
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/IOSocket.vue?vue&type=script&lang=js&
 /* harmony default export */ var SVGArea_IOSocketvue_type_script_lang_js_ = (IOSocketvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enEdit/SVGArea/IOSocket.vue?vue&type=style&index=0&id=16b57e2f&scoped=true&lang=css&
var IOSocketvue_type_style_index_0_id_16b57e2f_scoped_true_lang_css_ = __webpack_require__("1298");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/IOSocket.vue






/* normalize component */

var IOSocket_component = Object(componentNormalizer["a" /* default */])(
  SVGArea_IOSocketvue_type_script_lang_js_,
  IOSocketvue_type_template_id_16b57e2f_scoped_true_render,
  IOSocketvue_type_template_id_16b57e2f_scoped_true_staticRenderFns,
  false,
  null,
  "16b57e2f",
  null
  
)

/* harmony default export */ var IOSocket = (IOSocket_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var ModuleBoxvue_type_script_lang_js_ = ({
  components: {
    IOSocket: IOSocket
  },
  props: {
    uniq: {},
    Data: {},
    Doc: {},
    socketuis: {},
    hand: {},
    view: {},
    win: {},
    svg: {},
    box: {}
  },
  computed: {
    boxW: function boxW() {
      return this.box.size.w;
    },
    boxH: function boxH() {
      return this.box.size.h;
    },
    inputW: function inputW() {
      return this.boxW / (this.inputs.length || 3);
    },
    outputW: function outputW() {
      return this.boxW / (this.outputs.length || 3);
    },
    inputs: function inputs() {
      return this.Data.getModInputs({
        Doc: this.Doc,
        modID: this.box.id
      }) || [];
    },
    outputs: function outputs() {
      return this.Data.getModOutputs({
        Doc: this.Doc,
        modID: this.box.id
      }) || [];
    },
    bg: function bg() {
      return this.box;
    }
  },
  watch: {},
  data: function data() {
    return {
      // boxW: 300,
      // boxH: 100,
      clean: function clean() {}
    };
  },
  methods: {
    onConnect: function onConnect(v) {
      this.$emit('connect', v);
    },
    onDisconnect: function onDisconnect(v) {
      this.$emit('disconnect', v);
    },
    onMove: function onMove(evt) {
      evt.box.rect.x += evt.dx;
      evt.box.rect.y += evt.dy;
    }
  },
  mounted: function mounted() {
    var _this = this;

    var h = {
      onMD: function onMD(evt) {
        if (evt.touches && evt.touches[0]) {
          evt.preventDefault();
          h.tsx = evt.touches[0].pageX;
          h.tsy = evt.touches[0].pageY;
        }

        _this.isDown = true;
      },
      onMM: function onMM(evt) {
        if (evt.touches && evt.touches[0]) {
          evt.preventDefault();
          h.dx = evt.touches[0].pageX - h.tsx;
          h.dy = evt.touches[0].pageY - h.tsy;
          h.tsx = evt.touches[0].pageX;
          h.tsy = evt.touches[0].pageY;

          if (_this.isDown) {
            _this.$emit('move', {
              box: _this.box,
              dx: h.dx,
              dy: h.dy
            });
          }

          return;
        }

        if (_this.isDown) {
          _this.$emit('move', {
            box: _this.box,
            dx: evt.movementX,
            dy: evt.movementY
          }); // console.log(evt)

        }
      },
      onMU: function onMU(evt) {
        _this.isDown = false;
      }
    };
    this.$refs.rect.addEventListener('touchstart', h.onMD, false);
    this.$refs.rect.addEventListener('touchend', h.onMU, false);
    this.$refs.rect.addEventListener('touchmove', h.onMM, false);
    this.$refs.rect.addEventListener('touchcancel', h.onMU, false);
    this.$refs.rect.addEventListener('mousedown', h.onMD, false);
    this.$refs.rect.addEventListener('mouseup', h.onMU, false);
    this.$refs.drag.addEventListener('mousedown', h.onMD, false);
    this.$refs.drag.addEventListener('mouseup', h.onMU, false);
    this.svg.addEventListener('mousemove', h.onMM, false);
    this.svg.addEventListener('mouseleave', h.onMU, false);
    this.svg.addEventListener('mouseup', h.onMU, false);

    this.clean = function () {
      _this.$refs.rect.removeEventListener('mousedown', h.onMD);

      _this.$refs.rect.removeEventListener('mouseup', h.onMU);

      _this.$refs.drag.removeEventListener('mousedown', h.onMD);

      _this.$refs.drag.removeEventListener('mouseup', h.onMU);

      _this.svg.removeEventListener('mousemove', h.onMM);

      _this.svg.removeEventListener('mouseleave', h.onMU);

      _this.svg.removeEventListener('mouseup', h.onMU);
    };
  },
  beforeDestroy: function beforeDestroy() {
    this.clean();
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue?vue&type=script&lang=js&
 /* harmony default export */ var SVGArea_ModuleBoxvue_type_script_lang_js_ = (ModuleBoxvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue?vue&type=style&index=0&id=1d17a179&scoped=true&lang=css&
var ModuleBoxvue_type_style_index_0_id_1d17a179_scoped_true_lang_css_ = __webpack_require__("38d3");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/ModuleBox.vue






/* normalize component */

var ModuleBox_component = Object(componentNormalizer["a" /* default */])(
  SVGArea_ModuleBoxvue_type_script_lang_js_,
  ModuleBoxvue_type_template_id_1d17a179_scoped_true_render,
  ModuleBoxvue_type_template_id_1d17a179_scoped_true_staticRenderFns,
  false,
  null,
  "1d17a179",
  null
  
)

/* harmony default export */ var ModuleBox = (ModuleBox_component.exports);
// EXTERNAL MODULE: ./node_modules/animejs/lib/anime.es.js
var anime_es = __webpack_require__("1209");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/userio.js
/* eslint-disable */
function makeIO(_ref) {
  var target = _ref.target,
      preventTouchStart = _ref.preventTouchStart;
  var container = target;
  var ui = {
    disabled: false,
    deltaX: 0.1,
    deltaY: 0.1,
    deltaZ: 0.0,
    addon: 0.0016667,
    mass: 5.0,
    inertia: 1.0,
    dt: 0,
    inc: 0,
    aX: 0,
    aY: 0,
    aZ: 0,
    inX: 0,
    inY: 0,
    inZ: 0,
    _: {
      tsTheta: 0,
      tsX: 0,
      tsY: 0,
      tsZ: 0
    },
    isFocus: true,
    pX: 0,
    pY: 0,
    cX: 0,
    cY: 0,
    // angle
    deltaTheta: 0,
    aTheta: 0,
    inTheta: 0,
    useWheel: false,
    touches: 0
  };

  function onPointerMove(ppp) {
    ui.pX = ppp.clientX;
    ui.pY = ppp.clientY;
    ui.cX = ui.pX / ui.conW * 2 - 1;
    ui.cY = ui.pY / ui.conH * 2 - 1;

    if (ui.conW >= ui.conH) {
      var a = ui.conW / ui.conH;
      ui.cX = ui.cX * a;
      ui.cY = ui.cY;
    } else {
      var _a = ui.conH / ui.conW;

      ui.cX = ui.cX;
      ui.cY = ui.cY * _a;
    }
  }

  function sim(rAFT) {
    if (ui.disabled) {
      return;
    }

    ui.dt = rAFT / 1000;
    ui.inc += ui.addon;

    if (ui.inertia > 0.01) {
      //
      ui.inX = ui.deltaX * ui.inertia;
      ui.inY = ui.deltaY * ui.inertia;
      ui.inZ = ui.deltaY * ui.inertia;
      ui.aX += ui.inX;
      ui.aY += ui.inZ;
      ui.aZ += ui.inZ; //

      ui.inTheta = ui.deltaTheta * ui.inertia * 0.45;
      ui.aTheta += ui.inTheta; // inertia

      ui.inertia *= 0.98;
    }
  }

  function isDescendant(parent, child) {
    var node = child.parentNode;

    if (parent === child) {
      return true;
    }

    while (node !== null) {
      if (node === parent) {
        return true;
      }

      node = node.parentNode;
    }

    return false;
  }

  function onWheel(evt) {
    if (ui.disabled) {
      return;
    } // console.log(container)


    if (isDescendant(container, evt.target)) {
      evt.preventDefault();
    } else {
      return;
    } // console.log(evt)


    if (evt.metaKey || evt.ctrlKey) {
      ui.deltaZ = -event.deltaY * 0.02;
      ui.deltaX = 0;
      ui.deltaY = 0;
      ui.inX = 0;
      ui.inY = 0;
      ui.useWheel = true;
      ui.inertia = ui.mass;
      return;
    }

    ui.deltaX = -event.deltaX * 0.02;
    ui.deltaY = -event.deltaY * 0.02;

    if (event.deltaX) {
      ui.deltaTheta = -event.deltaX * 0.02 / (Math.PI * 2);
    }

    if (event.deltaY) {
      ui.deltaTheta = -event.deltaY * 0.02 / (Math.PI * 2);
    }

    ui.useWheel = true; // initia speed

    ui.inertia = ui.mass;
  }

  function onThetaStart(t1) {
    var x = t1.clientX;
    var y = t1.clientY;
    var w = ui.conW;
    var h = ui.conH;
    var cX = (x - w / 2) / w;
    var cY = (y - h / 2) / h;
    var theta = Math.atan2(cY, cX);
    ui._.tsTheta = theta;
  }

  function onThetaMove(t1) {
    var x = t1.clientX;
    var y = t1.clientY;
    var w = ui.conW;
    var h = ui.conH;
    var cX = (x - w / 2) / w;
    var cY = (y - h / 2) / h;
    var theta = Math.atan2(cY, cX);

    if (ui._.tsTheta < 0 && theta > 0 || ui._.tsTheta > 0 && theta < 0) {
      ui._.tsTheta *= -1;
    } // center


    ui.deltaTheta = theta - ui._.tsTheta;
    ui._.tsTheta = theta;
    ui.aTheta += ui.deltaTheta;
  }

  function onResize() {
    ui.conW = container.clientWidth;
    ui.conH = container.clientHeight;
  }

  onResize(); // pan around

  function onPanStart(t1) {
    // var t1 = touch[0]
    // var x = t1.pageX
    // var y = t1.pageY
    var x = t1.clientX;
    var y = t1.clientY; // ui.cX = (x / window.innerWidth) * 2 - 1
    // ui.cY = (y / window.innerHeight) * 2 - 1
    // var w = ui.conW
    // var h = ui.conH
    // var cX = (x - (w / 2)) / w
    // var cY = (y - (h / 2)) / h
    // var theta = Math.atan2(cY, cX)
    // pan

    ui._.tsX = x;
    ui._.tsY = y; // ui.inertia *= 0.05

    ui.isIn = true;
  }

  function onPanMove(t1) {
    // var t1 = touch[0]
    // var x = t1.pageX
    // var y = t1.pageY
    var x = t1.clientX;
    var y = t1.clientY; // ui.cX = (x / window.innerWidth) * 2 - 1
    // ui.cY = (y / window.innerHeight) * 2 - 1
    //

    ui.deltaX = (x - ui._.tsX) * 0.05;
    ui.deltaY = (y - ui._.tsY) * 0.05;
    ui._.tsX = x;
    ui._.tsY = y;
    ui.aX += ui.deltaX;
    ui.aY += ui.deltaY;
    ui.inertia = ui.mass;
  }

  function onPanEnd(t1) {
    ui.isIn = false;
  }

  function onTS(evt) {
    if (ui.disabled) {
      return;
    } // console.log(evt)
    // evt.target.style.outline = 'red solid 3px'


    if (preventTouchStart === true && evt.target === container) {
      evt.preventDefault();
    }

    var t = evt.touches;

    if (t.length >= 1) {
      onPanStart(t[0]);
      onThetaStart(t[0]);
    }

    ui.touches = t.length;
  }

  function onTM(evt) {
    if (ui.disabled) {
      return;
    }

    evt.preventDefault();
    var t = evt.touches;

    if (t.length >= 1) {
      onPanMove(t[0]);
      onThetaMove(t[0]);
      onPointerMove(t[0]);
    }
  }

  function onTE(evt) {
    if (ui.disabled) {
      return;
    } // evt.preventDefault()


    var t = evt.touches;

    if (t.length === 1) {
      onPanEnd(t[0]);
    }

    ui.touches = t.length;
  }

  function onMM(evt) {
    if (ui.disabled) {
      return;
    }

    onPointerMove(evt);
  }

  function onFocus() {
    ui.isFocus = true;
  }

  function onBlur() {
    ui.isFocus = true;
  }

  window.addEventListener('focus', onFocus, false);
  window.addEventListener('blur', onBlur, false);
  window.addEventListener('resize', onResize, false);
  container.addEventListener('mousemove', onMM, false);
  container.addEventListener('touchstart', onTS, false);
  container.addEventListener('touchmove', onTM, false);
  container.addEventListener('touchend', onTE, false);
  window.addEventListener('wheel', onWheel, false);

  function clean() {
    window.removeEventListener('focus', onFocus);
    window.removeEventListener('blur', onBlur);
    window.removeEventListener('resize', onResize);
    container.removeEventListener('mousemove', onMM);
    container.removeEventListener('touchstart', onTS);
    container.removeEventListener('touchmove', onTM);
    container.removeEventListener('touchend', onTE);
    window.removeEventListener('wheel', onWheel);
  }

  return {
    sim: sim,
    clean: clean,
    ui: ui
  };
}
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/SVGArea/Index.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//




 // import * as Hive from '../Hive/HiveDoc.js'

/* harmony default export */ var Indexvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {},
    Doc: {},
    Data: {},
    root: {},
    modules: {},
    connectors: {},
    win: {},
    meta: {}
  },
  components: {
    Cable: Cable,
    Panner: Panner,
    ModuleBox: ModuleBox
  },
  mounted: function mounted() {
    var _this = this;

    console.log(this.meta);
    this.ready = true;
    this.$nextTick(function () {
      _this.$emit('ready');

      _this.setupWheel(); // this.setupTouchTarget()
      // this.$forceUpdate()

    });
  },
  watch: {},
  computed: {
    outputCable: function outputCable() {
      return this.root.connectors.filter(function (c, idx) {
        return c.socket.to && c.socket.from && c.type === 'output';
      }).slice().sort(function (a, b) {
        // console.log(a.idx, b.idx)
        return a.idx - b.idx;
      });
    }
  },
  methods: {
    toggleFlow: function toggleFlow() {
      this.flowYo = !this.flowYo;
    },
    cloneModule: function cloneModule(v) {
      this.$emit('cloneModule', v);
    },
    removeBox: function removeBox(v) {
      this.$emit('removeBox', v);
    },
    editBox: function editBox(v) {
      this.$emit('editBox', v);
    },
    toggleSize: function toggleSize(box) {
      var _this2 = this;

      if (box.size.w === 200) {
        Object(anime_es["a" /* default */])({
          targets: box.size,
          w: 500,
          h: 200,
          update: function update() {
            _this2.$emit('animateBox', {
              box: box
            });
          },
          complete: function complete() {
            _this2.$emit('saveBox', {
              box: box
            });
          }
        });
      } else {
        Object(anime_es["a" /* default */])({
          targets: box.size,
          w: 200,
          h: 40,
          update: function update() {
            _this2.$emit('animateBox', {
              box: box
            });
          },
          complete: function complete() {
            _this2.$emit('saveBox', {
              box: box
            });
          }
        });
      }
    },
    duplicateWindow: function duplicateWindow() {
      this.uiAPI.portal.addWindow({
        type: 'connector',
        data: {}
      });
    },
    onConnect: function onConnect(v) {
      v.from.socket.to = v.to.socket.from;
      v.to.socket.to = v.from.socket.from;
      v.from.mod.to = v.to.mod.from;
      v.to.mod.to = v.from.mod.from;
      console.log('con', v);
      this.$emit('connect', v);
    },
    onDisconnect: function onDisconnect(v) {
      v.from.socket.to = '';
      v.to.socket.to = '';
      v.from.mod.to = '';
      v.to.mod.to = '';
      console.log('dis', v);
      this.$emit('disconnect', v);
    },
    scrollHome: function scrollHome() {
      Object(anime_es["a" /* default */])({
        targets: this.ui,
        aX: 0,
        aY: 0,
        aZ: 0,
        duration: Math.log(Math.abs(this.ui.aX + this.ui.aY)) * 300
      });
    },
    isDescendant: function isDescendant(parent, child) {
      var node = child.parentNode;

      if (parent === child) {
        return true;
      }

      while (node !== null) {
        if (node === parent) {
          return true;
        }

        node = node.parentNode;
      }

      return false;
    },
    onWheel: function onWheel(evt) {
      if (this.isDescendant(this.$refs.svg, evt.target)) {
        evt.preventDefault();
      } else {
        return;
      }

      var ui = this.ui;
      ui.deltaX = -event.deltaX * 0.02;
      ui.deltaY = -event.deltaY * 0.02;

      if (event.deltaX) {
        ui.deltaTheta = -event.deltaX * 0.02 / (Math.PI * 2);
      }

      if (event.deltaY) {
        ui.deltaTheta = -event.deltaY * 0.02 / (Math.PI * 2);
      }

      ui.inertia = ui.mass;
    },
    setupWheel: function setupWheel() {
      var _this3 = this;

      var ui = this.ui;
      var h = {
        onWheel: function onWheel(e) {
          _this3.onWheel(e);
        }
      };
      window.addEventListener('wheel', h.onWheel);

      var rAF = function rAF() {
        _this3.rAFID = requestAnimationFrame(rAF);

        if (ui.inertia > 0.01) {
          ui.inX = ui.deltaX * ui.inertia;
          ui.inY = ui.deltaY * ui.inertia;
          ui.aX += ui.inX;
          ui.aY += ui.inY; // inertia

          ui.inertia *= 0.98;
        }

        _this3.view.x = -ui.aX;
        _this3.view.y = -ui.aY;
      };

      this.rAFID = requestAnimationFrame(rAF);

      this.onClose = function () {
        // uio.clean()
        window.removeEventListener('wheel', h.onWheel);
        cancelAnimationFrame(_this3.rAFID);
      };
    },
    // setupTouchTarget () {
    //   var uio = this.makeUIO({
    //     target: this.$refs.svg,
    //     preventTouchStart: true
    //   })
    //   // this.cleanUIO = uio.clean
    //   this.ui = uio.ui
    //   this.ui.deltaX = 0.00000000001
    //   this.ui.deltaY = 0.00000000001
    //   var rAF = () => {
    //     this.rAFID = requestAnimationFrame(rAF)
    //     uio.sim()
    //     this.view.x = -uio.ui.aX
    //     this.view.y = -uio.ui.aY
    //     this.view.z = -uio.ui.aZ
    //   }
    //   this.rAFID = requestAnimationFrame(rAF)
    //   this.onClose = () => {
    //     uio.clean()
    //     cancelAnimationFrame(this.rAFID)
    //   }
    // },
    onMoveBox: function onMoveBox(evt) {
      evt.box.pos.x += evt.dx;
      evt.box.pos.y += evt.dy;
      this.$emit('moveBox', {
        box: evt.box
      });
    },
    onMoveCable: function onMoveCable(evt) {
      evt.box.rect.x += evt.dx;
      evt.box.rect.y += evt.dy;
    },
    onPannerMove: function onPannerMove(evt) {
      this.ui.aX += evt.dx;
      this.ui.aY += evt.dy;
    },
    getID: function getID() {
      return 'r' + (1024 * 1024 * 1024 * Math.random()).toFixed(0);
    }
  },
  data: function data() {
    return {
      flowYo: window.screen.width >= 1600,
      ui: {
        aX: 0,
        aY: 0,
        deltaX: 0,
        deltaY: 0,
        inX: 0,
        inY: 0,
        mass: 5.0
      },
      uniq: this.getID(),
      socketuis: [],
      hand: {
        shouod: '',
        hit: {},
        dragLine: false,
        socket: false
      },
      ready: false,
      view: {
        x: 0.0000001,
        y: 0.0000001,
        z: 0.0000001
      },
      onClose: function onClose() {},
      rAFID: 0,
      makeUIO: makeIO
    };
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Index.vue?vue&type=script&lang=js&
 /* harmony default export */ var SVGArea_Indexvue_type_script_lang_js_ = (Indexvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enEdit/SVGArea/Index.vue?vue&type=style&index=0&id=58da8613&scoped=true&lang=css&
var Indexvue_type_style_index_0_id_58da8613_scoped_true_lang_css_ = __webpack_require__("78a4");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/SVGArea/Index.vue






/* normalize component */

var Index_component = Object(componentNormalizer["a" /* default */])(
  SVGArea_Indexvue_type_script_lang_js_,
  Indexvue_type_template_id_58da8613_scoped_true_render,
  Indexvue_type_template_id_58da8613_scoped_true_staticRenderFns,
  false,
  null,
  "58da8613",
  null
  
)

/* harmony default export */ var Index = (Index_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enEdit/enEdit.vue?vue&type=script&lang=js&






//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
// import axios from 'axios'

 // import nlp from 'compromise'
// import csv from 'csvtojson'
// import * as Hive from '../../data/HiveApp.js'

/* harmony default export */ var enEditvue_type_script_lang_js_ = ({
  components: {
    TitleBar: TitleBar["default"],
    SVGArea: Index
  },
  props: {
    uiAPI: {},
    portal: {}
  },
  created: function created() {// this.$on('resize', ({ portal }) => {
    //   this.portal = portal
    // })
    // let Data = this.uiAPI.enAPI
    // Data.ts.modules.$forceUpdate = () => {
    //   this.$forceUpdate()
    // }
    // Data.ts.connectors.$forceUpdate = () => {
    //   this.$forceUpdate()
    // }
  },
  data: function data() {
    return {
      hasSvg: false,
      Doc: false,
      Data: false,
      root: false,
      ready: false // portal: false

    };
  },
  methods: {
    scrollHome: function scrollHome() {
      this.$refs['svgarea'].scrollHome();
    },
    duplicateWindow: function duplicateWindow() {
      this.$refs['svgarea'].duplicateWindow();
    },
    toggleFlow: function toggleFlow() {
      this.$refs['svgarea'].toggleFlow();
    },
    cloneModule: function () {
      var _cloneModule = Object(asyncToGenerator["a" /* default */])(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee(_ref) {
        var box, Data, Doc;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                box = _ref.box;

                if (window.confirm('clone this module?\n' + box.name)) {
                  Data = this.uiAPI.enAPI;
                  Doc = this.uiAPI.Doc;
                  Data.cloneModule({
                    Doc: Doc,
                    mod: box
                  });
                }

              case 2:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function cloneModule(_x) {
        return _cloneModule.apply(this, arguments);
      }

      return cloneModule;
    }(),
    removeBox: function removeBox(_ref2) {
      var box = _ref2.box,
          inputs = _ref2.inputs,
          outputs = _ref2.outputs;

      if (window.prompt('type yes to remove this module and its connnections?') === 'yes') {
        var Data = this.uiAPI.enAPI;
        var Doc = this.uiAPI.Doc;
        Data.removeModFromDoc({
          mod: box,
          Doc: Doc
        });
        inputs.forEach(function (input) {
          Data.removeSocketFromMod({
            Doc: Doc,
            socket: input
          });
        });
        outputs.forEach(function (output) {
          Data.removeSocketFromMod({
            Doc: Doc,
            socket: output
          });
        });
        Data.saveDoc({
          Doc: Doc
        });
      }
    },
    editBox: function editBox(box) {
      var _this = this;

      var found = this.uiAPI.portal.portals.find(function (p) {
        return p.data.boxID === box._id;
      });

      if (found) {
        this.$nextTick(function () {
          _this.uiAPI.portal.activate(found);
        });
      } else {
        this.uiAPI.portal.addWindow({
          type: 'enmodedit',
          appName: box.name,
          data: {
            boxID: box._id,
            userID: box.userID,
            projectID: box.projectID,
            boxUUID: box.id
          }
        });
      }
    },
    updateBothSocket: function updateBothSocket(_ref3) {
      var from = _ref3.from,
          to = _ref3.to;
      var Data = this.uiAPI.enAPI;
      var Doc = this.uiAPI.Doc; // Data.ts.connectors.update(from)
      // Data.ts.connectors.update(to)

      Data.saveDoc({
        Doc: Doc
      });
    },
    animateBox: function animateBox(_ref4) {// let Data = this.uiAPI.enAPI
      // let Doc = this.uiAPI.Doc
      // Data.ts.modules.animate(box)

      var box = _ref4.box;
    },
    updateBox: function updateBox(_ref5) {
      var box = _ref5.box;
      var Data = this.uiAPI.enAPI;
      var Doc = this.uiAPI.Doc; // Data.ts.modules.animate(box)
      // clearTimeout(this.boxTimeout)
      // this.boxTimeout = setTimeout(() => {
      //   Data.ts.modules.update(box)
      // }, 500)
      // Data.ts.modules.update(box)

      Data.saveDoc({
        Doc: Doc
      });
    },
    makePulseMod: function makePulseMod() {
      var Data = this.uiAPI.enAPI;
      var Doc = this.uiAPI.Doc;
      Data.makeMod({
        Doc: Doc,
        src: Data.MainLoopModule,
        name: 'Main Loop Module'
      });
      Data.saveDoc({
        Doc: Doc
      });
    },
    makeDomMod: function makeDomMod() {
      var Data = this.uiAPI.enAPI;
      var Doc = this.uiAPI.Doc;
      Data.makeMod({
        Doc: Doc,
        src: Data.DomModule,
        name: 'Dom Updater Module'
      });
      Data.saveDoc({
        Doc: Doc
      });
    },
    init: function init() {
      var Doc = this.uiAPI.Doc;
      this.Data = this.uiAPI.enAPI;
      this.Doc = Doc;
      this.root = Doc.root;
      this.ready = true;
    }
  },
  computed: {
    connectors: function connectors() {
      if (this.root) {
        // let modIDs = this.modules.map(m => m.id)
        // return this.root.connectors.filter(c => {
        //   return modIDs.includes(c.mod.from) || modIDs.includes(c.mod.to)
        // })
        return this.root.connectors.slice().sort(function (a, b) {
          return a.idx - b.idx;
        });
      } else {
        return [];
      }
    },
    modules: function modules() {
      if (this.root) {
        return this.root.modules;
      } else {
        return [];
      }
    }
  },
  mounted: function mounted() {
    this.init();
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enEdit/enEdit.vue?vue&type=script&lang=js&
 /* harmony default export */ var enEdit_enEditvue_type_script_lang_js_ = (enEditvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enEdit/enEdit.vue?vue&type=style&index=0&id=17a0b84b&scoped=true&lang=css&
var enEditvue_type_style_index_0_id_17a0b84b_scoped_true_lang_css_ = __webpack_require__("4bc5");

// CONCATENATED MODULE: ./src/enos/Apps/enEdit/enEdit.vue






/* normalize component */

var enEdit_component = Object(componentNormalizer["a" /* default */])(
  enEdit_enEditvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "17a0b84b",
  null
  
)

/* harmony default export */ var enEdit = __webpack_exports__["default"] = (enEdit_component.exports);

/***/ }),

/***/ "0079":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".window-app[data-v-dc5a5c6a]{background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:10px 10px 10px 10px;color:#000}.content-div[data-v-dc5a5c6a]{height:calc(100% - 30px);-webkit-overflow-scrolling:touch;overflow:auto;position:relative}", ""]);

// exports


/***/ }),

/***/ "0096":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enPreview/enPreview.vue?vue&type=template&id=5b57970e&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full quotes-app"},[_c('TitleBar',{ref:"title-bar",attrs:{"portal":_vm.portal,"uiAPI":_vm.uiAPI},on:{"click":function($event){_vm.$emit('activated')}}},[_vm._v("\n    Live Preview "),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.runIframe()}}},[_vm._v("Reset")]),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.setSquare(_vm.portal)}}},[_vm._v("Square")]),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.downloadFrame()}}},[_vm._v("HTML")]),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.getJSON()}}},[_vm._v("JSON")])]),_c('div',{staticClass:"content-div",on:{"click":function($event){_vm.$emit('activated')}}},[_c('keep-alive',[_c('iframe',{ref:"iframe",style:({ width: _vm.portal.win.width + 'px', height: (_vm.portal.win.height - 30) + 'px' }),attrs:{"sandbox":"allow-same-origin allow-scripts allow-forms","src":_vm.iframe.src,"width":_vm.portal.win.width,"height":_vm.portal.win.height - 30,"frameborder":"0"}})]),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.isDown),expression:"isDown"}],ref:"dragger-prevent-loss-mouse",staticClass:"full",staticStyle:{"position":"absolute","top":"30px","left":"0px","height":"calc(100% - 30px)"},on:{"click":function($event){_vm.$emit('activated')}}})],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/enPreview/enPreview.vue?vue&type=template&id=5b57970e&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.sort.js
var es6_array_sort = __webpack_require__("55dd");

// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js
var runtime = __webpack_require__("96cf");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("3b8d");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js
var stringify = __webpack_require__("f499");
var stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);

// EXTERNAL MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue + 4 modules
var TitleBar = __webpack_require__("d654");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/enPreview/enPreview.vue?vue&type=script&lang=js&




//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
// import axios from 'axios'
 // import SVGArea from '../../SVGArea/Index.vue'
// import nlp from 'compromise'
// import csv from 'csvtojson'

/* harmony default export */ var enPreviewvue_type_script_lang_js_ = ({
  components: {
    TitleBar: TitleBar["default"] // ,
    // SVGArea

  },
  props: {
    uiAPI: {},
    portal: {}
  },
  created: function created() {// this.$on('resize', ({ portal }) => {
    //   this.portal = portal
    // })
  },
  data: function data() {
    return {
      isDown: false,
      iframe: {
        enabled: true,
        src: ''
      },
      Doc: false,
      Data: false,
      root: false,
      ready: false // portal: false

    };
  },
  watch: {
    modules: {
      deep: false,
      handler: function handler(newV, oldV) {
        var _this = this;

        clearTimeout(this.iFrameTimeout);
        this.iFrameTimeout = setTimeout(function () {
          _this.runIframe();
        }, 500);
      }
    },
    connectors: {
      deep: true,
      handler: function handler() {
        var _this2 = this;

        clearTimeout(this.iFrameTimeout);
        this.iFrameTimeout = setTimeout(function () {
          _this2.runIframe();
        }, 500);
      }
    }
  },
  methods: {
    getJSON: function getJSON() {
      var a = document.createElement('a');
      a.href = URL.createObjectURL(new Blob([stringify_default()(this.Doc, null, '  ')]));
      a.download = (window.prompt('what\'s the name of the project?') || 'EffectNode') + ".json";
      a.click();
    },
    setSquare: function setSquare() {
      this.uiAPI.portal.square(this.portal);
      this.$forceUpdate();
    },
    downloadFrame: function () {
      var _downloadFrame = Object(asyncToGenerator["a" /* default */])(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var html, link, a;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                _context.next = 2;
                return this.uiAPI.Builder.fromDocToHTMLProd({
                  Doc: this.Doc
                });

              case 2:
                html = _context.sent;
                link = this.uiAPI.Builder.makeHTMLLink({
                  HTML: html
                });
                a = document.createElement('a');
                a.href = link;
                a.download = 'EffectNode.html';
                a.click();

              case 8:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function downloadFrame() {
        return _downloadFrame.apply(this, arguments);
      }

      return downloadFrame;
    }(),
    runIframe: function () {
      var _runIframe = Object(asyncToGenerator["a" /* default */])(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2() {
        var _this3 = this;

        var html, link;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                console.log('run iframe');
                _context2.next = 3;
                return this.uiAPI.Builder.fromDocToHTMLProd({
                  Doc: this.Doc
                });

              case 3:
                html = _context2.sent;
                link = this.uiAPI.Builder.makeHTMLLink({
                  HTML: html
                });
                this.iframe.src = link; // this.iframe.srcdoc = html

                this.iframe.enabled = true; // if (this.$refs.iframe) {
                //   this.$refs.iframe.src = 'about:blank'
                //   this.$refs.iframe.contentWindow.document.write(html)
                // }

                if (this.iframe.postMessage) {
                  window.removeEventListener('iframe-post-message', this.iframe.postMessage);
                }

                this.iframe.postMessage = function (evt) {
                  if (_this3.$refs.iframe && _this3.$refs.iframe.contentWindow) {
                    _this3.$refs.iframe.contentWindow.postMessage(evt.detail, _this3.$refs.iframe.contentWindow.location.origin);
                  }
                };

                window.addEventListener('iframe-post-message', this.iframe.postMessage, false);

              case 10:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function runIframe() {
        return _runIframe.apply(this, arguments);
      }

      return runIframe;
    }(),
    isDescendant: function isDescendant(parent, child) {
      var node = child.parentNode;

      if (parent === child) {
        return true;
      }

      while (node !== null) {
        if (node === parent) {
          return true;
        }

        node = node.parentNode;
      }

      return false;
    },
    init: function init() {
      var _this4 = this;

      var _this$uiAPI$hive = this.uiAPI.hive,
          Doc = _this$uiAPI$hive.Doc,
          Data = _this$uiAPI$hive.Data;
      this.Doc = Doc;
      this.Data = Data;
      this.root = Doc.root;
      this.ready = true;
      this.runIframe();
      window.addEventListener('refresh-iframe', function () {
        _this4.runIframe();
      });
      window.addEventListener('mousedown', function (evt) {
        if (_this4.isDescendant(_this4.$refs['title-bar'], evt.target) || !_this4.isDescendant(_this4.$refs['iframe'], evt.target)) {
          _this4.isDown = true;

          _this4.$forceUpdate();
        }
      }, true);
      window.addEventListener('mouseup', function (evt) {
        _this4.isDown = false;
      }, true);
      window.addEventListener('iframe-time-mode', function (evt) {
        if (_this4.$refs.iframe) {
          _this4.$refs.iframe.contentWindow.postMessage(evt.detail, window.location.origin);
        }
      }, false); // console.log('OMG', )
      // this.$refs.mounter.appendChild(this.uiAPI.execEnv.Sys.$el)
      // return Hive.get({ doc: 'happy' }).then(({ Data, Doc }) => {
      //   this.Doc = Doc
      //   this.Data = Data
      //   this.root = Doc.root
      //   this.ready = true
      // })
    }
  },
  computed: {
    connectedInputs: function connectedInputs() {
      return this.connectors.filter(function (c) {
        return c.socket.to && c.type === 'input';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    connectedOutputs: function connectedOutputs() {
      return this.connectors.filter(function (c) {
        return c.socket.to && c.type === 'output';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    connectors: function connectors() {
      if (this.root) {
        // let modIDs = this.root.modules.map(m => m.id)
        return this.root.connectors.slice().sort(function (a, b) {
          return a.idx - b.idx;
        }); // .filter(c => {
        //   return modIDs.includes(c.mod.from) || modIDs.includes(c.mod.to)
        // })
      } else {
        return [];
      }
    },
    modules: function modules() {
      if (this.root) {
        return this.root.modules;
      } else {
        return [];
      }
    }
  },
  mounted: function mounted() {
    var _this5 = this;

    this.init();
    this.resizeInterval = setInterval(function () {
      if (_this5.$refs.iframe && _this5.$refs.iframe.contentWindow) {
        _this5.$refs.iframe.contentWindow.postMessage({
          type: 'resize',
          width: _this5.portal.win.width,
          height: _this5.portal.win.height
        }, window.location.origin);
      }
    }, 1000 / 60);
  },
  beforeDestroy: function beforeDestroy() {
    clearInterval(this.resizeInterval);
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/enPreview/enPreview.vue?vue&type=script&lang=js&
 /* harmony default export */ var enPreview_enPreviewvue_type_script_lang_js_ = (enPreviewvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/enPreview/enPreview.vue?vue&type=style&index=0&id=5b57970e&scoped=true&lang=css&
var enPreviewvue_type_style_index_0_id_5b57970e_scoped_true_lang_css_ = __webpack_require__("c39f");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Apps/enPreview/enPreview.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  enPreview_enPreviewvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "5b57970e",
  null
  
)

/* harmony default export */ var enPreview = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "014b":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// ECMAScript 6 symbols shim
var global = __webpack_require__("e53d");
var has = __webpack_require__("07e3");
var DESCRIPTORS = __webpack_require__("8e60");
var $export = __webpack_require__("63b6");
var redefine = __webpack_require__("9138");
var META = __webpack_require__("ebfd").KEY;
var $fails = __webpack_require__("294c");
var shared = __webpack_require__("dbdb");
var setToStringTag = __webpack_require__("45f2");
var uid = __webpack_require__("62a0");
var wks = __webpack_require__("5168");
var wksExt = __webpack_require__("ccb9");
var wksDefine = __webpack_require__("6718");
var enumKeys = __webpack_require__("47ee");
var isArray = __webpack_require__("9003");
var anObject = __webpack_require__("e4ae");
var isObject = __webpack_require__("f772");
var toIObject = __webpack_require__("36c3");
var toPrimitive = __webpack_require__("1bc3");
var createDesc = __webpack_require__("aebd");
var _create = __webpack_require__("a159");
var gOPNExt = __webpack_require__("0395");
var $GOPD = __webpack_require__("bf0b");
var $DP = __webpack_require__("d9f6");
var $keys = __webpack_require__("c3a1");
var gOPD = $GOPD.f;
var dP = $DP.f;
var gOPN = gOPNExt.f;
var $Symbol = global.Symbol;
var $JSON = global.JSON;
var _stringify = $JSON && $JSON.stringify;
var PROTOTYPE = 'prototype';
var HIDDEN = wks('_hidden');
var TO_PRIMITIVE = wks('toPrimitive');
var isEnum = {}.propertyIsEnumerable;
var SymbolRegistry = shared('symbol-registry');
var AllSymbols = shared('symbols');
var OPSymbols = shared('op-symbols');
var ObjectProto = Object[PROTOTYPE];
var USE_NATIVE = typeof $Symbol == 'function';
var QObject = global.QObject;
// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;

// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
var setSymbolDesc = DESCRIPTORS && $fails(function () {
  return _create(dP({}, 'a', {
    get: function () { return dP(this, 'a', { value: 7 }).a; }
  })).a != 7;
}) ? function (it, key, D) {
  var protoDesc = gOPD(ObjectProto, key);
  if (protoDesc) delete ObjectProto[key];
  dP(it, key, D);
  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);
} : dP;

var wrap = function (tag) {
  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
  sym._k = tag;
  return sym;
};

var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {
  return typeof it == 'symbol';
} : function (it) {
  return it instanceof $Symbol;
};

var $defineProperty = function defineProperty(it, key, D) {
  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
  anObject(it);
  key = toPrimitive(key, true);
  anObject(D);
  if (has(AllSymbols, key)) {
    if (!D.enumerable) {
      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
      it[HIDDEN][key] = true;
    } else {
      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
      D = _create(D, { enumerable: createDesc(0, false) });
    } return setSymbolDesc(it, key, D);
  } return dP(it, key, D);
};
var $defineProperties = function defineProperties(it, P) {
  anObject(it);
  var keys = enumKeys(P = toIObject(P));
  var i = 0;
  var l = keys.length;
  var key;
  while (l > i) $defineProperty(it, key = keys[i++], P[key]);
  return it;
};
var $create = function create(it, P) {
  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
};
var $propertyIsEnumerable = function propertyIsEnumerable(key) {
  var E = isEnum.call(this, key = toPrimitive(key, true));
  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
};
var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
  it = toIObject(it);
  key = toPrimitive(key, true);
  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
  var D = gOPD(it, key);
  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
  return D;
};
var $getOwnPropertyNames = function getOwnPropertyNames(it) {
  var names = gOPN(toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);
  } return result;
};
var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
  var IS_OP = it === ObjectProto;
  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));
  var result = [];
  var i = 0;
  var key;
  while (names.length > i) {
    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);
  } return result;
};

// 19.4.1.1 Symbol([description])
if (!USE_NATIVE) {
  $Symbol = function Symbol() {
    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');
    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
    var $set = function (value) {
      if (this === ObjectProto) $set.call(OPSymbols, value);
      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
      setSymbolDesc(this, tag, createDesc(1, value));
    };
    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });
    return wrap(tag);
  };
  redefine($Symbol[PROTOTYPE], 'toString', function toString() {
    return this._k;
  });

  $GOPD.f = $getOwnPropertyDescriptor;
  $DP.f = $defineProperty;
  __webpack_require__("6abf").f = gOPNExt.f = $getOwnPropertyNames;
  __webpack_require__("355d").f = $propertyIsEnumerable;
  __webpack_require__("9aa9").f = $getOwnPropertySymbols;

  if (DESCRIPTORS && !__webpack_require__("b8e3")) {
    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
  }

  wksExt.f = function (name) {
    return wrap(wks(name));
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });

for (var es6Symbols = (
  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);

for (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);

$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
  // 19.4.2.1 Symbol.for(key)
  'for': function (key) {
    return has(SymbolRegistry, key += '')
      ? SymbolRegistry[key]
      : SymbolRegistry[key] = $Symbol(key);
  },
  // 19.4.2.5 Symbol.keyFor(sym)
  keyFor: function keyFor(sym) {
    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');
    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;
  },
  useSetter: function () { setter = true; },
  useSimple: function () { setter = false; }
});

$export($export.S + $export.F * !USE_NATIVE, 'Object', {
  // 19.1.2.2 Object.create(O [, Properties])
  create: $create,
  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
  defineProperty: $defineProperty,
  // 19.1.2.3 Object.defineProperties(O, Properties)
  defineProperties: $defineProperties,
  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
  // 19.1.2.7 Object.getOwnPropertyNames(O)
  getOwnPropertyNames: $getOwnPropertyNames,
  // 19.1.2.8 Object.getOwnPropertySymbols(O)
  getOwnPropertySymbols: $getOwnPropertySymbols
});

// 24.3.2 JSON.stringify(value [, replacer [, space]])
$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {
  var S = $Symbol();
  // MS Edge converts symbol values to JSON as {}
  // WebKit converts symbol values to JSON as null
  // V8 throws on boxed symbols
  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';
})), 'JSON', {
  stringify: function stringify(it) {
    var args = [it];
    var i = 1;
    var replacer, $replacer;
    while (arguments.length > i) args.push(arguments[i++]);
    $replacer = replacer = args[1];
    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined
    if (!isArray(replacer)) replacer = function (key, value) {
      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);
      if (!isSymbol(value)) return value;
    };
    args[1] = replacer;
    return _stringify.apply($JSON, args);
  }
});

// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__("35e8")($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
// 19.4.3.5 Symbol.prototype[@@toStringTag]
setToStringTag($Symbol, 'Symbol');
// 20.2.1.9 Math[@@toStringTag]
setToStringTag(Math, 'Math', true);
// 24.3.3 JSON[@@toStringTag]
setToStringTag(global.JSON, 'JSON', true);


/***/ }),

/***/ "01ce":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"pos":{"x":60,"y":254},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', (v) => {\n  IO.Output('onFrame', v)\n})\n\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c4f6c601d45df0017b0e718","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_542035946732","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"pos":{"x":44,"y":512},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.ensure(['threejs']).then(() => {\n  Resources.js.need('blooming-effect', [\n    'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n    'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n    'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n    'https://threejs.org/examples/js/shaders/CopyShader.js',\n    'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n    'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n  ]);\n});\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.203},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":1.7},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1.09},{"id":"_r411700999","label":"bgColor","type":"color","value":"#00263f"}],"_id":"5c4f6c601d45df0017b0e71a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50module_673490855101","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":312,"y":261},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":11.925000000000006,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c4f6c601d45df0017b0e71b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4module_624493095826","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":321,"y":376},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.5, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(vec3(abs(1.0 - randV3)));\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor);\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  \t// wahahahahaha\n\t});\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c4f6c601d45df0017b0e71d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842module_181820277305","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":294,"y":543},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0483},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c4f6c601d45df0017b0e71f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":209,"y":147},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c4f6c601d45df0017b0e71c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_791055199420","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":181,"y":55},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Whammy WebM Video Encoder","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onRecord', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f6c601d45df0017b0e719","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842module_1048101426338","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"pos":{"x":33,"y":373},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c4f6c601d45df0017b0e71e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_498705463997","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"}],"connectors":[{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_59415369331","to":""},"idx":1545874257165,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6eb","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_59415369331","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_624337151058","to":""},"idx":1545711358029,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize2","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6ec","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_624337151058","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_907889095702","to":""},"idx":1545695299855,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6ed","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_907889095702","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_681924004470","to":"_hive_5c234d8b9fb407001754dd50socket_918256974382"},"idx":1545875829113,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f0","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_681924004470","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_918256974382","to":"_hive_5c234d8b9fb407001754dd50socket_681924004470"},"idx":1545874257161,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f3","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_918256974382","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","to":"_hive_5c216d362dc0500017eec0d4socket_9552257515"},"idx":1545704570551,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f2","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_648344830368","to":""},"idx":1546398709659,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6f5","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_648344830368","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_815560743775","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_135549837207","to":""},"idx":1546043796475,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_815560743775","name":"my socket","color":"#92fe4b","_id":"5c4f6c601d45df0017b0e6f8","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_135549837207","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_793234601449","to":""},"idx":1545695299862,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f7","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_793234601449","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_927092796131","to":"_hive_5c216d362dc0500017eec0d4socket_472439359204"},"idx":1546239396071,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6fa","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c296a16fde0030017366b46socket_927092796131","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_679824688311","to":""},"idx":1545874257164,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6fc","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_679824688311","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_9552257515","to":"_hive_5c216d362dc0500017eec0d4socket_1084991658835"},"idx":1545711358027,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize1","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6fd","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_9552257515","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_43083576117","to":""},"idx":1545874257166,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6ff","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_43083576117","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_342084457046","to":""},"idx":1546065326411,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline4","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e702","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_342084457046","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_984258680163","to":"_hive_5c216d362dc0500017eec0d4socket_967655102975"},"idx":1545704570549,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e701","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_984258680163","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_764885876841","to":""},"idx":1545695299859,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e704","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_764885876841","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_967655102975","to":"_hive_5c216d362dc0500017eec0d4socket_984258680163"},"idx":1545711358026,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6ef","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_967655102975","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_122128054140","to":""},"idx":1545874257167,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6ee","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_122128054140","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_711443654290","to":""},"idx":1545711358036,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize3","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e706","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_711443654290","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_289414618978","to":""},"idx":1546065326410,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline3","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e709","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_289414618978","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_237021460432","to":""},"idx":1546065326413,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline5","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6f1","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_237021460432","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_45575481203","to":""},"idx":1546395441669,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e707","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_45575481203","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_757304952328","to":""},"idx":1545695299860,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f4","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_757304952328","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_473040720177","to":"_hive_5c216d362dc0500017eec0d4socket_706901781830"},"idx":1546234840006,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e70b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c296a16fde0030017366b46socket_473040720177","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_75312698082","to":"_hive_5c24382d9adca6001780ced4socket_300323104773"},"idx":1546395441657,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e70e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_75312698082","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","to":""},"idx":1546398709657,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_472439359204","to":"_hive_5c296a16fde0030017366b46socket_927092796131"},"idx":1545695299854,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f9","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_472439359204","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_280251465660","to":""},"idx":1545695299857,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e710","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_280251465660","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_21143518820","to":""},"idx":1546395441660,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6f6","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_21143518820","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1048101426338","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208600396055","to":""},"idx":1546395742624,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1048101426338","name":"onRecord","color":"#e9ca38","_id":"5c4f6c601d45df0017b0e713","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_208600396055","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_201034563980","to":""},"idx":1546395441665,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e711","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_201034563980","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_400210257960","to":"_hive_5c216d362dc0500017eec0d4socket_516251817815"},"idx":1545874257159,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e715","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_400210257960","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_314573235936","to":"_hive_5c29c764e083af0017f21757socket_577333067774"},"idx":1546065326406,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline1","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6fb","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_314573235936","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_118020687842","to":""},"idx":1546065326415,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline6","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6fe","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_118020687842","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_980617126508","to":""},"idx":1546395441662,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e716","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_980617126508","__v":0,"updated_at":"2019-01-28T20:56:01.038Z","created_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c29c764e083af0017f21757module_11610133074"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_630105669056","to":"_hive_5c29c764e083af0017f21757socket_514282842606"},"idx":1546065326417,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline7","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e700","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_630105669056","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c2bf1674a54460017ee5842module_181820277305"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_300323104773","to":"_hive_5c2bf1674a54460017ee5842socket_75312698082"},"idx":1546065326407,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline2","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e703","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_300323104773","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_577333067774","to":"_hive_5c24382d9adca6001780ced4socket_314573235936"},"idx":1546285687328,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e705","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c29c764e083af0017f21757socket_577333067774","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_706901781830","to":"_hive_5c296a16fde0030017366b46socket_473040720177"},"idx":1545695299853,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e708","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_706901781830","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_869091661257","to":""},"idx":1546395441663,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_869091661257","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_515050383097","to":""},"idx":1546395441667,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_515050383097","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_107133150501","to":""},"idx":1546395685802,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onClock","color":"#eaca38","_id":"5c4f6c601d45df0017b0e712","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_107133150501","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_448483343628","to":""},"idx":1546559677151,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e717","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8socket_448483343628","__v":0,"updated_at":"2019-01-28T20:56:01.038Z","created_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_782804261836","to":""},"idx":1546559677154,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e70f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8socket_782804261836","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_516251817815","to":"_hive_5c234d8b9fb407001754dd50socket_400210257960"},"idx":1545704570555,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e714","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_516251817815","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"}],"template":{"modules":[{"pos":{"x":368,"y":287},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","name":"Simple Transform Sliders","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll\n} = env\n//\nlet self = this\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nvar evt = {}\nlet getItems = () => box.meta.reduce((c, ie, idx) => {\n  c[ie.label] = ie.value\n  return c\n}, evt);\n\nInput('onTimeline', (v) => {\n  Output('uiControl', getItems())\n  Output('onTimeline', v)\n})\n\n","meta":[{"id":"_r264927804","label":"translateX","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r392841688","label":"translateY","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r914207710","label":"translateZ","type":"range","min":"-200","max":"200","step":0.1,"value":0},{"id":"_r172174598","label":"rotateX","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r274536640","label":"rotateY","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r759804655","label":"rotateZ","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r419232716","label":"scaleX","type":"range","min":"-100","max":"100","step":0.1,"value":5},{"id":"_r722167741","label":"scaleY","type":"range","min":"0","max":"50","step":"0.05","value":1},{"id":"_r773223356","label":"scaleZ","type":"range","min":"-100","max":"100","step":0.1,"value":5}],"_id":"5c2be9ff4a54460017ee57c3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75684660185","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = progress * m.value.totalTime\n    } else {\n      time = performance.now() / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = performance.now() / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":2.7755575615628914e-16,"afterStart":3.848361018826129,"beforeEnd":11.999999999999998,"end":15.000000000000002,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.2915476190476283,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2bee7d4a54460017ee582c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_998063926878","__v":0},{"pos":{"x":94,"y":154},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output('onFrame', { rect })\n})\n\nIO.Input('onFrame', () => {\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c2bec774a54460017ee57fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75273206587","__v":0},{"pos":{"x":75,"y":365},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.js.need('blooming-effect', [\n  'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n  'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n  'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n  'https://threejs.org/examples/js/shaders/CopyShader.js',\n  'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n  'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n]);\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.211},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":2.4},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001750"}],"_id":"5c2bec864a54460017ee5808","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_745027424560","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":12.150000000000004,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2c34a2efaf8e0017b43a0c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842module_1052875161852","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.0, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(randV3);\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor)\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  });\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c2e83aba2a2ac00177a613a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c2e73cab5f7ed00178e30ee","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","name":"煙火噴 Nova Blaster","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c308b7dcd5a5f0f21117274","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62module_950943352397","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","name":"SuperWarm","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 8.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.1;\n  toBall(noiser, az, el);\n  \n  lastPos.xyz = fromBall(75.0, az, el);\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nattribute vec3 htV3;\nattribute vec3 randV3;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  vec4 velocityAmount = texture2D( velocityInfo, uv );\n  particleVel = velocityAmount;\n  \n  vec3 newPos = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n  vec3 transformed = newPos + newPos * htV3;\n  \n  // if (htV3.x == 1.0) {\n  //   newPos = newPos - vec3(velocityAmount);\n  // }\n  \n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n  var starLightGeo = (nx = 100, ny = 100) => {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let uvValueVec2 = [];\n    let numLiunes = nx * ny\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var iy = 0; iy < ny; iy++) {\n      for (var ix = 0; ix < nx; ix++) {\n        let i = ix + iy * ny;\n        \n        let xx = ix / nx;\n        let yy = iy / ny;\n        \n        let x1 = 0;\n        let y1 = 0;\n        let z1 = 0;\n        \n        let x2 = 0;\n        let y2 = 0;\n        let z2 = 0;\n        \n        tempV3.set(x2, y2, z2);\n        temp2V3.set(0.0, 0.0, 1.0);\n        tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n        \n        x2 = tempV3.x\n        y2 = tempV3.y\n        z2 = tempV3.z\n        \n        let r1x = Math.random()\n        let r1y = Math.random()\n        let r1z = Math.random()\n        let r2x = 0\n        let r2y = 0\n        let r2z = 0\n        \n        let idx = i / n\n        \n        if (i % 2 === 0) {\n          uvValueVec2.push(xx, yy);\n      \n          headTailValueVec3.push(1.0, 1.0, 1.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r1x, r1y, r1z);\n          positionValueVec3.push(x1, y1, z1);\n          \n          uvValueVec2.push(xx, yy);\n        \n          headTailValueVec3.push(0.0, 0.0, 0.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r2x, r2y, r2z);\n          positionValueVec3.push(x2, y2, z2);\n        }\n        \n        // if (i % 2 === 0) {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(1.0, 1.0, 1.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r1x, r1y, r1z);\n        //   positionValueVec3.push(x1, y1, z1);\n          \n          \n        // } else {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(0.0, 0.0, 0.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r2x, r2y, r2z);\n        //   positionValueVec3.push(x2, y2, z2);\n        // }\n      }\n    }\n    \n    \n    \n    geometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvValueVec2), 2));\n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('htV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1);\n    \n    geometry = starLightGeo(WIDTH, WIDTH);\n    \n    var points = new THREE.LineSegments(geometry, material);\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0233},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c35236d2b601f001738f193","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9cmodule_223817724340","created_at":"2019-01-08T22:25:49.580Z","updated_at":"2019-01-08T22:25:49.580Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c37adf1d864b90e1719379f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769module_608635765892","created_at":"2019-01-10T20:41:21.283Z","updated_at":"2019-01-10T20:41:21.283Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c42585d61be0d267c5c73fb","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","created_at":"2019-01-18T22:51:09.846Z","updated_at":"2019-01-18T22:51:09.846Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","name":"Rainbow CSS Background","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += `linear-gradient(${(degree * 360) % 360}deg, `\n    //gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += `${getMeta('color')},`\n    gradBg += `${getMeta('color2')}`\n    // gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n","meta":[{"id":"_r313732479","label":"color","type":"color","value":"#00ffac"},{"id":"_r852764851","label":"color2","type":"color","value":"#00d8f9"}],"_id":"5c42831709fbab0ec72c4fa7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17module_794457425519","created_at":"2019-01-19T01:53:27.532Z","updated_at":"2019-01-19T01:53:27.532Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c4f7468226b990017249754","name":"Inst Whammy WebM Encoder ","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onClock', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f7494226b990017249756","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c4f6e9f226b990017249712module_291302930050","created_at":"2019-01-28T21:31:00.253Z","updated_at":"2019-01-28T21:31:00.253Z","__v":0}],"connectors":[{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_27453514535","to":""},"idx":1546381823618,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_27453514535","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_416771796454","to":""},"idx":1546381823621,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_416771796454","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_173129244229","to":""},"idx":1546381823622,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"uiControl","color":"#ffda00","_id":"5c2be9ff4a54460017ee57c6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_173129244229","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_81012179446","to":""},"idx":1546382973297,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline3","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_81012179446","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_99790552027","to":""},"idx":1546382477540,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5816","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_99790552027","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_645880341729","to":""},"idx":1546382455400,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize2","color":"#ff7cfa","_id":"5c2bec774a54460017ee5800","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_645880341729","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_612662920218","to":""},"idx":1546382470374,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_612662920218","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_996465585796","to":""},"idx":1546382455403,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee5802","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_996465585796","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_519663161578","to":""},"idx":1546382464830,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5805","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_519663161578","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_334622077167","to":""},"idx":1546382464834,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5807","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_334622077167","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_324063758928","to":""},"idx":1546382470372,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee580b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_324063758928","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_523859359836","to":""},"idx":1546382470376,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_523859359836","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_759892384697","to":""},"idx":1546382973305,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline7","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5833","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_759892384697","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_219566954042","to":""},"idx":1546382470379,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onTimeline","color":"#a8ceff","_id":"5c2bec864a54460017ee580f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_219566954042","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_978315655837","to":""},"idx":1546382477531,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5811","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_978315655837","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1002887713637","to":""},"idx":1546382470368,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee5809","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1002887713637","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_123487416285","to":""},"idx":1546382973299,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline4","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5830","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_123487416285","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_303554106652","to":""},"idx":1546382477536,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5813","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_303554106652","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_875441463206","to":""},"idx":1546382973294,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline1","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_875441463206","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_321012926786","to":""},"idx":1546382973301,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline5","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5831","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_321012926786","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_695713574221","to":""},"idx":1546382470377,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_695713574221","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_755527812656","to":""},"idx":1546382477534,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"uiControls","color":"#ffda00","_id":"5c2bec8d4a54460017ee5812","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_755527812656","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_451527354005","to":""},"idx":1546382455401,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize3","color":"#ff7cfa","_id":"5c2bec774a54460017ee5801","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_451527354005","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_584821513880","to":""},"idx":1546382973306,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"input","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onFrame","color":"#05f1de","_id":"5c2bee7d4a54460017ee5834","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_584821513880","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_995818899006","to":""},"idx":1546382470371,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onResize","color":"#ff7cfa","_id":"5c2bec864a54460017ee580a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_995818899006","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_693769435438","to":""},"idx":1546382464827,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5804","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_693769435438","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_248879527054","to":""},"idx":1546382973296,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline2","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_248879527054","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_738903359977","to":""},"idx":1546382455398,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize1","color":"#ff7cfa","_id":"5c2bec774a54460017ee57ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_738903359977","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1019523524659","to":""},"idx":1546382464832,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5806","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1019523524659","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_921698012366","to":""},"idx":1546382477541,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5817","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_921698012366","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_238584382434","to":""},"idx":1546382973303,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline6","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5832","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_238584382434","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_33359812855","to":""},"idx":1546382477539,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5815","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_33359812855","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_859459509584","to":""},"idx":1546382455395,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee57fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_859459509584","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_468455196847","to":""},"idx":1546382477538,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5814","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_468455196847","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_677938423842","to":""},"idx":1546392960238,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_677938423842","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_254873398863","to":""},"idx":1546400930296,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onFrame","color":"#05f1de","_id":"5c2c34a2efaf8e0017b43a14","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_254873398863","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_638419508312","to":""},"idx":1546392960240,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_638419508312","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_33801279554","to":""},"idx":1546400930288,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline3","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_33801279554","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_383438085145","to":""},"idx":1546400930289,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline4","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a10","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_383438085145","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_530059647969","to":""},"idx":1546400930282,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline1","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_530059647969","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_199945879640","to":""},"idx":1546400930293,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline6","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a12","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_199945879640","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_86253422236","to":""},"idx":1546400286714,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onClock","color":"#e9ca38","_id":"5c2c321eefaf8e0017b43a0a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_86253422236","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_939492560450","to":""},"idx":1546400286716,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onStart","color":"#e4e3e5","_id":"5c2c321fefaf8e0017b43a0b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_939492560450","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208648917120","to":""},"idx":1546400930285,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline2","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_208648917120","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_514979943166","to":""},"idx":1546400930292,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline5","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a11","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_514979943166","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_700031301423","to":""},"idx":1546400930294,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline7","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a13","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_700031301423","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","to":""},"idx":1546428436835,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onStart","color":"#e4e3e5","_id":"5c2ca015fed4f60017795c69","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","to":""},"idx":1546428436832,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onClock","color":"#e9ca38","_id":"5c2ca014fed4f60017795c68","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","to":""},"idx":1546552236044,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6140","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","to":""},"idx":1546548171246,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30f0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","to":""},"idx":1546552236037,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","to":""},"idx":1546552236041,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","to":""},"idx":1546552236046,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6141","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","to":""},"idx":1546552236043,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","to":""},"idx":1546552236039,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","to":""},"idx":1546548171228,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30ef","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","to":""},"idx":1546552236035,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","to":""},"idx":1546669001835,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30e8","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","name":"onClock","color":"#e9ca38","_id":"5c304bc90596a513ed715077","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","to":""},"idx":1546685310202,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117276","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","to":""},"idx":1546685310199,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117275","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_145251118083","to":""},"idx":1546986349763,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"input","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f194","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_145251118083","created_at":"2019-01-08T22:25:49.864Z","updated_at":"2019-01-08T22:25:49.864Z","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_402320691394","to":""},"idx":1546986349767,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"output","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f195","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_402320691394","created_at":"2019-01-08T22:25:49.886Z","updated_at":"2019-01-08T22:25:49.886Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_432682571310","to":""},"idx":1547152881556,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf1d864b90e171937a0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_432682571310","created_at":"2019-01-10T20:41:21.558Z","updated_at":"2019-01-10T20:41:21.558Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_951913996296","to":""},"idx":1547152881560,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_951913996296","created_at":"2019-01-10T20:41:22.014Z","updated_at":"2019-01-10T20:41:22.014Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_811060709425","to":""},"idx":1547152881561,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_811060709425","created_at":"2019-01-10T20:41:22.015Z","updated_at":"2019-01-10T20:41:22.015Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_298173305401","to":""},"idx":1547152881559,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a2","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_298173305401","created_at":"2019-01-10T20:41:22.013Z","updated_at":"2019-01-10T20:41:22.013Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_537577535677","to":""},"idx":1547152881563,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_537577535677","created_at":"2019-01-10T20:41:22.018Z","updated_at":"2019-01-10T20:41:22.018Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_999877641099","to":""},"idx":1547152881558,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a1","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_999877641099","created_at":"2019-01-10T20:41:22.011Z","updated_at":"2019-01-10T20:41:22.011Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_966742041419","to":""},"idx":1547152881565,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"input","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onClock","color":"#eaca38","_id":"5c37adf2d864b90e171937a7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_966742041419","created_at":"2019-01-10T20:41:22.023Z","updated_at":"2019-01-10T20:41:22.023Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_1020478642380","to":""},"idx":1547152881564,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_1020478642380","created_at":"2019-01-10T20:41:22.022Z","updated_at":"2019-01-10T20:41:22.022Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","to":""},"idx":1547851870081,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fc","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","created_at":"2019-01-18T22:51:10.077Z","updated_at":"2019-01-18T22:51:10.077Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","to":""},"idx":1547851870082,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","created_at":"2019-01-18T22:51:10.079Z","updated_at":"2019-01-18T22:51:10.079Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","to":""},"idx":1547851870084,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","created_at":"2019-01-18T22:51:10.084Z","updated_at":"2019-01-18T22:51:10.084Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","to":""},"idx":1547851870083,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","created_at":"2019-01-18T22:51:10.082Z","updated_at":"2019-01-18T22:51:10.082Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_937448995212","to":""},"idx":1547862807853,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa8","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_937448995212","created_at":"2019-01-19T01:53:27.856Z","updated_at":"2019-01-19T01:53:27.856Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_706467872897","to":""},"idx":1547862807855,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa9","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_706467872897","created_at":"2019-01-19T01:53:27.865Z","updated_at":"2019-01-19T01:53:27.865Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_586583895383","to":""},"idx":1547862807857,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faa","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_586583895383","created_at":"2019-01-19T01:53:27.869Z","updated_at":"2019-01-19T01:53:27.869Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_674479069285","to":""},"idx":1547862807859,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fac","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_674479069285","created_at":"2019-01-19T01:53:27.875Z","updated_at":"2019-01-19T01:53:27.875Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","to":""},"idx":1547862807858,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fab","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","created_at":"2019-01-19T01:53:27.872Z","updated_at":"2019-01-19T01:53:27.872Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_150219820209","to":""},"idx":1547862807860,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fad","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_150219820209","created_at":"2019-01-19T01:53:27.878Z","updated_at":"2019-01-19T01:53:27.878Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_303024987482","to":""},"idx":1547862807862,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faf","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_303024987482","created_at":"2019-01-19T01:53:27.883Z","updated_at":"2019-01-19T01:53:27.883Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_321473473110","to":""},"idx":1547862807861,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fae","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_321473473110","created_at":"2019-01-19T01:53:27.880Z","updated_at":"2019-01-19T01:53:27.880Z","__v":0}]}},"versions":[],"sessionID":"RSSID-@-isxbgi6rn","projectID":"RSSID-@-isxbgi6rn","userID":"RSSID-@-isxbgi6rn"};

/***/ }),

/***/ "01f9":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__("2d00");
var $export = __webpack_require__("5ca1");
var redefine = __webpack_require__("2aba");
var hide = __webpack_require__("32e9");
var Iterators = __webpack_require__("84f2");
var $iterCreate = __webpack_require__("41a0");
var setToStringTag = __webpack_require__("7f20");
var getPrototypeOf = __webpack_require__("38fd");
var ITERATOR = __webpack_require__("2b4c")('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),

/***/ "02f4":
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__("4588");
var defined = __webpack_require__("be13");
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),

/***/ "034f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("e2a1");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "0361":
/***/ (function(module, exports) {

module.exports = "(function () {\n  var getID = (prefix = '') => {\n    return '_exec_' + prefix + '_' + (1024 * 1024 * 1024 * Math.random()).toFixed(0)\n  }\n\n  function getScript (source) {\n    return new Promise((resolve, reject) => {\n      window.EFFECT_NODE_HAS_URL = window.EFFECT_NODE_HAS_URL || []\n      if (window.EFFECT_NODE_HAS_URL.indexOf(source) !== -1) {\n        return resolve()\n      }\n      var script = document.createElement('script')\n      var prior = document.getElementsByTagName('script')[0]\n      script.onload = () => { resolve() }\n      script.src = source\n      prior.parentNode.insertBefore(script, prior)\n    })\n  }\n\n  function loadAllJS (allJS) {\n    allJS = allJS || [\n      'https://cdnjs.cloudflare.com/ajax/libs/rasterizehtml/1.3.0/rasterizeHTML.allinone.js',\n\n      'https://threejs.org/build/three.min.js',\n      'https://threejs.org/examples/js/controls/OrbitControls.js',\n\n      'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n      'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n      'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n      'https://threejs.org/examples/js/shaders/CopyShader.js',\n      'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n      'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n    ]\n    function loopLoad () {\n      let js = allJS.shift()\n      return getScript(js)\n        .then(() => {\n          if (allJS.length > 0) {\n            return loopLoad()\n          } else {\n            return Promise.resolve()\n          }\n        })\n    }\n    return loopLoad()\n  }\n  let ExecEnv = {\n    init: (uiAPI) => {\n      return new Promise((resolve) => {\n        let Sys = ExecEnv.makeLgocialStructure(uiAPI)\n        uiAPI.execEnv = { ExecEnv, Sys }\n        resolve(uiAPI)\n      })\n    },\n    makeLgocialStructure: (uiAPI) => {\n      let Vue = uiAPI.Vue || window.Vue\n      let Signal = new Vue({})\n      let MakeResources = () => {\n        let api = {\n          kvStore: {},\n          notifiers: []\n        }\n\n        api.set = (key, value) => {\n          api.kvStore[key] = value\n        }\n        api.get = (key) => {\n          return api.kvStore[key]\n        }\n        let js = api.js = {}\n        js.need = (key, jsArr) => {\n          loadAllJS(jsArr)\n            .then(() => {\n              api.set(key, true)\n            })\n        }\n        js.ensure = api.ensure = (keys) => {\n          console.log(keys)\n          return Promise.all(\n            keys.map((key) => {\n              return new Promise((resolve) => {\n                if (api.get(key)) {\n                  resolve(api.get(key))\n                } else {\n                  let interval = setInterval(() => {\n                    if (api.get(key)) {\n                      console.log('ensure, got', key)\n                      clearTimeout(interval)\n                      resolve(api.get(key))\n                    }\n                  }, 1000 / 20)\n                }\n              })\n            })\n          )\n        }\n\n        return api\n      }\n      let Resources = MakeResources()\n\n      let modRunner = {\n        props: {\n          sockets: {},\n          mod: {}\n        },\n        data () {\n          return {\n            inputs: this.sockets.filter(s => s.type === 'input' && s.modID === this.mod.id).slice().sort((a, b) => {\n              return a.idx - b.idx\n            }),\n            outputs: this.sockets.filter(s => s.type === 'output' && s.modID === this.mod.id).slice().sort((a, b) => {\n              return a.idx - b.idx\n            }),\n            cleanHandler () {},\n            Signal,\n            onInputArrive: {},\n            function: {},\n            instance: {}\n          }\n        },\n        template: `<span>{{ mod.src }}/span>`,\n        async mounted () {\n          try {\n            await this.instantiate()\n            this.$emit('made', this.instance)\n          } catch (e) {\n            console.log(e)\n          }\n        },\n        watch: {\n          code () {\n            clearTimeout(this.codeTimeout)\n            this.codeTimeout = setTimeout(() => {\n              this.instantiate()\n            }, 500)\n          },\n          sockets: {\n            deep: true,\n            handler () {\n              clearTimeout(this.sTimeout)\n              this.sTimeout = setTimeout(() => {\n                this.instantiate()\n              }, 500)\n            }\n          }\n        },\n        beforeDestroy () {\n          // this.sockets.forEach(i => {\n          //   i.mod.to = false\n          //   i.socket.to = false\n          // })\n          this.cleanInstance()\n          this.$emit('clean', this.instance)\n        },\n        computed: {\n          code () {\n            return this.mod.src\n          },\n          metaJSON () {\n            return JSON.stringify(this.mod.meta)\n          }\n        },\n        methods: {\n          cleanInstance () {\n            if (this.instance) {\n              this.sockets.filter(s => s.type === 'input' && s.modID === this.mod.id).forEach((input) => {\n                Signal.$off(input.id)\n              })\n              this.sockets.filter(s => s.type === 'output' && s.modID === this.mod.id).forEach((output) => {\n                Signal.$off(output.id)\n              })\n              this.$emit('refresh-sockets')\n              try {\n                this.instance.onClean && this.instance.onClean()\n              } catch (e) {\n                console.log(e)\n              }\n            }\n          },\n          readyInstance () {\n            if (this.instance) {\n              try {\n                this.instance.onReady && this.instance.onReady()\n              } catch (e) {\n                console.log(e)\n              }\n            }\n          },\n          Input (mixed, onArrive, once = () => {}) {\n            if (typeof mixed === 'number') {\n              this.$on('input' + mixed, (v) => {\n                onArrive(v)\n                this.$emit('input-once' + mixed, v)\n              })\n              this.$once('input-once' + mixed, once)\n            } else if (typeof mixed === 'string') {\n              mixed = this.inputs.findIndex(so => so.name === mixed)\n              this.$on('input' + mixed, (v) => {\n                onArrive(v)\n                this.$emit('input-once' + mixed, v)\n              })\n              this.$once('input-once' + mixed, once)\n            } else if (typeof mixed === 'object' && mixed instanceof Array) {\n              mixed.forEach(ee => {\n                if (typeof ee === 'string') {\n                  ee = this.inputs.findIndex(so => so.name === ee)\n                }\n                this.$on('input' + ee, (v) => {\n                  onArrive(v)\n                  this.$emit('input-once' + ee, v)\n                })\n                this.$once('input-once' + ee, once)\n              })\n            }\n          },\n          Output (mixed, valueToBeSent) {\n            if (typeof mixed === 'number') {\n              this.$emit('output' + mixed, valueToBeSent)\n            } else if (typeof mixed === 'string') {\n              mixed = this.outputs.findIndex(so => so.name === mixed)\n              this.$emit('output' + mixed, valueToBeSent)\n            } else if (typeof mixed === 'object' && mixed instanceof Array) {\n              mixed.forEach(ee => {\n                if (typeof ee === 'string') {\n                  ee = this.outputs.findIndex(so => so.name === ee)\n                }\n                this.$emit('output' + ee, valueToBeSent)\n              })\n            }\n          },\n          OutputAll (valueToBeSent) {\n            this.sockets.filter(s => s.type === 'output' && s.modID === this.mod.id).slice().sort((a, b) => {\n              return a.idx - b.idx\n            }).forEach((e, ei) => {\n              this.$emit('output' + ei, valueToBeSent)\n            })\n          },\n          instantiate () {\n            return new Promise((resolve, reject) => {\n              setTimeout(() => {\n                /* eslint-disable */\n                try {\n                  this.cleanInstance()\n                  this.function = new Function('env', this.mod.src)\n                  this.instance = new this.function({\n                    loadAllJS,\n                    Resources,\n                    Signal,\n                    getMeta: (key) => {\n                      return ((this.mod.meta.find(e => e.label === key) || { value: { var: 0 } }).value)\n                    },\n                    box: this.mod,\n                    sockets: this.sockets,\n                    IO: this,\n                    Input: this.Input,\n                    Output: this.Output,\n                    OutputAll: this.OutputAll,\n                    inputs: this.inputs.map((e, ei) => {\n                      Signal.$on(e.id, (v) => {\n                        this.$emit('input' + ei, v)\n                      })\n                      return e\n                    }),\n                    outputs: this.outputs.map((e, ei) => {\n                      this.$on('output' + ei, (v) => {\n                        Signal.$emit(e.id, v)\n                      })\n                      return e\n                    })\n                  })\n                  // console.log('INSTANCE', this.instance)\n                  this.readyInstance()\n                  resolve()\n                } catch (e) {\n                  console.log('======compiling======')\n                  console.trace(e)\n                  console.error(this.mod.src)\n                  reject(e)\n                }\n                /* eslint-enable */\n              })\n            })\n          }\n        }\n      }\n      modRunner = Vue.component('modrunner', modRunner)\n\n      return new Vue({\n        components: {\n          'modrunner': modRunner\n        },\n        template: `\n          <div ref=\"systemDOM\" style=\"width: 100%; height: 100%; position: relative;\">\n            <div v-if=\"ready\" style=\"display: none; width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;\" >\n              <pre>{{ modules }}</pre>\n              <span style=\"display: none;\">{{ Doc }}</span>\n              <modrunner v-if=\"canRunSystem\" :signal=\"Signal\" @refresh-sockets=\"refreshSockets\" :key=\"mod._id + mod.id\" :sockets=\"sockets\" :mod=\"mod\" v-for=\"mod in modules\"></modrunner>\n            </div>\n            <div class=\"rootDOM\" style=\"width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;\" ref=\"rootDOM\"></div>\n          </div>\n        `,\n        el: document.createElement('div'),\n        mounted () {\n          Resources.set('rootDOM', this.$refs.rootDOM)\n          this.refreshSockets()\n          this.ready = true\n          this.$forceUpdate()\n        },\n        data () {\n          return {\n            canRunSystem: true,\n            ready: false,\n            get Doc () {\n              return uiAPI.hive.Doc\n            },\n            Signal,\n            h: {}\n          }\n        },\n        watch: {\n          modules: {\n            deep: true,\n            handler () {\n              this.refreshSockets()\n            }\n          }\n        },\n        methods: {\n          reset () {\n            Resources = MakeResources()\n            Resources.set('rootDOM', this.$refs.rootDOM)\n            this.refreshSockets()\n            this.canRunSystem = false\n            setTimeout(() => {\n              this.canRunSystem = true\n            }, 100)\n          },\n          refreshSockets () {\n            this.sockets.filter(s => s.socket.to && s.type === 'output').forEach((soc) => {\n              if (this.h[soc.socket.from]) {\n                Signal.$off(soc.socket.from, this.h[soc.socket.from])\n              }\n              this.h[soc.socket.from] = (v) => {\n                // console.log(soc.socket.from, soc.socket.to)\n                Signal.$emit(soc.socket.to, v)\n              }\n              Signal.$on(soc.socket.from, this.h[soc.socket.from])\n            })\n          }\n        },\n        computed: {\n          modules () {\n            return this.Doc.root.modules\n          },\n          sockets () {\n            return this.Doc.root.connectors\n          },\n          outputSignal () {\n            return this.Doc.root.connectors.filter((c) => {\n              return c.socket.to && c.socket.from && c.type === 'output'\n            })\n          }\n        }\n      })\n    }\n  }\n  window.getID = getID\n  window.ExecEnv = ExecEnv\n\n  return window.ExecEnv\n}())\n"

/***/ }),

/***/ "0390":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var at = __webpack_require__("02f4")(true);

 // `AdvanceStringIndex` abstract operation
// https://tc39.github.io/ecma262/#sec-advancestringindex
module.exports = function (S, index, unicode) {
  return index + (unicode ? at(S, index).length : 1);
};


/***/ }),

/***/ "0395":
/***/ (function(module, exports, __webpack_require__) {

// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
var toIObject = __webpack_require__("36c3");
var gOPN = __webpack_require__("6abf").f;
var toString = {}.toString;

var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
  ? Object.getOwnPropertyNames(window) : [];

var getWindowNames = function (it) {
  try {
    return gOPN(it);
  } catch (e) {
    return windowNames.slice();
  }
};

module.exports.f = function getOwnPropertyNames(it) {
  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
};


/***/ }),

/***/ "061c":
/***/ (function(module, exports, __webpack_require__) {

/* ***** BEGIN LICENSE BLOCK *****
 * Distributed under the BSD license:
 *
 * Copyright (c) 2010, Ajax.org B.V.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *     * Redistributions of source code must retain the above copyright
 *       notice, this list of conditions and the following disclaimer.
 *     * Redistributions in binary form must reproduce the above copyright
 *       notice, this list of conditions and the following disclaimer in the
 *       documentation and/or other materials provided with the distribution.
 *     * Neither the name of Ajax.org B.V. nor the
 *       names of its contributors may be used to endorse or promote products
 *       derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY
 * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * ***** END LICENSE BLOCK ***** */

/**
 * Define a module along with a payload
 * @param module a name for the payload
 * @param payload a function to call with (acequire, exports, module) params
 */

(function() {

var ACE_NAMESPACE = "ace";

var global = (function() { return this; })();
if (!global && typeof window != "undefined") global = window; // strict mode


if (!ACE_NAMESPACE && typeof acequirejs !== "undefined")
    return;


var define = function(module, deps, payload) {
    if (typeof module !== "string") {
        if (define.original)
            define.original.apply(this, arguments);
        else {
            console.error("dropping module because define wasn\'t a string.");
            console.trace();
        }
        return;
    }
    if (arguments.length == 2)
        payload = deps;
    if (!define.modules[module]) {
        define.payloads[module] = payload;
        define.modules[module] = null;
    }
};

define.modules = {};
define.payloads = {};

/**
 * Get at functionality define()ed using the function above
 */
var _acequire = function(parentId, module, callback) {
    if (typeof module === "string") {
        var payload = lookup(parentId, module);
        if (payload != undefined) {
            callback && callback();
            return payload;
        }
    } else if (Object.prototype.toString.call(module) === "[object Array]") {
        var params = [];
        for (var i = 0, l = module.length; i < l; ++i) {
            var dep = lookup(parentId, module[i]);
            if (dep == undefined && acequire.original)
                return;
            params.push(dep);
        }
        return callback && callback.apply(null, params) || true;
    }
};

var acequire = function(module, callback) {
    var packagedModule = _acequire("", module, callback);
    if (packagedModule == undefined && acequire.original)
        return acequire.original.apply(this, arguments);
    return packagedModule;
};

var normalizeModule = function(parentId, moduleName) {
    // normalize plugin acequires
    if (moduleName.indexOf("!") !== -1) {
        var chunks = moduleName.split("!");
        return normalizeModule(parentId, chunks[0]) + "!" + normalizeModule(parentId, chunks[1]);
    }
    // normalize relative acequires
    if (moduleName.charAt(0) == ".") {
        var base = parentId.split("/").slice(0, -1).join("/");
        moduleName = base + "/" + moduleName;

        while(moduleName.indexOf(".") !== -1 && previous != moduleName) {
            var previous = moduleName;
            moduleName = moduleName.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
        }
    }
    return moduleName;
};

/**
 * Internal function to lookup moduleNames and resolve them by calling the
 * definition function if needed.
 */
var lookup = function(parentId, moduleName) {
    moduleName = normalizeModule(parentId, moduleName);

    var module = define.modules[moduleName];
    if (!module) {
        module = define.payloads[moduleName];
        if (typeof module === 'function') {
            var exports = {};
            var mod = {
                id: moduleName,
                uri: '',
                exports: exports,
                packaged: true
            };

            var req = function(module, callback) {
                return _acequire(moduleName, module, callback);
            };

            var returnValue = module(req, exports, mod);
            exports = returnValue || mod.exports;
            define.modules[moduleName] = exports;
            delete define.payloads[moduleName];
        }
        module = define.modules[moduleName] = exports || module;
    }
    return module;
};

function exportAce(ns) {
    var root = global;
    if (ns) {
        if (!global[ns])
            global[ns] = {};
        root = global[ns];
    }

    if (!root.define || !root.define.packaged) {
        define.original = root.define;
        root.define = define;
        root.define.packaged = true;
    }

    if (!root.acequire || !root.acequire.packaged) {
        acequire.original = root.acequire;
        root.acequire = acequire;
        root.acequire.packaged = true;
    }
}

exportAce(ACE_NAMESPACE);

})();

ace.define("ace/lib/regexp",["require","exports","module"], function(acequire, exports, module) {
"use strict";

    var real = {
            exec: RegExp.prototype.exec,
            test: RegExp.prototype.test,
            match: String.prototype.match,
            replace: String.prototype.replace,
            split: String.prototype.split
        },
        compliantExecNpcg = real.exec.call(/()??/, "")[1] === undefined, // check `exec` handling of nonparticipating capturing groups
        compliantLastIndexIncrement = function () {
            var x = /^/g;
            real.test.call(x, "");
            return !x.lastIndex;
        }();

    if (compliantLastIndexIncrement && compliantExecNpcg)
        return;
    RegExp.prototype.exec = function (str) {
        var match = real.exec.apply(this, arguments),
            name, r2;
        if ( typeof(str) == 'string' && match) {
            if (!compliantExecNpcg && match.length > 1 && indexOf(match, "") > -1) {
                r2 = RegExp(this.source, real.replace.call(getNativeFlags(this), "g", ""));
                real.replace.call(str.slice(match.index), r2, function () {
                    for (var i = 1; i < arguments.length - 2; i++) {
                        if (arguments[i] === undefined)
                            match[i] = undefined;
                    }
                });
            }
            if (this._xregexp && this._xregexp.captureNames) {
                for (var i = 1; i < match.length; i++) {
                    name = this._xregexp.captureNames[i - 1];
                    if (name)
                       match[name] = match[i];
                }
            }
            if (!compliantLastIndexIncrement && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
        }
        return match;
    };
    if (!compliantLastIndexIncrement) {
        RegExp.prototype.test = function (str) {
            var match = real.exec.call(this, str);
            if (match && this.global && !match[0].length && (this.lastIndex > match.index))
                this.lastIndex--;
            return !!match;
        };
    }

    function getNativeFlags (regex) {
        return (regex.global     ? "g" : "") +
               (regex.ignoreCase ? "i" : "") +
               (regex.multiline  ? "m" : "") +
               (regex.extended   ? "x" : "") + // Proposed for ES4; included in AS3
               (regex.sticky     ? "y" : "");
    }

    function indexOf (array, item, from) {
        if (Array.prototype.indexOf) // Use the native array method if available
            return array.indexOf(item, from);
        for (var i = from || 0; i < array.length; i++) {
            if (array[i] === item)
                return i;
        }
        return -1;
    }

});

ace.define("ace/lib/es5-shim",["require","exports","module"], function(acequire, exports, module) {

function Empty() {}

if (!Function.prototype.bind) {
    Function.prototype.bind = function bind(that) { // .length is 1
        var target = this;
        if (typeof target != "function") {
            throw new TypeError("Function.prototype.bind called on incompatible " + target);
        }
        var args = slice.call(arguments, 1); // for normal call
        var bound = function () {

            if (this instanceof bound) {

                var result = target.apply(
                    this,
                    args.concat(slice.call(arguments))
                );
                if (Object(result) === result) {
                    return result;
                }
                return this;

            } else {
                return target.apply(
                    that,
                    args.concat(slice.call(arguments))
                );

            }

        };
        if(target.prototype) {
            Empty.prototype = target.prototype;
            bound.prototype = new Empty();
            Empty.prototype = null;
        }
        return bound;
    };
}
var call = Function.prototype.call;
var prototypeOfArray = Array.prototype;
var prototypeOfObject = Object.prototype;
var slice = prototypeOfArray.slice;
var _toString = call.bind(prototypeOfObject.toString);
var owns = call.bind(prototypeOfObject.hasOwnProperty);
var defineGetter;
var defineSetter;
var lookupGetter;
var lookupSetter;
var supportsAccessors;
if ((supportsAccessors = owns(prototypeOfObject, "__defineGetter__"))) {
    defineGetter = call.bind(prototypeOfObject.__defineGetter__);
    defineSetter = call.bind(prototypeOfObject.__defineSetter__);
    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);
    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);
}
if ([1,2].splice(0).length != 2) {
    if(function() { // test IE < 9 to splice bug - see issue #138
        function makeArray(l) {
            var a = new Array(l+2);
            a[0] = a[1] = 0;
            return a;
        }
        var array = [], lengthBefore;
        
        array.splice.apply(array, makeArray(20));
        array.splice.apply(array, makeArray(26));

        lengthBefore = array.length; //46
        array.splice(5, 0, "XXX"); // add one element

        lengthBefore + 1 == array.length

        if (lengthBefore + 1 == array.length) {
            return true;// has right splice implementation without bugs
        }
    }()) {//IE 6/7
        var array_splice = Array.prototype.splice;
        Array.prototype.splice = function(start, deleteCount) {
            if (!arguments.length) {
                return [];
            } else {
                return array_splice.apply(this, [
                    start === void 0 ? 0 : start,
                    deleteCount === void 0 ? (this.length - start) : deleteCount
                ].concat(slice.call(arguments, 2)))
            }
        };
    } else {//IE8
        Array.prototype.splice = function(pos, removeCount){
            var length = this.length;
            if (pos > 0) {
                if (pos > length)
                    pos = length;
            } else if (pos == void 0) {
                pos = 0;
            } else if (pos < 0) {
                pos = Math.max(length + pos, 0);
            }

            if (!(pos+removeCount < length))
                removeCount = length - pos;

            var removed = this.slice(pos, pos+removeCount);
            var insert = slice.call(arguments, 2);
            var add = insert.length;            
            if (pos === length) {
                if (add) {
                    this.push.apply(this, insert);
                }
            } else {
                var remove = Math.min(removeCount, length - pos);
                var tailOldPos = pos + remove;
                var tailNewPos = tailOldPos + add - remove;
                var tailCount = length - tailOldPos;
                var lengthAfterRemove = length - remove;

                if (tailNewPos < tailOldPos) { // case A
                    for (var i = 0; i < tailCount; ++i) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } else if (tailNewPos > tailOldPos) { // case B
                    for (i = tailCount; i--; ) {
                        this[tailNewPos+i] = this[tailOldPos+i];
                    }
                } // else, add == remove (nothing to do)

                if (add && pos === lengthAfterRemove) {
                    this.length = lengthAfterRemove; // truncate array
                    this.push.apply(this, insert);
                } else {
                    this.length = lengthAfterRemove + add; // reserves space
                    for (i = 0; i < add; ++i) {
                        this[pos+i] = insert[i];
                    }
                }
            }
            return removed;
        };
    }
}
if (!Array.isArray) {
    Array.isArray = function isArray(obj) {
        return _toString(obj) == "[object Array]";
    };
}
var boxedString = Object("a"),
    splitString = boxedString[0] != "a" || !(0 in boxedString);

if (!Array.prototype.forEach) {
    Array.prototype.forEach = function forEach(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            thisp = arguments[1],
            i = -1,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(); // TODO message
        }

        while (++i < length) {
            if (i in self) {
                fun.call(thisp, self[i], i, object);
            }
        }
    };
}
if (!Array.prototype.map) {
    Array.prototype.map = function map(fun /*, thisp*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            result = Array(length),
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self)
                result[i] = fun.call(thisp, self[i], i, object);
        }
        return result;
    };
}
if (!Array.prototype.filter) {
    Array.prototype.filter = function filter(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                    object,
            length = self.length >>> 0,
            result = [],
            value,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self) {
                value = self[i];
                if (fun.call(thisp, value, i, object)) {
                    result.push(value);
                }
            }
        }
        return result;
    };
}
if (!Array.prototype.every) {
    Array.prototype.every = function every(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && !fun.call(thisp, self[i], i, object)) {
                return false;
            }
        }
        return true;
    };
}
if (!Array.prototype.some) {
    Array.prototype.some = function some(fun /*, thisp */) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0,
            thisp = arguments[1];
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }

        for (var i = 0; i < length; i++) {
            if (i in self && fun.call(thisp, self[i], i, object)) {
                return true;
            }
        }
        return false;
    };
}
if (!Array.prototype.reduce) {
    Array.prototype.reduce = function reduce(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduce of empty array with no initial value");
        }

        var i = 0;
        var result;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i++];
                    break;
                }
                if (++i >= length) {
                    throw new TypeError("reduce of empty array with no initial value");
                }
            } while (true);
        }

        for (; i < length; i++) {
            if (i in self) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        }

        return result;
    };
}
if (!Array.prototype.reduceRight) {
    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {
        var object = toObject(this),
            self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                object,
            length = self.length >>> 0;
        if (_toString(fun) != "[object Function]") {
            throw new TypeError(fun + " is not a function");
        }
        if (!length && arguments.length == 1) {
            throw new TypeError("reduceRight of empty array with no initial value");
        }

        var result, i = length - 1;
        if (arguments.length >= 2) {
            result = arguments[1];
        } else {
            do {
                if (i in self) {
                    result = self[i--];
                    break;
                }
                if (--i < 0) {
                    throw new TypeError("reduceRight of empty array with no initial value");
                }
            } while (true);
        }

        do {
            if (i in this) {
                result = fun.call(void 0, result, self[i], i, object);
            }
        } while (i--);

        return result;
    };
}
if (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {
    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }

        var i = 0;
        if (arguments.length > 1) {
            i = toInteger(arguments[1]);
        }
        i = i >= 0 ? i : Math.max(0, length + i);
        for (; i < length; i++) {
            if (i in self && self[i] === sought) {
                return i;
            }
        }
        return -1;
    };
}
if (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {
    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {
        var self = splitString && _toString(this) == "[object String]" ?
                this.split("") :
                toObject(this),
            length = self.length >>> 0;

        if (!length) {
            return -1;
        }
        var i = length - 1;
        if (arguments.length > 1) {
            i = Math.min(i, toInteger(arguments[1]));
        }
        i = i >= 0 ? i : length - Math.abs(i);
        for (; i >= 0; i--) {
            if (i in self && sought === self[i]) {
                return i;
            }
        }
        return -1;
    };
}
if (!Object.getPrototypeOf) {
    Object.getPrototypeOf = function getPrototypeOf(object) {
        return object.__proto__ || (
            object.constructor ?
            object.constructor.prototype :
            prototypeOfObject
        );
    };
}
if (!Object.getOwnPropertyDescriptor) {
    var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a " +
                         "non-object: ";
    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT + object);
        if (!owns(object, property))
            return;

        var descriptor, getter, setter;
        descriptor =  { enumerable: true, configurable: true };
        if (supportsAccessors) {
            var prototype = object.__proto__;
            object.__proto__ = prototypeOfObject;

            var getter = lookupGetter(object, property);
            var setter = lookupSetter(object, property);
            object.__proto__ = prototype;

            if (getter || setter) {
                if (getter) descriptor.get = getter;
                if (setter) descriptor.set = setter;
                return descriptor;
            }
        }
        descriptor.value = object[property];
        return descriptor;
    };
}
if (!Object.getOwnPropertyNames) {
    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {
        return Object.keys(object);
    };
}
if (!Object.create) {
    var createEmpty;
    if (Object.prototype.__proto__ === null) {
        createEmpty = function () {
            return { "__proto__": null };
        };
    } else {
        createEmpty = function () {
            var empty = {};
            for (var i in empty)
                empty[i] = null;
            empty.constructor =
            empty.hasOwnProperty =
            empty.propertyIsEnumerable =
            empty.isPrototypeOf =
            empty.toLocaleString =
            empty.toString =
            empty.valueOf =
            empty.__proto__ = null;
            return empty;
        }
    }

    Object.create = function create(prototype, properties) {
        var object;
        if (prototype === null) {
            object = createEmpty();
        } else {
            if (typeof prototype != "object")
                throw new TypeError("typeof prototype["+(typeof prototype)+"] != 'object'");
            var Type = function () {};
            Type.prototype = prototype;
            object = new Type();
            object.__proto__ = prototype;
        }
        if (properties !== void 0)
            Object.defineProperties(object, properties);
        return object;
    };
}

function doesDefinePropertyWork(object) {
    try {
        Object.defineProperty(object, "sentinel", {});
        return "sentinel" in object;
    } catch (exception) {
    }
}
if (Object.defineProperty) {
    var definePropertyWorksOnObject = doesDefinePropertyWork({});
    var definePropertyWorksOnDom = typeof document == "undefined" ||
        doesDefinePropertyWork(document.createElement("div"));
    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {
        var definePropertyFallback = Object.defineProperty;
    }
}

if (!Object.defineProperty || definePropertyFallback) {
    var ERR_NON_OBJECT_DESCRIPTOR = "Property description must be an object: ";
    var ERR_NON_OBJECT_TARGET = "Object.defineProperty called on non-object: "
    var ERR_ACCESSORS_NOT_SUPPORTED = "getters & setters can not be defined " +
                                      "on this javascript engine";

    Object.defineProperty = function defineProperty(object, property, descriptor) {
        if ((typeof object != "object" && typeof object != "function") || object === null)
            throw new TypeError(ERR_NON_OBJECT_TARGET + object);
        if ((typeof descriptor != "object" && typeof descriptor != "function") || descriptor === null)
            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);
        if (definePropertyFallback) {
            try {
                return definePropertyFallback.call(Object, object, property, descriptor);
            } catch (exception) {
            }
        }
        if (owns(descriptor, "value")) {

            if (supportsAccessors && (lookupGetter(object, property) ||
                                      lookupSetter(object, property)))
            {
                var prototype = object.__proto__;
                object.__proto__ = prototypeOfObject;
                delete object[property];
                object[property] = descriptor.value;
                object.__proto__ = prototype;
            } else {
                object[property] = descriptor.value;
            }
        } else {
            if (!supportsAccessors)
                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);
            if (owns(descriptor, "get"))
                defineGetter(object, property, descriptor.get);
            if (owns(descriptor, "set"))
                defineSetter(object, property, descriptor.set);
        }

        return object;
    };
}
if (!Object.defineProperties) {
    Object.defineProperties = function defineProperties(object, properties) {
        for (var property in properties) {
            if (owns(properties, property))
                Object.defineProperty(object, property, properties[property]);
        }
        return object;
    };
}
if (!Object.seal) {
    Object.seal = function seal(object) {
        return object;
    };
}
if (!Object.freeze) {
    Object.freeze = function freeze(object) {
        return object;
    };
}
try {
    Object.freeze(function () {});
} catch (exception) {
    Object.freeze = (function freeze(freezeObject) {
        return function freeze(object) {
            if (typeof object == "function") {
                return object;
            } else {
                return freezeObject(object);
            }
        };
    })(Object.freeze);
}
if (!Object.preventExtensions) {
    Object.preventExtensions = function preventExtensions(object) {
        return object;
    };
}
if (!Object.isSealed) {
    Object.isSealed = function isSealed(object) {
        return false;
    };
}
if (!Object.isFrozen) {
    Object.isFrozen = function isFrozen(object) {
        return false;
    };
}
if (!Object.isExtensible) {
    Object.isExtensible = function isExtensible(object) {
        if (Object(object) === object) {
            throw new TypeError(); // TODO message
        }
        var name = '';
        while (owns(object, name)) {
            name += '?';
        }
        object[name] = true;
        var returnValue = owns(object, name);
        delete object[name];
        return returnValue;
    };
}
if (!Object.keys) {
    var hasDontEnumBug = true,
        dontEnums = [
            "toString",
            "toLocaleString",
            "valueOf",
            "hasOwnProperty",
            "isPrototypeOf",
            "propertyIsEnumerable",
            "constructor"
        ],
        dontEnumsLength = dontEnums.length;

    for (var key in {"toString": null}) {
        hasDontEnumBug = false;
    }

    Object.keys = function keys(object) {

        if (
            (typeof object != "object" && typeof object != "function") ||
            object === null
        ) {
            throw new TypeError("Object.keys called on a non-object");
        }

        var keys = [];
        for (var name in object) {
            if (owns(object, name)) {
                keys.push(name);
            }
        }

        if (hasDontEnumBug) {
            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {
                var dontEnum = dontEnums[i];
                if (owns(object, dontEnum)) {
                    keys.push(dontEnum);
                }
            }
        }
        return keys;
    };

}
if (!Date.now) {
    Date.now = function now() {
        return new Date().getTime();
    };
}
var ws = "\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003" +
    "\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028" +
    "\u2029\uFEFF";
if (!String.prototype.trim || ws.trim()) {
    ws = "[" + ws + "]";
    var trimBeginRegexp = new RegExp("^" + ws + ws + "*"),
        trimEndRegexp = new RegExp(ws + ws + "*$");
    String.prototype.trim = function trim() {
        return String(this).replace(trimBeginRegexp, "").replace(trimEndRegexp, "");
    };
}

function toInteger(n) {
    n = +n;
    if (n !== n) { // isNaN
        n = 0;
    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {
        n = (n > 0 || -1) * Math.floor(Math.abs(n));
    }
    return n;
}

function isPrimitive(input) {
    var type = typeof input;
    return (
        input === null ||
        type === "undefined" ||
        type === "boolean" ||
        type === "number" ||
        type === "string"
    );
}

function toPrimitive(input) {
    var val, valueOf, toString;
    if (isPrimitive(input)) {
        return input;
    }
    valueOf = input.valueOf;
    if (typeof valueOf === "function") {
        val = valueOf.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    toString = input.toString;
    if (typeof toString === "function") {
        val = toString.call(input);
        if (isPrimitive(val)) {
            return val;
        }
    }
    throw new TypeError();
}
var toObject = function (o) {
    if (o == null) { // this matches both null and undefined
        throw new TypeError("can't convert "+o+" to object");
    }
    return Object(o);
};

});

ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"], function(acequire, exports, module) {
"use strict";

acequire("./regexp");
acequire("./es5-shim");

});

ace.define("ace/lib/dom",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var XHTML_NS = "http://www.w3.org/1999/xhtml";

exports.getDocumentHead = function(doc) {
    if (!doc)
        doc = document;
    return doc.head || doc.getElementsByTagName("head")[0] || doc.documentElement;
};

exports.createElement = function(tag, ns) {
    return document.createElementNS ?
           document.createElementNS(ns || XHTML_NS, tag) :
           document.createElement(tag);
};

exports.hasCssClass = function(el, name) {
    var classes = (el.className + "").split(/\s+/g);
    return classes.indexOf(name) !== -1;
};
exports.addCssClass = function(el, name) {
    if (!exports.hasCssClass(el, name)) {
        el.className += " " + name;
    }
};
exports.removeCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g);
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        classes.splice(index, 1);
    }
    el.className = classes.join(" ");
};

exports.toggleCssClass = function(el, name) {
    var classes = el.className.split(/\s+/g), add = true;
    while (true) {
        var index = classes.indexOf(name);
        if (index == -1) {
            break;
        }
        add = false;
        classes.splice(index, 1);
    }
    if (add)
        classes.push(name);

    el.className = classes.join(" ");
    return add;
};
exports.setCssClass = function(node, className, include) {
    if (include) {
        exports.addCssClass(node, className);
    } else {
        exports.removeCssClass(node, className);
    }
};

exports.hasCssString = function(id, doc) {
    var index = 0, sheets;
    doc = doc || document;

    if (doc.createStyleSheet && (sheets = doc.styleSheets)) {
        while (index < sheets.length)
            if (sheets[index++].owningElement.id === id) return true;
    } else if ((sheets = doc.getElementsByTagName("style"))) {
        while (index < sheets.length)
            if (sheets[index++].id === id) return true;
    }

    return false;
};

exports.importCssString = function importCssString(cssText, id, doc) {
    doc = doc || document;
    if (id && exports.hasCssString(id, doc))
        return null;
    
    var style;
    
    if (id)
        cssText += "\n/*# sourceURL=ace/css/" + id + " */";
    
    if (doc.createStyleSheet) {
        style = doc.createStyleSheet();
        style.cssText = cssText;
        if (id)
            style.owningElement.id = id;
    } else {
        style = exports.createElement("style");
        style.appendChild(doc.createTextNode(cssText));
        if (id)
            style.id = id;

        exports.getDocumentHead(doc).appendChild(style);
    }
};

exports.importCssStylsheet = function(uri, doc) {
    if (doc.createStyleSheet) {
        doc.createStyleSheet(uri);
    } else {
        var link = exports.createElement('link');
        link.rel = 'stylesheet';
        link.href = uri;

        exports.getDocumentHead(doc).appendChild(link);
    }
};

exports.getInnerWidth = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingLeft"), 10) +
        parseInt(exports.computedStyle(element, "paddingRight"), 10) + 
        element.clientWidth
    );
};

exports.getInnerHeight = function(element) {
    return (
        parseInt(exports.computedStyle(element, "paddingTop"), 10) +
        parseInt(exports.computedStyle(element, "paddingBottom"), 10) +
        element.clientHeight
    );
};

exports.scrollbarWidth = function(document) {
    var inner = exports.createElement("ace_inner");
    inner.style.width = "100%";
    inner.style.minWidth = "0px";
    inner.style.height = "200px";
    inner.style.display = "block";

    var outer = exports.createElement("ace_outer");
    var style = outer.style;

    style.position = "absolute";
    style.left = "-10000px";
    style.overflow = "hidden";
    style.width = "200px";
    style.minWidth = "0px";
    style.height = "150px";
    style.display = "block";

    outer.appendChild(inner);

    var body = document.documentElement;
    body.appendChild(outer);

    var noScrollbar = inner.offsetWidth;

    style.overflow = "scroll";
    var withScrollbar = inner.offsetWidth;

    if (noScrollbar == withScrollbar) {
        withScrollbar = outer.clientWidth;
    }

    body.removeChild(outer);

    return noScrollbar-withScrollbar;
};

if (typeof document == "undefined") {
    exports.importCssString = function() {};
    return;
}

if (window.pageYOffset !== undefined) {
    exports.getPageScrollTop = function() {
        return window.pageYOffset;
    };

    exports.getPageScrollLeft = function() {
        return window.pageXOffset;
    };
}
else {
    exports.getPageScrollTop = function() {
        return document.body.scrollTop;
    };

    exports.getPageScrollLeft = function() {
        return document.body.scrollLeft;
    };
}

if (window.getComputedStyle)
    exports.computedStyle = function(element, style) {
        if (style)
            return (window.getComputedStyle(element, "") || {})[style] || "";
        return window.getComputedStyle(element, "") || {};
    };
else
    exports.computedStyle = function(element, style) {
        if (style)
            return element.currentStyle[style];
        return element.currentStyle;
    };
exports.setInnerHtml = function(el, innerHtml) {
    var element = el.cloneNode(false);//document.createElement("div");
    element.innerHTML = innerHtml;
    el.parentNode.replaceChild(element, el);
    return element;
};

if ("textContent" in document.documentElement) {
    exports.setInnerText = function(el, innerText) {
        el.textContent = innerText;
    };

    exports.getInnerText = function(el) {
        return el.textContent;
    };
}
else {
    exports.setInnerText = function(el, innerText) {
        el.innerText = innerText;
    };

    exports.getInnerText = function(el) {
        return el.innerText;
    };
}

exports.getParentWindow = function(document) {
    return document.defaultView || document.parentWindow;
};

});

ace.define("ace/lib/oop",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.inherits = function(ctor, superCtor) {
    ctor.super_ = superCtor;
    ctor.prototype = Object.create(superCtor.prototype, {
        constructor: {
            value: ctor,
            enumerable: false,
            writable: true,
            configurable: true
        }
    });
};

exports.mixin = function(obj, mixin) {
    for (var key in mixin) {
        obj[key] = mixin[key];
    }
    return obj;
};

exports.implement = function(proto, mixin) {
    exports.mixin(proto, mixin);
};

});

ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

acequire("./fixoldbrowsers");

var oop = acequire("./oop");
var Keys = (function() {
    var ret = {
        MODIFIER_KEYS: {
            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta'
        },

        KEY_MODS: {
            "ctrl": 1, "alt": 2, "option" : 2, "shift": 4,
            "super": 8, "meta": 8, "command": 8, "cmd": 8
        },

        FUNCTION_KEYS : {
            8  : "Backspace",
            9  : "Tab",
            13 : "Return",
            19 : "Pause",
            27 : "Esc",
            32 : "Space",
            33 : "PageUp",
            34 : "PageDown",
            35 : "End",
            36 : "Home",
            37 : "Left",
            38 : "Up",
            39 : "Right",
            40 : "Down",
            44 : "Print",
            45 : "Insert",
            46 : "Delete",
            96 : "Numpad0",
            97 : "Numpad1",
            98 : "Numpad2",
            99 : "Numpad3",
            100: "Numpad4",
            101: "Numpad5",
            102: "Numpad6",
            103: "Numpad7",
            104: "Numpad8",
            105: "Numpad9",
            '-13': "NumpadEnter",
            112: "F1",
            113: "F2",
            114: "F3",
            115: "F4",
            116: "F5",
            117: "F6",
            118: "F7",
            119: "F8",
            120: "F9",
            121: "F10",
            122: "F11",
            123: "F12",
            144: "Numlock",
            145: "Scrolllock"
        },

        PRINTABLE_KEYS: {
           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',
           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',
           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',
           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',
           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',
           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',
          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',
          219: '[', 220: '\\',221: ']', 222: "'", 111: '/', 106: '*'
        }
    };
    var name, i;
    for (i in ret.FUNCTION_KEYS) {
        name = ret.FUNCTION_KEYS[i].toLowerCase();
        ret[name] = parseInt(i, 10);
    }
    for (i in ret.PRINTABLE_KEYS) {
        name = ret.PRINTABLE_KEYS[i].toLowerCase();
        ret[name] = parseInt(i, 10);
    }
    oop.mixin(ret, ret.MODIFIER_KEYS);
    oop.mixin(ret, ret.PRINTABLE_KEYS);
    oop.mixin(ret, ret.FUNCTION_KEYS);
    ret.enter = ret["return"];
    ret.escape = ret.esc;
    ret.del = ret["delete"];
    ret[173] = '-';
    
    (function() {
        var mods = ["cmd", "ctrl", "alt", "shift"];
        for (var i = Math.pow(2, mods.length); i--;) {            
            ret.KEY_MODS[i] = mods.filter(function(x) {
                return i & ret.KEY_MODS[x];
            }).join("-") + "-";
        }
    })();

    ret.KEY_MODS[0] = "";
    ret.KEY_MODS[-1] = "input-";

    return ret;
})();
oop.mixin(exports, Keys);

exports.keyCodeToString = function(keyCode) {
    var keyString = Keys[keyCode];
    if (typeof keyString != "string")
        keyString = String.fromCharCode(keyCode);
    return keyString.toLowerCase();
};

});

ace.define("ace/lib/useragent",["require","exports","module"], function(acequire, exports, module) {
"use strict";
exports.OS = {
    LINUX: "LINUX",
    MAC: "MAC",
    WINDOWS: "WINDOWS"
};
exports.getOS = function() {
    if (exports.isMac) {
        return exports.OS.MAC;
    } else if (exports.isLinux) {
        return exports.OS.LINUX;
    } else {
        return exports.OS.WINDOWS;
    }
};
if (typeof navigator != "object")
    return;

var os = (navigator.platform.match(/mac|win|linux/i) || ["other"])[0].toLowerCase();
var ua = navigator.userAgent;
exports.isWin = (os == "win");
exports.isMac = (os == "mac");
exports.isLinux = (os == "linux");
exports.isIE = 
    (navigator.appName == "Microsoft Internet Explorer" || navigator.appName.indexOf("MSAppHost") >= 0)
    ? parseFloat((ua.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1])
    : parseFloat((ua.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]); // for ie
    
exports.isOldIE = exports.isIE && exports.isIE < 9;
exports.isGecko = exports.isMozilla = (window.Controllers || window.controllers) && window.navigator.product === "Gecko";
exports.isOldGecko = exports.isGecko && parseInt((ua.match(/rv:(\d+)/)||[])[1], 10) < 4;
exports.isOpera = window.opera && Object.prototype.toString.call(window.opera) == "[object Opera]";
exports.isWebKit = parseFloat(ua.split("WebKit/")[1]) || undefined;

exports.isChrome = parseFloat(ua.split(" Chrome/")[1]) || undefined;

exports.isAIR = ua.indexOf("AdobeAIR") >= 0;

exports.isIPad = ua.indexOf("iPad") >= 0;

exports.isChromeOS = ua.indexOf(" CrOS ") >= 0;

exports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;

if (exports.isIOS) exports.isMac = true;

});

ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var keys = acequire("./keys");
var useragent = acequire("./useragent");

var pressedKeys = null;
var ts = 0;

exports.addListener = function(elem, type, callback) {
    if (elem.addEventListener) {
        return elem.addEventListener(type, callback, false);
    }
    if (elem.attachEvent) {
        var wrapper = function() {
            callback.call(elem, window.event);
        };
        callback._wrapper = wrapper;
        elem.attachEvent("on" + type, wrapper);
    }
};

exports.removeListener = function(elem, type, callback) {
    if (elem.removeEventListener) {
        return elem.removeEventListener(type, callback, false);
    }
    if (elem.detachEvent) {
        elem.detachEvent("on" + type, callback._wrapper || callback);
    }
};
exports.stopEvent = function(e) {
    exports.stopPropagation(e);
    exports.preventDefault(e);
    return false;
};

exports.stopPropagation = function(e) {
    if (e.stopPropagation)
        e.stopPropagation();
    else
        e.cancelBubble = true;
};

exports.preventDefault = function(e) {
    if (e.preventDefault)
        e.preventDefault();
    else
        e.returnValue = false;
};
exports.getButton = function(e) {
    if (e.type == "dblclick")
        return 0;
    if (e.type == "contextmenu" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))
        return 2;
    if (e.preventDefault) {
        return e.button;
    }
    else {
        return {1:0, 2:2, 4:1}[e.button];
    }
};

exports.capture = function(el, eventHandler, releaseCaptureHandler) {
    function onMouseUp(e) {
        eventHandler && eventHandler(e);
        releaseCaptureHandler && releaseCaptureHandler(e);

        exports.removeListener(document, "mousemove", eventHandler, true);
        exports.removeListener(document, "mouseup", onMouseUp, true);
        exports.removeListener(document, "dragstart", onMouseUp, true);
    }

    exports.addListener(document, "mousemove", eventHandler, true);
    exports.addListener(document, "mouseup", onMouseUp, true);
    exports.addListener(document, "dragstart", onMouseUp, true);
    
    return onMouseUp;
};

exports.addTouchMoveListener = function (el, callback) {
    var startx, starty;
    exports.addListener(el, "touchstart", function (e) {
        var touches = e.touches;
        var touchObj = touches[0];
        startx = touchObj.clientX;
        starty = touchObj.clientY;
    });
    exports.addListener(el, "touchmove", function (e) {
        var touches = e.touches;
        if (touches.length > 1) return;

        var touchObj = touches[0];

        e.wheelX = startx - touchObj.clientX;
        e.wheelY = starty - touchObj.clientY;

        startx = touchObj.clientX;
        starty = touchObj.clientY;

        callback(e);
    });
};

exports.addMouseWheelListener = function(el, callback) {
    if ("onmousewheel" in el) {
        exports.addListener(el, "mousewheel", function(e) {
            var factor = 8;
            if (e.wheelDeltaX !== undefined) {
                e.wheelX = -e.wheelDeltaX / factor;
                e.wheelY = -e.wheelDeltaY / factor;
            } else {
                e.wheelX = 0;
                e.wheelY = -e.wheelDelta / factor;
            }
            callback(e);
        });
    } else if ("onwheel" in el) {
        exports.addListener(el, "wheel",  function(e) {
            var factor = 0.35;
            switch (e.deltaMode) {
                case e.DOM_DELTA_PIXEL:
                    e.wheelX = e.deltaX * factor || 0;
                    e.wheelY = e.deltaY * factor || 0;
                    break;
                case e.DOM_DELTA_LINE:
                case e.DOM_DELTA_PAGE:
                    e.wheelX = (e.deltaX || 0) * 5;
                    e.wheelY = (e.deltaY || 0) * 5;
                    break;
            }
            
            callback(e);
        });
    } else {
        exports.addListener(el, "DOMMouseScroll", function(e) {
            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {
                e.wheelX = (e.detail || 0) * 5;
                e.wheelY = 0;
            } else {
                e.wheelX = 0;
                e.wheelY = (e.detail || 0) * 5;
            }
            callback(e);
        });
    }
};

exports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName) {
    var clicks = 0;
    var startX, startY, timer; 
    var eventNames = {
        2: "dblclick",
        3: "tripleclick",
        4: "quadclick"
    };

    function onMousedown(e) {
        if (exports.getButton(e) !== 0) {
            clicks = 0;
        } else if (e.detail > 1) {
            clicks++;
            if (clicks > 4)
                clicks = 1;
        } else {
            clicks = 1;
        }
        if (useragent.isIE) {
            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;
            if (!timer || isNewClick)
                clicks = 1;
            if (timer)
                clearTimeout(timer);
            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);

            if (clicks == 1) {
                startX = e.clientX;
                startY = e.clientY;
            }
        }
        
        e._clicks = clicks;

        eventHandler[callbackName]("mousedown", e);

        if (clicks > 4)
            clicks = 0;
        else if (clicks > 1)
            return eventHandler[callbackName](eventNames[clicks], e);
    }
    function onDblclick(e) {
        clicks = 2;
        if (timer)
            clearTimeout(timer);
        timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);
        eventHandler[callbackName]("mousedown", e);
        eventHandler[callbackName](eventNames[clicks], e);
    }
    if (!Array.isArray(elements))
        elements = [elements];
    elements.forEach(function(el) {
        exports.addListener(el, "mousedown", onMousedown);
        if (useragent.isOldIE)
            exports.addListener(el, "dblclick", onDblclick);
    });
};

var getModifierHash = useragent.isMac && useragent.isOpera && !("KeyboardEvent" in window)
    ? function(e) {
        return 0 | (e.metaKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.ctrlKey ? 8 : 0);
    }
    : function(e) {
        return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);
    };

exports.getModifierString = function(e) {
    return keys.KEY_MODS[getModifierHash(e)];
};

function normalizeCommandKeys(callback, e, keyCode) {
    var hashId = getModifierHash(e);

    if (!useragent.isMac && pressedKeys) {
        if (e.getModifierState && (e.getModifierState("OS") || e.getModifierState("Win")))
            hashId |= 8;
        if (pressedKeys.altGr) {
            if ((3 & hashId) != 3)
                pressedKeys.altGr = 0;
            else
                return;
        }
        if (keyCode === 18 || keyCode === 17) {
            var location = "location" in e ? e.location : e.keyLocation;
            if (keyCode === 17 && location === 1) {
                if (pressedKeys[keyCode] == 1)
                    ts = e.timeStamp;
            } else if (keyCode === 18 && hashId === 3 && location === 2) {
                var dt = e.timeStamp - ts;
                if (dt < 50)
                    pressedKeys.altGr = true;
            }
        }
    }
    
    if (keyCode in keys.MODIFIER_KEYS) {
        keyCode = -1;
    }
    if (hashId & 8 && (keyCode >= 91 && keyCode <= 93)) {
        keyCode = -1;
    }
    
    if (!hashId && keyCode === 13) {
        var location = "location" in e ? e.location : e.keyLocation;
        if (location === 3) {
            callback(e, hashId, -keyCode);
            if (e.defaultPrevented)
                return;
        }
    }
    
    if (useragent.isChromeOS && hashId & 8) {
        callback(e, hashId, keyCode);
        if (e.defaultPrevented)
            return;
        else
            hashId &= ~8;
    }
    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {
        return false;
    }
    
    return callback(e, hashId, keyCode);
}


exports.addCommandKeyListener = function(el, callback) {
    var addListener = exports.addListener;
    if (useragent.isOldGecko || (useragent.isOpera && !("KeyboardEvent" in window))) {
        var lastKeyDownKeyCode = null;
        addListener(el, "keydown", function(e) {
            lastKeyDownKeyCode = e.keyCode;
        });
        addListener(el, "keypress", function(e) {
            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);
        });
    } else {
        var lastDefaultPrevented = null;

        addListener(el, "keydown", function(e) {
            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;
            var result = normalizeCommandKeys(callback, e, e.keyCode);
            lastDefaultPrevented = e.defaultPrevented;
            return result;
        });

        addListener(el, "keypress", function(e) {
            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {
                exports.stopEvent(e);
                lastDefaultPrevented = null;
            }
        });

        addListener(el, "keyup", function(e) {
            pressedKeys[e.keyCode] = null;
        });

        if (!pressedKeys) {
            resetPressedKeys();
            addListener(window, "focus", resetPressedKeys);
        }
    }
};
function resetPressedKeys() {
    pressedKeys = Object.create(null);
}

if (typeof window == "object" && window.postMessage && !useragent.isOldIE) {
    var postMessageId = 1;
    exports.nextTick = function(callback, win) {
        win = win || window;
        var messageName = "zero-timeout-message-" + postMessageId;
        exports.addListener(win, "message", function listener(e) {
            if (e.data == messageName) {
                exports.stopPropagation(e);
                exports.removeListener(win, "message", listener);
                callback();
            }
        });
        win.postMessage(messageName, "*");
    };
}


exports.nextFrame = typeof window == "object" && (window.requestAnimationFrame
    || window.mozRequestAnimationFrame
    || window.webkitRequestAnimationFrame
    || window.msRequestAnimationFrame
    || window.oRequestAnimationFrame);

if (exports.nextFrame)
    exports.nextFrame = exports.nextFrame.bind(window);
else
    exports.nextFrame = function(callback) {
        setTimeout(callback, 17);
    };
});

ace.define("ace/lib/lang",["require","exports","module"], function(acequire, exports, module) {
"use strict";

exports.last = function(a) {
    return a[a.length - 1];
};

exports.stringReverse = function(string) {
    return string.split("").reverse().join("");
};

exports.stringRepeat = function (string, count) {
    var result = '';
    while (count > 0) {
        if (count & 1)
            result += string;

        if (count >>= 1)
            string += string;
    }
    return result;
};

var trimBeginRegexp = /^\s\s*/;
var trimEndRegexp = /\s\s*$/;

exports.stringTrimLeft = function (string) {
    return string.replace(trimBeginRegexp, '');
};

exports.stringTrimRight = function (string) {
    return string.replace(trimEndRegexp, '');
};

exports.copyObject = function(obj) {
    var copy = {};
    for (var key in obj) {
        copy[key] = obj[key];
    }
    return copy;
};

exports.copyArray = function(array){
    var copy = [];
    for (var i=0, l=array.length; i<l; i++) {
        if (array[i] && typeof array[i] == "object")
            copy[i] = this.copyObject(array[i]);
        else 
            copy[i] = array[i];
    }
    return copy;
};

exports.deepCopy = function deepCopy(obj) {
    if (typeof obj !== "object" || !obj)
        return obj;
    var copy;
    if (Array.isArray(obj)) {
        copy = [];
        for (var key = 0; key < obj.length; key++) {
            copy[key] = deepCopy(obj[key]);
        }
        return copy;
    }
    if (Object.prototype.toString.call(obj) !== "[object Object]")
        return obj;
    
    copy = {};
    for (var key in obj)
        copy[key] = deepCopy(obj[key]);
    return copy;
};

exports.arrayToMap = function(arr) {
    var map = {};
    for (var i=0; i<arr.length; i++) {
        map[arr[i]] = 1;
    }
    return map;

};

exports.createMap = function(props) {
    var map = Object.create(null);
    for (var i in props) {
        map[i] = props[i];
    }
    return map;
};
exports.arrayRemove = function(array, value) {
  for (var i = 0; i <= array.length; i++) {
    if (value === array[i]) {
      array.splice(i, 1);
    }
  }
};

exports.escapeRegExp = function(str) {
    return str.replace(/([.*+?^${}()|[\]\/\\])/g, '\\$1');
};

exports.escapeHTML = function(str) {
    return str.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
};

exports.getMatchOffsets = function(string, regExp) {
    var matches = [];

    string.replace(regExp, function(str) {
        matches.push({
            offset: arguments[arguments.length-2],
            length: str.length
        });
    });

    return matches;
};
exports.deferredCall = function(fcn) {
    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var deferred = function(timeout) {
        deferred.cancel();
        timer = setTimeout(callback, timeout || 0);
        return deferred;
    };

    deferred.schedule = deferred;

    deferred.call = function() {
        this.cancel();
        fcn();
        return deferred;
    };

    deferred.cancel = function() {
        clearTimeout(timer);
        timer = null;
        return deferred;
    };
    
    deferred.isPending = function() {
        return timer;
    };

    return deferred;
};


exports.delayedCall = function(fcn, defaultTimeout) {
    var timer = null;
    var callback = function() {
        timer = null;
        fcn();
    };

    var _self = function(timeout) {
        if (timer == null)
            timer = setTimeout(callback, timeout || defaultTimeout);
    };

    _self.delay = function(timeout) {
        timer && clearTimeout(timer);
        timer = setTimeout(callback, timeout || defaultTimeout);
    };
    _self.schedule = _self;

    _self.call = function() {
        this.cancel();
        fcn();
    };

    _self.cancel = function() {
        timer && clearTimeout(timer);
        timer = null;
    };

    _self.isPending = function() {
        return timer;
    };

    return _self;
};
});

ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var KEYS = acequire("../lib/keys");
var MODS = KEYS.KEY_MODS;
var BROKEN_SETDATA = useragent.isChrome < 18;
var USE_IE_MIME_TYPE =  useragent.isIE;

var TextInput = function(parentNode, host) {
    var self = this;
    var text = dom.createElement("textarea");
    text.className = useragent.isIOS ? "ace_text-input ace_text-input-ios" : "ace_text-input";

    if (useragent.isTouchPad)
        text.setAttribute("x-palm-disable-auto-cap", true);

    text.setAttribute("wrap", "off");
    text.setAttribute("autocorrect", "off");
    text.setAttribute("autocapitalize", "off");
    text.setAttribute("spellcheck", false);

    text.style.opacity = "0";
    parentNode.insertBefore(text, parentNode.firstChild);

    var PLACEHOLDER = "\n aaaa a\n";

    var copied = false;
    var cut = false;
    var pasted = false;
    var inComposition = false;
    var tempStyle = '';
    var isSelectionEmpty = true;
    try { var isFocused = document.activeElement === text; } catch(e) {}

    event.addListener(text, "blur", function(e) {
        host.onBlur(e);
        isFocused = false;
    });
    event.addListener(text, "focus", function(e) {
        isFocused = true;
        host.onFocus(e);
        resetSelection();
    });
    this.focus = function() {
        if (tempStyle) return text.focus();
        text.style.position = "fixed";
        text.focus();
    };
    this.blur = function() {
        text.blur();
    };
    this.isFocused = function() {
        return isFocused;
    };
    var syncSelection = lang.delayedCall(function() {
        isFocused && resetSelection(isSelectionEmpty);
    });
    var syncValue = lang.delayedCall(function() {
         if (!inComposition) {
            text.value = PLACEHOLDER;
            isFocused && resetSelection();
         }
    });

    function resetSelection(isEmpty) {
        if (inComposition)
            return;
        inComposition = true;

        if (inputHandler) {
            selectionStart = 0;
            selectionEnd = isEmpty ? 0 : text.value.length - 1;
        } else {
            var selectionStart = 4;
            var selectionEnd = 5;
        }
        try {
            text.setSelectionRange(selectionStart, selectionEnd);
        } catch(e) {}

        inComposition = false;
    }

    function resetValue() {
        if (inComposition)
            return;
        text.value = PLACEHOLDER;
        if (useragent.isWebKit)
            syncValue.schedule();
    }

    useragent.isWebKit || host.addEventListener('changeSelection', function() {
        if (host.selection.isEmpty() != isSelectionEmpty) {
            isSelectionEmpty = !isSelectionEmpty;
            syncSelection.schedule();
        }
    });

    resetValue();
    if (isFocused)
        host.onFocus();


    var isAllSelected = function(text) {
        return text.selectionStart === 0 && text.selectionEnd === text.value.length;
    };

    var onSelect = function(e) {
        if (isAllSelected(text)) {
            host.selectAll();
            resetSelection();
        } else if (inputHandler) {
            resetSelection(host.selection.isEmpty());
        }
    };

    var inputHandler = null;
    this.setInputHandler = function(cb) {inputHandler = cb;};
    this.getInputHandler = function() {return inputHandler;};
    var afterContextMenu = false;

    var sendText = function(data) {
        if (text.selectionStart === 4 && text.selectionEnd === 5) {
          return;
        }
        if (inputHandler) {
            data = inputHandler(data);
            inputHandler = null;
        }
        if (pasted) {
            resetSelection();
            if (data)
                host.onPaste(data);
            pasted = false;
        } else if (data == PLACEHOLDER.substr(0) && text.selectionStart === 4) {
            if (afterContextMenu)
                host.execCommand("del", {source: "ace"});
            else // some versions of android do not fire keydown when pressing backspace
                host.execCommand("backspace", {source: "ace"});
        } else if (!copied) {
            if (data.substring(0, 9) == PLACEHOLDER && data.length > PLACEHOLDER.length)
                data = data.substr(9);
            else if (data.substr(0, 4) == PLACEHOLDER.substr(0, 4))
                data = data.substr(4, data.length - PLACEHOLDER.length + 1);
            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);
            if (data == PLACEHOLDER.charAt(0)) {
            } else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);

            if (data)
                host.onTextInput(data);
        }
        if (copied) {
          copied = false;
        }
        if (afterContextMenu)
            afterContextMenu = false;
    };
    var onInput = function(e) {
        if (inComposition)
            return;
        var data = text.value;
        sendText(data);
        resetValue();
    };

    var handleClipboardData = function(e, data, forceIEMime) {
        var clipboardData = e.clipboardData || window.clipboardData;
        if (!clipboardData || BROKEN_SETDATA)
            return;
        var mime = USE_IE_MIME_TYPE || forceIEMime ? "Text" : "text/plain";
        try {
            if (data) {
                return clipboardData.setData(mime, data) !== false;
            } else {
                return clipboardData.getData(mime);
            }
        } catch(e) {
            if (!forceIEMime)
                return handleClipboardData(e, data, true);
        }
    };

    var doCopy = function(e, isCut) {
        var data = host.getCopyText();
        if (!data)
            return event.preventDefault(e);

        if (handleClipboardData(e, data)) {
            if (useragent.isIOS) {
                cut = isCut;
                text.value = "\n aa" + data + "a a\n";
                text.setSelectionRange(4, 4 + data.length);
                copied = {
                    value: data
                };
            }
            isCut ? host.onCut() : host.onCopy();
            if (!useragent.isIOS) event.preventDefault(e);
        } else {
            copied = true;
            text.value = data;
            text.select();
            setTimeout(function(){
                copied = false;
                resetValue();
                resetSelection();
                isCut ? host.onCut() : host.onCopy();
            });
        }
    };

    var onCut = function(e) {
        doCopy(e, true);
    };

    var onCopy = function(e) {
        doCopy(e, false);
    };

    var onPaste = function(e) {
        var data = handleClipboardData(e);
        if (typeof data == "string") {
            if (data)
                host.onPaste(data, e);
            if (useragent.isIE)
                setTimeout(resetSelection);
            event.preventDefault(e);
        }
        else {
            text.value = "";
            pasted = true;
        }
    };

    event.addCommandKeyListener(text, host.onCommandKey.bind(host));

    event.addListener(text, "select", onSelect);

    event.addListener(text, "input", onInput);

    event.addListener(text, "cut", onCut);
    event.addListener(text, "copy", onCopy);
    event.addListener(text, "paste", onPaste);
    var onCompositionStart = function(e) {
        if (inComposition || !host.onCompositionStart || host.$readOnly)
            return;
        inComposition = {};
        inComposition.canUndo = host.session.$undoManager;
        host.onCompositionStart();
        setTimeout(onCompositionUpdate, 0);
        host.on("mousedown", onCompositionEnd);
        if (inComposition.canUndo && !host.selection.isEmpty()) {
            host.insert("");
            host.session.markUndoGroup();
            host.selection.clearSelection();
        }
        host.session.markUndoGroup();
    };

    var onCompositionUpdate = function() {
        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
            return;
        var val = text.value.replace(/\x01/g, "");
        if (inComposition.lastValue === val) return;

        host.onCompositionUpdate(val);
        if (inComposition.lastValue)
            host.undo();
        if (inComposition.canUndo)
            inComposition.lastValue = val;
        if (inComposition.lastValue) {
            var r = host.selection.getRange();
            host.insert(inComposition.lastValue);
            host.session.markUndoGroup();
            inComposition.range = host.selection.getRange();
            host.selection.setRange(r);
            host.selection.clearSelection();
        }
    };

    var onCompositionEnd = function(e) {
        if (!host.onCompositionEnd || host.$readOnly) return;
        var c = inComposition;
        inComposition = false;
        var timer = setTimeout(function() {
            timer = null;
            var str = text.value.replace(/\x01/g, "");
            if (inComposition)
                return;
            else if (str == c.lastValue)
                resetValue();
            else if (!c.lastValue && str) {
                resetValue();
                sendText(str);
            }
        });
        inputHandler = function compositionInputHandler(str) {
            if (timer)
                clearTimeout(timer);
            str = str.replace(/\x01/g, "");
            if (str == c.lastValue)
                return "";
            if (c.lastValue && timer)
                host.undo();
            return str;
        };
        host.onCompositionEnd();
        host.removeListener("mousedown", onCompositionEnd);
        if (e.type == "compositionend" && c.range) {
            host.selection.setRange(c.range);
        }
        var needsOnInput =
            (!!useragent.isChrome && useragent.isChrome >= 53) ||
            (!!useragent.isWebKit && useragent.isWebKit >= 603);

        if (needsOnInput) {
          onInput();
        }
    };



    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);

    event.addListener(text, "compositionstart", onCompositionStart);
    if (useragent.isGecko) {
        event.addListener(text, "text", function(){syncComposition.schedule();});
    } else {
        event.addListener(text, "keyup", function(){syncComposition.schedule();});
        event.addListener(text, "keydown", function(){syncComposition.schedule();});
    }
    event.addListener(text, "compositionend", onCompositionEnd);

    this.getElement = function() {
        return text;
    };

    this.setReadOnly = function(readOnly) {
       text.readOnly = readOnly;
    };

    this.onContextMenu = function(e) {
        afterContextMenu = true;
        resetSelection(host.selection.isEmpty());
        host._emit("nativecontextmenu", {target: host, domEvent: e});
        this.moveToMouse(e, true);
    };

    this.moveToMouse = function(e, bringToFront) {
        if (!tempStyle)
            tempStyle = text.style.cssText;
        text.style.cssText = (bringToFront ? "z-index:100000;" : "")
            + "height:" + text.style.height + ";"
            + (useragent.isIE ? "opacity:0.1;" : "");

        var rect = host.container.getBoundingClientRect();
        var style = dom.computedStyle(host.container);
        var top = rect.top + (parseInt(style.borderTopWidth) || 0);
        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
        var maxTop = rect.bottom - top - text.clientHeight -2;
        var move = function(e) {
            text.style.left = e.clientX - left - 2 + "px";
            text.style.top = Math.min(e.clientY - top - 2, maxTop) + "px";
        };
        move(e);

        if (e.type != "mousedown")
            return;

        if (host.renderer.$keepTextAreaAtCursor)
            host.renderer.$keepTextAreaAtCursor = null;

        clearTimeout(closeTimeout);
        if (useragent.isWin)
            event.capture(host.container, move, onContextMenuClose);
    };

    this.onContextMenuClose = onContextMenuClose;
    var closeTimeout;
    function onContextMenuClose() {
        clearTimeout(closeTimeout);
        closeTimeout = setTimeout(function () {
            if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = '';
            }
            if (host.renderer.$keepTextAreaAtCursor == null) {
                host.renderer.$keepTextAreaAtCursor = true;
                host.renderer.$moveTextAreaToCursor();
            }
        }, 0);
    }

    var onContextMenu = function(e) {
        host.textInput.onContextMenu(e);
        onContextMenuClose();
    };
    event.addListener(text, "mouseup", onContextMenu);
    event.addListener(text, "mousedown", function(e) {
        e.preventDefault();
        onContextMenuClose();
    });
    event.addListener(host.renderer.scroller, "contextmenu", onContextMenu);
    event.addListener(text, "contextmenu", onContextMenu);

    if (useragent.isIOS) {
        var typingResetTimeout = null;
        var typing = false;

        parentNode.addEventListener("keydown", function (e) {
            if (typingResetTimeout) clearTimeout(typingResetTimeout);
            typing = true;
        });

        parentNode.addEventListener("keyup", function (e) {
            typingResetTimeout = setTimeout(function () {
                typing = false;
            }, 100);
        });
        var detectArrowKeys = function(e) {
            if (document.activeElement !== text) return;
            if (typing) return;

            if (cut) {
                return setTimeout(function () {
                    cut = false;
                }, 100);
            }
            var selectionStart = text.selectionStart;
            var selectionEnd = text.selectionEnd;
            text.setSelectionRange(4, 5);
            if (selectionStart == selectionEnd) {
                switch (selectionStart) {
                    case 0: host.onCommandKey(null, 0, KEYS.up); break;
                    case 1: host.onCommandKey(null, 0, KEYS.home); break;
                    case 2: host.onCommandKey(null, MODS.option, KEYS.left); break;
                    case 4: host.onCommandKey(null, 0, KEYS.left); break;
                    case 5: host.onCommandKey(null, 0, KEYS.right); break;
                    case 7: host.onCommandKey(null, MODS.option, KEYS.right); break;
                    case 8: host.onCommandKey(null, 0, KEYS.end); break;
                    case 9: host.onCommandKey(null, 0, KEYS.down); break;
                }
            } else {
                switch (selectionEnd) {
                    case 6: host.onCommandKey(null, MODS.shift, KEYS.right); break;
                    case 7: host.onCommandKey(null, MODS.shift | MODS.option, KEYS.right); break;
                    case 8: host.onCommandKey(null, MODS.shift, KEYS.end); break;
                    case 9: host.onCommandKey(null, MODS.shift, KEYS.down); break;
                }
                switch (selectionStart) {
                    case 0: host.onCommandKey(null, MODS.shift, KEYS.up); break;
                    case 1: host.onCommandKey(null, MODS.shift, KEYS.home); break;
                    case 2: host.onCommandKey(null, MODS.shift | MODS.option, KEYS.left); break;
                    case 3: host.onCommandKey(null, MODS.shift, KEYS.left); break;
                }
            }
        };
        document.addEventListener("selectionchange", detectArrowKeys);
        host.on("destroy", function() {
            document.removeEventListener("selectionchange", detectArrowKeys);
        });
    }
};

exports.TextInput = TextInput;
});

ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var BROKEN_SETDATA = useragent.isChrome < 18;
var USE_IE_MIME_TYPE =  useragent.isIE;

var TextInputIOS = acequire("./textinput_ios").TextInput;
var TextInput = function(parentNode, host) {
    if (useragent.isIOS)
        return TextInputIOS.call(this, parentNode, host);

    var text = dom.createElement("textarea");
    text.className = "ace_text-input";

    text.setAttribute("wrap", "off");
    text.setAttribute("autocorrect", "off");
    text.setAttribute("autocapitalize", "off");
    text.setAttribute("spellcheck", false);

    text.style.opacity = "0";
    parentNode.insertBefore(text, parentNode.firstChild);

    var PLACEHOLDER = "\u2028\u2028";

    var copied = false;
    var pasted = false;
    var inComposition = false;
    var tempStyle = '';
    var isSelectionEmpty = true;
    try { var isFocused = document.activeElement === text; } catch(e) {}
    
    event.addListener(text, "blur", function(e) {
        host.onBlur(e);
        isFocused = false;
    });
    event.addListener(text, "focus", function(e) {
        isFocused = true;
        host.onFocus(e);
        resetSelection();
    });
    this.focus = function() {
        if (tempStyle) return text.focus();
        var top = text.style.top;
        text.style.position = "fixed";
        text.style.top = "0px";
        text.focus();
        setTimeout(function() {
            text.style.position = "";
            if (text.style.top == "0px")
                text.style.top = top;
        }, 0);
    };
    this.blur = function() {
        text.blur();
    };
    this.isFocused = function() {
        return isFocused;
    };
    var syncSelection = lang.delayedCall(function() {
        isFocused && resetSelection(isSelectionEmpty);
    });
    var syncValue = lang.delayedCall(function() {
         if (!inComposition) {
            text.value = PLACEHOLDER;
            isFocused && resetSelection();
         }
    });

    function resetSelection(isEmpty) {
        if (inComposition)
            return;
        inComposition = true;
        
        if (inputHandler) {
            var selectionStart = 0;
            var selectionEnd = isEmpty ? 0 : text.value.length - 1;
        } else {
            var selectionStart = isEmpty ? 2 : 1;
            var selectionEnd = 2;
        }
        try {
            text.setSelectionRange(selectionStart, selectionEnd);
        } catch(e){}
        
        inComposition = false;
    }

    function resetValue() {
        if (inComposition)
            return;
        text.value = PLACEHOLDER;
        if (useragent.isWebKit)
            syncValue.schedule();
    }

    useragent.isWebKit || host.addEventListener('changeSelection', function() {
        if (host.selection.isEmpty() != isSelectionEmpty) {
            isSelectionEmpty = !isSelectionEmpty;
            syncSelection.schedule();
        }
    });

    resetValue();
    if (isFocused)
        host.onFocus();


    var isAllSelected = function(text) {
        return text.selectionStart === 0 && text.selectionEnd === text.value.length;
    };

    var onSelect = function(e) {
        if (copied) {
            copied = false;
        } else if (isAllSelected(text)) {
            host.selectAll();
            resetSelection();
        } else if (inputHandler) {
            resetSelection(host.selection.isEmpty());
        }
    };

    var inputHandler = null;
    this.setInputHandler = function(cb) {inputHandler = cb;};
    this.getInputHandler = function() {return inputHandler;};
    var afterContextMenu = false;
    
    var sendText = function(data) {
        if (inputHandler) {
            data = inputHandler(data);
            inputHandler = null;
        }
        if (pasted) {
            resetSelection();
            if (data)
                host.onPaste(data);
            pasted = false;
        } else if (data == PLACEHOLDER.charAt(0)) {
            if (afterContextMenu)
                host.execCommand("del", {source: "ace"});
            else // some versions of android do not fire keydown when pressing backspace
                host.execCommand("backspace", {source: "ace"});
        } else {
            if (data.substring(0, 2) == PLACEHOLDER)
                data = data.substr(2);
            else if (data.charAt(0) == PLACEHOLDER.charAt(0))
                data = data.substr(1);
            else if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);
            if (data.charAt(data.length - 1) == PLACEHOLDER.charAt(0))
                data = data.slice(0, -1);
            
            if (data)
                host.onTextInput(data);
        }
        if (afterContextMenu)
            afterContextMenu = false;
    };
    var onInput = function(e) {
        if (inComposition)
            return;
        var data = text.value;
        sendText(data);
        resetValue();
    };
    
    var handleClipboardData = function(e, data, forceIEMime) {
        var clipboardData = e.clipboardData || window.clipboardData;
        if (!clipboardData || BROKEN_SETDATA)
            return;
        var mime = USE_IE_MIME_TYPE || forceIEMime ? "Text" : "text/plain";
        try {
            if (data) {
                return clipboardData.setData(mime, data) !== false;
            } else {
                return clipboardData.getData(mime);
            }
        } catch(e) {
            if (!forceIEMime)
                return handleClipboardData(e, data, true);
        }
    };

    var doCopy = function(e, isCut) {
        var data = host.getCopyText();
        if (!data)
            return event.preventDefault(e);

        if (handleClipboardData(e, data)) {
            isCut ? host.onCut() : host.onCopy();
            event.preventDefault(e);
        } else {
            copied = true;
            text.value = data;
            text.select();
            setTimeout(function(){
                copied = false;
                resetValue();
                resetSelection();
                isCut ? host.onCut() : host.onCopy();
            });
        }
    };
    
    var onCut = function(e) {
        doCopy(e, true);
    };
    
    var onCopy = function(e) {
        doCopy(e, false);
    };
    
    var onPaste = function(e) {
        var data = handleClipboardData(e);
        if (typeof data == "string") {
            if (data)
                host.onPaste(data, e);
            if (useragent.isIE)
                setTimeout(resetSelection);
            event.preventDefault(e);
        }
        else {
            text.value = "";
            pasted = true;
        }
    };

    event.addCommandKeyListener(text, host.onCommandKey.bind(host));

    event.addListener(text, "select", onSelect);

    event.addListener(text, "input", onInput);

    event.addListener(text, "cut", onCut);
    event.addListener(text, "copy", onCopy);
    event.addListener(text, "paste", onPaste);
    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {
        event.addListener(parentNode, "keydown", function(e) {
            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)
                return;

            switch (e.keyCode) {
                case 67:
                    onCopy(e);
                    break;
                case 86:
                    onPaste(e);
                    break;
                case 88:
                    onCut(e);
                    break;
            }
        });
    }
    var onCompositionStart = function(e) {
        if (inComposition || !host.onCompositionStart || host.$readOnly) 
            return;
        inComposition = {};
        inComposition.canUndo = host.session.$undoManager;
        host.onCompositionStart();
        setTimeout(onCompositionUpdate, 0);
        host.on("mousedown", onCompositionEnd);
        if (inComposition.canUndo && !host.selection.isEmpty()) {
            host.insert("");
            host.session.markUndoGroup();
            host.selection.clearSelection();
        }
        host.session.markUndoGroup();
    };

    var onCompositionUpdate = function() {
        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)
            return;
        var val = text.value.replace(/\u2028/g, "");
        if (inComposition.lastValue === val) return;
        
        host.onCompositionUpdate(val);
        if (inComposition.lastValue)
            host.undo();
        if (inComposition.canUndo)
            inComposition.lastValue = val;
        if (inComposition.lastValue) {
            var r = host.selection.getRange();
            host.insert(inComposition.lastValue);
            host.session.markUndoGroup();
            inComposition.range = host.selection.getRange();
            host.selection.setRange(r);
            host.selection.clearSelection();
        }
    };

    var onCompositionEnd = function(e) {
        if (!host.onCompositionEnd || host.$readOnly) return;
        var c = inComposition;
        inComposition = false;
        var timer = setTimeout(function() {
            timer = null;
            var str = text.value.replace(/\u2028/g, "");
            if (inComposition)
                return;
            else if (str == c.lastValue)
                resetValue();
            else if (!c.lastValue && str) {
                resetValue();
                sendText(str);
            }
        });
        inputHandler = function compositionInputHandler(str) {
            if (timer)
                clearTimeout(timer);
            str = str.replace(/\u2028/g, "");
            if (str == c.lastValue)
                return "";
            if (c.lastValue && timer)
                host.undo();
            return str;
        };
        host.onCompositionEnd();
        host.removeListener("mousedown", onCompositionEnd);
        if (e.type == "compositionend" && c.range) {
            host.selection.setRange(c.range);
        }
        var needsOnInput =
            (!!useragent.isChrome && useragent.isChrome >= 53) ||
            (!!useragent.isWebKit && useragent.isWebKit >= 603);

        if (needsOnInput) {
          onInput();
        }
    };
    
    

    var syncComposition = lang.delayedCall(onCompositionUpdate, 50);

    event.addListener(text, "compositionstart", onCompositionStart);
    if (useragent.isGecko) {
        event.addListener(text, "text", function(){syncComposition.schedule();});
    } else {
        event.addListener(text, "keyup", function(){syncComposition.schedule();});
        event.addListener(text, "keydown", function(){syncComposition.schedule();});
    }
    event.addListener(text, "compositionend", onCompositionEnd);

    this.getElement = function() {
        return text;
    };

    this.setReadOnly = function(readOnly) {
       text.readOnly = readOnly;
    };

    this.onContextMenu = function(e) {
        afterContextMenu = true;
        resetSelection(host.selection.isEmpty());
        host._emit("nativecontextmenu", {target: host, domEvent: e});
        this.moveToMouse(e, true);
    };
    
    this.moveToMouse = function(e, bringToFront) {
        if (!tempStyle)
            tempStyle = text.style.cssText;
        text.style.cssText = (bringToFront ? "z-index:100000;" : "")
            + "height:" + text.style.height + ";"
            + (useragent.isIE ? "opacity:0.1;" : "");

        var rect = host.container.getBoundingClientRect();
        var style = dom.computedStyle(host.container);
        var top = rect.top + (parseInt(style.borderTopWidth) || 0);
        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);
        var maxTop = rect.bottom - top - text.clientHeight -2;
        var move = function(e) {
            text.style.left = e.clientX - left - 2 + "px";
            text.style.top = Math.min(e.clientY - top - 2, maxTop) + "px";
        }; 
        move(e);

        if (e.type != "mousedown")
            return;

        if (host.renderer.$keepTextAreaAtCursor)
            host.renderer.$keepTextAreaAtCursor = null;

        clearTimeout(closeTimeout);
        if (useragent.isWin)
            event.capture(host.container, move, onContextMenuClose);
    };

    this.onContextMenuClose = onContextMenuClose;
    var closeTimeout;
    function onContextMenuClose() {
        clearTimeout(closeTimeout);
        closeTimeout = setTimeout(function () {
            if (tempStyle) {
                text.style.cssText = tempStyle;
                tempStyle = '';
            }
            if (host.renderer.$keepTextAreaAtCursor == null) {
                host.renderer.$keepTextAreaAtCursor = true;
                host.renderer.$moveTextAreaToCursor();
            }
        }, 0);
    }

    var onContextMenu = function(e) {
        host.textInput.onContextMenu(e);
        onContextMenuClose();
    };
    event.addListener(text, "mouseup", onContextMenu);
    event.addListener(text, "mousedown", function(e) {
        e.preventDefault();
        onContextMenuClose();
    });
    event.addListener(host.renderer.scroller, "contextmenu", onContextMenu);
    event.addListener(text, "contextmenu", onContextMenu);
};

exports.TextInput = TextInput;
});

ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");

var DRAG_OFFSET = 0; // pixels
var SCROLL_COOLDOWN_T = 250; // milliseconds

function DefaultHandlers(mouseHandler) {
    mouseHandler.$clickSelection = null;

    var editor = mouseHandler.editor;
    editor.setDefaultHandler("mousedown", this.onMouseDown.bind(mouseHandler));
    editor.setDefaultHandler("dblclick", this.onDoubleClick.bind(mouseHandler));
    editor.setDefaultHandler("tripleclick", this.onTripleClick.bind(mouseHandler));
    editor.setDefaultHandler("quadclick", this.onQuadClick.bind(mouseHandler));
    editor.setDefaultHandler("mousewheel", this.onMouseWheel.bind(mouseHandler));
    editor.setDefaultHandler("touchmove", this.onTouchMove.bind(mouseHandler));

    var exports = ["select", "startSelect", "selectEnd", "selectAllEnd", "selectByWordsEnd",
        "selectByLinesEnd", "dragWait", "dragWaitEnd", "focusWait"];

    exports.forEach(function(x) {
        mouseHandler[x] = this[x];
    }, this);

    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, "getLineRange");
    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, "getWordRange");
}

(function() {

    this.onMouseDown = function(ev) {
        var inSelection = ev.inSelection();
        var pos = ev.getDocumentPosition();
        this.mousedownEvent = ev;
        var editor = this.editor;

        var button = ev.getButton();
        if (button !== 0) {
            var selectionRange = editor.getSelectionRange();
            var selectionEmpty = selectionRange.isEmpty();
            editor.$blockScrolling++;
            if (selectionEmpty || button == 1)
                editor.selection.moveToPosition(pos);
            editor.$blockScrolling--;
            if (button == 2) {
                editor.textInput.onContextMenu(ev.domEvent);
                if (!useragent.isMozilla)
                    ev.preventDefault();
            }
            return;
        }

        this.mousedownEvent.time = Date.now();
        if (inSelection && !editor.isFocused()) {
            editor.focus();
            if (this.$focusTimout && !this.$clickSelection && !editor.inMultiSelectMode) {
                this.setState("focusWait");
                this.captureMouse(ev);
                return;
            }
        }

        this.captureMouse(ev);
        this.startSelect(pos, ev.domEvent._clicks > 1);
        return ev.preventDefault();
    };

    this.startSelect = function(pos, waitForClickSelection) {
        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
        var editor = this.editor;
        editor.$blockScrolling++;
        if (this.mousedownEvent.getShiftKey())
            editor.selection.selectToPosition(pos);
        else if (!waitForClickSelection)
            editor.selection.moveToPosition(pos);
        if (!waitForClickSelection)
            this.select();
        if (editor.renderer.scroller.setCapture) {
            editor.renderer.scroller.setCapture();
        }
        editor.setStyle("ace_selecting");
        this.setState("select");
        editor.$blockScrolling--;
    };

    this.select = function() {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        editor.$blockScrolling++;
        if (this.$clickSelection) {
            var cmp = this.$clickSelection.comparePoint(cursor);

            if (cmp == -1) {
                anchor = this.$clickSelection.end;
            } else if (cmp == 1) {
                anchor = this.$clickSelection.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);
        editor.$blockScrolling--;
        editor.renderer.scrollCursorIntoView();
    };

    this.extendSelectionBy = function(unitName) {
        var anchor, editor = this.editor;
        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);
        var range = editor.selection[unitName](cursor.row, cursor.column);
        editor.$blockScrolling++;
        if (this.$clickSelection) {
            var cmpStart = this.$clickSelection.comparePoint(range.start);
            var cmpEnd = this.$clickSelection.comparePoint(range.end);

            if (cmpStart == -1 && cmpEnd <= 0) {
                anchor = this.$clickSelection.end;
                if (range.end.row != cursor.row || range.end.column != cursor.column)
                    cursor = range.start;
            } else if (cmpEnd == 1 && cmpStart >= 0) {
                anchor = this.$clickSelection.start;
                if (range.start.row != cursor.row || range.start.column != cursor.column)
                    cursor = range.end;
            } else if (cmpStart == -1 && cmpEnd == 1) {
                cursor = range.end;
                anchor = range.start;
            } else {
                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);
                cursor = orientedRange.cursor;
                anchor = orientedRange.anchor;
            }
            editor.selection.setSelectionAnchor(anchor.row, anchor.column);
        }
        editor.selection.selectToPosition(cursor);
        editor.$blockScrolling--;
        editor.renderer.scrollCursorIntoView();
    };

    this.selectEnd =
    this.selectAllEnd =
    this.selectByWordsEnd =
    this.selectByLinesEnd = function() {
        this.$clickSelection = null;
        this.editor.unsetStyle("ace_selecting");
        if (this.editor.renderer.scroller.releaseCapture) {
            this.editor.renderer.scroller.releaseCapture();
        }
    };

    this.focusWait = function() {
        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
        var time = Date.now();

        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimout)
            this.startSelect(this.mousedownEvent.getDocumentPosition());
    };

    this.onDoubleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;
        var session = editor.session;

        var range = session.getBracketRange(pos);
        if (range) {
            if (range.isEmpty()) {
                range.start.column--;
                range.end.column++;
            }
            this.setState("select");
        } else {
            range = editor.selection.getWordRange(pos.row, pos.column);
            this.setState("selectByWords");
        }
        this.$clickSelection = range;
        this.select();
    };

    this.onTripleClick = function(ev) {
        var pos = ev.getDocumentPosition();
        var editor = this.editor;

        this.setState("selectByLines");
        var range = editor.getSelectionRange();
        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {
            this.$clickSelection = editor.selection.getLineRange(range.start.row);
            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;
        } else {
            this.$clickSelection = editor.selection.getLineRange(pos.row);
        }
        this.select();
    };

    this.onQuadClick = function(ev) {
        var editor = this.editor;

        editor.selectAll();
        this.$clickSelection = editor.getSelectionRange();
        this.setState("selectAll");
    };

    this.onMouseWheel = function(ev) {
        if (ev.getAccelKey())
            return;
        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {
            ev.wheelX = ev.wheelY;
            ev.wheelY = 0;
        }
        
        var editor = this.editor;

        if (!this.$lastScroll)
            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };

        var prevScroll = this.$lastScroll;
        var t = ev.domEvent.timeStamp;
        var dt = t - prevScroll.t;
        var vx = ev.wheelX / dt;
        var vy = ev.wheelY / dt;
        if (dt < SCROLL_COOLDOWN_T) {
            vx = (vx + prevScroll.vx) / 2;
            vy = (vy + prevScroll.vy) / 2;
        }

        var direction = Math.abs(vx / vy);

        var canScroll = false;
        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))
            canScroll = true;
        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))
            canScroll = true;

        if (canScroll) {
            prevScroll.allowed = t;
        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {
            var isSlower = Math.abs(vx) <= 1.1 * Math.abs(prevScroll.vx)
                && Math.abs(vy) <= 1.1 * Math.abs(prevScroll.vy);
            if (isSlower) {
                canScroll = true;
                prevScroll.allowed = t;
            }
            else {
                prevScroll.allowed = 0;
            }
        }

        prevScroll.t = t;
        prevScroll.vx = vx;
        prevScroll.vy = vy;

        if (canScroll) {
            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);
            return ev.stop();
        }
    };

    this.onTouchMove = function(ev) {
        this.editor._emit("mousewheel", ev);
    };

}).call(DefaultHandlers.prototype);

exports.DefaultHandlers = DefaultHandlers;

function calcDistance(ax, ay, bx, by) {
    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
}

function calcRangeOrientation(range, cursor) {
    if (range.start.row == range.end.row)
        var cmp = 2 * cursor.column - range.start.column - range.end.column;
    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)
        var cmp = cursor.column - 4;
    else
        var cmp = 2 * cursor.row - range.start.row - range.end.row;

    if (cmp < 0)
        return {cursor: range.start, anchor: range.end};
    else
        return {cursor: range.end, anchor: range.start};
}

});

ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
function Tooltip (parentNode) {
    this.isOpen = false;
    this.$element = null;
    this.$parentNode = parentNode;
}

(function() {
    this.$init = function() {
        this.$element = dom.createElement("div");
        this.$element.className = "ace_tooltip";
        this.$element.style.display = "none";
        this.$parentNode.appendChild(this.$element);
        return this.$element;
    };
    this.getElement = function() {
        return this.$element || this.$init();
    };
    this.setText = function(text) {
        dom.setInnerText(this.getElement(), text);
    };
    this.setHtml = function(html) {
        this.getElement().innerHTML = html;
    };
    this.setPosition = function(x, y) {
        this.getElement().style.left = x + "px";
        this.getElement().style.top = y + "px";
    };
    this.setClassName = function(className) {
        dom.addCssClass(this.getElement(), className);
    };
    this.show = function(text, x, y) {
        if (text != null)
            this.setText(text);
        if (x != null && y != null)
            this.setPosition(x, y);
        if (!this.isOpen) {
            this.getElement().style.display = "block";
            this.isOpen = true;
        }
    };

    this.hide = function() {
        if (this.isOpen) {
            this.getElement().style.display = "none";
            this.isOpen = false;
        }
    };
    this.getHeight = function() {
        return this.getElement().offsetHeight;
    };
    this.getWidth = function() {
        return this.getElement().offsetWidth;
    };

    this.destroy = function() {
        this.isOpen = false;
        if (this.$element && this.$element.parentNode) {
            this.$element.parentNode.removeChild(this.$element);
        }
    };

}).call(Tooltip.prototype);

exports.Tooltip = Tooltip;
});

ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"], function(acequire, exports, module) {
"use strict";
var dom = acequire("../lib/dom");
var oop = acequire("../lib/oop");
var event = acequire("../lib/event");
var Tooltip = acequire("../tooltip").Tooltip;

function GutterHandler(mouseHandler) {
    var editor = mouseHandler.editor;
    var gutter = editor.renderer.$gutterLayer;
    var tooltip = new GutterTooltip(editor.container);

    mouseHandler.editor.setDefaultHandler("guttermousedown", function(e) {
        if (!editor.isFocused() || e.getButton() != 0)
            return;
        var gutterRegion = gutter.getRegion(e);

        if (gutterRegion == "foldWidgets")
            return;

        var row = e.getDocumentPosition().row;
        var selection = editor.session.selection;

        if (e.getShiftKey())
            selection.selectTo(row, 0);
        else {
            if (e.domEvent.detail == 2) {
                editor.selectAll();
                return e.preventDefault();
            }
            mouseHandler.$clickSelection = editor.selection.getLineRange(row);
        }
        mouseHandler.setState("selectByLines");
        mouseHandler.captureMouse(e);
        return e.preventDefault();
    });


    var tooltipTimeout, mouseEvent, tooltipAnnotation;

    function showTooltip() {
        var row = mouseEvent.getDocumentPosition().row;
        var annotation = gutter.$annotations[row];
        if (!annotation)
            return hideTooltip();

        var maxRow = editor.session.getLength();
        if (row == maxRow) {
            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;
            var pos = mouseEvent.$pos;
            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))
                return hideTooltip();
        }

        if (tooltipAnnotation == annotation)
            return;
        tooltipAnnotation = annotation.text.join("<br/>");

        tooltip.setHtml(tooltipAnnotation);
        tooltip.show();
        editor._signal("showGutterTooltip", tooltip);
        editor.on("mousewheel", hideTooltip);

        if (mouseHandler.$tooltipFollowsMouse) {
            moveTooltip(mouseEvent);
        } else {
            var gutterElement = mouseEvent.domEvent.target;
            var rect = gutterElement.getBoundingClientRect();
            var style = tooltip.getElement().style;
            style.left = rect.right + "px";
            style.top = rect.bottom + "px";
        }
    }

    function hideTooltip() {
        if (tooltipTimeout)
            tooltipTimeout = clearTimeout(tooltipTimeout);
        if (tooltipAnnotation) {
            tooltip.hide();
            tooltipAnnotation = null;
            editor._signal("hideGutterTooltip", tooltip);
            editor.removeEventListener("mousewheel", hideTooltip);
        }
    }

    function moveTooltip(e) {
        tooltip.setPosition(e.x, e.y);
    }

    mouseHandler.editor.setDefaultHandler("guttermousemove", function(e) {
        var target = e.domEvent.target || e.domEvent.srcElement;
        if (dom.hasCssClass(target, "ace_fold-widget"))
            return hideTooltip();

        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)
            moveTooltip(e);

        mouseEvent = e;
        if (tooltipTimeout)
            return;
        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            if (mouseEvent && !mouseHandler.isMousePressed)
                showTooltip();
            else
                hideTooltip();
        }, 50);
    });

    event.addListener(editor.renderer.$gutter, "mouseout", function(e) {
        mouseEvent = null;
        if (!tooltipAnnotation || tooltipTimeout)
            return;

        tooltipTimeout = setTimeout(function() {
            tooltipTimeout = null;
            hideTooltip();
        }, 50);
    });
    
    editor.on("changeSession", hideTooltip);
}

function GutterTooltip(parentNode) {
    Tooltip.call(this, parentNode);
}

oop.inherits(GutterTooltip, Tooltip);

(function(){
    this.setPosition = function(x, y) {
        var windowWidth = window.innerWidth || document.documentElement.clientWidth;
        var windowHeight = window.innerHeight || document.documentElement.clientHeight;
        var width = this.getWidth();
        var height = this.getHeight();
        x += 15;
        y += 15;
        if (x + width > windowWidth) {
            x -= (x + width) - windowWidth;
        }
        if (y + height > windowHeight) {
            y -= 20 + height;
        }
        Tooltip.prototype.setPosition.call(this, x, y);
    };

}).call(GutterTooltip.prototype);



exports.GutterHandler = GutterHandler;

});

ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var MouseEvent = exports.MouseEvent = function(domEvent, editor) {
    this.domEvent = domEvent;
    this.editor = editor;
    
    this.x = this.clientX = domEvent.clientX;
    this.y = this.clientY = domEvent.clientY;

    this.$pos = null;
    this.$inSelection = null;
    
    this.propagationStopped = false;
    this.defaultPrevented = false;
};

(function() {  
    
    this.stopPropagation = function() {
        event.stopPropagation(this.domEvent);
        this.propagationStopped = true;
    };
    
    this.preventDefault = function() {
        event.preventDefault(this.domEvent);
        this.defaultPrevented = true;
    };
    
    this.stop = function() {
        this.stopPropagation();
        this.preventDefault();
    };
    this.getDocumentPosition = function() {
        if (this.$pos)
            return this.$pos;
        
        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);
        return this.$pos;
    };
    this.inSelection = function() {
        if (this.$inSelection !== null)
            return this.$inSelection;
            
        var editor = this.editor;
        

        var selectionRange = editor.getSelectionRange();
        if (selectionRange.isEmpty())
            this.$inSelection = false;
        else {
            var pos = this.getDocumentPosition();
            this.$inSelection = selectionRange.contains(pos.row, pos.column);
        }

        return this.$inSelection;
    };
    this.getButton = function() {
        return event.getButton(this.domEvent);
    };
    this.getShiftKey = function() {
        return this.domEvent.shiftKey;
    };
    
    this.getAccelKey = useragent.isMac
        ? function() { return this.domEvent.metaKey; }
        : function() { return this.domEvent.ctrlKey; };
    
}).call(MouseEvent.prototype);

});

ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");

var AUTOSCROLL_DELAY = 200;
var SCROLL_CURSOR_DELAY = 200;
var SCROLL_CURSOR_HYSTERESIS = 5;

function DragdropHandler(mouseHandler) {

    var editor = mouseHandler.editor;

    var blankImage = dom.createElement("img");
    blankImage.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
    if (useragent.isOpera)
        blankImage.style.cssText = "width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;";

    var exports = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];

     exports.forEach(function(x) {
         mouseHandler[x] = this[x];
    }, this);
    editor.addEventListener("mousedown", this.onMouseDown.bind(mouseHandler));


    var mouseTarget = editor.container;
    var dragSelectionMarker, x, y;
    var timerId, range;
    var dragCursor, counter = 0;
    var dragOperation;
    var isInternal;
    var autoScrollStartTime;
    var cursorMovedTime;
    var cursorPointOnCaretMoved;

    this.onDragStart = function(e) {
        if (this.cancelDrag || !mouseTarget.draggable) {
            var self = this;
            setTimeout(function(){
                self.startSelect();
                self.captureMouse(e);
            }, 0);
            return e.preventDefault();
        }
        range = editor.getSelectionRange();

        var dataTransfer = e.dataTransfer;
        dataTransfer.effectAllowed = editor.getReadOnly() ? "copy" : "copyMove";
        if (useragent.isOpera) {
            editor.container.appendChild(blankImage);
            blankImage.scrollTop = 0;
        }
        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);
        if (useragent.isOpera) {
            editor.container.removeChild(blankImage);
        }
        dataTransfer.clearData();
        dataTransfer.setData("Text", editor.session.getTextRange());

        isInternal = true;
        this.setState("drag");
    };

    this.onDragEnd = function(e) {
        mouseTarget.draggable = false;
        isInternal = false;
        this.setState(null);
        if (!editor.getReadOnly()) {
            var dropEffect = e.dataTransfer.dropEffect;
            if (!dragOperation && dropEffect == "move")
                editor.session.remove(editor.getSelectionRange());
            editor.renderer.$cursorLayer.setBlinking(true);
        }
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
    };

    this.onDragEnter = function(e) {
        if (editor.getReadOnly() || !canAccept(e.dataTransfer))
            return;
        x = e.clientX;
        y = e.clientY;
        if (!dragSelectionMarker)
            addDragMarker();
        counter++;
        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);
        return event.preventDefault(e);
    };

    this.onDragOver = function(e) {
        if (editor.getReadOnly() || !canAccept(e.dataTransfer))
            return;
        x = e.clientX;
        y = e.clientY;
        if (!dragSelectionMarker) {
            addDragMarker();
            counter++;
        }
        if (onMouseMoveTimer !== null)
            onMouseMoveTimer = null;

        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);
        return event.preventDefault(e);
    };

    this.onDragLeave = function(e) {
        counter--;
        if (counter <= 0 && dragSelectionMarker) {
            clearDragMarker();
            dragOperation = null;
            return event.preventDefault(e);
        }
    };

    this.onDrop = function(e) {
        if (!dragCursor)
            return;
        var dataTransfer = e.dataTransfer;
        if (isInternal) {
            switch (dragOperation) {
                case "move":
                    if (range.contains(dragCursor.row, dragCursor.column)) {
                        range = {
                            start: dragCursor,
                            end: dragCursor
                        };
                    } else {
                        range = editor.moveText(range, dragCursor);
                    }
                    break;
                case "copy":
                    range = editor.moveText(range, dragCursor, true);
                    break;
            }
        } else {
            var dropData = dataTransfer.getData('Text');
            range = {
                start: dragCursor,
                end: editor.session.insert(dragCursor, dropData)
            };
            editor.focus();
            dragOperation = null;
        }
        clearDragMarker();
        return event.preventDefault(e);
    };

    event.addListener(mouseTarget, "dragstart", this.onDragStart.bind(mouseHandler));
    event.addListener(mouseTarget, "dragend", this.onDragEnd.bind(mouseHandler));
    event.addListener(mouseTarget, "dragenter", this.onDragEnter.bind(mouseHandler));
    event.addListener(mouseTarget, "dragover", this.onDragOver.bind(mouseHandler));
    event.addListener(mouseTarget, "dragleave", this.onDragLeave.bind(mouseHandler));
    event.addListener(mouseTarget, "drop", this.onDrop.bind(mouseHandler));

    function scrollCursorIntoView(cursor, prevCursor) {
        var now = Date.now();
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        var hMovement = !prevCursor || cursor.column != prevCursor.column;
        if (!cursorMovedTime || vMovement || hMovement) {
            editor.$blockScrolling += 1;
            editor.moveCursorToPosition(cursor);
            editor.$blockScrolling -= 1;
            cursorMovedTime = now;
            cursorPointOnCaretMoved = {x: x, y: y};
        } else {
            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);
            if (distance > SCROLL_CURSOR_HYSTERESIS) {
                cursorMovedTime = null;
            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {
                editor.renderer.scrollCursorIntoView();
                cursorMovedTime = null;
            }
        }
    }

    function autoScroll(cursor, prevCursor) {
        var now = Date.now();
        var lineHeight = editor.renderer.layerConfig.lineHeight;
        var characterWidth = editor.renderer.layerConfig.characterWidth;
        var editorRect = editor.renderer.scroller.getBoundingClientRect();
        var offsets = {
           x: {
               left: x - editorRect.left,
               right: editorRect.right - x
           },
           y: {
               top: y - editorRect.top,
               bottom: editorRect.bottom - y
           }
        };
        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);
        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);
        var scrollCursor = {row: cursor.row, column: cursor.column};
        if (nearestXOffset / characterWidth <= 2) {
            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);
        }
        if (nearestYOffset / lineHeight <= 1) {
            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);
        }
        var vScroll = cursor.row != scrollCursor.row;
        var hScroll = cursor.column != scrollCursor.column;
        var vMovement = !prevCursor || cursor.row != prevCursor.row;
        if (vScroll || (hScroll && !vMovement)) {
            if (!autoScrollStartTime)
                autoScrollStartTime = now;
            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)
                editor.renderer.scrollCursorIntoView(scrollCursor);
        } else {
            autoScrollStartTime = null;
        }
    }

    function onDragInterval() {
        var prevCursor = dragCursor;
        dragCursor = editor.renderer.screenToTextCoordinates(x, y);
        scrollCursorIntoView(dragCursor, prevCursor);
        autoScroll(dragCursor, prevCursor);
    }

    function addDragMarker() {
        range = editor.selection.toOrientedRange();
        dragSelectionMarker = editor.session.addMarker(range, "ace_selection", editor.getSelectionStyle());
        editor.clearSelection();
        if (editor.isFocused())
            editor.renderer.$cursorLayer.setBlinking(false);
        clearInterval(timerId);
        onDragInterval();
        timerId = setInterval(onDragInterval, 20);
        counter = 0;
        event.addListener(document, "mousemove", onMouseMove);
    }

    function clearDragMarker() {
        clearInterval(timerId);
        editor.session.removeMarker(dragSelectionMarker);
        dragSelectionMarker = null;
        editor.$blockScrolling += 1;
        editor.selection.fromOrientedRange(range);
        editor.$blockScrolling -= 1;
        if (editor.isFocused() && !isInternal)
            editor.renderer.$cursorLayer.setBlinking(!editor.getReadOnly());
        range = null;
        dragCursor = null;
        counter = 0;
        autoScrollStartTime = null;
        cursorMovedTime = null;
        event.removeListener(document, "mousemove", onMouseMove);
    }
    var onMouseMoveTimer = null;
    function onMouseMove() {
        if (onMouseMoveTimer == null) {
            onMouseMoveTimer = setTimeout(function() {
                if (onMouseMoveTimer != null && dragSelectionMarker)
                    clearDragMarker();
            }, 20);
        }
    }

    function canAccept(dataTransfer) {
        var types = dataTransfer.types;
        return !types || Array.prototype.some.call(types, function(type) {
            return type == 'text/plain' || type == 'Text';
        });
    }

    function getDropEffect(e) {
        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];
        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];

        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;
        var effectAllowed = "uninitialized";
        try {
            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();
        } catch (e) {}
        var dropEffect = "none";

        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "copy";
        else if (moveAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "move";
        else if (copyAllowed.indexOf(effectAllowed) >= 0)
            dropEffect = "copy";

        return dropEffect;
    }
}

(function() {

    this.dragWait = function() {
        var interval = Date.now() - this.mousedownEvent.time;
        if (interval > this.editor.getDragDelay())
            this.startDrag();
    };

    this.dragWaitEnd = function() {
        var target = this.editor.container;
        target.draggable = false;
        this.startSelect(this.mousedownEvent.getDocumentPosition());
        this.selectEnd();
    };

    this.dragReadyEnd = function(e) {
        this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly());
        this.editor.unsetStyle("ace_dragging");
        this.editor.renderer.setCursorStyle("");
        this.dragWaitEnd();
    };

    this.startDrag = function(){
        this.cancelDrag = false;
        var editor = this.editor;
        var target = editor.container;
        target.draggable = true;
        editor.renderer.$cursorLayer.setBlinking(false);
        editor.setStyle("ace_dragging");
        var cursorStyle = useragent.isWin ? "default" : "move";
        editor.renderer.setCursorStyle(cursorStyle);
        this.setState("dragReady");
    };

    this.onMouseDrag = function(e) {
        var target = this.editor.container;
        if (useragent.isIE && this.state == "dragReady") {
            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            if (distance > 3)
                target.dragDrop();
        }
        if (this.state === "dragWait") {
            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            if (distance > 0) {
                target.draggable = false;
                this.startSelect(this.mousedownEvent.getDocumentPosition());
            }
        }
    };

    this.onMouseDown = function(e) {
        if (!this.$dragEnabled)
            return;
        this.mousedownEvent = e;
        var editor = this.editor;

        var inSelection = e.inSelection();
        var button = e.getButton();
        var clickCount = e.domEvent.detail || 1;
        if (clickCount === 1 && button === 0 && inSelection) {
            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))
                return;
            this.mousedownEvent.time = Date.now();
            var eventTarget = e.domEvent.target || e.domEvent.srcElement;
            if ("unselectable" in eventTarget)
                eventTarget.unselectable = "on";
            if (editor.getDragDelay()) {
                if (useragent.isWebKit) {
                    this.cancelDrag = true;
                    var mouseTarget = editor.container;
                    mouseTarget.draggable = true;
                }
                this.setState("dragWait");
            } else {
                this.startDrag();
            }
            this.captureMouse(e, this.onMouseDrag.bind(this));
            e.defaultPrevented = true;
        }
    };

}).call(DragdropHandler.prototype);


function calcDistance(ax, ay, bx, by) {
    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));
}

exports.DragdropHandler = DragdropHandler;

});

ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";
var dom = acequire("./dom");

exports.get = function (url, callback) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', url, true);
    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4) {
            callback(xhr.responseText);
        }
    };
    xhr.send(null);
};

exports.loadScript = function(path, callback) {
    var head = dom.getDocumentHead();
    var s = document.createElement('script');

    s.src = path;
    head.appendChild(s);

    s.onload = s.onreadystatechange = function(_, isAbort) {
        if (isAbort || !s.readyState || s.readyState == "loaded" || s.readyState == "complete") {
            s = s.onload = s.onreadystatechange = null;
            if (!isAbort)
                callback();
        }
    };
};
exports.qualifyURL = function(url) {
    var a = document.createElement('a');
    a.href = url;
    return a.href;
};

});

ace.define("ace/lib/event_emitter",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var EventEmitter = {};
var stopPropagation = function() { this.propagationStopped = true; };
var preventDefault = function() { this.defaultPrevented = true; };

EventEmitter._emit =
EventEmitter._dispatchEvent = function(eventName, e) {
    this._eventRegistry || (this._eventRegistry = {});
    this._defaultHandlers || (this._defaultHandlers = {});

    var listeners = this._eventRegistry[eventName] || [];
    var defaultHandler = this._defaultHandlers[eventName];
    if (!listeners.length && !defaultHandler)
        return;

    if (typeof e != "object" || !e)
        e = {};

    if (!e.type)
        e.type = eventName;
    if (!e.stopPropagation)
        e.stopPropagation = stopPropagation;
    if (!e.preventDefault)
        e.preventDefault = preventDefault;

    listeners = listeners.slice();
    for (var i=0; i<listeners.length; i++) {
        listeners[i](e, this);
        if (e.propagationStopped)
            break;
    }
    
    if (defaultHandler && !e.defaultPrevented)
        return defaultHandler(e, this);
};


EventEmitter._signal = function(eventName, e) {
    var listeners = (this._eventRegistry || {})[eventName];
    if (!listeners)
        return;
    listeners = listeners.slice();
    for (var i=0; i<listeners.length; i++)
        listeners[i](e, this);
};

EventEmitter.once = function(eventName, callback) {
    var _self = this;
    callback && this.addEventListener(eventName, function newCallback() {
        _self.removeEventListener(eventName, newCallback);
        callback.apply(null, arguments);
    });
};


EventEmitter.setDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers;
    if (!handlers)
        handlers = this._defaultHandlers = {_disabled_: {}};
    
    if (handlers[eventName]) {
        var old = handlers[eventName];
        var disabled = handlers._disabled_[eventName];
        if (!disabled)
            handlers._disabled_[eventName] = disabled = [];
        disabled.push(old);
        var i = disabled.indexOf(callback);
        if (i != -1) 
            disabled.splice(i, 1);
    }
    handlers[eventName] = callback;
};
EventEmitter.removeDefaultHandler = function(eventName, callback) {
    var handlers = this._defaultHandlers;
    if (!handlers)
        return;
    var disabled = handlers._disabled_[eventName];
    
    if (handlers[eventName] == callback) {
        var old = handlers[eventName];
        if (disabled)
            this.setDefaultHandler(eventName, disabled.pop());
    } else if (disabled) {
        var i = disabled.indexOf(callback);
        if (i != -1)
            disabled.splice(i, 1);
    }
};

EventEmitter.on =
EventEmitter.addEventListener = function(eventName, callback, capturing) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        listeners = this._eventRegistry[eventName] = [];

    if (listeners.indexOf(callback) == -1)
        listeners[capturing ? "unshift" : "push"](callback);
    return callback;
};

EventEmitter.off =
EventEmitter.removeListener =
EventEmitter.removeEventListener = function(eventName, callback) {
    this._eventRegistry = this._eventRegistry || {};

    var listeners = this._eventRegistry[eventName];
    if (!listeners)
        return;

    var index = listeners.indexOf(callback);
    if (index !== -1)
        listeners.splice(index, 1);
};

EventEmitter.removeAllListeners = function(eventName) {
    if (this._eventRegistry) this._eventRegistry[eventName] = [];
};

exports.EventEmitter = EventEmitter;

});

ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"no use strict";

var oop = acequire("./oop");
var EventEmitter = acequire("./event_emitter").EventEmitter;

var optionsProvider = {
    setOptions: function(optList) {
        Object.keys(optList).forEach(function(key) {
            this.setOption(key, optList[key]);
        }, this);
    },
    getOptions: function(optionNames) {
        var result = {};
        if (!optionNames) {
            optionNames = Object.keys(this.$options);
        } else if (!Array.isArray(optionNames)) {
            result = optionNames;
            optionNames = Object.keys(result);
        }
        optionNames.forEach(function(key) {
            result[key] = this.getOption(key);
        }, this);
        return result;
    },
    setOption: function(name, value) {
        if (this["$" + name] === value)
            return;
        var opt = this.$options[name];
        if (!opt) {
            return warn('misspelled option "' + name + '"');
        }
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);

        if (!opt.handlesSet)
            this["$" + name] = value;
        if (opt && opt.set)
            opt.set.call(this, value);
    },
    getOption: function(name) {
        var opt = this.$options[name];
        if (!opt) {
            return warn('misspelled option "' + name + '"');
        }
        if (opt.forwardTo)
            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);
        return opt && opt.get ? opt.get.call(this) : this["$" + name];
    }
};

function warn(message) {
    if (typeof console != "undefined" && console.warn)
        console.warn.apply(console, arguments);
}

function reportError(msg, data) {
    var e = new Error(msg);
    e.data = data;
    if (typeof console == "object" && console.error)
        console.error(e);
    setTimeout(function() { throw e; });
}

var AppConfig = function() {
    this.$defaultOptions = {};
};

(function() {
    oop.implement(this, EventEmitter);
    this.defineOptions = function(obj, path, options) {
        if (!obj.$options)
            this.$defaultOptions[path] = obj.$options = {};

        Object.keys(options).forEach(function(key) {
            var opt = options[key];
            if (typeof opt == "string")
                opt = {forwardTo: opt};

            opt.name || (opt.name = key);
            obj.$options[opt.name] = opt;
            if ("initialValue" in opt)
                obj["$" + opt.name] = opt.initialValue;
        });
        oop.implement(obj, optionsProvider);

        return this;
    };

    this.resetOptions = function(obj) {
        Object.keys(obj.$options).forEach(function(key) {
            var opt = obj.$options[key];
            if ("value" in opt)
                obj.setOption(key, opt.value);
        });
    };

    this.setDefaultValue = function(path, name, value) {
        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});
        if (opts[name]) {
            if (opts.forwardTo)
                this.setDefaultValue(opts.forwardTo, name, value);
            else
                opts[name].value = value;
        }
    };

    this.setDefaultValues = function(path, optionHash) {
        Object.keys(optionHash).forEach(function(key) {
            this.setDefaultValue(path, key, optionHash[key]);
        }, this);
    };
    
    this.warn = warn;
    this.reportError = reportError;
    
}).call(AppConfig.prototype);

exports.AppConfig = AppConfig;

});

ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"], function(acequire, exports, module) {
"no use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var net = acequire("./lib/net");
var AppConfig = acequire("./lib/app_config").AppConfig;

module.exports = exports = new AppConfig();

var global = (function() {
    return this || typeof window != "undefined" && window;
})();

var options = {
    packaged: false,
    workerPath: null,
    modePath: null,
    themePath: null,
    basePath: "",
    suffix: ".js",
    $moduleUrls: {}
};

exports.get = function(key) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    return options[key];
};

exports.set = function(key, value) {
    if (!options.hasOwnProperty(key))
        throw new Error("Unknown config key: " + key);

    options[key] = value;
};

exports.all = function() {
    return lang.copyObject(options);
};
exports.moduleUrl = function(name, component) {
    if (options.$moduleUrls[name])
        return options.$moduleUrls[name];

    var parts = name.split("/");
    component = component || parts[parts.length - 2] || "";
    var sep = component == "snippets" ? "/" : "-";
    var base = parts[parts.length - 1];
    if (component == "worker" && sep == "-") {
        var re = new RegExp("^" + component + "[\\-_]|[\\-_]" + component + "$", "g");
        base = base.replace(re, "");
    }

    if ((!base || base == component) && parts.length > 1)
        base = parts[parts.length - 2];
    var path = options[component + "Path"];
    if (path == null) {
        path = options.basePath;
    } else if (sep == "/") {
        component = sep = "";
    }
    if (path && path.slice(-1) != "/")
        path += "/";
    return path + component + sep + base + this.get("suffix");
};

exports.setModuleUrl = function(name, subst) {
    return options.$moduleUrls[name] = subst;
};

exports.$loading = {};
exports.loadModule = function(moduleName, onLoad) {
    var module, moduleType;
    if (Array.isArray(moduleName)) {
        moduleType = moduleName[0];
        moduleName = moduleName[1];
    }

    try {
        module = acequire(moduleName);
    } catch (e) {}
    if (module && !exports.$loading[moduleName])
        return onLoad && onLoad(module);

    if (!exports.$loading[moduleName])
        exports.$loading[moduleName] = [];

    exports.$loading[moduleName].push(onLoad);

    if (exports.$loading[moduleName].length > 1)
        return;

    var afterLoad = function() {
        acequire([moduleName], function(module) {
            exports._emit("load.module", {name: moduleName, module: module});
            var listeners = exports.$loading[moduleName];
            exports.$loading[moduleName] = null;
            listeners.forEach(function(onLoad) {
                onLoad && onLoad(module);
            });
        });
    };

    if (!exports.get("packaged"))
        return afterLoad();
    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);
};
init(true);function init(packaged) {

    if (!global || !global.document)
        return;
    
    options.packaged = packaged || acequire.packaged || module.packaged || (global.define && __webpack_require__("07d6").packaged);

    var scriptOptions = {};
    var scriptUrl = "";
    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill
    var currentDocument = currentScript && currentScript.ownerDocument || document;
    
    var scripts = currentDocument.getElementsByTagName("script");
    for (var i=0; i<scripts.length; i++) {
        var script = scripts[i];

        var src = script.src || script.getAttribute("src");
        if (!src)
            continue;

        var attributes = script.attributes;
        for (var j=0, l=attributes.length; j < l; j++) {
            var attr = attributes[j];
            if (attr.name.indexOf("data-ace-") === 0) {
                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, ""))] = attr.value;
            }
        }

        var m = src.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);
        if (m)
            scriptUrl = m[1];
    }

    if (scriptUrl) {
        scriptOptions.base = scriptOptions.base || scriptUrl;
        scriptOptions.packaged = true;
    }

    scriptOptions.basePath = scriptOptions.base;
    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;
    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;
    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;
    delete scriptOptions.base;

    for (var key in scriptOptions)
        if (typeof scriptOptions[key] !== "undefined")
            exports.set(key, scriptOptions[key]);
}

exports.init = init;

function deHyphenate(str) {
    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });
}

});

ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"], function(acequire, exports, module) {
"use strict";

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
var DefaultHandlers = acequire("./default_handlers").DefaultHandlers;
var DefaultGutterHandler = acequire("./default_gutter_handler").GutterHandler;
var MouseEvent = acequire("./mouse_event").MouseEvent;
var DragdropHandler = acequire("./dragdrop_handler").DragdropHandler;
var config = acequire("../config");

var MouseHandler = function(editor) {
    var _self = this;
    this.editor = editor;

    new DefaultHandlers(this);
    new DefaultGutterHandler(this);
    new DragdropHandler(this);

    var focusEditor = function(e) {
        var windowBlurred = !document.hasFocus || !document.hasFocus()
            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());
        if (windowBlurred)
            window.focus();
        editor.focus();
    };

    var mouseTarget = editor.renderer.getMouseEventTarget();
    event.addListener(mouseTarget, "click", this.onMouseEvent.bind(this, "click"));
    event.addListener(mouseTarget, "mousemove", this.onMouseMove.bind(this, "mousemove"));
    event.addMultiMouseDownListener([
        mouseTarget,
        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,
        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,
        editor.textInput && editor.textInput.getElement()
    ].filter(Boolean), [400, 300, 250], this, "onMouseEvent");
    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, "mousewheel"));
    event.addTouchMoveListener(editor.container, this.onTouchMove.bind(this, "touchmove"));

    var gutterEl = editor.renderer.$gutter;
    event.addListener(gutterEl, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"));
    event.addListener(gutterEl, "click", this.onMouseEvent.bind(this, "gutterclick"));
    event.addListener(gutterEl, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"));
    event.addListener(gutterEl, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"));

    event.addListener(mouseTarget, "mousedown", focusEditor);
    event.addListener(gutterEl, "mousedown", focusEditor);
    if (useragent.isIE && editor.renderer.scrollBarV) {
        event.addListener(editor.renderer.scrollBarV.element, "mousedown", focusEditor);
        event.addListener(editor.renderer.scrollBarH.element, "mousedown", focusEditor);
    }

    editor.on("mousemove", function(e){
        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)
            return;

        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);
        var range = editor.session.selection.getRange();
        var renderer = editor.renderer;

        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {
            renderer.setCursorStyle("default");
        } else {
            renderer.setCursorStyle("");
        }
    });
};

(function() {
    this.onMouseEvent = function(name, e) {
        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseMove = function(name, e) {
        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
        if (!listeners || !listeners.length)
            return;

        this.editor._emit(name, new MouseEvent(e, this.editor));
    };

    this.onMouseWheel = function(name, e) {
        var mouseEvent = new MouseEvent(e, this.editor);
        mouseEvent.speed = this.$scrollSpeed * 2;
        mouseEvent.wheelX = e.wheelX;
        mouseEvent.wheelY = e.wheelY;

        this.editor._emit(name, mouseEvent);
    };
    
    this.onTouchMove = function (name, e) {
        var mouseEvent = new MouseEvent(e, this.editor);
        mouseEvent.speed = 1;//this.$scrollSpeed * 2;
        mouseEvent.wheelX = e.wheelX;
        mouseEvent.wheelY = e.wheelY;
        this.editor._emit(name, mouseEvent);
    };

    this.setState = function(state) {
        this.state = state;
    };

    this.captureMouse = function(ev, mouseMoveHandler) {
        this.x = ev.x;
        this.y = ev.y;

        this.isMousePressed = true;
        var renderer = this.editor.renderer;
        if (renderer.$keepTextAreaAtCursor)
            renderer.$keepTextAreaAtCursor = null;

        var self = this;
        var onMouseMove = function(e) {
            if (!e) return;
            if (useragent.isWebKit && !e.which && self.releaseMouse)
                return self.releaseMouse();

            self.x = e.clientX;
            self.y = e.clientY;
            mouseMoveHandler && mouseMoveHandler(e);
            self.mouseEvent = new MouseEvent(e, self.editor);
            self.$mouseMoved = true;
        };

        var onCaptureEnd = function(e) {
            clearInterval(timerId);
            onCaptureInterval();
            self[self.state + "End"] && self[self.state + "End"](e);
            self.state = "";
            if (renderer.$keepTextAreaAtCursor == null) {
                renderer.$keepTextAreaAtCursor = true;
                renderer.$moveTextAreaToCursor();
            }
            self.isMousePressed = false;
            self.$onCaptureMouseMove = self.releaseMouse = null;
            e && self.onMouseEvent("mouseup", e);
        };

        var onCaptureInterval = function() {
            self[self.state] && self[self.state]();
            self.$mouseMoved = false;
        };

        if (useragent.isOldIE && ev.domEvent.type == "dblclick") {
            return setTimeout(function() {onCaptureEnd(ev);});
        }

        self.$onCaptureMouseMove = onMouseMove;
        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);
        var timerId = setInterval(onCaptureInterval, 20);
    };
    this.releaseMouse = null;
    this.cancelContextMenu = function() {
        var stop = function(e) {
            if (e && e.domEvent && e.domEvent.type != "contextmenu")
                return;
            this.editor.off("nativecontextmenu", stop);
            if (e && e.domEvent)
                event.stopEvent(e.domEvent);
        }.bind(this);
        setTimeout(stop, 10);
        this.editor.on("nativecontextmenu", stop);
    };
}).call(MouseHandler.prototype);

config.defineOptions(MouseHandler.prototype, "mouseHandler", {
    scrollSpeed: {initialValue: 2},
    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},
    dragEnabled: {initialValue: true},
    focusTimout: {initialValue: 0},
    tooltipFollowsMouse: {initialValue: true}
});


exports.MouseHandler = MouseHandler;
});

ace.define("ace/mouse/fold_handler",["require","exports","module"], function(acequire, exports, module) {
"use strict";

function FoldHandler(editor) {

    editor.on("click", function(e) {
        var position = e.getDocumentPosition();
        var session = editor.session;
        var fold = session.getFoldAt(position.row, position.column, 1);
        if (fold) {
            if (e.getAccelKey())
                session.removeFold(fold);
            else
                session.expandFold(fold);

            e.stop();
        }
    });

    editor.on("gutterclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            if (session.foldWidgets && session.foldWidgets[row])
                editor.session.onFoldWidgetClick(row, e);
            if (!editor.isFocused())
                editor.focus();
            e.stop();
        }
    });

    editor.on("gutterdblclick", function(e) {
        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);

        if (gutterRegion == "foldWidgets") {
            var row = e.getDocumentPosition().row;
            var session = editor.session;
            var data = session.getParentFoldRangeData(row, true);
            var range = data.range || data.firstRange;

            if (range) {
                row = range.start.row;
                var fold = session.getFoldAt(row, session.getLine(row).length, 1);

                if (fold) {
                    session.removeFold(fold);
                } else {
                    session.addFold("...", range);
                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});
                }
            }
            e.stop();
        }
    });
}

exports.FoldHandler = FoldHandler;

});

ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"], function(acequire, exports, module) {
"use strict";

var keyUtil  = acequire("../lib/keys");
var event = acequire("../lib/event");

var KeyBinding = function(editor) {
    this.$editor = editor;
    this.$data = {editor: editor};
    this.$handlers = [];
    this.setDefaultHandler(editor.commands);
};

(function() {
    this.setDefaultHandler = function(kb) {
        this.removeKeyboardHandler(this.$defaultHandler);
        this.$defaultHandler = kb;
        this.addKeyboardHandler(kb, 0);
    };

    this.setKeyboardHandler = function(kb) {
        var h = this.$handlers;
        if (h[h.length - 1] == kb)
            return;

        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)
            this.removeKeyboardHandler(h[h.length - 1]);

        this.addKeyboardHandler(kb, 1);
    };

    this.addKeyboardHandler = function(kb, pos) {
        if (!kb)
            return;
        if (typeof kb == "function" && !kb.handleKeyboard)
            kb.handleKeyboard = kb;
        var i = this.$handlers.indexOf(kb);
        if (i != -1)
            this.$handlers.splice(i, 1);

        if (pos == undefined)
            this.$handlers.push(kb);
        else
            this.$handlers.splice(pos, 0, kb);

        if (i == -1 && kb.attach)
            kb.attach(this.$editor);
    };

    this.removeKeyboardHandler = function(kb) {
        var i = this.$handlers.indexOf(kb);
        if (i == -1)
            return false;
        this.$handlers.splice(i, 1);
        kb.detach && kb.detach(this.$editor);
        return true;
    };

    this.getKeyboardHandler = function() {
        return this.$handlers[this.$handlers.length - 1];
    };
    
    this.getStatusText = function() {
        var data = this.$data;
        var editor = data.editor;
        return this.$handlers.map(function(h) {
            return h.getStatusText && h.getStatusText(editor, data) || "";
        }).filter(Boolean).join(" ");
    };

    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {
        var toExecute;
        var success = false;
        var commands = this.$editor.commands;

        for (var i = this.$handlers.length; i--;) {
            toExecute = this.$handlers[i].handleKeyboard(
                this.$data, hashId, keyString, keyCode, e
            );
            if (!toExecute || !toExecute.command)
                continue;
            if (toExecute.command == "null") {
                success = true;
            } else {
                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);
            }
            if (success && e && hashId != -1 && 
                toExecute.passEvent != true && toExecute.command.passEvent != true
            ) {
                event.stopEvent(e);
            }
            if (success)
                break;
        }
        
        if (!success && hashId == -1) {
            toExecute = {command: "insertstring"};
            success = commands.exec("insertstring", this.$editor, keyString);
        }
        
        if (success && this.$editor._signal)
            this.$editor._signal("keyboardActivity", toExecute);
        
        return success;
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        var keyString = keyUtil.keyCodeToString(keyCode);
        this.$callKeyboardHandlers(hashId, keyString, keyCode, e);
    };

    this.onTextInput = function(text) {
        this.$callKeyboardHandlers(-1, text);
    };

}).call(KeyBinding.prototype);

exports.KeyBinding = KeyBinding;
});

ace.define("ace/lib/bidiutil",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var ArabicAlefBetIntervalsBegine = ['\u0621', '\u0641'];
var ArabicAlefBetIntervalsEnd = ['\u063A', '\u064a'];
var dir = 0, hiLevel = 0;
var lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;

var impTab_LTR = [	[	0,		3,		0,		1,		0,		0,		0	],	[	0,		3,		0,		1,		2,		2,		0	],	[	0,		3,		0,		0x11,		2,		0,		1	],	[	0,		3,		5,		5,		4,		1,		0	],	[	0,		3,		0x15,		0x15,		4,		0,		1	],	[	0,		3,		5,		5,		4,		2,		0	]
];

var impTab_RTL = [	[	2,		0,		1,		1,		0,		1,		0	],	[	2,		0,		1,		1,		0,		2,		0	],	[	2,		0,		2,		1,		3,		2,		0	],	[	2,		0,		2,		0x21,		3,		1,		1	]
];

var LTR = 0, RTL = 1;

var L = 0;
var R = 1;
var EN = 2;
var AN = 3;
var ON = 4;
var B = 5;
var S = 6;
var AL = 7;
var WS = 8;
var CS = 9;
var ES = 10;
var ET = 11;
var NSM = 12;
var LRE = 13;
var RLE = 14;
var PDF = 15;
var LRO = 16;
var RLO = 17;
var BN = 18;

var UnicodeTBL00 = [
BN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,
BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,
WS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,
EN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,
ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,
L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,
ON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,
L,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,
BN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,
BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,
CS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,
ET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON
];

var UnicodeTBL20 = [
WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R	,
ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,
ON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,
ET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,
ON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,
ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS
];

function _computeLevels(chars, levels, len, charTypes) {
	var impTab = dir ? impTab_RTL : impTab_LTR
		, prevState = null, newClass = null, newLevel = null, newState = 0
		, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];

	if (!charTypes) {
		for (i = 0, charTypes = []; i < len; i++) {
			charTypes[i] = _getCharacterType(chars[i]);
		}
	}
	hiLevel = dir;
	lastArabic = false;
	hasUBAT_AL = false;
	hasUBAT_B = false;
	hasUBAT_S = false;
	for (ix = 0; ix < len; ix++){
		prevState = newState;
		classes[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);
		newState = impTab[prevState][newClass];
		action = newState & 0xF0;
		newState &= 0x0F;
		levels[ix] = newLevel = impTab[newState][5];
		if (action > 0){
			if (action == 0x10){
				for(i = condPos; i < ix; i++){
					levels[i] = 1;
				}
				condPos = -1;
			} else {
				condPos = -1;
			}
		}
		cond = impTab[newState][6];
		if (cond){
			if(condPos == -1){
				condPos = ix;
			}
		}else{
			if (condPos > -1){
				for(i = condPos; i < ix; i++){
					levels[i] = newLevel;
				}
				condPos = -1;
			}
		}
		if (charTypes[ix] == B){
			levels[ix] = 0;
		}
		hiLevel |= newLevel;
	}
	if (hasUBAT_S){
		for(i = 0; i < len; i++){
			if(charTypes[i] == S){
				levels[i] = dir;
				for(var j = i - 1; j >= 0; j--){
					if(charTypes[j] == WS){
						levels[j] = dir;
					}else{
						break;
					}
				}
			}
		}
	}
}

function _invertLevel(lev, levels, _array) {
	if (hiLevel < lev){
		return;
	}
	if (lev == 1 && dir == RTL && !hasUBAT_B){
		_array.reverse();
		return;
	}
	var len = _array.length, start = 0, end, lo, hi, tmp;
	while(start < len){
		if (levels[start] >= lev){
			end = start + 1;
		while(end < len && levels[end] >= lev){
			end++;
		}
		for(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){
			tmp = _array[lo];
			_array[lo] = _array[hi];
			_array[hi] = tmp;
		}
		start = end;
	}
	start++;
	}
}

function _getCharClass(chars, types, classes, ix) {
	var cType = types[ix], wType, nType, len, i;
	switch(cType){
		case L:
		case R:
			lastArabic = false;
		case ON:
		case AN:
			return cType;
		case EN:
			return lastArabic ? AN : EN;
		case AL:
			lastArabic = true;
			hasUBAT_AL = true;
			return R;
		case WS:
			return ON;
		case CS:
			if (ix < 1 || (ix + 1) >= types.length ||
				((wType = classes[ix - 1]) != EN && wType != AN) ||
				((nType = types[ix + 1]) != EN && nType != AN)){
				return ON;
			}
			if (lastArabic){nType = AN;}
			return nType == wType ? nType : ON;
		case ES:
			wType = ix > 0 ? classes[ix - 1] : B;
			if (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){
				return EN;
			}
			return ON;
		case ET:
			if (ix > 0 && classes[ix - 1] == EN){
				return EN;
			}
			if (lastArabic){
				return ON;
			}
			i = ix + 1;
			len = types.length;
			while (i < len && types[i] == ET){
				i++;
			}
			if (i < len && types[i] == EN){
				return EN;
			}
			return ON;
		case NSM:
			len = types.length;
			i = ix + 1;
			while (i < len && types[i] == NSM){
				i++;
			}
			if (i < len){
				var c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;

				wType = types[i];
				if (rtlCandidate && (wType == R || wType == AL)){
					return R;
				}
			}

			if (ix < 1 || (wType = types[ix - 1]) == B){
				return ON;
			}
			return classes[ix - 1];
		case B:
			lastArabic = false;
			hasUBAT_B = true;
			return dir;
		case S:
			hasUBAT_S = true;
			return ON;
		case LRE:
		case RLE:
		case LRO:
		case RLO:
		case PDF:
			lastArabic = false;
		case BN:
			return ON;
	}
}

function _getCharacterType( ch ) {
	var uc = ch.charCodeAt(0), hi = uc >> 8;

	if (hi == 0) {
		return ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);
	} else if (hi == 5) {
		return (/[\u0591-\u05f4]/.test(ch) ? R : L);
	} else if (hi == 6) {
		if (/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(ch))
			return NSM;
		else if (/[\u0660-\u0669\u066b-\u066c]/.test(ch))
			return AN;
		else if (uc == 0x066A)
			return ET;
		else if (/[\u06f0-\u06f9]/.test(ch))
			return EN;
		else
			return AL;
	} else if (hi == 0x20 && uc <= 0x205F) {
		return UnicodeTBL20[uc & 0xFF];
	} else if (hi == 0xFE) {
		return (uc >= 0xFE70 ? AL : ON);
	}
	return ON;
}

function _isArabicDiacritics( ch ) {
	return (ch >= '\u064b' && ch <= '\u0655');
}
exports.L = L;
exports.R = R;
exports.EN = EN;
exports.ON_R = 3;
exports.AN = 4;
exports.R_H = 5;
exports.B = 6;

exports.DOT = "\xB7";
exports.doBidiReorder = function(text, textCharTypes, isRtl) {
	if (text.length < 2)
		return {};

	var chars = text.split(""), logicalFromVisual = new Array(chars.length),
		bidiLevels = new Array(chars.length), levels = [];

	dir = isRtl ? RTL : LTR;

	_computeLevels(chars, levels, chars.length, textCharTypes);

	for (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);

	_invertLevel(2, levels, logicalFromVisual);
	_invertLevel(1, levels, logicalFromVisual);

	for (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width
		if (textCharTypes[i] === AN) {
			levels[i] = exports.AN;
		} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE)
			|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {
			levels[i] = exports.ON_R;
		} else if ((i > 0 && chars[i - 1] === '\u0644') && /\u0622|\u0623|\u0625|\u0627/.test(chars[i])) {
			levels[i - 1] = levels[i] = exports.R_H;
			i++;
		}
	}
	if (chars[chars.length - 1] === exports.DOT)
		levels[chars.length - 1] = exports.B;

	for (var i = 0; i < logicalFromVisual.length; i++) {
		bidiLevels[i] = levels[logicalFromVisual[i]];
	}

	return {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};
};
exports.hasBidiCharacters = function(text, textCharTypes){
	var ret = false;
	for (var i = 0; i < text.length; i++){
		textCharTypes[i] = _getCharacterType(text.charAt(i));
		if (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL))
			ret = true;
	}
	return ret;
};
exports.getVisualFromLogicalIdx = function(logIdx, rowMap) {
	for (var i = 0; i < rowMap.logicalFromVisual.length; i++) {
		if (rowMap.logicalFromVisual[i] == logIdx)
			return i;
	}
	return 0;
};

});

ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var bidiUtil = acequire("./lib/bidiutil");
var lang = acequire("./lib/lang");
var useragent = acequire("./lib/useragent");
var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
var BidiHandler = function(session) {
    this.session = session;
    this.bidiMap = {};
    this.currentRow = null;
    this.bidiUtil = bidiUtil;
    this.charWidths = [];
    this.EOL = "\xAC";
    this.showInvisibles = true;
    this.isRtlDir = false;
    this.line = "";
    this.wrapIndent = 0;
    this.isLastRow = false;
    this.EOF = "\xB6";
    this.seenBidi = false;
};

(function() {
    this.isBidiRow = function(screenRow, docRow, splitIndex) {
        if (!this.seenBidi)
            return false;
        if (screenRow !== this.currentRow) {
            this.currentRow = screenRow;
            this.updateRowLine(docRow, splitIndex);
            this.updateBidiMap();
        }
        return this.bidiMap.bidiLevels;
    };

    this.onChange = function(delta) {
        if (!this.seenBidi) {
            if (delta.action == "insert" && bidiRE.test(delta.lines.join("\n"))) {
                this.seenBidi = true;
                this.currentRow = null;
            }
        }
        else {
            this.currentRow = null;
        }
    };

    this.getDocumentRow = function() {
        var docRow = 0;
        var rowCache = this.session.$screenRowCache;
        if (rowCache.length) {
            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);
            if (index >= 0)
                docRow = this.session.$docRowCache[index];
        }

        return docRow;
    };

    this.getSplitIndex = function() {
        var splitIndex = 0;
        var rowCache = this.session.$screenRowCache;
        if (rowCache.length) {
            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);
            while (this.currentRow - splitIndex > 0) {
                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);
                if (currentIndex !== prevIndex)
                    break;

                prevIndex = currentIndex;
                splitIndex++;
            }
        }

        return splitIndex;
    };

    this.updateRowLine = function(docRow, splitIndex) {
        if (docRow === undefined)
            docRow = this.getDocumentRow();

        this.wrapIndent = 0;
        this.isLastRow = (docRow === this.session.getLength() - 1);
        this.line = this.session.getLine(docRow);
        if (this.session.$useWrapMode) {
            var splits = this.session.$wrapData[docRow];
            if (splits) {
                if (splitIndex === undefined)
                    splitIndex = this.getSplitIndex();

                if(splitIndex > 0 && splits.length) {
                    this.wrapIndent = splits.indent;
                    this.line = (splitIndex < splits.length) ?
                        this.line.substring(splits[splitIndex - 1], splits[splits.length - 1]) :
                            this.line.substring(splits[splits.length - 1]);
                } else {
                    this.line = this.line.substring(0, splits[splitIndex]);
                }
            }
        }
        var session = this.session, shift = 0, size;
        this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(ch, i){
            if (ch === '\t' || session.isFullWidth(ch.charCodeAt(0))) {
                size = (ch === '\t') ? session.getScreenTabSize(i + shift) : 2;
                shift += size - 1;
                return lang.stringRepeat(bidiUtil.DOT, size);
            }
            return ch;
        });
    };

    this.updateBidiMap = function() {
        var textCharTypes = [], endOfLine = this.isLastRow ? this.EOF : this.EOL;
        var line = this.line + (this.showInvisibles ? endOfLine : bidiUtil.DOT);
        if (bidiUtil.hasBidiCharacters(line, textCharTypes)) {
            this.bidiMap = bidiUtil.doBidiReorder(line, textCharTypes, this.isRtlDir);
        } else {
            this.bidiMap = {};
        }
    };
    this.markAsDirty = function() {
        this.currentRow = null;
    };
    this.updateCharacterWidths = function(fontMetrics) {
        if (!this.seenBidi)
            return;
        if (this.characterWidth === fontMetrics.$characterSize.width)
            return;

        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;
        var bidiCharWidth = fontMetrics.$measureCharWidth("\u05d4");

        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;
        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;
        this.charWidths[bidiUtil.R_H] = useragent.isChrome ? bidiCharWidth : bidiCharWidth * 0.45;
        this.charWidths[bidiUtil.B] = 0;

        this.currentRow = null;
    };

    this.getShowInvisibles = function() {
        return this.showInvisibles;
    };

    this.setShowInvisibles = function(showInvisibles) {
        this.showInvisibles = showInvisibles;
        this.currentRow = null;
    };

    this.setEolChar = function(eolChar) {
        this.EOL = eolChar;
    };

    this.setTextDir = function(isRtlDir) {
        this.isRtlDir = isRtlDir;
    };
    this.getPosLeft = function(col) {
        col -= this.wrapIndent;
        var visualIdx = bidiUtil.getVisualFromLogicalIdx(col > 0 ? col - 1 : 0, this.bidiMap),
            levels = this.bidiMap.bidiLevels, left = 0;

        if (col === 0 && levels[visualIdx] % 2 !== 0)
            visualIdx++;

        for (var i = 0; i < visualIdx; i++) {
            left += this.charWidths[levels[i]];
        }

        if (col !== 0 && levels[visualIdx] % 2 === 0)
            left += this.charWidths[levels[visualIdx]];

        if (this.wrapIndent)
            left += this.wrapIndent * this.charWidths[bidiUtil.L];

        return left;
    };
    this.getSelections = function(startCol, endCol) {
        var map = this.bidiMap, levels = map.bidiLevels, level, offset = this.wrapIndent * this.charWidths[bidiUtil.L], selections = [],
            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,
                isSelected = false, isSelectedPrev = false, selectionStart = 0;

        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {
            logIdx = map.logicalFromVisual[visIdx];
            level = levels[visIdx];
            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);
            if (isSelected && !isSelectedPrev) {
                selectionStart = offset;
            } else if (!isSelected && isSelectedPrev) {
                selections.push({left: selectionStart, width: offset - selectionStart});
            }
            offset += this.charWidths[level];
            isSelectedPrev = isSelected;
        }

        if (isSelected && (visIdx === levels.length)) {
            selections.push({left: selectionStart, width: offset - selectionStart});
        }

        return selections;
    };
    this.offsetToCol = function(posX) {
        var logicalIdx = 0, posX = Math.max(posX, 0),
            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,
                charWidth = this.charWidths[levels[visualIdx]];

        if (this.wrapIndent) {
            posX -= this.wrapIndent * this.charWidths[bidiUtil.L];
        }

        while(posX > offset + charWidth/2) {
            offset += charWidth;
            if(visualIdx === levels.length - 1) {
                charWidth = 0;
                break;
            }
            charWidth = this.charWidths[levels[++visualIdx]];
        }

        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){
            if(posX < offset)
                visualIdx--;
            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];

        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){
            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]
                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);

        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))
                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){
            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];
        } else {
            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)
                visualIdx--;
            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];
        }

        return (logicalIdx + this.wrapIndent);
    };

}).call(BidiHandler.prototype);

exports.BidiHandler = BidiHandler;
});

ace.define("ace/range",["require","exports","module"], function(acequire, exports, module) {
"use strict";
var comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};
var Range = function(startRow, startColumn, endRow, endColumn) {
    this.start = {
        row: startRow,
        column: startColumn
    };

    this.end = {
        row: endRow,
        column: endColumn
    };
};

(function() {
    this.isEqual = function(range) {
        return this.start.row === range.start.row &&
            this.end.row === range.end.row &&
            this.start.column === range.start.column &&
            this.end.column === range.end.column;
    };
    this.toString = function() {
        return ("Range: [" + this.start.row + "/" + this.start.column +
            "] -> [" + this.end.row + "/" + this.end.column + "]");
    };

    this.contains = function(row, column) {
        return this.compare(row, column) == 0;
    };
    this.compareRange = function(range) {
        var cmp,
            end = range.end,
            start = range.start;

        cmp = this.compare(end.row, end.column);
        if (cmp == 1) {
            cmp = this.compare(start.row, start.column);
            if (cmp == 1) {
                return 2;
            } else if (cmp == 0) {
                return 1;
            } else {
                return 0;
            }
        } else if (cmp == -1) {
            return -2;
        } else {
            cmp = this.compare(start.row, start.column);
            if (cmp == -1) {
                return -1;
            } else if (cmp == 1) {
                return 42;
            } else {
                return 0;
            }
        }
    };
    this.comparePoint = function(p) {
        return this.compare(p.row, p.column);
    };
    this.containsRange = function(range) {
        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;
    };
    this.intersects = function(range) {
        var cmp = this.compareRange(range);
        return (cmp == -1 || cmp == 0 || cmp == 1);
    };
    this.isEnd = function(row, column) {
        return this.end.row == row && this.end.column == column;
    };
    this.isStart = function(row, column) {
        return this.start.row == row && this.start.column == column;
    };
    this.setStart = function(row, column) {
        if (typeof row == "object") {
            this.start.column = row.column;
            this.start.row = row.row;
        } else {
            this.start.row = row;
            this.start.column = column;
        }
    };
    this.setEnd = function(row, column) {
        if (typeof row == "object") {
            this.end.column = row.column;
            this.end.row = row.row;
        } else {
            this.end.row = row;
            this.end.column = column;
        }
    };
    this.inside = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column) || this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideStart = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isEnd(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.insideEnd = function(row, column) {
        if (this.compare(row, column) == 0) {
            if (this.isStart(row, column)) {
                return false;
            } else {
                return true;
            }
        }
        return false;
    };
    this.compare = function(row, column) {
        if (!this.isMultiLine()) {
            if (row === this.start.row) {
                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);
            }
        }

        if (row < this.start.row)
            return -1;

        if (row > this.end.row)
            return 1;

        if (this.start.row === row)
            return column >= this.start.column ? 0 : -1;

        if (this.end.row === row)
            return column <= this.end.column ? 0 : 1;

        return 0;
    };
    this.compareStart = function(row, column) {
        if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareEnd = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else {
            return this.compare(row, column);
        }
    };
    this.compareInside = function(row, column) {
        if (this.end.row == row && this.end.column == column) {
            return 1;
        } else if (this.start.row == row && this.start.column == column) {
            return -1;
        } else {
            return this.compare(row, column);
        }
    };
    this.clipRows = function(firstRow, lastRow) {
        if (this.end.row > lastRow)
            var end = {row: lastRow + 1, column: 0};
        else if (this.end.row < firstRow)
            var end = {row: firstRow, column: 0};

        if (this.start.row > lastRow)
            var start = {row: lastRow + 1, column: 0};
        else if (this.start.row < firstRow)
            var start = {row: firstRow, column: 0};

        return Range.fromPoints(start || this.start, end || this.end);
    };
    this.extend = function(row, column) {
        var cmp = this.compare(row, column);

        if (cmp == 0)
            return this;
        else if (cmp == -1)
            var start = {row: row, column: column};
        else
            var end = {row: row, column: column};

        return Range.fromPoints(start || this.start, end || this.end);
    };

    this.isEmpty = function() {
        return (this.start.row === this.end.row && this.start.column === this.end.column);
    };
    this.isMultiLine = function() {
        return (this.start.row !== this.end.row);
    };
    this.clone = function() {
        return Range.fromPoints(this.start, this.end);
    };
    this.collapseRows = function() {
        if (this.end.column == 0)
            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);
        else
            return new Range(this.start.row, 0, this.end.row, 0);
    };
    this.toScreenRange = function(session) {
        var screenPosStart = session.documentToScreenPosition(this.start);
        var screenPosEnd = session.documentToScreenPosition(this.end);

        return new Range(
            screenPosStart.row, screenPosStart.column,
            screenPosEnd.row, screenPosEnd.column
        );
    };
    this.moveBy = function(row, column) {
        this.start.row += row;
        this.start.column += column;
        this.end.row += row;
        this.end.column += column;
    };

}).call(Range.prototype);
Range.fromPoints = function(start, end) {
    return new Range(start.row, start.column, end.row, end.column);
};
Range.comparePoints = comparePoints;

Range.comparePoints = function(p1, p2) {
    return p1.row - p2.row || p1.column - p2.column;
};


exports.Range = Range;
});

ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Selection = function(session) {
    this.session = session;
    this.doc = session.getDocument();

    this.clearSelection();
    this.lead = this.selectionLead = this.doc.createAnchor(0, 0);
    this.anchor = this.selectionAnchor = this.doc.createAnchor(0, 0);

    var self = this;
    this.lead.on("change", function(e) {
        self._emit("changeCursor");
        if (!self.$isEmpty)
            self._emit("changeSelection");
        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)
            self.$desiredColumn = null;
    });

    this.selectionAnchor.on("change", function() {
        if (!self.$isEmpty)
            self._emit("changeSelection");
    });
};

(function() {

    oop.implement(this, EventEmitter);
    this.isEmpty = function() {
        return (this.$isEmpty || (
            this.anchor.row == this.lead.row &&
            this.anchor.column == this.lead.column
        ));
    };
    this.isMultiLine = function() {
        if (this.isEmpty()) {
            return false;
        }

        return this.getRange().isMultiLine();
    };
    this.getCursor = function() {
        return this.lead.getPosition();
    };
    this.setSelectionAnchor = function(row, column) {
        this.anchor.setPosition(row, column);

        if (this.$isEmpty) {
            this.$isEmpty = false;
            this._emit("changeSelection");
        }
    };
    this.getSelectionAnchor = function() {
        if (this.$isEmpty)
            return this.getSelectionLead();
        else
            return this.anchor.getPosition();
    };
    this.getSelectionLead = function() {
        return this.lead.getPosition();
    };
    this.shiftSelection = function(columns) {
        if (this.$isEmpty) {
            this.moveCursorTo(this.lead.row, this.lead.column + columns);
            return;
        }

        var anchor = this.getSelectionAnchor();
        var lead = this.getSelectionLead();

        var isBackwards = this.isBackwards();

        if (!isBackwards || anchor.column !== 0)
            this.setSelectionAnchor(anchor.row, anchor.column + columns);

        if (isBackwards || lead.column !== 0) {
            this.$moveSelection(function() {
                this.moveCursorTo(lead.row, lead.column + columns);
            });
        }
    };
    this.isBackwards = function() {
        var anchor = this.anchor;
        var lead = this.lead;
        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));
    };
    this.getRange = function() {
        var anchor = this.anchor;
        var lead = this.lead;

        if (this.isEmpty())
            return Range.fromPoints(lead, lead);

        if (this.isBackwards()) {
            return Range.fromPoints(lead, anchor);
        }
        else {
            return Range.fromPoints(anchor, lead);
        }
    };
    this.clearSelection = function() {
        if (!this.$isEmpty) {
            this.$isEmpty = true;
            this._emit("changeSelection");
        }
    };
    this.selectAll = function() {
        var lastRow = this.doc.getLength() - 1;
        this.setSelectionAnchor(0, 0);
        this.moveCursorTo(lastRow, this.doc.getLine(lastRow).length);
    };
    this.setRange =
    this.setSelectionRange = function(range, reverse) {
        if (reverse) {
            this.setSelectionAnchor(range.end.row, range.end.column);
            this.selectTo(range.start.row, range.start.column);
        } else {
            this.setSelectionAnchor(range.start.row, range.start.column);
            this.selectTo(range.end.row, range.end.column);
        }
        if (this.getRange().isEmpty())
            this.$isEmpty = true;
        this.$desiredColumn = null;
    };

    this.$moveSelection = function(mover) {
        var lead = this.lead;
        if (this.$isEmpty)
            this.setSelectionAnchor(lead.row, lead.column);

        mover.call(this);
    };
    this.selectTo = function(row, column) {
        this.$moveSelection(function() {
            this.moveCursorTo(row, column);
        });
    };
    this.selectToPosition = function(pos) {
        this.$moveSelection(function() {
            this.moveCursorToPosition(pos);
        });
    };
    this.moveTo = function(row, column) {
        this.clearSelection();
        this.moveCursorTo(row, column);
    };
    this.moveToPosition = function(pos) {
        this.clearSelection();
        this.moveCursorToPosition(pos);
    };
    this.selectUp = function() {
        this.$moveSelection(this.moveCursorUp);
    };
    this.selectDown = function() {
        this.$moveSelection(this.moveCursorDown);
    };
    this.selectRight = function() {
        this.$moveSelection(this.moveCursorRight);
    };
    this.selectLeft = function() {
        this.$moveSelection(this.moveCursorLeft);
    };
    this.selectLineStart = function() {
        this.$moveSelection(this.moveCursorLineStart);
    };
    this.selectLineEnd = function() {
        this.$moveSelection(this.moveCursorLineEnd);
    };
    this.selectFileEnd = function() {
        this.$moveSelection(this.moveCursorFileEnd);
    };
    this.selectFileStart = function() {
        this.$moveSelection(this.moveCursorFileStart);
    };
    this.selectWordRight = function() {
        this.$moveSelection(this.moveCursorWordRight);
    };
    this.selectWordLeft = function() {
        this.$moveSelection(this.moveCursorWordLeft);
    };
    this.getWordRange = function(row, column) {
        if (typeof column == "undefined") {
            var cursor = row || this.lead;
            row = cursor.row;
            column = cursor.column;
        }
        return this.session.getWordRange(row, column);
    };
    this.selectWord = function() {
        this.setSelectionRange(this.getWordRange());
    };
    this.selectAWord = function() {
        var cursor = this.getCursor();
        var range = this.session.getAWordRange(cursor.row, cursor.column);
        this.setSelectionRange(range);
    };

    this.getLineRange = function(row, excludeLastChar) {
        var rowStart = typeof row == "number" ? row : this.lead.row;
        var rowEnd;

        var foldLine = this.session.getFoldLine(rowStart);
        if (foldLine) {
            rowStart = foldLine.start.row;
            rowEnd = foldLine.end.row;
        } else {
            rowEnd = rowStart;
        }
        if (excludeLastChar === true)
            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);
        else
            return new Range(rowStart, 0, rowEnd + 1, 0);
    };
    this.selectLine = function() {
        this.setSelectionRange(this.getLineRange());
    };
    this.moveCursorUp = function() {
        this.moveCursorBy(-1, 0);
    };
    this.moveCursorDown = function() {
        this.moveCursorBy(1, 0);
    };
    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {
        var start = cursor.column;
        var end = cursor.column + tabSize;

        if (direction < 0) {
            start = cursor.column - tabSize;
            end = cursor.column;
        }
        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(" ").length-1 == tabSize;
    };
    this.moveCursorLeft = function() {
        var cursor = this.lead.getPosition(),
            fold;

        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
        } else if (cursor.column === 0) {
            if (cursor.row > 0) {
                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, -tabSize);
            } else {
                this.moveCursorBy(0, -1);
            }
        }
    };
    this.moveCursorRight = function() {
        var cursor = this.lead.getPosition(),
            fold;
        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {
            this.moveCursorTo(fold.end.row, fold.end.column);
        }
        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {
            if (this.lead.row < this.doc.getLength() - 1) {
                this.moveCursorTo(this.lead.row + 1, 0);
            }
        }
        else {
            var tabSize = this.session.getTabSize();
            var cursor = this.lead;
            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {
                this.moveCursorBy(0, tabSize);
            } else {
                this.moveCursorBy(0, 1);
            }
        }
    };
    this.moveCursorLineStart = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var screenRow = this.session.documentToScreenRow(row, column);
        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);
        var beforeCursor = this.session.getDisplayLine(
            row, null, firstColumnPosition.row,
            firstColumnPosition.column
        );

        var leadingSpace = beforeCursor.match(/^\s*/);
        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)
            firstColumnPosition.column += leadingSpace[0].length;
        this.moveCursorToPosition(firstColumnPosition);
    };
    this.moveCursorLineEnd = function() {
        var lead = this.lead;
        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);
        if (this.lead.column == lineEnd.column) {
            var line = this.session.getLine(lineEnd.row);
            if (lineEnd.column == line.length) {
                var textEnd = line.search(/\s+$/);
                if (textEnd > 0)
                    lineEnd.column = textEnd;
            }
        }

        this.moveCursorTo(lineEnd.row, lineEnd.column);
    };
    this.moveCursorFileEnd = function() {
        var row = this.doc.getLength() - 1;
        var column = this.doc.getLine(row).length;
        this.moveCursorTo(row, column);
    };
    this.moveCursorFileStart = function() {
        this.moveCursorTo(0, 0);
    };
    this.moveCursorLongWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            this.moveCursorTo(fold.end.row, fold.end.column);
            return;
        }
        if (match = this.session.nonTokenRe.exec(rightOfCursor)) {
            column += this.session.nonTokenRe.lastIndex;
            this.session.nonTokenRe.lastIndex = 0;
            rightOfCursor = line.substring(column);
        }
        if (column >= line.length) {
            this.moveCursorTo(row, line.length);
            this.moveCursorRight();
            if (row < this.doc.getLength() - 1)
                this.moveCursorWordRight();
            return;
        }
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            column += this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };
    this.moveCursorLongWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var fold;
        if (fold = this.session.getFoldAt(row, column, -1)) {
            this.moveCursorTo(fold.start.row, fold.start.column);
            return;
        }

        var str = this.session.getFoldStringAt(row, column, -1);
        if (str == null) {
            str = this.doc.getLine(row).substring(0, column);
        }

        var leftOfCursor = lang.stringReverse(str);
        var match;
        this.session.nonTokenRe.lastIndex = 0;
        this.session.tokenRe.lastIndex = 0;
        if (match = this.session.nonTokenRe.exec(leftOfCursor)) {
            column -= this.session.nonTokenRe.lastIndex;
            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);
            this.session.nonTokenRe.lastIndex = 0;
        }
        if (column <= 0) {
            this.moveCursorTo(row, 0);
            this.moveCursorLeft();
            if (row > 0)
                this.moveCursorWordLeft();
            return;
        }
        if (match = this.session.tokenRe.exec(leftOfCursor)) {
            column -= this.session.tokenRe.lastIndex;
            this.session.tokenRe.lastIndex = 0;
        }

        this.moveCursorTo(row, column);
    };

    this.$shortWordEndIndex = function(rightOfCursor) {
        var match, index = 0, ch;
        var whitespaceRe = /\s/;
        var tokenRe = this.session.tokenRe;

        tokenRe.lastIndex = 0;
        if (match = this.session.tokenRe.exec(rightOfCursor)) {
            index = this.session.tokenRe.lastIndex;
        } else {
            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                index ++;

            if (index < 1) {
                tokenRe.lastIndex = 0;
                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {
                    tokenRe.lastIndex = 0;
                    index ++;
                    if (whitespaceRe.test(ch)) {
                        if (index > 2) {
                            index--;
                            break;
                        } else {
                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))
                                index ++;
                            if (index > 2)
                                break;
                        }
                    }
                }
            }
        }
        tokenRe.lastIndex = 0;

        return index;
    };

    this.moveCursorShortWordRight = function() {
        var row = this.lead.row;
        var column = this.lead.column;
        var line = this.doc.getLine(row);
        var rightOfCursor = line.substring(column);

        var fold = this.session.getFoldAt(row, column, 1);
        if (fold)
            return this.moveCursorTo(fold.end.row, fold.end.column);

        if (column == line.length) {
            var l = this.doc.getLength();
            do {
                row++;
                rightOfCursor = this.doc.getLine(row);
            } while (row < l && /^\s*$/.test(rightOfCursor));

            if (!/^\s+/.test(rightOfCursor))
                rightOfCursor = "";
            column = 0;
        }

        var index = this.$shortWordEndIndex(rightOfCursor);

        this.moveCursorTo(row, column + index);
    };

    this.moveCursorShortWordLeft = function() {
        var row = this.lead.row;
        var column = this.lead.column;

        var fold;
        if (fold = this.session.getFoldAt(row, column, -1))
            return this.moveCursorTo(fold.start.row, fold.start.column);

        var line = this.session.getLine(row).substring(0, column);
        if (column === 0) {
            do {
                row--;
                line = this.doc.getLine(row);
            } while (row > 0 && /^\s*$/.test(line));

            column = line.length;
            if (!/\s+$/.test(line))
                line = "";
        }

        var leftOfCursor = lang.stringReverse(line);
        var index = this.$shortWordEndIndex(leftOfCursor);

        return this.moveCursorTo(row, column - index);
    };

    this.moveCursorWordRight = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordRight();
        else
            this.moveCursorShortWordRight();
    };

    this.moveCursorWordLeft = function() {
        if (this.session.$selectLongWords)
            this.moveCursorLongWordLeft();
        else
            this.moveCursorShortWordLeft();
    };
    this.moveCursorBy = function(rows, chars) {
        var screenPos = this.session.documentToScreenPosition(
            this.lead.row,
            this.lead.column
        );

        var offsetX;

        if (chars === 0) {
            if (rows !== 0) {
                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {
                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);
                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);
                } else {
                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];
                }
            }

            if (this.$desiredColumn)
                screenPos.column = this.$desiredColumn;
            else
                this.$desiredColumn = screenPos.column;
        }

        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);
        
        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {
            if (this.session.lineWidgets && this.session.lineWidgets[docPos.row]) {
                if (docPos.row > 0 || rows > 0)
                    docPos.row++;
            }
        }
        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);
    };
    this.moveCursorToPosition = function(position) {
        this.moveCursorTo(position.row, position.column);
    };
    this.moveCursorTo = function(row, column, keepDesiredColumn) {
        var fold = this.session.getFoldAt(row, column, 1);
        if (fold) {
            row = fold.start.row;
            column = fold.start.column;
        }

        this.$keepDesiredColumnOnChange = true;
        var line = this.session.getLine(row);
        if (/[\uDC00-\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {
            if (this.lead.row == row && this.lead.column == column + 1)
                column = column - 1;
            else
                column = column + 1;
        }
        this.lead.setPosition(row, column);
        this.$keepDesiredColumnOnChange = false;

        if (!keepDesiredColumn)
            this.$desiredColumn = null;
    };
    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {
        var pos = this.session.screenToDocumentPosition(row, column);
        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);
    };
    this.detach = function() {
        this.lead.detach();
        this.anchor.detach();
        this.session = this.doc = null;
    };

    this.fromOrientedRange = function(range) {
        this.setSelectionRange(range, range.cursor == range.start);
        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;
    };

    this.toOrientedRange = function(range) {
        var r = this.getRange();
        if (range) {
            range.start.column = r.start.column;
            range.start.row = r.start.row;
            range.end.column = r.end.column;
            range.end.row = r.end.row;
        } else {
            range = r;
        }

        range.cursor = this.isBackwards() ? range.start : range.end;
        range.desiredColumn = this.$desiredColumn;
        return range;
    };
    this.getRangeOfMovements = function(func) {
        var start = this.getCursor();
        try {
            func(this);
            var end = this.getCursor();
            return Range.fromPoints(start,end);
        } catch(e) {
            return Range.fromPoints(start,start);
        } finally {
            this.moveCursorToPosition(start);
        }
    };

    this.toJSON = function() {
        if (this.rangeCount) {
            var data = this.ranges.map(function(r) {
                var r1 = r.clone();
                r1.isBackwards = r.cursor == r.start;
                return r1;
            });
        } else {
            var data = this.getRange();
            data.isBackwards = this.isBackwards();
        }
        return data;
    };

    this.fromJSON = function(data) {
        if (data.start == undefined) {
            if (this.rangeList) {
                this.toSingleRange(data[0]);
                for (var i = data.length; i--; ) {
                    var r = Range.fromPoints(data[i].start, data[i].end);
                    if (data[i].isBackwards)
                        r.cursor = r.start;
                    this.addRange(r, true);
                }
                return;
            } else
                data = data[0];
        }
        if (this.rangeList)
            this.toSingleRange(data);
        this.setSelectionRange(data, data.isBackwards);
    };

    this.isEqual = function(data) {
        if ((data.length || this.rangeCount) && data.length != this.rangeCount)
            return false;
        if (!data.length || !this.ranges)
            return this.getRange().isEqual(data);

        for (var i = this.ranges.length; i--; ) {
            if (!this.ranges[i].isEqual(data[i]))
                return false;
        }
        return true;
    };

}).call(Selection.prototype);

exports.Selection = Selection;
});

ace.define("ace/tokenizer",["require","exports","module","ace/config"], function(acequire, exports, module) {
"use strict";

var config = acequire("./config");
var MAX_TOKEN_COUNT = 2000;
var Tokenizer = function(rules) {
    this.states = rules;

    this.regExps = {};
    this.matchMappings = {};
    for (var key in this.states) {
        var state = this.states[key];
        var ruleRegExps = [];
        var matchTotal = 0;
        var mapping = this.matchMappings[key] = {defaultToken: "text"};
        var flag = "g";

        var splitterRurles = [];
        for (var i = 0; i < state.length; i++) {
            var rule = state[i];
            if (rule.defaultToken)
                mapping.defaultToken = rule.defaultToken;
            if (rule.caseInsensitive)
                flag = "gi";
            if (rule.regex == null)
                continue;

            if (rule.regex instanceof RegExp)
                rule.regex = rule.regex.toString().slice(1, -1);
            var adjustedregex = rule.regex;
            var matchcount = new RegExp("(?:(" + adjustedregex + ")|(.))").exec("a").length - 2;
            if (Array.isArray(rule.token)) {
                if (rule.token.length == 1 || matchcount == 1) {
                    rule.token = rule.token[0];
                } else if (matchcount - 1 != rule.token.length) {
                    this.reportError("number of classes and regexp groups doesn't match", { 
                        rule: rule,
                        groupCount: matchcount - 1
                    });
                    rule.token = rule.token[0];
                } else {
                    rule.tokenArray = rule.token;
                    rule.token = null;
                    rule.onMatch = this.$arrayTokens;
                }
            } else if (typeof rule.token == "function" && !rule.onMatch) {
                if (matchcount > 1)
                    rule.onMatch = this.$applyToken;
                else
                    rule.onMatch = rule.token;
            }

            if (matchcount > 1) {
                if (/\\\d/.test(rule.regex)) {
                    adjustedregex = rule.regex.replace(/\\([0-9]+)/g, function(match, digit) {
                        return "\\" + (parseInt(digit, 10) + matchTotal + 1);
                    });
                } else {
                    matchcount = 1;
                    adjustedregex = this.removeCapturingGroups(rule.regex);
                }
                if (!rule.splitRegex && typeof rule.token != "string")
                    splitterRurles.push(rule); // flag will be known only at the very end
            }

            mapping[matchTotal] = i;
            matchTotal += matchcount;

            ruleRegExps.push(adjustedregex);
            if (!rule.onMatch)
                rule.onMatch = null;
        }
        
        if (!ruleRegExps.length) {
            mapping[0] = 0;
            ruleRegExps.push("$");
        }
        
        splitterRurles.forEach(function(rule) {
            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);
        }, this);

        this.regExps[key] = new RegExp("(" + ruleRegExps.join(")|(") + ")|($)", flag);
    }
};

(function() {
    this.$setMaxTokenCount = function(m) {
        MAX_TOKEN_COUNT = m | 0;
    };
    
    this.$applyToken = function(str) {
        var values = this.splitRegex.exec(str).slice(1);
        var types = this.token.apply(this, values);
        if (typeof types === "string")
            return [{type: types, value: str}];

        var tokens = [];
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i]
                };
        }
        return tokens;
    };

    this.$arrayTokens = function(str) {
        if (!str)
            return [];
        var values = this.splitRegex.exec(str);
        if (!values)
            return "text";
        var tokens = [];
        var types = this.tokenArray;
        for (var i = 0, l = types.length; i < l; i++) {
            if (values[i + 1])
                tokens[tokens.length] = {
                    type: types[i],
                    value: values[i + 1]
                };
        }
        return tokens;
    };

    this.removeCapturingGroups = function(src) {
        var r = src.replace(
            /\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,
            function(x, y) {return y ? "(?:" : x;}
        );
        return r;
    };

    this.createSplitterRegexp = function(src, flag) {
        if (src.indexOf("(?=") != -1) {
            var stack = 0;
            var inChClass = false;
            var lastCapture = {};
            src.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(
                m, esc, parenOpen, parenClose, square, index
            ) {
                if (inChClass) {
                    inChClass = square != "]";
                } else if (square) {
                    inChClass = true;
                } else if (parenClose) {
                    if (stack == lastCapture.stack) {
                        lastCapture.end = index+1;
                        lastCapture.stack = -1;
                    }
                    stack--;
                } else if (parenOpen) {
                    stack++;
                    if (parenOpen.length != 1) {
                        lastCapture.stack = stack;
                        lastCapture.start = index;
                    }
                }
                return m;
            });

            if (lastCapture.end != null && /^\)*$/.test(src.substr(lastCapture.end)))
                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);
        }
        if (src.charAt(0) != "^") src = "^" + src;
        if (src.charAt(src.length - 1) != "$") src += "$";
        
        return new RegExp(src, (flag||"").replace("g", ""));
    };
    this.getLineTokens = function(line, startState) {
        if (startState && typeof startState != "string") {
            var stack = startState.slice(0);
            startState = stack[0];
            if (startState === "#tmp") {
                stack.shift();
                startState = stack.shift();
            }
        } else
            var stack = [];

        var currentState = startState || "start";
        var state = this.states[currentState];
        if (!state) {
            currentState = "start";
            state = this.states[currentState];
        }
        var mapping = this.matchMappings[currentState];
        var re = this.regExps[currentState];
        re.lastIndex = 0;

        var match, tokens = [];
        var lastIndex = 0;
        var matchAttempts = 0;

        var token = {type: null, value: ""};

        while (match = re.exec(line)) {
            var type = mapping.defaultToken;
            var rule = null;
            var value = match[0];
            var index = re.lastIndex;

            if (index - value.length > lastIndex) {
                var skipped = line.substring(lastIndex, index - value.length);
                if (token.type == type) {
                    token.value += skipped;
                } else {
                    if (token.type)
                        tokens.push(token);
                    token = {type: type, value: skipped};
                }
            }

            for (var i = 0; i < match.length-2; i++) {
                if (match[i + 1] === undefined)
                    continue;

                rule = state[mapping[i]];

                if (rule.onMatch)
                    type = rule.onMatch(value, currentState, stack, line);
                else
                    type = rule.token;

                if (rule.next) {
                    if (typeof rule.next == "string") {
                        currentState = rule.next;
                    } else {
                        currentState = rule.next(currentState, stack);
                    }
                    
                    state = this.states[currentState];
                    if (!state) {
                        this.reportError("state doesn't exist", currentState);
                        currentState = "start";
                        state = this.states[currentState];
                    }
                    mapping = this.matchMappings[currentState];
                    lastIndex = index;
                    re = this.regExps[currentState];
                    re.lastIndex = index;
                }
                if (rule.consumeLineEnd)
                    lastIndex = index;
                break;
            }

            if (value) {
                if (typeof type === "string") {
                    if ((!rule || rule.merge !== false) && token.type === type) {
                        token.value += value;
                    } else {
                        if (token.type)
                            tokens.push(token);
                        token = {type: type, value: value};
                    }
                } else if (type) {
                    if (token.type)
                        tokens.push(token);
                    token = {type: null, value: ""};
                    for (var i = 0; i < type.length; i++)
                        tokens.push(type[i]);
                }
            }

            if (lastIndex == line.length)
                break;

            lastIndex = index;

            if (matchAttempts++ > MAX_TOKEN_COUNT) {
                if (matchAttempts > 2 * line.length) {
                    this.reportError("infinite loop with in ace tokenizer", {
                        startState: startState,
                        line: line
                    });
                }
                while (lastIndex < line.length) {
                    if (token.type)
                        tokens.push(token);
                    token = {
                        value: line.substring(lastIndex, lastIndex += 2000),
                        type: "overflow"
                    };
                }
                currentState = "start";
                stack = [];
                break;
            }
        }

        if (token.type)
            tokens.push(token);
        
        if (stack.length > 1) {
            if (stack[0] !== currentState)
                stack.unshift("#tmp", currentState);
        }
        return {
            tokens : tokens,
            state : stack.length ? stack : currentState
        };
    };
    
    this.reportError = config.reportError;
    
}).call(Tokenizer.prototype);

exports.Tokenizer = Tokenizer;
});

ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var lang = acequire("../lib/lang");

var TextHighlightRules = function() {

    this.$rules = {
        "start" : [{
            token : "empty_line",
            regex : '^$'
        }, {
            defaultToken : "text"
        }]
    };
};

(function() {

    this.addRules = function(rules, prefix) {
        if (!prefix) {
            for (var key in rules)
                this.$rules[key] = rules[key];
            return;
        }
        for (var key in rules) {
            var state = rules[key];
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                if (rule.next || rule.onMatch) {
                    if (typeof rule.next == "string") {
                        if (rule.next.indexOf(prefix) !== 0)
                            rule.next = prefix + rule.next;
                    }
                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)
                        rule.nextState = prefix + rule.nextState;
                }
            }
            this.$rules[prefix + key] = state;
        }
    };

    this.getRules = function() {
        return this.$rules;
    };

    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {
        var embedRules = typeof HighlightRules == "function"
            ? new HighlightRules().getRules()
            : HighlightRules;
        if (states) {
            for (var i = 0; i < states.length; i++)
                states[i] = prefix + states[i];
        } else {
            states = [];
            for (var key in embedRules)
                states.push(prefix + key);
        }

        this.addRules(embedRules, prefix);

        if (escapeRules) {
            var addRules = Array.prototype[append ? "push" : "unshift"];
            for (var i = 0; i < states.length; i++)
                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));
        }

        if (!this.$embeds)
            this.$embeds = [];
        this.$embeds.push(prefix);
    };

    this.getEmbeds = function() {
        return this.$embeds;
    };

    var pushState = function(currentState, stack) {
        if (currentState != "start" || stack.length)
            stack.unshift(this.nextState, currentState);
        return this.nextState;
    };
    var popState = function(currentState, stack) {
        stack.shift();
        return stack.shift() || "start";
    };

    this.normalizeRules = function() {
        var id = 0;
        var rules = this.$rules;
        function processState(key) {
            var state = rules[key];
            state.processed = true;
            for (var i = 0; i < state.length; i++) {
                var rule = state[i];
                var toInsert = null;
                if (Array.isArray(rule)) {
                    toInsert = rule;
                    rule = {};
                }
                if (!rule.regex && rule.start) {
                    rule.regex = rule.start;
                    if (!rule.next)
                        rule.next = [];
                    rule.next.push({
                        defaultToken: rule.token
                    }, {
                        token: rule.token + ".end",
                        regex: rule.end || rule.start,
                        next: "pop"
                    });
                    rule.token = rule.token + ".start";
                    rule.push = true;
                }
                var next = rule.next || rule.push;
                if (next && Array.isArray(next)) {
                    var stateName = rule.stateName;
                    if (!stateName)  {
                        stateName = rule.token;
                        if (typeof stateName != "string")
                            stateName = stateName[0] || "";
                        if (rules[stateName])
                            stateName += id++;
                    }
                    rules[stateName] = next;
                    rule.next = stateName;
                    processState(stateName);
                } else if (next == "pop") {
                    rule.next = popState;
                }

                if (rule.push) {
                    rule.nextState = rule.next || rule.push;
                    rule.next = pushState;
                    delete rule.push;
                }

                if (rule.rules) {
                    for (var r in rule.rules) {
                        if (rules[r]) {
                            if (rules[r].push)
                                rules[r].push.apply(rules[r], rule.rules[r]);
                        } else {
                            rules[r] = rule.rules[r];
                        }
                    }
                }
                var includeName = typeof rule == "string" ? rule : rule.include;
                if (includeName) {
                    if (Array.isArray(includeName))
                        toInsert = includeName.map(function(x) { return rules[x]; });
                    else
                        toInsert = rules[includeName];
                }

                if (toInsert) {
                    var args = [i, 1].concat(toInsert);
                    if (rule.noEscape)
                        args = args.filter(function(x) {return !x.next;});
                    state.splice.apply(state, args);
                    i--;
                }
                
                if (rule.keywordMap) {
                    rule.token = this.createKeywordMapper(
                        rule.keywordMap, rule.defaultToken || "text", rule.caseInsensitive
                    );
                    delete rule.defaultToken;
                }
            }
        }
        Object.keys(rules).forEach(processState, this);
    };

    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {
        var keywords = Object.create(null);
        Object.keys(map).forEach(function(className) {
            var a = map[className];
            if (ignoreCase)
                a = a.toLowerCase();
            var list = a.split(splitChar || "|");
            for (var i = list.length; i--; )
                keywords[list[i]] = className;
        });
        if (Object.getPrototypeOf(keywords)) {
            keywords.__proto__ = null;
        }
        this.$keywordList = Object.keys(keywords);
        map = null;
        return ignoreCase
            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }
            : function(value) {return keywords[value] || defaultToken; };
    };

    this.getKeywords = function() {
        return this.$keywords;
    };

}).call(TextHighlightRules.prototype);

exports.TextHighlightRules = TextHighlightRules;
});

ace.define("ace/mode/behaviour",["require","exports","module"], function(acequire, exports, module) {
"use strict";

var Behaviour = function() {
   this.$behaviours = {};
};

(function () {

    this.add = function (name, action, callback) {
        switch (undefined) {
          case this.$behaviours:
              this.$behaviours = {};
          case this.$behaviours[name]:
              this.$behaviours[name] = {};
        }
        this.$behaviours[name][action] = callback;
    };
    
    this.addBehaviours = function (behaviours) {
        for (var key in behaviours) {
            for (var action in behaviours[key]) {
                this.add(key, action, behaviours[key][action]);
            }
        }
    };
    
    this.remove = function (name) {
        if (this.$behaviours && this.$behaviours[name]) {
            delete this.$behaviours[name];
        }
    };
    
    this.inherit = function (mode, filter) {
        if (typeof mode === "function") {
            var behaviours = new mode().getBehaviours(filter);
        } else {
            var behaviours = mode.getBehaviours(filter);
        }
        this.addBehaviours(behaviours);
    };
    
    this.getBehaviours = function (filter) {
        if (!filter) {
            return this.$behaviours;
        } else {
            var ret = {};
            for (var i = 0; i < filter.length; i++) {
                if (this.$behaviours[filter[i]]) {
                    ret[filter[i]] = this.$behaviours[filter[i]];
                }
            }
            return ret;
        }
    };

}).call(Behaviour.prototype);

exports.Behaviour = Behaviour;
});

ace.define("ace/token_iterator",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("./range").Range;
var TokenIterator = function(session, initialRow, initialColumn) {
    this.$session = session;
    this.$row = initialRow;
    this.$rowTokens = session.getTokens(initialRow);

    var token = session.getTokenAt(initialRow, initialColumn);
    this.$tokenIndex = token ? token.index : -1;
};

(function() { 
    this.stepBackward = function() {
        this.$tokenIndex -= 1;
        
        while (this.$tokenIndex < 0) {
            this.$row -= 1;
            if (this.$row < 0) {
                this.$row = 0;
                return null;
            }
                
            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = this.$rowTokens.length - 1;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };   
    this.stepForward = function() {
        this.$tokenIndex += 1;
        var rowCount;
        while (this.$tokenIndex >= this.$rowTokens.length) {
            this.$row += 1;
            if (!rowCount)
                rowCount = this.$session.getLength();
            if (this.$row >= rowCount) {
                this.$row = rowCount - 1;
                return null;
            }

            this.$rowTokens = this.$session.getTokens(this.$row);
            this.$tokenIndex = 0;
        }
            
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentToken = function () {
        return this.$rowTokens[this.$tokenIndex];
    };      
    this.getCurrentTokenRow = function () {
        return this.$row;
    };     
    this.getCurrentTokenColumn = function() {
        var rowTokens = this.$rowTokens;
        var tokenIndex = this.$tokenIndex;
        var column = rowTokens[tokenIndex].start;
        if (column !== undefined)
            return column;
            
        column = 0;
        while (tokenIndex > 0) {
            tokenIndex -= 1;
            column += rowTokens[tokenIndex].value.length;
        }
        
        return column;  
    };
    this.getCurrentTokenPosition = function() {
        return {row: this.$row, column: this.getCurrentTokenColumn()};
    };
    this.getCurrentTokenRange = function() {
        var token = this.$rowTokens[this.$tokenIndex];
        var column = this.getCurrentTokenColumn();
        return new Range(this.$row, column, this.$row, column + token.value.length);
    };

}).call(TokenIterator.prototype);

exports.TokenIterator = TokenIterator;
});

ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Behaviour = acequire("../behaviour").Behaviour;
var TokenIterator = acequire("../../token_iterator").TokenIterator;
var lang = acequire("../../lib/lang");

var SAFE_INSERT_IN_TOKENS =
    ["text", "paren.rparen", "punctuation.operator"];
var SAFE_INSERT_BEFORE_TOKENS =
    ["text", "paren.rparen", "punctuation.operator", "comment"];

var context;
var contextCache = {};
var defaultQuotes = {'"' : '"', "'" : "'"};

var initContext = function(editor) {
    var id = -1;
    if (editor.multiSelect) {
        id = editor.selection.index;
        if (contextCache.rangeCount != editor.multiSelect.rangeCount)
            contextCache = {rangeCount: editor.multiSelect.rangeCount};
    }
    if (contextCache[id])
        return context = contextCache[id];
    context = contextCache[id] = {
        autoInsertedBrackets: 0,
        autoInsertedRow: -1,
        autoInsertedLineEnd: "",
        maybeInsertedBrackets: 0,
        maybeInsertedRow: -1,
        maybeInsertedLineStart: "",
        maybeInsertedLineEnd: ""
    };
};

var getWrapped = function(selection, selected, opening, closing) {
    var rowDiff = selection.end.row - selection.start.row;
    return {
        text: opening + selected + closing,
        selection: [
                0,
                selection.start.column + 1,
                rowDiff,
                selection.end.column + (rowDiff ? 0 : 1)
            ]
    };
};

var CstyleBehaviour = function(options) {
    this.add("braces", "insertion", function(state, action, editor, session, text) {
        var cursor = editor.getCursorPosition();
        var line = session.doc.getLine(cursor.row);
        if (text == '{') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && selected !== "{" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '{', '}');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                if (/[\]\}\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {
                    CstyleBehaviour.recordAutoInsert(editor, session, "}");
                    return {
                        text: '{}',
                        selection: [1, 1]
                    };
                } else {
                    CstyleBehaviour.recordMaybeInsert(editor, session, "{");
                    return {
                        text: '{',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == '}') {
            initContext(editor);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == '}') {
                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        } else if (text == "\n" || text == "\r\n") {
            initContext(editor);
            var closing = "";
            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {
                closing = lang.stringRepeat("}", context.maybeInsertedBrackets);
                CstyleBehaviour.clearMaybeInsertedClosing();
            }
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar === '}') {
                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');
                if (!openBracePos)
                     return null;
                var next_indent = this.$getIndent(session.getLine(openBracePos.row));
            } else if (closing) {
                var next_indent = this.$getIndent(line);
            } else {
                CstyleBehaviour.clearMaybeInsertedClosing();
                return;
            }
            var indent = next_indent + session.getTabString();

            return {
                text: '\n' + indent + '\n' + next_indent + closing,
                selection: [1, indent.length, 1, indent.length]
            };
        } else {
            CstyleBehaviour.clearMaybeInsertedClosing();
        }
    });

    this.add("braces", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '{') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.end.column, range.end.column + 1);
            if (rightChar == '}') {
                range.end.column++;
                return range;
            } else {
                context.maybeInsertedBrackets--;
            }
        }
    });

    this.add("parens", "insertion", function(state, action, editor, session, text) {
        if (text == '(') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '(', ')');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, ")");
                return {
                    text: '()',
                    selection: [1, 1]
                };
            }
        } else if (text == ')') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ')') {
                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("parens", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '(') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ')') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("brackets", "insertion", function(state, action, editor, session, text) {
        if (text == '[') {
            initContext(editor);
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, '[', ']');
            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {
                CstyleBehaviour.recordAutoInsert(editor, session, "]");
                return {
                    text: '[]',
                    selection: [1, 1]
                };
            }
        } else if (text == ']') {
            initContext(editor);
            var cursor = editor.getCursorPosition();
            var line = session.doc.getLine(cursor.row);
            var rightChar = line.substring(cursor.column, cursor.column + 1);
            if (rightChar == ']') {
                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});
                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {
                    CstyleBehaviour.popAutoInsertedClosing();
                    return {
                        text: '',
                        selection: [1, 1]
                    };
                }
            }
        }
    });

    this.add("brackets", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && selected == '[') {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == ']') {
                range.end.column++;
                return range;
            }
        }
    });

    this.add("string_dquotes", "insertion", function(state, action, editor, session, text) {
        var quotes = session.$mode.$quotes || defaultQuotes;
        if (text.length == 1 && quotes[text]) {
            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1)
                return;
            initContext(editor);
            var quote = text;
            var selection = editor.getSelectionRange();
            var selected = session.doc.getTextRange(selection);
            if (selected !== "" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {
                return getWrapped(selection, selected, quote, quote);
            } else if (!selected) {
                var cursor = editor.getCursorPosition();
                var line = session.doc.getLine(cursor.row);
                var leftChar = line.substring(cursor.column-1, cursor.column);
                var rightChar = line.substring(cursor.column, cursor.column + 1);

                var token = session.getTokenAt(cursor.row, cursor.column);
                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);
                if (leftChar == "\\" && token && /escape/.test(token.type))
                    return null;

                var stringBefore = token && /string|escape/.test(token.type);
                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);

                var pair;
                if (rightChar == quote) {
                    pair = stringBefore !== stringAfter;
                    if (pair && /string\.end/.test(rightToken.type))
                        pair = false;
                } else {
                    if (stringBefore && !stringAfter)
                        return null; // wrap string with different quote
                    if (stringBefore && stringAfter)
                        return null; // do not pair quotes inside strings
                    var wordRe = session.$mode.tokenRe;
                    wordRe.lastIndex = 0;
                    var isWordBefore = wordRe.test(leftChar);
                    wordRe.lastIndex = 0;
                    var isWordAfter = wordRe.test(leftChar);
                    if (isWordBefore || isWordAfter)
                        return null; // before or after alphanumeric
                    if (rightChar && !/[\s;,.})\]\\]/.test(rightChar))
                        return null; // there is rightChar and it isn't closing
                    pair = true;
                }
                return {
                    text: pair ? quote + quote : "",
                    selection: [1,1]
                };
            }
        }
    });

    this.add("string_dquotes", "deletion", function(state, action, editor, session, range) {
        var selected = session.doc.getTextRange(range);
        if (!range.isMultiLine() && (selected == '"' || selected == "'")) {
            initContext(editor);
            var line = session.doc.getLine(range.start.row);
            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);
            if (rightChar == selected) {
                range.end.column++;
                return range;
            }
        }
    });

};


CstyleBehaviour.isSaneInsertion = function(editor, session) {
    var cursor = editor.getCursorPosition();
    var iterator = new TokenIterator(session, cursor.row, cursor.column);
    if (!this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS)) {
        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);
        if (!this.$matchTokenType(iterator2.getCurrentToken() || "text", SAFE_INSERT_IN_TOKENS))
            return false;
    }
    iterator.stepForward();
    return iterator.getCurrentTokenRow() !== cursor.row ||
        this.$matchTokenType(iterator.getCurrentToken() || "text", SAFE_INSERT_BEFORE_TOKENS);
};

CstyleBehaviour.$matchTokenType = function(token, types) {
    return types.indexOf(token.type || token) > -1;
};

CstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))
        context.autoInsertedBrackets = 0;
    context.autoInsertedRow = cursor.row;
    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);
    context.autoInsertedBrackets++;
};

CstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {
    var cursor = editor.getCursorPosition();
    var line = session.doc.getLine(cursor.row);
    if (!this.isMaybeInsertedClosing(cursor, line))
        context.maybeInsertedBrackets = 0;
    context.maybeInsertedRow = cursor.row;
    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;
    context.maybeInsertedLineEnd = line.substr(cursor.column);
    context.maybeInsertedBrackets++;
};

CstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {
    return context.autoInsertedBrackets > 0 &&
        cursor.row === context.autoInsertedRow &&
        bracket === context.autoInsertedLineEnd[0] &&
        line.substr(cursor.column) === context.autoInsertedLineEnd;
};

CstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {
    return context.maybeInsertedBrackets > 0 &&
        cursor.row === context.maybeInsertedRow &&
        line.substr(cursor.column) === context.maybeInsertedLineEnd &&
        line.substr(0, cursor.column) == context.maybeInsertedLineStart;
};

CstyleBehaviour.popAutoInsertedClosing = function() {
    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);
    context.autoInsertedBrackets--;
};

CstyleBehaviour.clearMaybeInsertedClosing = function() {
    if (context) {
        context.maybeInsertedBrackets = 0;
        context.maybeInsertedRow = -1;
    }
};



oop.inherits(CstyleBehaviour, Behaviour);

exports.CstyleBehaviour = CstyleBehaviour;
});

ace.define("ace/unicode",["require","exports","module"], function(acequire, exports, module) {
"use strict";
exports.packages = {};

addUnicodePackage({
    L:  "0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    Ll: "0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",
    Lu: "0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",
    Lt: "01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",
    Lm: "02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",
    Lo: "01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",
    M:  "0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",
    Mn: "0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",
    Mc: "0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",
    Me: "0488048906DE20DD-20E020E2-20E4A670-A672",
    N:  "0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nd: "0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",
    Nl: "16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",
    No: "00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",
    P:  "0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",
    Pd: "002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",
    Ps: "0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",
    Pe: "0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",
    Pi: "00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",
    Pf: "00BB2019201D203A2E032E052E0A2E0D2E1D2E21",
    Pc: "005F203F20402054FE33FE34FE4D-FE4FFF3F",
    Po: "0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",
    S:  "0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",
    Sm: "002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",
    Sc: "002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",
    Sk: "005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",
    So: "00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",
    Z:  "002000A01680180E2000-200A20282029202F205F3000",
    Zs: "002000A01680180E2000-200A202F205F3000",
    Zl: "2028",
    Zp: "2029",
    C:  "0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",
    Cc: "0000-001F007F-009F",
    Cf: "00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",
    Co: "E000-F8FF",
    Cs: "D800-DFFF",
    Cn: "03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"
});

function addUnicodePackage (pack) {
    var codePoint = /\w{4}/g;
    for (var name in pack)
        exports.packages[name] = pack[name].replace(codePoint, "\\u$&");
}

});

ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"], function(acequire, exports, module) {
"use strict";

var Tokenizer = acequire("../tokenizer").Tokenizer;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var unicode = acequire("../unicode");
var lang = acequire("../lib/lang");
var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;

var Mode = function() {
    this.HighlightRules = TextHighlightRules;
};

(function() {
    this.$defaultBehaviour = new CstyleBehaviour();

    this.tokenRe = new RegExp("^["
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]+", "g"
    );

    this.nonTokenRe = new RegExp("^(?:[^"
        + unicode.packages.L
        + unicode.packages.Mn + unicode.packages.Mc
        + unicode.packages.Nd
        + unicode.packages.Pc + "\\$_]|\\s])+", "g"
    );

    this.getTokenizer = function() {
        if (!this.$tokenizer) {
            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);
            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());
        }
        return this.$tokenizer;
    };

    this.lineCommentStart = "";
    this.blockComment = "";

    this.toggleCommentLines = function(state, session, startRow, endRow) {
        var doc = session.doc;

        var ignoreBlankLines = true;
        var shouldRemove = true;
        var minIndent = Infinity;
        var tabSize = session.getTabSize();
        var insertAtTabStop = false;

        if (!this.lineCommentStart) {
            if (!this.blockComment)
                return false;
            var lineCommentStart = this.blockComment.start;
            var lineCommentEnd = this.blockComment.end;
            var regexpStart = new RegExp("^(\\s*)(?:" + lang.escapeRegExp(lineCommentStart) + ")");
            var regexpEnd = new RegExp("(?:" + lang.escapeRegExp(lineCommentEnd) + ")\\s*$");

            var comment = function(line, i) {
                if (testRemove(line, i))
                    return;
                if (!ignoreBlankLines || /\S/.test(line)) {
                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);
                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };

            var uncomment = function(line, i) {
                var m;
                if (m = line.match(regexpEnd))
                    doc.removeInLine(i, line.length - m[0].length, line.length);
                if (m = line.match(regexpStart))
                    doc.removeInLine(i, m[1].length, m[0].length);
            };

            var testRemove = function(line, row) {
                if (regexpStart.test(line))
                    return true;
                var tokens = session.getTokens(row);
                for (var i = 0; i < tokens.length; i++) {
                    if (tokens[i].type === "comment")
                        return true;
                }
            };
        } else {
            if (Array.isArray(this.lineCommentStart)) {
                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join("|");
                var lineCommentStart = this.lineCommentStart[0];
            } else {
                var regexpStart = lang.escapeRegExp(this.lineCommentStart);
                var lineCommentStart = this.lineCommentStart;
            }
            regexpStart = new RegExp("^(\\s*)(?:" + regexpStart + ") ?");
            
            insertAtTabStop = session.getUseSoftTabs();

            var uncomment = function(line, i) {
                var m = line.match(regexpStart);
                if (!m) return;
                var start = m[1].length, end = m[0].length;
                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == " ")
                    end--;
                doc.removeInLine(i, start, end);
            };
            var commentWithSpace = lineCommentStart + " ";
            var comment = function(line, i) {
                if (!ignoreBlankLines || /\S/.test(line)) {
                    if (shouldInsertSpace(line, minIndent, minIndent))
                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);
                    else
                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);
                }
            };
            var testRemove = function(line, i) {
                return regexpStart.test(line);
            };
            
            var shouldInsertSpace = function(line, before, after) {
                var spaces = 0;
                while (before-- && line.charAt(before) == " ")
                    spaces++;
                if (spaces % tabSize != 0)
                    return false;
                var spaces = 0;
                while (line.charAt(after++) == " ")
                    spaces++;
                if (tabSize > 2)
                    return spaces % tabSize != tabSize - 1;
                else
                    return spaces % tabSize == 0;
                return true;
            };
        }

        function iter(fun) {
            for (var i = startRow; i <= endRow; i++)
                fun(doc.getLine(i), i);
        }


        var minEmptyLength = Infinity;
        iter(function(line, i) {
            var indent = line.search(/\S/);
            if (indent !== -1) {
                if (indent < minIndent)
                    minIndent = indent;
                if (shouldRemove && !testRemove(line, i))
                    shouldRemove = false;
            } else if (minEmptyLength > line.length) {
                minEmptyLength = line.length;
            }
        });

        if (minIndent == Infinity) {
            minIndent = minEmptyLength;
            ignoreBlankLines = false;
            shouldRemove = false;
        }

        if (insertAtTabStop && minIndent % tabSize != 0)
            minIndent = Math.floor(minIndent / tabSize) * tabSize;

        iter(shouldRemove ? uncomment : comment);
    };

    this.toggleBlockComment = function(state, session, range, cursor) {
        var comment = this.blockComment;
        if (!comment)
            return;
        if (!comment.start && comment[0])
            comment = comment[0];

        var iterator = new TokenIterator(session, cursor.row, cursor.column);
        var token = iterator.getCurrentToken();

        var sel = session.selection;
        var initialRange = session.selection.toOrientedRange();
        var startRow, colDiff;

        if (token && /comment/.test(token.type)) {
            var startRange, endRange;
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.start);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    startRange = new Range(row, column, row, column + comment.start.length);
                    break;
                }
                token = iterator.stepBackward();
            }

            var iterator = new TokenIterator(session, cursor.row, cursor.column);
            var token = iterator.getCurrentToken();
            while (token && /comment/.test(token.type)) {
                var i = token.value.indexOf(comment.end);
                if (i != -1) {
                    var row = iterator.getCurrentTokenRow();
                    var column = iterator.getCurrentTokenColumn() + i;
                    endRange = new Range(row, column, row, column + comment.end.length);
                    break;
                }
                token = iterator.stepForward();
            }
            if (endRange)
                session.remove(endRange);
            if (startRange) {
                session.remove(startRange);
                startRow = startRange.start.row;
                colDiff = -comment.start.length;
            }
        } else {
            colDiff = comment.start.length;
            startRow = range.start.row;
            session.insert(range.end, comment.end);
            session.insert(range.start, comment.start);
        }
        if (initialRange.start.row == startRow)
            initialRange.start.column += colDiff;
        if (initialRange.end.row == startRow)
            initialRange.end.column += colDiff;
        session.selection.fromOrientedRange(initialRange);
    };

    this.getNextLineIndent = function(state, line, tab) {
        return this.$getIndent(line);
    };

    this.checkOutdent = function(state, line, input) {
        return false;
    };

    this.autoOutdent = function(state, doc, row) {
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

    this.createWorker = function(session) {
        return null;
    };

    this.createModeDelegates = function (mapping) {
        this.$embeds = [];
        this.$modes = {};
        for (var i in mapping) {
            if (mapping[i]) {
                this.$embeds.push(i);
                this.$modes[i] = new mapping[i]();
            }
        }

        var delegations = ["toggleBlockComment", "toggleCommentLines", "getNextLineIndent", 
            "checkOutdent", "autoOutdent", "transformAction", "getCompletions"];

        for (var i = 0; i < delegations.length; i++) {
            (function(scope) {
              var functionName = delegations[i];
              var defaultHandler = scope[functionName];
              scope[delegations[i]] = function() {
                  return this.$delegator(functionName, arguments, defaultHandler);
              };
            }(this));
        }
    };

    this.$delegator = function(method, args, defaultHandler) {
        var state = args[0];
        if (typeof state != "string")
            state = state[0];
        for (var i = 0; i < this.$embeds.length; i++) {
            if (!this.$modes[this.$embeds[i]]) continue;

            var split = state.split(this.$embeds[i]);
            if (!split[0] && split[1]) {
                args[0] = split[1];
                var mode = this.$modes[this.$embeds[i]];
                return mode[method].apply(mode, args);
            }
        }
        var ret = defaultHandler.apply(this, args);
        return defaultHandler ? ret : undefined;
    };

    this.transformAction = function(state, action, editor, session, param) {
        if (this.$behaviour) {
            var behaviours = this.$behaviour.getBehaviours();
            for (var key in behaviours) {
                if (behaviours[key][action]) {
                    var ret = behaviours[key][action].apply(this, arguments);
                    if (ret) {
                        return ret;
                    }
                }
            }
        }
    };
    
    this.getKeywords = function(append) {
        if (!this.completionKeywords) {
            var rules = this.$tokenizer.rules;
            var completionKeywords = [];
            for (var rule in rules) {
                var ruleItr = rules[rule];
                for (var r = 0, l = ruleItr.length; r < l; r++) {
                    if (typeof ruleItr[r].token === "string") {
                        if (/keyword|support|storage/.test(ruleItr[r].token))
                            completionKeywords.push(ruleItr[r].regex);
                    }
                    else if (typeof ruleItr[r].token === "object") {
                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    
                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {
                                var rule = ruleItr[r].regex.match(/\(.+?\)/g)[a];
                                completionKeywords.push(rule.substr(1, rule.length - 2));
                            }
                        }
                    }
                }
            }
            this.completionKeywords = completionKeywords;
        }
        if (!append)
            return this.$keywordList;
        return completionKeywords.concat(this.$keywordList || []);
    };
    
    this.$createKeywordList = function() {
        if (!this.$highlightRules)
            this.getTokenizer();
        return this.$keywordList = this.$highlightRules.$keywordList || [];
    };

    this.getCompletions = function(state, session, pos, prefix) {
        var keywords = this.$keywordList || this.$createKeywordList();
        return keywords.map(function(word) {
            return {
                name: word,
                value: word,
                score: 0,
                meta: "keyword"
            };
        });
    };

    this.$id = "ace/mode/text";
}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define("ace/apply_delta",["require","exports","module"], function(acequire, exports, module) {
"use strict";

function throwDeltaError(delta, errorText){
    console.log("Invalid Delta:", delta);
    throw "Invalid Delta: " + errorText;
}

function positionInDocument(docLines, position) {
    return position.row    >= 0 && position.row    <  docLines.length &&
           position.column >= 0 && position.column <= docLines[position.row].length;
}

function validateDelta(docLines, delta) {
    if (delta.action != "insert" && delta.action != "remove")
        throwDeltaError(delta, "delta.action must be 'insert' or 'remove'");
    if (!(delta.lines instanceof Array))
        throwDeltaError(delta, "delta.lines must be an Array");
    if (!delta.start || !delta.end)
       throwDeltaError(delta, "delta.start/end must be an present");
    var start = delta.start;
    if (!positionInDocument(docLines, delta.start))
        throwDeltaError(delta, "delta.start must be contained in document");
    var end = delta.end;
    if (delta.action == "remove" && !positionInDocument(docLines, end))
        throwDeltaError(delta, "delta.end must contained in document for 'remove' actions");
    var numRangeRows = end.row - start.row;
    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));
    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)
        throwDeltaError(delta, "delta.range must match delta lines");
}

exports.applyDelta = function(docLines, delta, doNotValidate) {
    
    var row = delta.start.row;
    var startColumn = delta.start.column;
    var line = docLines[row] || "";
    switch (delta.action) {
        case "insert":
            var lines = delta.lines;
            if (lines.length === 1) {
                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);
            } else {
                var args = [row, 1].concat(delta.lines);
                docLines.splice.apply(docLines, args);
                docLines[row] = line.substring(0, startColumn) + docLines[row];
                docLines[row + delta.lines.length - 1] += line.substring(startColumn);
            }
            break;
        case "remove":
            var endColumn = delta.end.column;
            var endRow = delta.end.row;
            if (row === endRow) {
                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);
            } else {
                docLines.splice(
                    row, endRow - row + 1,
                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)
                );
            }
            break;
    }
};
});

ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var Anchor = exports.Anchor = function(doc, row, column) {
    this.$onChange = this.onChange.bind(this);
    this.attach(doc);
    
    if (typeof column == "undefined")
        this.setPosition(row.row, row.column);
    else
        this.setPosition(row, column);
};

(function() {

    oop.implement(this, EventEmitter);
    this.getPosition = function() {
        return this.$clipPositionToDocument(this.row, this.column);
    };
    this.getDocument = function() {
        return this.document;
    };
    this.$insertRight = false;
    this.onChange = function(delta) {
        if (delta.start.row == delta.end.row && delta.start.row != this.row)
            return;

        if (delta.start.row > this.row)
            return;
            
        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);
        this.setPosition(point.row, point.column, true);
    };
    
    function $pointsInOrder(point1, point2, equalPointsInOrder) {
        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;
        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);
    }
            
    function $getTransformedPoint(delta, point, moveIfEqual) {
        var deltaIsInsert = delta.action == "insert";
        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);
        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);
        var deltaStart = delta.start;
        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.
        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {
            return {
                row: point.row,
                column: point.column
            };
        }
        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {
            return {
                row: point.row + deltaRowShift,
                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)
            };
        }
        
        return {
            row: deltaStart.row,
            column: deltaStart.column
        };
    }
    this.setPosition = function(row, column, noClip) {
        var pos;
        if (noClip) {
            pos = {
                row: row,
                column: column
            };
        } else {
            pos = this.$clipPositionToDocument(row, column);
        }

        if (this.row == pos.row && this.column == pos.column)
            return;

        var old = {
            row: this.row,
            column: this.column
        };

        this.row = pos.row;
        this.column = pos.column;
        this._signal("change", {
            old: old,
            value: pos
        });
    };
    this.detach = function() {
        this.document.removeEventListener("change", this.$onChange);
    };
    this.attach = function(doc) {
        this.document = doc || this.document;
        this.document.on("change", this.$onChange);
    };
    this.$clipPositionToDocument = function(row, column) {
        var pos = {};

        if (row >= this.document.getLength()) {
            pos.row = Math.max(0, this.document.getLength() - 1);
            pos.column = this.document.getLine(pos.row).length;
        }
        else if (row < 0) {
            pos.row = 0;
            pos.column = 0;
        }
        else {
            pos.row = row;
            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));
        }

        if (column < 0)
            pos.column = 0;

        return pos;
    };

}).call(Anchor.prototype);

});

ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var applyDelta = acequire("./apply_delta").applyDelta;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Range = acequire("./range").Range;
var Anchor = acequire("./anchor").Anchor;

var Document = function(textOrLines) {
    this.$lines = [""];
    if (textOrLines.length === 0) {
        this.$lines = [""];
    } else if (Array.isArray(textOrLines)) {
        this.insertMergedLines({row: 0, column: 0}, textOrLines);
    } else {
        this.insert({row: 0, column:0}, textOrLines);
    }
};

(function() {

    oop.implement(this, EventEmitter);
    this.setValue = function(text) {
        var len = this.getLength() - 1;
        this.remove(new Range(0, 0, len, this.getLine(len).length));
        this.insert({row: 0, column: 0}, text);
    };
    this.getValue = function() {
        return this.getAllLines().join(this.getNewLineCharacter());
    };
    this.createAnchor = function(row, column) {
        return new Anchor(this, row, column);
    };
    if ("aaa".split(/a/).length === 0) {
        this.$split = function(text) {
            return text.replace(/\r\n|\r/g, "\n").split("\n");
        };
    } else {
        this.$split = function(text) {
            return text.split(/\r\n|\r|\n/);
        };
    }


    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r\n|\r|\n)/m);
        this.$autoNewLine = match ? match[1] : "\n";
        this._signal("changeNewLineMode");
    };
    this.getNewLineCharacter = function() {
        switch (this.$newLineMode) {
          case "windows":
            return "\r\n";
          case "unix":
            return "\n";
          default:
            return this.$autoNewLine || "\n";
        }
    };

    this.$autoNewLine = "";
    this.$newLineMode = "auto";
    this.setNewLineMode = function(newLineMode) {
        if (this.$newLineMode === newLineMode)
            return;

        this.$newLineMode = newLineMode;
        this._signal("changeNewLineMode");
    };
    this.getNewLineMode = function() {
        return this.$newLineMode;
    };
    this.isNewLine = function(text) {
        return (text == "\r\n" || text == "\r" || text == "\n");
    };
    this.getLine = function(row) {
        return this.$lines[row] || "";
    };
    this.getLines = function(firstRow, lastRow) {
        return this.$lines.slice(firstRow, lastRow + 1);
    };
    this.getAllLines = function() {
        return this.getLines(0, this.getLength());
    };
    this.getLength = function() {
        return this.$lines.length;
    };
    this.getTextRange = function(range) {
        return this.getLinesForRange(range).join(this.getNewLineCharacter());
    };
    this.getLinesForRange = function(range) {
        var lines;
        if (range.start.row === range.end.row) {
            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];
        } else {
            lines = this.getLines(range.start.row, range.end.row);
            lines[0] = (lines[0] || "").substring(range.start.column);
            var l = lines.length - 1;
            if (range.end.row - range.start.row == l)
                lines[l] = lines[l].substring(0, range.end.column);
        }
        return lines;
    };
    this.insertLines = function(row, lines) {
        console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead.");
        return this.insertFullLines(row, lines);
    };
    this.removeLines = function(firstRow, lastRow) {
        console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead.");
        return this.removeFullLines(firstRow, lastRow);
    };
    this.insertNewLine = function(position) {
        console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.");
        return this.insertMergedLines(position, ["", ""]);
    };
    this.insert = function(position, text) {
        if (this.getLength() <= 1)
            this.$detectNewLine(text);
        
        return this.insertMergedLines(position, this.$split(text));
    };
    this.insertInLine = function(position, text) {
        var start = this.clippedPos(position.row, position.column);
        var end = this.pos(position.row, position.column + text.length);
        
        this.applyDelta({
            start: start,
            end: end,
            action: "insert",
            lines: [text]
        }, true);
        
        return this.clonePos(end);
    };
    
    this.clippedPos = function(row, column) {
        var length = this.getLength();
        if (row === undefined) {
            row = length;
        } else if (row < 0) {
            row = 0;
        } else if (row >= length) {
            row = length - 1;
            column = undefined;
        }
        var line = this.getLine(row);
        if (column == undefined)
            column = line.length;
        column = Math.min(Math.max(column, 0), line.length);
        return {row: row, column: column};
    };
    
    this.clonePos = function(pos) {
        return {row: pos.row, column: pos.column};
    };
    
    this.pos = function(row, column) {
        return {row: row, column: column};
    };
    
    this.$clipPosition = function(position) {
        var length = this.getLength();
        if (position.row >= length) {
            position.row = Math.max(0, length - 1);
            position.column = this.getLine(length - 1).length;
        } else {
            position.row = Math.max(0, position.row);
            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);
        }
        return position;
    };
    this.insertFullLines = function(row, lines) {
        row = Math.min(Math.max(row, 0), this.getLength());
        var column = 0;
        if (row < this.getLength()) {
            lines = lines.concat([""]);
            column = 0;
        } else {
            lines = [""].concat(lines);
            row--;
            column = this.$lines[row].length;
        }
        this.insertMergedLines({row: row, column: column}, lines);
    };    
    this.insertMergedLines = function(position, lines) {
        var start = this.clippedPos(position.row, position.column);
        var end = {
            row: start.row + lines.length - 1,
            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length
        };
        
        this.applyDelta({
            start: start,
            end: end,
            action: "insert",
            lines: lines
        });
        
        return this.clonePos(end);
    };
    this.remove = function(range) {
        var start = this.clippedPos(range.start.row, range.start.column);
        var end = this.clippedPos(range.end.row, range.end.column);
        this.applyDelta({
            start: start,
            end: end,
            action: "remove",
            lines: this.getLinesForRange({start: start, end: end})
        });
        return this.clonePos(start);
    };
    this.removeInLine = function(row, startColumn, endColumn) {
        var start = this.clippedPos(row, startColumn);
        var end = this.clippedPos(row, endColumn);
        
        this.applyDelta({
            start: start,
            end: end,
            action: "remove",
            lines: this.getLinesForRange({start: start, end: end})
        }, true);
        
        return this.clonePos(start);
    };
    this.removeFullLines = function(firstRow, lastRow) {
        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);
        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);
        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;
        var deleteLastNewLine  = lastRow  < this.getLength() - 1;
        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );
        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );
        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );
        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); 
        var range = new Range(startRow, startCol, endRow, endCol);
        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);
        
        this.applyDelta({
            start: range.start,
            end: range.end,
            action: "remove",
            lines: this.getLinesForRange(range)
        });
        return deletedLines;
    };
    this.removeNewLine = function(row) {
        if (row < this.getLength() - 1 && row >= 0) {
            this.applyDelta({
                start: this.pos(row, this.getLine(row).length),
                end: this.pos(row + 1, 0),
                action: "remove",
                lines: ["", ""]
            });
        }
    };
    this.replace = function(range, text) {
        if (!(range instanceof Range))
            range = Range.fromPoints(range.start, range.end);
        if (text.length === 0 && range.isEmpty())
            return range.start;
        if (text == this.getTextRange(range))
            return range.end;

        this.remove(range);
        var end;
        if (text) {
            end = this.insert(range.start, text);
        }
        else {
            end = range.start;
        }
        
        return end;
    };
    this.applyDeltas = function(deltas) {
        for (var i=0; i<deltas.length; i++) {
            this.applyDelta(deltas[i]);
        }
    };
    this.revertDeltas = function(deltas) {
        for (var i=deltas.length-1; i>=0; i--) {
            this.revertDelta(deltas[i]);
        }
    };
    this.applyDelta = function(delta, doNotValidate) {
        var isInsert = delta.action == "insert";
        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]
            : !Range.comparePoints(delta.start, delta.end)) {
            return;
        }
        
        if (isInsert && delta.lines.length > 20000)
            this.$splitAndapplyLargeDelta(delta, 20000);
        applyDelta(this.$lines, delta, doNotValidate);
        this._signal("change", delta);
    };
    
    this.$splitAndapplyLargeDelta = function(delta, MAX) {
        var lines = delta.lines;
        var l = lines.length;
        var row = delta.start.row; 
        var column = delta.start.column;
        var from = 0, to = 0;
        do {
            from = to;
            to += MAX - 1;
            var chunk = lines.slice(from, to);
            if (to > l) {
                delta.lines = chunk;
                delta.start.row = row + from;
                delta.start.column = column;
                break;
            }
            chunk.push("");
            this.applyDelta({
                start: this.pos(row + from, column),
                end: this.pos(row + to, column = 0),
                action: delta.action,
                lines: chunk
            }, true);
        } while(true);
    };
    this.revertDelta = function(delta) {
        this.applyDelta({
            start: this.clonePos(delta.start),
            end: this.clonePos(delta.end),
            action: (delta.action == "insert" ? "remove" : "insert"),
            lines: delta.lines.slice()
        });
    };
    this.indexToPosition = function(index, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        for (var i = startRow || 0, l = lines.length; i < l; i++) {
            index -= lines[i].length + newlineLength;
            if (index < 0)
                return {row: i, column: index + lines[i].length + newlineLength};
        }
        return {row: l-1, column: lines[l-1].length};
    };
    this.positionToIndex = function(pos, startRow) {
        var lines = this.$lines || this.getAllLines();
        var newlineLength = this.getNewLineCharacter().length;
        var index = 0;
        var row = Math.min(pos.row, lines.length);
        for (var i = startRow || 0; i < row; ++i)
            index += lines[i].length + newlineLength;

        return index + pos.column;
    };

}).call(Document.prototype);

exports.Document = Document;
});

ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;

var BackgroundTokenizer = function(tokenizer, editor) {
    this.running = false;
    this.lines = [];
    this.states = [];
    this.currentLine = 0;
    this.tokenizer = tokenizer;

    var self = this;

    this.$worker = function() {
        if (!self.running) { return; }

        var workerStart = new Date();
        var currentLine = self.currentLine;
        var endLine = -1;
        var doc = self.doc;

        var startLine = currentLine;
        while (self.lines[currentLine])
            currentLine++;
        
        var len = doc.getLength();
        var processedLines = 0;
        self.running = false;
        while (currentLine < len) {
            self.$tokenizeRow(currentLine);
            endLine = currentLine;
            do {
                currentLine++;
            } while (self.lines[currentLine]);
            processedLines ++;
            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {                
                self.running = setTimeout(self.$worker, 20);
                break;
            }
        }
        self.currentLine = currentLine;
        
        if (endLine == -1)
            endLine = currentLine;

        if (startLine <= endLine)
            self.fireUpdateEvent(startLine, endLine);
    };
};

(function(){

    oop.implement(this, EventEmitter);
    this.setTokenizer = function(tokenizer) {
        this.tokenizer = tokenizer;
        this.lines = [];
        this.states = [];

        this.start(0);
    };
    this.setDocument = function(doc) {
        this.doc = doc;
        this.lines = [];
        this.states = [];

        this.stop();
    };
    this.fireUpdateEvent = function(firstRow, lastRow) {
        var data = {
            first: firstRow,
            last: lastRow
        };
        this._signal("update", {data: data});
    };
    this.start = function(startRow) {
        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());
        this.lines.splice(this.currentLine, this.lines.length);
        this.states.splice(this.currentLine, this.states.length);

        this.stop();
        this.running = setTimeout(this.$worker, 700);
    };
    
    this.scheduleStart = function() {
        if (!this.running)
            this.running = setTimeout(this.$worker, 700);
    };

    this.$updateOnChange = function(delta) {
        var startRow = delta.start.row;
        var len = delta.end.row - startRow;

        if (len === 0) {
            this.lines[startRow] = null;
        } else if (delta.action == "remove") {
            this.lines.splice(startRow, len + 1, null);
            this.states.splice(startRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(startRow, 1);
            this.lines.splice.apply(this.lines, args);
            this.states.splice.apply(this.states, args);
        }

        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());

        this.stop();
    };
    this.stop = function() {
        if (this.running)
            clearTimeout(this.running);
        this.running = false;
    };
    this.getTokens = function(row) {
        return this.lines[row] || this.$tokenizeRow(row);
    };
    this.getState = function(row) {
        if (this.currentLine == row)
            this.$tokenizeRow(row);
        return this.states[row] || "start";
    };

    this.$tokenizeRow = function(row) {
        var line = this.doc.getLine(row);
        var state = this.states[row - 1];

        var data = this.tokenizer.getLineTokens(line, state, row);

        if (this.states[row] + "" !== data.state + "") {
            this.states[row] = data.state;
            this.lines[row + 1] = null;
            if (this.currentLine > row + 1)
                this.currentLine = row + 1;
        } else if (this.currentLine == row) {
            this.currentLine = row + 1;
        }

        return this.lines[row] = data.tokens;
    };

}).call(BackgroundTokenizer.prototype);

exports.BackgroundTokenizer = BackgroundTokenizer;
});

ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var SearchHighlight = function(regExp, clazz, type) {
    this.setRegexp(regExp);
    this.clazz = clazz;
    this.type = type || "text";
};

(function() {
    this.MAX_RANGES = 500;
    
    this.setRegexp = function(regExp) {
        if (this.regExp+"" == regExp+"")
            return;
        this.regExp = regExp;
        this.cache = [];
    };

    this.update = function(html, markerLayer, session, config) {
        if (!this.regExp)
            return;
        var start = config.firstRow, end = config.lastRow;

        for (var i = start; i <= end; i++) {
            var ranges = this.cache[i];
            if (ranges == null) {
                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);
                if (ranges.length > this.MAX_RANGES)
                    ranges = ranges.slice(0, this.MAX_RANGES);
                ranges = ranges.map(function(match) {
                    return new Range(i, match.offset, i, match.offset + match.length);
                });
                this.cache[i] = ranges.length ? ranges : "";
            }

            for (var j = ranges.length; j --; ) {
                markerLayer.drawSingleLineMarker(
                    html, ranges[j].toScreenRange(session), this.clazz, config);
            }
        }
    };

}).call(SearchHighlight.prototype);

exports.SearchHighlight = SearchHighlight;
});

ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
function FoldLine(foldData, folds) {
    this.foldData = foldData;
    if (Array.isArray(folds)) {
        this.folds = folds;
    } else {
        folds = this.folds = [ folds ];
    }

    var last = folds[folds.length - 1];
    this.range = new Range(folds[0].start.row, folds[0].start.column,
                           last.end.row, last.end.column);
    this.start = this.range.start;
    this.end   = this.range.end;

    this.folds.forEach(function(fold) {
        fold.setFoldLine(this);
    }, this);
}

(function() {
    this.shiftRow = function(shift) {
        this.start.row += shift;
        this.end.row += shift;
        this.folds.forEach(function(fold) {
            fold.start.row += shift;
            fold.end.row += shift;
        });
    };

    this.addFold = function(fold) {
        if (fold.sameRow) {
            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {
                throw new Error("Can't add a fold to this FoldLine as it has no connection");
            }
            this.folds.push(fold);
            this.folds.sort(function(a, b) {
                return -a.range.compareEnd(b.start.row, b.start.column);
            });
            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {
                this.end.row = fold.end.row;
                this.end.column =  fold.end.column;
            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {
                this.start.row = fold.start.row;
                this.start.column = fold.start.column;
            }
        } else if (fold.start.row == this.end.row) {
            this.folds.push(fold);
            this.end.row = fold.end.row;
            this.end.column = fold.end.column;
        } else if (fold.end.row == this.start.row) {
            this.folds.unshift(fold);
            this.start.row = fold.start.row;
            this.start.column = fold.start.column;
        } else {
            throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
        }
        fold.foldLine = this;
    };

    this.containsRow = function(row) {
        return row >= this.start.row && row <= this.end.row;
    };

    this.walk = function(callback, endRow, endColumn) {
        var lastEnd = 0,
            folds = this.folds,
            fold,
            cmp, stop, isNewRow = true;

        if (endRow == null) {
            endRow = this.end.row;
            endColumn = this.end.column;
        }

        for (var i = 0; i < folds.length; i++) {
            fold = folds[i];

            cmp = fold.range.compareStart(endRow, endColumn);
            if (cmp == -1) {
                callback(null, endRow, endColumn, lastEnd, isNewRow);
                return;
            }

            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);
            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);
            if (stop || cmp === 0) {
                return;
            }
            isNewRow = !fold.sameRow;
            lastEnd = fold.end.column;
        }
        callback(null, endRow, endColumn, lastEnd, isNewRow);
    };

    this.getNextFoldTo = function(row, column) {
        var fold, cmp;
        for (var i = 0; i < this.folds.length; i++) {
            fold = this.folds[i];
            cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                return {
                    fold: fold,
                    kind: "after"
                };
            } else if (cmp === 0) {
                return {
                    fold: fold,
                    kind: "inside"
                };
            }
        }
        return null;
    };

    this.addRemoveChars = function(row, column, len) {
        var ret = this.getNextFoldTo(row, column),
            fold, folds;
        if (ret) {
            fold = ret.fold;
            if (ret.kind == "inside"
                && fold.start.column != column
                && fold.start.row != row)
            {
                window.console && window.console.log(row, column, fold);
            } else if (fold.start.row == row) {
                folds = this.folds;
                var i = folds.indexOf(fold);
                if (i === 0) {
                    this.start.column += len;
                }
                for (i; i < folds.length; i++) {
                    fold = folds[i];
                    fold.start.column += len;
                    if (!fold.sameRow) {
                        return;
                    }
                    fold.end.column += len;
                }
                this.end.column += len;
            }
        }
    };

    this.split = function(row, column) {
        var pos = this.getNextFoldTo(row, column);
        
        if (!pos || pos.kind == "inside")
            return null;
            
        var fold = pos.fold;
        var folds = this.folds;
        var foldData = this.foldData;
        
        var i = folds.indexOf(fold);
        var foldBefore = folds[i - 1];
        this.end.row = foldBefore.end.row;
        this.end.column = foldBefore.end.column;
        folds = folds.splice(i, folds.length - i);

        var newFoldLine = new FoldLine(foldData, folds);
        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);
        return newFoldLine;
    };

    this.merge = function(foldLineNext) {
        var folds = foldLineNext.folds;
        for (var i = 0; i < folds.length; i++) {
            this.addFold(folds[i]);
        }
        var foldData = this.foldData;
        foldData.splice(foldData.indexOf(foldLineNext), 1);
    };

    this.toString = function() {
        var ret = [this.range.toString() + ": [" ];

        this.folds.forEach(function(fold) {
            ret.push("  " + fold.toString());
        });
        ret.push("]");
        return ret.join("\n");
    };

    this.idxToPosition = function(idx) {
        var lastFoldEndColumn = 0;

        for (var i = 0; i < this.folds.length; i++) {
            var fold = this.folds[i];

            idx -= fold.start.column - lastFoldEndColumn;
            if (idx < 0) {
                return {
                    row: fold.start.row,
                    column: fold.start.column + idx
                };
            }

            idx -= fold.placeholder.length;
            if (idx < 0) {
                return fold.start;
            }

            lastFoldEndColumn = fold.end.column;
        }

        return {
            row: this.end.row,
            column: this.end.column + idx
        };
    };
}).call(FoldLine.prototype);

exports.FoldLine = FoldLine;
});

ace.define("ace/range_list",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";
var Range = acequire("./range").Range;
var comparePoints = Range.comparePoints;

var RangeList = function() {
    this.ranges = [];
};

(function() {
    this.comparePoints = comparePoints;

    this.pointIndex = function(pos, excludeEdges, startIndex) {
        var list = this.ranges;

        for (var i = startIndex || 0; i < list.length; i++) {
            var range = list[i];
            var cmpEnd = comparePoints(pos, range.end);
            if (cmpEnd > 0)
                continue;
            var cmpStart = comparePoints(pos, range.start);
            if (cmpEnd === 0)
                return excludeEdges && cmpStart !== 0 ? -i-2 : i;
            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))
                return i;

            return -i-1;
        }
        return -i - 1;
    };

    this.add = function(range) {
        var excludeEdges = !range.isEmpty();
        var startIndex = this.pointIndex(range.start, excludeEdges);
        if (startIndex < 0)
            startIndex = -startIndex - 1;

        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);

        if (endIndex < 0)
            endIndex = -endIndex - 1;
        else
            endIndex++;
        return this.ranges.splice(startIndex, endIndex - startIndex, range);
    };

    this.addList = function(list) {
        var removed = [];
        for (var i = list.length; i--; ) {
            removed.push.apply(removed, this.add(list[i]));
        }
        return removed;
    };

    this.substractPoint = function(pos) {
        var i = this.pointIndex(pos);

        if (i >= 0)
            return this.ranges.splice(i, 1);
    };
    this.merge = function() {
        var removed = [];
        var list = this.ranges;
        
        list = list.sort(function(a, b) {
            return comparePoints(a.start, b.start);
        });
        
        var next = list[0], range;
        for (var i = 1; i < list.length; i++) {
            range = next;
            next = list[i];
            var cmp = comparePoints(range.end, next.start);
            if (cmp < 0)
                continue;

            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())
                continue;

            if (comparePoints(range.end, next.end) < 0) {
                range.end.row = next.end.row;
                range.end.column = next.end.column;
            }

            list.splice(i, 1);
            removed.push(next);
            next = range;
            i--;
        }
        
        this.ranges = list;

        return removed;
    };

    this.contains = function(row, column) {
        return this.pointIndex({row: row, column: column}) >= 0;
    };

    this.containsPoint = function(pos) {
        return this.pointIndex(pos) >= 0;
    };

    this.rangeAtPoint = function(pos) {
        var i = this.pointIndex(pos);
        if (i >= 0)
            return this.ranges[i];
    };


    this.clipRows = function(startRow, endRow) {
        var list = this.ranges;
        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)
            return [];

        var startIndex = this.pointIndex({row: startRow, column: 0});
        if (startIndex < 0)
            startIndex = -startIndex - 1;
        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);
        if (endIndex < 0)
            endIndex = -endIndex - 1;

        var clipped = [];
        for (var i = startIndex; i < endIndex; i++) {
            clipped.push(list[i]);
        }
        return clipped;
    };

    this.removeAll = function() {
        return this.ranges.splice(0, this.ranges.length);
    };

    this.attach = function(session) {
        if (this.session)
            this.detach();

        this.session = session;
        this.onChange = this.$onChange.bind(this);

        this.session.on('change', this.onChange);
    };

    this.detach = function() {
        if (!this.session)
            return;
        this.session.removeListener('change', this.onChange);
        this.session = null;
    };

    this.$onChange = function(delta) {
        if (delta.action == "insert"){
            var start = delta.start;
            var end = delta.end;
        } else {
            var end = delta.start;
            var start = delta.end;
        }
        var startRow = start.row;
        var endRow = end.row;
        var lineDif = endRow - startRow;

        var colDiff = -start.column + end.column;
        var ranges = this.ranges;

        for (var i = 0, n = ranges.length; i < n; i++) {
            var r = ranges[i];
            if (r.end.row < startRow)
                continue;
            if (r.start.row > startRow)
                break;

            if (r.start.row == startRow && r.start.column >= start.column ) {
                if (r.start.column == start.column && this.$insertRight) {
                } else {
                    r.start.column += colDiff;
                    r.start.row += lineDif;
                }
            }
            if (r.end.row == startRow && r.end.column >= start.column) {
                if (r.end.column == start.column && this.$insertRight) {
                    continue;
                }
                if (r.end.column == start.column && colDiff > 0 && i < n - 1) {                
                    if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)
                        r.end.column -= colDiff;
                }
                r.end.column += colDiff;
                r.end.row += lineDif;
            }
        }

        if (lineDif != 0 && i < n) {
            for (; i < n; i++) {
                var r = ranges[i];
                r.start.row += lineDif;
                r.end.row += lineDif;
            }
        }
    };

}).call(RangeList.prototype);

exports.RangeList = RangeList;
});

ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var RangeList = acequire("../range_list").RangeList;
var oop = acequire("../lib/oop");
var Fold = exports.Fold = function(range, placeholder) {
    this.foldLine = null;
    this.placeholder = placeholder;
    this.range = range;
    this.start = range.start;
    this.end = range.end;

    this.sameRow = range.start.row == range.end.row;
    this.subFolds = this.ranges = [];
};

oop.inherits(Fold, RangeList);

(function() {

    this.toString = function() {
        return '"' + this.placeholder + '" ' + this.range.toString();
    };

    this.setFoldLine = function(foldLine) {
        this.foldLine = foldLine;
        this.subFolds.forEach(function(fold) {
            fold.setFoldLine(foldLine);
        });
    };

    this.clone = function() {
        var range = this.range.clone();
        var fold = new Fold(range, this.placeholder);
        this.subFolds.forEach(function(subFold) {
            fold.subFolds.push(subFold.clone());
        });
        fold.collapseChildren = this.collapseChildren;
        return fold;
    };

    this.addSubFold = function(fold) {
        if (this.range.isEqual(fold))
            return;

        if (!this.range.containsRange(fold))
            throw new Error("A fold can't intersect already existing fold" + fold.range + this.range);
        consumeRange(fold, this.start);

        var row = fold.start.row, column = fold.start.column;
        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {
            cmp = this.subFolds[i].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterStart = this.subFolds[i];

        if (cmp == 0)
            return afterStart.addSubFold(fold);
        var row = fold.range.end.row, column = fold.range.end.column;
        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {
            cmp = this.subFolds[j].range.compare(row, column);
            if (cmp != 1)
                break;
        }
        var afterEnd = this.subFolds[j];

        if (cmp == 0)
            throw new Error("A fold can't intersect already existing fold" + fold.range + this.range);

        var consumedFolds = this.subFolds.splice(i, j - i, fold);
        fold.setFoldLine(this.foldLine);

        return fold;
    };
    
    this.restoreRange = function(range) {
        return restoreRange(range, this.start);
    };

}).call(Fold.prototype);

function consumePoint(point, anchor) {
    point.row -= anchor.row;
    if (point.row == 0)
        point.column -= anchor.column;
}
function consumeRange(range, anchor) {
    consumePoint(range.start, anchor);
    consumePoint(range.end, anchor);
}
function restorePoint(point, anchor) {
    if (point.row == 0)
        point.column += anchor.column;
    point.row += anchor.row;
}
function restoreRange(range, anchor) {
    restorePoint(range.start, anchor);
    restorePoint(range.end, anchor);
}

});

ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var FoldLine = acequire("./fold_line").FoldLine;
var Fold = acequire("./fold").Fold;
var TokenIterator = acequire("../token_iterator").TokenIterator;

function Folding() {
    this.getFoldAt = function(row, column, side) {
        var foldLine = this.getFoldLine(row);
        if (!foldLine)
            return null;

        var folds = foldLine.folds;
        for (var i = 0; i < folds.length; i++) {
            var fold = folds[i];
            if (fold.range.contains(row, column)) {
                if (side == 1 && fold.range.isEnd(row, column)) {
                    continue;
                } else if (side == -1 && fold.range.isStart(row, column)) {
                    continue;
                }
                return fold;
            }
        }
    };
    this.getFoldsInRange = function(range) {
        var start = range.start;
        var end = range.end;
        var foldLines = this.$foldData;
        var foundFolds = [];

        start.column += 1;
        end.column -= 1;

        for (var i = 0; i < foldLines.length; i++) {
            var cmp = foldLines[i].range.compareRange(range);
            if (cmp == 2) {
                continue;
            }
            else if (cmp == -2) {
                break;
            }

            var folds = foldLines[i].folds;
            for (var j = 0; j < folds.length; j++) {
                var fold = folds[j];
                cmp = fold.range.compareRange(range);
                if (cmp == -2) {
                    break;
                } else if (cmp == 2) {
                    continue;
                } else
                if (cmp == 42) {
                    break;
                }
                foundFolds.push(fold);
            }
        }
        start.column -= 1;
        end.column += 1;

        return foundFolds;
    };

    this.getFoldsInRangeList = function(ranges) {
        if (Array.isArray(ranges)) {
            var folds = [];
            ranges.forEach(function(range) {
                folds = folds.concat(this.getFoldsInRange(range));
            }, this);
        } else {
            var folds = this.getFoldsInRange(ranges);
        }
        return folds;
    };
    this.getAllFolds = function() {
        var folds = [];
        var foldLines = this.$foldData;
        
        for (var i = 0; i < foldLines.length; i++)
            for (var j = 0; j < foldLines[i].folds.length; j++)
                folds.push(foldLines[i].folds[j]);

        return folds;
    };
    this.getFoldStringAt = function(row, column, trim, foldLine) {
        foldLine = foldLine || this.getFoldLine(row);
        if (!foldLine)
            return null;

        var lastFold = {
            end: { column: 0 }
        };
        var str, fold;
        for (var i = 0; i < foldLine.folds.length; i++) {
            fold = foldLine.folds[i];
            var cmp = fold.range.compareEnd(row, column);
            if (cmp == -1) {
                str = this
                    .getLine(fold.start.row)
                    .substring(lastFold.end.column, fold.start.column);
                break;
            }
            else if (cmp === 0) {
                return null;
            }
            lastFold = fold;
        }
        if (!str)
            str = this.getLine(fold.start.row).substring(lastFold.end.column);

        if (trim == -1)
            return str.substring(0, column - lastFold.end.column);
        else if (trim == 1)
            return str.substring(column - lastFold.end.column);
        else
            return str;
    };

    this.getFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {
                return foldLine;
            } else if (foldLine.end.row > docRow) {
                return null;
            }
        }
        return null;
    };
    this.getNextFoldLine = function(docRow, startFoldLine) {
        var foldData = this.$foldData;
        var i = 0;
        if (startFoldLine)
            i = foldData.indexOf(startFoldLine);
        if (i == -1)
            i = 0;
        for (i; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (foldLine.end.row >= docRow) {
                return foldLine;
            }
        }
        return null;
    };

    this.getFoldedRowCount = function(first, last) {
        var foldData = this.$foldData, rowCount = last-first+1;
        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i],
                end = foldLine.end.row,
                start = foldLine.start.row;
            if (end >= last) {
                if (start < last) {
                    if (start >= first)
                        rowCount -= last-start;
                    else
                        rowCount = 0; // in one fold
                }
                break;
            } else if (end >= first){
                if (start >= first) // fold inside range
                    rowCount -=  end-start;
                else
                    rowCount -=  end-first+1;
            }
        }
        return rowCount;
    };

    this.$addFoldLine = function(foldLine) {
        this.$foldData.push(foldLine);
        this.$foldData.sort(function(a, b) {
            return a.start.row - b.start.row;
        });
        return foldLine;
    };
    this.addFold = function(placeholder, range) {
        var foldData = this.$foldData;
        var added = false;
        var fold;
        
        if (placeholder instanceof Fold)
            fold = placeholder;
        else {
            fold = new Fold(range, placeholder);
            fold.collapseChildren = range.collapseChildren;
        }
        this.$clipRangeToDocument(fold.range);

        var startRow = fold.start.row;
        var startColumn = fold.start.column;
        var endRow = fold.end.row;
        var endColumn = fold.end.column;
        if (!(startRow < endRow || 
            startRow == endRow && startColumn <= endColumn - 2))
            throw new Error("The range has to be at least 2 characters width");

        var startFold = this.getFoldAt(startRow, startColumn, 1);
        var endFold = this.getFoldAt(endRow, endColumn, -1);
        if (startFold && endFold == startFold)
            return startFold.addSubFold(fold);

        if (startFold && !startFold.range.isStart(startRow, startColumn))
            this.removeFold(startFold);
        
        if (endFold && !endFold.range.isEnd(endRow, endColumn))
            this.removeFold(endFold);
        var folds = this.getFoldsInRange(fold.range);
        if (folds.length > 0) {
            this.removeFolds(folds);
            folds.forEach(function(subFold) {
                fold.addSubFold(subFold);
            });
        }

        for (var i = 0; i < foldData.length; i++) {
            var foldLine = foldData[i];
            if (endRow == foldLine.start.row) {
                foldLine.addFold(fold);
                added = true;
                break;
            } else if (startRow == foldLine.end.row) {
                foldLine.addFold(fold);
                added = true;
                if (!fold.sameRow) {
                    var foldLineNext = foldData[i + 1];
                    if (foldLineNext && foldLineNext.start.row == endRow) {
                        foldLine.merge(foldLineNext);
                        break;
                    }
                }
                break;
            } else if (endRow <= foldLine.start.row) {
                break;
            }
        }

        if (!added)
            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));

        if (this.$useWrapMode)
            this.$updateWrapData(foldLine.start.row, foldLine.start.row);
        else
            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "add" });

        return fold;
    };

    this.addFolds = function(folds) {
        folds.forEach(function(fold) {
            this.addFold(fold);
        }, this);
    };

    this.removeFold = function(fold) {
        var foldLine = fold.foldLine;
        var startRow = foldLine.start.row;
        var endRow = foldLine.end.row;

        var foldLines = this.$foldData;
        var folds = foldLine.folds;
        if (folds.length == 1) {
            foldLines.splice(foldLines.indexOf(foldLine), 1);
        } else
        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {
            folds.pop();
            foldLine.end.row = folds[folds.length - 1].end.row;
            foldLine.end.column = folds[folds.length - 1].end.column;
        } else
        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {
            folds.shift();
            foldLine.start.row = folds[0].start.row;
            foldLine.start.column = folds[0].start.column;
        } else
        if (fold.sameRow) {
            folds.splice(folds.indexOf(fold), 1);
        } else
        {
            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);
            folds = newFoldLine.folds;
            folds.shift();
            newFoldLine.start.row = folds[0].start.row;
            newFoldLine.start.column = folds[0].start.column;
        }

        if (!this.$updating) {
            if (this.$useWrapMode)
                this.$updateWrapData(startRow, endRow);
            else
                this.$updateRowLengthCache(startRow, endRow);
        }
        this.$modified = true;
        this._signal("changeFold", { data: fold, action: "remove" });
    };

    this.removeFolds = function(folds) {
        var cloneFolds = [];
        for (var i = 0; i < folds.length; i++) {
            cloneFolds.push(folds[i]);
        }

        cloneFolds.forEach(function(fold) {
            this.removeFold(fold);
        }, this);
        this.$modified = true;
    };

    this.expandFold = function(fold) {
        this.removeFold(fold);
        fold.subFolds.forEach(function(subFold) {
            fold.restoreRange(subFold);
            this.addFold(subFold);
        }, this);
        if (fold.collapseChildren > 0) {
            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);
        }
        fold.subFolds = [];
    };

    this.expandFolds = function(folds) {
        folds.forEach(function(fold) {
            this.expandFold(fold);
        }, this);
    };

    this.unfold = function(location, expandInner) {
        var range, folds;
        if (location == null) {
            range = new Range(0, 0, this.getLength(), 0);
            expandInner = true;
        } else if (typeof location == "number")
            range = new Range(location, 0, location, this.getLine(location).length);
        else if ("row" in location)
            range = Range.fromPoints(location, location);
        else
            range = location;
        
        folds = this.getFoldsInRangeList(range);
        if (expandInner) {
            this.removeFolds(folds);
        } else {
            var subFolds = folds;
            while (subFolds.length) {
                this.expandFolds(subFolds);
                subFolds = this.getFoldsInRangeList(range);
            }
        }
        if (folds.length)
            return folds;
    };
    this.isRowFolded = function(docRow, startFoldRow) {
        return !!this.getFoldLine(docRow, startFoldRow);
    };

    this.getRowFoldEnd = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.end.row : docRow;
    };

    this.getRowFoldStart = function(docRow, startFoldRow) {
        var foldLine = this.getFoldLine(docRow, startFoldRow);
        return foldLine ? foldLine.start.row : docRow;
    };

    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {
        if (startRow == null)
            startRow = foldLine.start.row;
        if (startColumn == null)
            startColumn = 0;
        if (endRow == null)
            endRow = foldLine.end.row;
        if (endColumn == null)
            endColumn = this.getLine(endRow).length;
        var doc = this.doc;
        var textLine = "";

        foldLine.walk(function(placeholder, row, column, lastColumn) {
            if (row < startRow)
                return;
            if (row == startRow) {
                if (column < startColumn)
                    return;
                lastColumn = Math.max(startColumn, lastColumn);
            }

            if (placeholder != null) {
                textLine += placeholder;
            } else {
                textLine += doc.getLine(row).substring(lastColumn, column);
            }
        }, endRow, endColumn);
        return textLine;
    };

    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {
        var foldLine = this.getFoldLine(row);

        if (!foldLine) {
            var line;
            line = this.doc.getLine(row);
            return line.substring(startColumn || 0, endColumn || line.length);
        } else {
            return this.getFoldDisplayLine(
                foldLine, row, endColumn, startRow, startColumn);
        }
    };

    this.$cloneFoldData = function() {
        var fd = [];
        fd = this.$foldData.map(function(foldLine) {
            var folds = foldLine.folds.map(function(fold) {
                return fold.clone();
            });
            return new FoldLine(fd, folds);
        });

        return fd;
    };

    this.toggleFold = function(tryToUnfold) {
        var selection = this.selection;
        var range = selection.getRange();
        var fold;
        var bracketPos;

        if (range.isEmpty()) {
            var cursor = range.start;
            fold = this.getFoldAt(cursor.row, cursor.column);

            if (fold) {
                this.expandFold(fold);
                return;
            } else if (bracketPos = this.findMatchingBracket(cursor)) {
                if (range.comparePoint(bracketPos) == 1) {
                    range.end = bracketPos;
                } else {
                    range.start = bracketPos;
                    range.start.column++;
                    range.end.column--;
                }
            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {
                if (range.comparePoint(bracketPos) == 1)
                    range.end = bracketPos;
                else
                    range.start = bracketPos;

                range.start.column++;
            } else {
                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;
            }
        } else {
            var folds = this.getFoldsInRange(range);
            if (tryToUnfold && folds.length) {
                this.expandFolds(folds);
                return;
            } else if (folds.length == 1 ) {
                fold = folds[0];
            }
        }

        if (!fold)
            fold = this.getFoldAt(range.start.row, range.start.column);

        if (fold && fold.range.toString() == range.toString()) {
            this.expandFold(fold);
            return;
        }

        var placeholder = "...";
        if (!range.isMultiLine()) {
            placeholder = this.getTextRange(range);
            if (placeholder.length < 4)
                return;
            placeholder = placeholder.trim().substring(0, 2) + "..";
        }

        this.addFold(placeholder, range);
    };

    this.getCommentFoldRange = function(row, column, dir) {
        var iterator = new TokenIterator(this, row, column);
        var token = iterator.getCurrentToken();
        var type = token.type;
        if (token && /^comment|string/.test(type)) {
            type = type.match(/comment|string/)[0];
            if (type == "comment")
                type += "|doc-start";
            var re = new RegExp(type);
            var range = new Range();
            if (dir != 1) {
                do {
                    token = iterator.stepBackward();
                } while (token && re.test(token.type));
                iterator.stepForward();
            }
            
            range.start.row = iterator.getCurrentTokenRow();
            range.start.column = iterator.getCurrentTokenColumn() + 2;

            iterator = new TokenIterator(this, row, column);
            
            if (dir != -1) {
                var lastRow = -1;
                do {
                    token = iterator.stepForward();
                    if (lastRow == -1) {
                        var state = this.getState(iterator.$row);
                        if (!re.test(state))
                            lastRow = iterator.$row;
                    } else if (iterator.$row > lastRow) {
                        break;
                    }
                } while (token && re.test(token.type));
                token = iterator.stepBackward();
            } else
                token = iterator.getCurrentToken();

            range.end.row = iterator.getCurrentTokenRow();
            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;
            return range;
        }
    };

    this.foldAll = function(startRow, endRow, depth) {
        if (depth == undefined)
            depth = 100000; // JSON.stringify doesn't hanle Infinity
        var foldWidgets = this.foldWidgets;
        if (!foldWidgets)
            return; // mode doesn't support folding
        endRow = endRow || this.getLength();
        startRow = startRow || 0;
        for (var row = startRow; row < endRow; row++) {
            if (foldWidgets[row] == null)
                foldWidgets[row] = this.getFoldWidget(row);
            if (foldWidgets[row] != "start")
                continue;

            var range = this.getFoldWidgetRange(row);
            if (range && range.isMultiLine()
                && range.end.row <= endRow
                && range.start.row >= startRow
            ) {
                row = range.end.row;
                try {
                    var fold = this.addFold("...", range);
                    if (fold)
                        fold.collapseChildren = depth;
                } catch(e) {}
            }
        }
    };
    this.$foldStyles = {
        "manual": 1,
        "markbegin": 1,
        "markbeginend": 1
    };
    this.$foldStyle = "markbegin";
    this.setFoldStyle = function(style) {
        if (!this.$foldStyles[style])
            throw new Error("invalid fold style: " + style + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
        
        if (this.$foldStyle == style)
            return;

        this.$foldStyle = style;
        
        if (style == "manual")
            this.unfold();
        var mode = this.$foldMode;
        this.$setFolding(null);
        this.$setFolding(mode);
    };

    this.$setFolding = function(foldMode) {
        if (this.$foldMode == foldMode)
            return;
            
        this.$foldMode = foldMode;
        
        this.off('change', this.$updateFoldWidgets);
        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);
        this._signal("changeAnnotation");
        
        if (!foldMode || this.$foldStyle == "manual") {
            this.foldWidgets = null;
            return;
        }
        
        this.foldWidgets = [];
        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);
        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);
        
        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);
        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);
        this.on('change', this.$updateFoldWidgets);
        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);
    };

    this.getParentFoldRangeData = function (row, ignoreCurrent) {
        var fw = this.foldWidgets;
        if (!fw || (ignoreCurrent && fw[row]))
            return {};

        var i = row - 1, firstRange;
        while (i >= 0) {
            var c = fw[i];
            if (c == null)
                c = fw[i] = this.getFoldWidget(i);

            if (c == "start") {
                var range = this.getFoldWidgetRange(i);
                if (!firstRange)
                    firstRange = range;
                if (range && range.end.row >= row)
                    break;
            }
            i--;
        }

        return {
            range: i !== -1 && range,
            firstRange: firstRange
        };
    };

    this.onFoldWidgetClick = function(row, e) {
        e = e.domEvent;
        var options = {
            children: e.shiftKey,
            all: e.ctrlKey || e.metaKey,
            siblings: e.altKey
        };
        
        var range = this.$toggleFoldWidget(row, options);
        if (!range) {
            var el = (e.target || e.srcElement);
            if (el && /ace_fold-widget/.test(el.className))
                el.className += " ace_invalid";
        }
    };
    
    this.$toggleFoldWidget = function(row, options) {
        if (!this.getFoldWidget)
            return;
        var type = this.getFoldWidget(row);
        var line = this.getLine(row);

        var dir = type === "end" ? -1 : 1;
        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);

        if (fold) {
            if (options.children || options.all)
                this.removeFold(fold);
            else
                this.expandFold(fold);
            return fold;
        }

        var range = this.getFoldWidgetRange(row, true);
        if (range && !range.isMultiLine()) {
            fold = this.getFoldAt(range.start.row, range.start.column, 1);
            if (fold && range.isEqual(fold.range)) {
                this.removeFold(fold);
                return fold;
            }
        }
        
        if (options.siblings) {
            var data = this.getParentFoldRangeData(row);
            if (data.range) {
                var startRow = data.range.start.row + 1;
                var endRow = data.range.end.row;
            }
            this.foldAll(startRow, endRow, options.all ? 10000 : 0);
        } else if (options.children) {
            endRow = range ? range.end.row : this.getLength();
            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);
        } else if (range) {
            if (options.all) 
                range.collapseChildren = 10000;
            this.addFold("...", range);
        }
        
        return range;
    };
    
    
    
    this.toggleFoldWidget = function(toggleParent) {
        var row = this.selection.getCursor().row;
        row = this.getRowFoldStart(row);
        var range = this.$toggleFoldWidget(row, {});
        
        if (range)
            return;
        var data = this.getParentFoldRangeData(row, true);
        range = data.range || data.firstRange;
        
        if (range) {
            row = range.start.row;
            var fold = this.getFoldAt(row, this.getLine(row).length, 1);

            if (fold) {
                this.removeFold(fold);
            } else {
                this.addFold("...", range);
            }
        }
    };

    this.updateFoldWidgets = function(delta) {
        var firstRow = delta.start.row;
        var len = delta.end.row - firstRow;

        if (len === 0) {
            this.foldWidgets[firstRow] = null;
        } else if (delta.action == 'remove') {
            this.foldWidgets.splice(firstRow, len + 1, null);
        } else {
            var args = Array(len + 1);
            args.unshift(firstRow, 1);
            this.foldWidgets.splice.apply(this.foldWidgets, args);
        }
    };
    this.tokenizerUpdateFoldWidgets = function(e) {
        var rows = e.data;
        if (rows.first != rows.last) {
            if (this.foldWidgets.length > rows.first)
                this.foldWidgets.splice(rows.first, this.foldWidgets.length);
        }
    };
}

exports.Folding = Folding;

});

ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"], function(acequire, exports, module) {
"use strict";

var TokenIterator = acequire("../token_iterator").TokenIterator;
var Range = acequire("../range").Range;


function BracketMatch() {

    this.findMatchingBracket = function(position, chr) {
        if (position.column == 0) return null;

        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);
        if (charBeforeCursor == "") return null;

        var match = charBeforeCursor.match(/([\(\[\{])|([\)\]\}])/);
        if (!match)
            return null;

        if (match[1])
            return this.$findClosingBracket(match[1], position);
        else
            return this.$findOpeningBracket(match[2], position);
    };
    
    this.getBracketRange = function(pos) {
        var line = this.getLine(pos.row);
        var before = true, range;

        var chr = line.charAt(pos.column-1);
        var match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
        if (!match) {
            chr = line.charAt(pos.column);
            pos = {row: pos.row, column: pos.column + 1};
            match = chr && chr.match(/([\(\[\{])|([\)\]\}])/);
            before = false;
        }
        if (!match)
            return null;

        if (match[1]) {
            var bracketPos = this.$findClosingBracket(match[1], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(pos, bracketPos);
            if (!before) {
                range.end.column++;
                range.start.column--;
            }
            range.cursor = range.end;
        } else {
            var bracketPos = this.$findOpeningBracket(match[2], pos);
            if (!bracketPos)
                return null;
            range = Range.fromPoints(bracketPos, pos);
            if (!before) {
                range.start.column++;
                range.end.column--;
            }
            range.cursor = range.start;
        }
        
        return range;
    };

    this.$brackets = {
        ")": "(",
        "(": ")",
        "]": "[",
        "[": "]",
        "{": "}",
        "}": "{"
    };

    this.$findOpeningBracket = function(bracket, position, typeRe) {
        var openBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;
        
         if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("rparen", ".paren")
                    .replace(/\b(?:end)\b/, "(?:start|begin|end)")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;
        var value = token.value;
        
        while (true) {
        
            while (valueIndex >= 0) {
                var chr = value.charAt(valueIndex);
                if (chr == openBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex -= 1;
            }
            do {
                token = iterator.stepBackward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;
                
            value = token.value;
            valueIndex = value.length - 1;
        }
        
        return null;
    };

    this.$findClosingBracket = function(bracket, position, typeRe) {
        var closingBracket = this.$brackets[bracket];
        var depth = 1;

        var iterator = new TokenIterator(this, position.row, position.column);
        var token = iterator.getCurrentToken();
        if (!token)
            token = iterator.stepForward();
        if (!token)
            return;

        if (!typeRe){
            typeRe = new RegExp(
                "(\\.?" +
                token.type.replace(".", "\\.").replace("lparen", ".paren")
                    .replace(/\b(?:start|begin)\b/, "(?:start|begin|end)")
                + ")+"
            );
        }
        var valueIndex = position.column - iterator.getCurrentTokenColumn();

        while (true) {

            var value = token.value;
            var valueLength = value.length;
            while (valueIndex < valueLength) {
                var chr = value.charAt(valueIndex);
                if (chr == closingBracket) {
                    depth -= 1;
                    if (depth == 0) {
                        return {row: iterator.getCurrentTokenRow(),
                            column: valueIndex + iterator.getCurrentTokenColumn()};
                    }
                }
                else if (chr == bracket) {
                    depth += 1;
                }
                valueIndex += 1;
            }
            do {
                token = iterator.stepForward();
            } while (token && !typeRe.test(token.type));

            if (token == null)
                break;

            valueIndex = 0;
        }
        
        return null;
    };
}
exports.BracketMatch = BracketMatch;

});

ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var lang = acequire("./lib/lang");
var BidiHandler = acequire("./bidihandler").BidiHandler;
var config = acequire("./config");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var Selection = acequire("./selection").Selection;
var TextMode = acequire("./mode/text").Mode;
var Range = acequire("./range").Range;
var Document = acequire("./document").Document;
var BackgroundTokenizer = acequire("./background_tokenizer").BackgroundTokenizer;
var SearchHighlight = acequire("./search_highlight").SearchHighlight;

var EditSession = function(text, mode) {
    this.$breakpoints = [];
    this.$decorations = [];
    this.$frontMarkers = {};
    this.$backMarkers = {};
    this.$markerId = 1;
    this.$undoSelect = true;

    this.$foldData = [];
    this.id = "session" + (++EditSession.$uid);
    this.$foldData.toString = function() {
        return this.join("\n");
    };
    this.on("changeFold", this.onChangeFold.bind(this));
    this.$onChange = this.onChange.bind(this);

    if (typeof text != "object" || !text.getLine)
        text = new Document(text);

    this.$bidiHandler = new BidiHandler(this);
    this.setDocument(text);
    this.selection = new Selection(this);

    config.resetOptions(this);
    this.setMode(mode);
    config._signal("session", this);
};


EditSession.$uid = 0;

(function() {

    oop.implement(this, EventEmitter);
    this.setDocument = function(doc) {
        if (this.doc)
            this.doc.removeListener("change", this.$onChange);

        this.doc = doc;
        doc.on("change", this.$onChange);

        if (this.bgTokenizer)
            this.bgTokenizer.setDocument(this.getDocument());

        this.resetCaches();
    };
    this.getDocument = function() {
        return this.doc;
    };
    this.$resetRowCache = function(docRow) {
        if (!docRow) {
            this.$docRowCache = [];
            this.$screenRowCache = [];
            return;
        }
        var l = this.$docRowCache.length;
        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;
        if (l > i) {
            this.$docRowCache.splice(i, l);
            this.$screenRowCache.splice(i, l);
        }
    };

    this.$getRowCacheIndex = function(cacheArray, val) {
        var low = 0;
        var hi = cacheArray.length - 1;

        while (low <= hi) {
            var mid = (low + hi) >> 1;
            var c = cacheArray[mid];

            if (val > c)
                low = mid + 1;
            else if (val < c)
                hi = mid - 1;
            else
                return mid;
        }

        return low -1;
    };

    this.resetCaches = function() {
        this.$modified = true;
        this.$wrapData = [];
        this.$rowLengthCache = [];
        this.$resetRowCache(0);
        if (this.bgTokenizer)
            this.bgTokenizer.start(0);
    };

    this.onChangeFold = function(e) {
        var fold = e.data;
        this.$resetRowCache(fold.start.row);
    };

    this.onChange = function(delta) {
        this.$modified = true;
        this.$bidiHandler.onChange(delta);
        this.$resetRowCache(delta.start.row);

        var removedFolds = this.$updateInternalDataOnChange(delta);
        if (!this.$fromUndo && this.$undoManager && !delta.ignore) {
            this.$deltasDoc.push(delta);
            if (removedFolds && removedFolds.length != 0) {
                this.$deltasFold.push({
                    action: "removeFolds",
                    folds:  removedFolds
                });
            }

            this.$informUndoManager.schedule();
        }

        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);
        this._signal("change", delta);
    };
    this.setValue = function(text) {
        this.doc.setValue(text);
        this.selection.moveTo(0, 0);

        this.$resetRowCache(0);
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];
        this.setUndoManager(this.$undoManager);
        this.getUndoManager().reset();
    };
    this.getValue =
    this.toString = function() {
        return this.doc.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.getState = function(row) {
        return this.bgTokenizer.getState(row);
    };
    this.getTokens = function(row) {
        return this.bgTokenizer.getTokens(row);
    };
    this.getTokenAt = function(row, column) {
        var tokens = this.bgTokenizer.getTokens(row);
        var token, c = 0;
        if (column == null) {
            var i = tokens.length - 1;
            c = this.getLine(row).length;
        } else {
            for (var i = 0; i < tokens.length; i++) {
                c += tokens[i].value.length;
                if (c >= column)
                    break;
            }
        }
        token = tokens[i];
        if (!token)
            return null;
        token.index = i;
        token.start = c - token.value.length;
        return token;
    };
    this.setUndoManager = function(undoManager) {
        this.$undoManager = undoManager;
        this.$deltas = [];
        this.$deltasDoc = [];
        this.$deltasFold = [];

        if (this.$informUndoManager)
            this.$informUndoManager.cancel();

        if (undoManager) {
            var self = this;

            this.$syncInformUndoManager = function() {
                self.$informUndoManager.cancel();

                if (self.$deltasFold.length) {
                    self.$deltas.push({
                        group: "fold",
                        deltas: self.$deltasFold
                    });
                    self.$deltasFold = [];
                }

                if (self.$deltasDoc.length) {
                    self.$deltas.push({
                        group: "doc",
                        deltas: self.$deltasDoc
                    });
                    self.$deltasDoc = [];
                }

                if (self.$deltas.length > 0) {
                    undoManager.execute({
                        action: "aceupdate",
                        args: [self.$deltas, self],
                        merge: self.mergeUndoDeltas
                    });
                }
                self.mergeUndoDeltas = false;
                self.$deltas = [];
            };
            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);
        }
    };
    this.markUndoGroup = function() {
        if (this.$syncInformUndoManager)
            this.$syncInformUndoManager();
    };
    
    this.$defaultUndoManager = {
        undo: function() {},
        redo: function() {},
        reset: function() {}
    };
    this.getUndoManager = function() {
        return this.$undoManager || this.$defaultUndoManager;
    };
    this.getTabString = function() {
        if (this.getUseSoftTabs()) {
            return lang.stringRepeat(" ", this.getTabSize());
        } else {
            return "\t";
        }
    };
    this.setUseSoftTabs = function(val) {
        this.setOption("useSoftTabs", val);
    };
    this.getUseSoftTabs = function() {
        return this.$useSoftTabs && !this.$mode.$indentWithTabs;
    };
    this.setTabSize = function(tabSize) {
        this.setOption("tabSize", tabSize);
    };
    this.getTabSize = function() {
        return this.$tabSize;
    };
    this.isTabStop = function(position) {
        return this.$useSoftTabs && (position.column % this.$tabSize === 0);
    };
    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {
        this.setOption("navigateWithinSoftTabs", navigateWithinSoftTabs);
    };
    this.getNavigateWithinSoftTabs = function() {
        return this.$navigateWithinSoftTabs;
    };

    this.$overwrite = false;
    this.setOverwrite = function(overwrite) {
        this.setOption("overwrite", overwrite);
    };
    this.getOverwrite = function() {
        return this.$overwrite;
    };
    this.toggleOverwrite = function() {
        this.setOverwrite(!this.$overwrite);
    };
    this.addGutterDecoration = function(row, className) {
        if (!this.$decorations[row])
            this.$decorations[row] = "";
        this.$decorations[row] += " " + className;
        this._signal("changeBreakpoint", {});
    };
    this.removeGutterDecoration = function(row, className) {
        this.$decorations[row] = (this.$decorations[row] || "").replace(" " + className, "");
        this._signal("changeBreakpoint", {});
    };
    this.getBreakpoints = function() {
        return this.$breakpoints;
    };
    this.setBreakpoints = function(rows) {
        this.$breakpoints = [];
        for (var i=0; i<rows.length; i++) {
            this.$breakpoints[rows[i]] = "ace_breakpoint";
        }
        this._signal("changeBreakpoint", {});
    };
    this.clearBreakpoints = function() {
        this.$breakpoints = [];
        this._signal("changeBreakpoint", {});
    };
    this.setBreakpoint = function(row, className) {
        if (className === undefined)
            className = "ace_breakpoint";
        if (className)
            this.$breakpoints[row] = className;
        else
            delete this.$breakpoints[row];
        this._signal("changeBreakpoint", {});
    };
    this.clearBreakpoint = function(row) {
        delete this.$breakpoints[row];
        this._signal("changeBreakpoint", {});
    };
    this.addMarker = function(range, clazz, type, inFront) {
        var id = this.$markerId++;

        var marker = {
            range : range,
            type : type || "line",
            renderer: typeof type == "function" ? type : null,
            clazz : clazz,
            inFront: !!inFront,
            id: id
        };

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
        } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
        }

        return id;
    };
    this.addDynamicMarker = function(marker, inFront) {
        if (!marker.update)
            return;
        var id = this.$markerId++;
        marker.id = id;
        marker.inFront = !!inFront;

        if (inFront) {
            this.$frontMarkers[id] = marker;
            this._signal("changeFrontMarker");
        } else {
            this.$backMarkers[id] = marker;
            this._signal("changeBackMarker");
        }

        return marker;
    };
    this.removeMarker = function(markerId) {
        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];
        if (!marker)
            return;

        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;
        if (marker) {
            delete (markers[markerId]);
            this._signal(marker.inFront ? "changeFrontMarker" : "changeBackMarker");
        }
    };
    this.getMarkers = function(inFront) {
        return inFront ? this.$frontMarkers : this.$backMarkers;
    };

    this.highlight = function(re) {
        if (!this.$searchHighlight) {
            var highlight = new SearchHighlight(null, "ace_selected-word", "text");
            this.$searchHighlight = this.addDynamicMarker(highlight);
        }
        this.$searchHighlight.setRegexp(re);
    };
    this.highlightLines = function(startRow, endRow, clazz, inFront) {
        if (typeof endRow != "number") {
            clazz = endRow;
            endRow = startRow;
        }
        if (!clazz)
            clazz = "ace_step";

        var range = new Range(startRow, 0, endRow, Infinity);
        range.id = this.addMarker(range, clazz, "fullLine", inFront);
        return range;
    };
    this.setAnnotations = function(annotations) {
        this.$annotations = annotations;
        this._signal("changeAnnotation", {});
    };
    this.getAnnotations = function() {
        return this.$annotations || [];
    };
    this.clearAnnotations = function() {
        this.setAnnotations([]);
    };
    this.$detectNewLine = function(text) {
        var match = text.match(/^.*?(\r?\n)/m);
        if (match) {
            this.$autoNewLine = match[1];
        } else {
            this.$autoNewLine = "\n";
        }
    };
    this.getWordRange = function(row, column) {
        var line = this.getLine(row);

        var inToken = false;
        if (column > 0)
            inToken = !!line.charAt(column - 1).match(this.tokenRe);

        if (!inToken)
            inToken = !!line.charAt(column).match(this.tokenRe);

        if (inToken)
            var re = this.tokenRe;
        else if (/^\s+$/.test(line.slice(column-1, column+1)))
            var re = /\s/;
        else
            var re = this.nonTokenRe;

        var start = column;
        if (start > 0) {
            do {
                start--;
            }
            while (start >= 0 && line.charAt(start).match(re));
            start++;
        }

        var end = column;
        while (end < line.length && line.charAt(end).match(re)) {
            end++;
        }

        return new Range(row, start, row, end);
    };
    this.getAWordRange = function(row, column) {
        var wordRange = this.getWordRange(row, column);
        var line = this.getLine(wordRange.end.row);

        while (line.charAt(wordRange.end.column).match(/[ \t]/)) {
            wordRange.end.column += 1;
        }
        return wordRange;
    };
    this.setNewLineMode = function(newLineMode) {
        this.doc.setNewLineMode(newLineMode);
    };
    this.getNewLineMode = function() {
        return this.doc.getNewLineMode();
    };
    this.setUseWorker = function(useWorker) { this.setOption("useWorker", useWorker); };
    this.getUseWorker = function() { return this.$useWorker; };
    this.onReloadTokenizer = function(e) {
        var rows = e.data;
        this.bgTokenizer.start(rows.first);
        this._signal("tokenizerUpdate", e);
    };

    this.$modes = {};
    this.$mode = null;
    this.$modeId = null;
    this.setMode = function(mode, cb) {
        if (mode && typeof mode === "object") {
            if (mode.getTokenizer)
                return this.$onChangeMode(mode);
            var options = mode;
            var path = options.path;
        } else {
            path = mode || "ace/mode/text";
        }
        if (!this.$modes["ace/mode/text"])
            this.$modes["ace/mode/text"] = new TextMode();

        if (this.$modes[path] && !options) {
            this.$onChangeMode(this.$modes[path]);
            cb && cb();
            return;
        }
        this.$modeId = path;
        config.loadModule(["mode", path], function(m) {
            if (this.$modeId !== path)
                return cb && cb();
            if (this.$modes[path] && !options) {
                this.$onChangeMode(this.$modes[path]);
            } else if (m && m.Mode) {
                m = new m.Mode(options);
                if (!options) {
                    this.$modes[path] = m;
                    m.$id = path;
                }
                this.$onChangeMode(m);
            }
            cb && cb();
        }.bind(this));
        if (!this.$mode)
            this.$onChangeMode(this.$modes["ace/mode/text"], true);
    };

    this.$onChangeMode = function(mode, $isPlaceholder) {
        if (!$isPlaceholder)
            this.$modeId = mode.$id;
        if (this.$mode === mode) 
            return;

        this.$mode = mode;

        this.$stopWorker();

        if (this.$useWorker)
            this.$startWorker();

        var tokenizer = mode.getTokenizer();

        if(tokenizer.addEventListener !== undefined) {
            var onReloadTokenizer = this.onReloadTokenizer.bind(this);
            tokenizer.addEventListener("update", onReloadTokenizer);
        }

        if (!this.bgTokenizer) {
            this.bgTokenizer = new BackgroundTokenizer(tokenizer);
            var _self = this;
            this.bgTokenizer.addEventListener("update", function(e) {
                _self._signal("tokenizerUpdate", e);
            });
        } else {
            this.bgTokenizer.setTokenizer(tokenizer);
        }

        this.bgTokenizer.setDocument(this.getDocument());

        this.tokenRe = mode.tokenRe;
        this.nonTokenRe = mode.nonTokenRe;

        
        if (!$isPlaceholder) {
            if (mode.attachToSession)
                mode.attachToSession(this);
            this.$options.wrapMethod.set.call(this, this.$wrapMethod);
            this.$setFolding(mode.foldingRules);
            this.bgTokenizer.start(0);
            this._emit("changeMode");
        }
    };

    this.$stopWorker = function() {
        if (this.$worker) {
            this.$worker.terminate();
            this.$worker = null;
        }
    };

    this.$startWorker = function() {
        try {
            this.$worker = this.$mode.createWorker(this);
        } catch (e) {
            config.warn("Could not load worker", e);
            this.$worker = null;
        }
    };
    this.getMode = function() {
        return this.$mode;
    };

    this.$scrollTop = 0;
    this.setScrollTop = function(scrollTop) {
        if (this.$scrollTop === scrollTop || isNaN(scrollTop))
            return;

        this.$scrollTop = scrollTop;
        this._signal("changeScrollTop", scrollTop);
    };
    this.getScrollTop = function() {
        return this.$scrollTop;
    };

    this.$scrollLeft = 0;
    this.setScrollLeft = function(scrollLeft) {
        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))
            return;

        this.$scrollLeft = scrollLeft;
        this._signal("changeScrollLeft", scrollLeft);
    };
    this.getScrollLeft = function() {
        return this.$scrollLeft;
    };
    this.getScreenWidth = function() {
        this.$computeWidth();
        if (this.lineWidgets) 
            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);
        return this.screenWidth;
    };
    
    this.getLineWidgetMaxWidth = function() {
        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;
        var width = 0;
        this.lineWidgets.forEach(function(w) {
            if (w && w.screenWidth > width)
                width = w.screenWidth;
        });
        return this.lineWidgetWidth = width;
    };

    this.$computeWidth = function(force) {
        if (this.$modified || force) {
            this.$modified = false;

            if (this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;

            var lines = this.doc.getAllLines();
            var cache = this.$rowLengthCache;
            var longestScreenLine = 0;
            var foldIndex = 0;
            var foldLine = this.$foldData[foldIndex];
            var foldStart = foldLine ? foldLine.start.row : Infinity;
            var len = lines.length;

            for (var i = 0; i < len; i++) {
                if (i > foldStart) {
                    i = foldLine.end.row + 1;
                    if (i >= len)
                        break;
                    foldLine = this.$foldData[foldIndex++];
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }

                if (cache[i] == null)
                    cache[i] = this.$getStringScreenWidth(lines[i])[0];

                if (cache[i] > longestScreenLine)
                    longestScreenLine = cache[i];
            }
            this.screenWidth = longestScreenLine;
        }
    };
    this.getLine = function(row) {
        return this.doc.getLine(row);
    };
    this.getLines = function(firstRow, lastRow) {
        return this.doc.getLines(firstRow, lastRow);
    };
    this.getLength = function() {
        return this.doc.getLength();
    };
    this.getTextRange = function(range) {
        return this.doc.getTextRange(range || this.selection.getRange());
    };
    this.insert = function(position, text) {
        return this.doc.insert(position, text);
    };
    this.remove = function(range) {
        return this.doc.remove(range);
    };
    this.removeFullLines = function(firstRow, lastRow){
        return this.doc.removeFullLines(firstRow, lastRow);
    };
    this.undoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = deltas.length - 1; i != -1; i--) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.revertDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, true, lastUndoRange);
            } else {
                delta.deltas.forEach(function(foldDelta) {
                    this.addFolds(foldDelta.folds);
                }, this);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.redoChanges = function(deltas, dontSelect) {
        if (!deltas.length)
            return;

        this.$fromUndo = true;
        var lastUndoRange = null;
        for (var i = 0; i < deltas.length; i++) {
            var delta = deltas[i];
            if (delta.group == "doc") {
                this.doc.applyDeltas(delta.deltas);
                lastUndoRange =
                    this.$getUndoSelection(delta.deltas, false, lastUndoRange);
            }
        }
        this.$fromUndo = false;
        lastUndoRange &&
            this.$undoSelect &&
            !dontSelect &&
            this.selection.setSelectionRange(lastUndoRange);
        return lastUndoRange;
    };
    this.setUndoSelect = function(enable) {
        this.$undoSelect = enable;
    };

    this.$getUndoSelection = function(deltas, isUndo, lastUndoRange) {
        function isInsert(delta) {
            return isUndo ? delta.action !== "insert" : delta.action === "insert";
        }

        var delta = deltas[0];
        var range, point;
        var lastDeltaIsInsert = false;
        if (isInsert(delta)) {
            range = Range.fromPoints(delta.start, delta.end);
            lastDeltaIsInsert = true;
        } else {
            range = Range.fromPoints(delta.start, delta.start);
            lastDeltaIsInsert = false;
        }

        for (var i = 1; i < deltas.length; i++) {
            delta = deltas[i];
            if (isInsert(delta)) {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                    range.setStart(point);
                }
                point = delta.end;
                if (range.compare(point.row, point.column) == 1) {
                    range.setEnd(point);
                }
                lastDeltaIsInsert = true;
            } else {
                point = delta.start;
                if (range.compare(point.row, point.column) == -1) {
                    range = Range.fromPoints(delta.start, delta.start);
                }
                lastDeltaIsInsert = false;
            }
        }
        if (lastUndoRange != null) {
            if (Range.comparePoints(lastUndoRange.start, range.start) === 0) {
                lastUndoRange.start.column += range.end.column - range.start.column;
                lastUndoRange.end.column += range.end.column - range.start.column;
            }

            var cmp = lastUndoRange.compareRange(range);
            if (cmp == 1) {
                range.setStart(lastUndoRange.start);
            } else if (cmp == -1) {
                range.setEnd(lastUndoRange.end);
            }
        }

        return range;
    };
    this.replace = function(range, text) {
        return this.doc.replace(range, text);
    };
    this.moveText = function(fromRange, toPosition, copy) {
        var text = this.getTextRange(fromRange);
        var folds = this.getFoldsInRange(fromRange);

        var toRange = Range.fromPoints(toPosition, toPosition);
        if (!copy) {
            this.remove(fromRange);
            var rowDiff = fromRange.start.row - fromRange.end.row;
            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;
            if (collDiff) {
                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)
                    toRange.start.column += collDiff;
                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)
                    toRange.end.column += collDiff;
            }
            if (rowDiff && toRange.start.row >= fromRange.end.row) {
                toRange.start.row += rowDiff;
                toRange.end.row += rowDiff;
            }
        }

        toRange.end = this.insert(toRange.start, text);
        if (folds.length) {
            var oldStart = fromRange.start;
            var newStart = toRange.start;
            var rowDiff = newStart.row - oldStart.row;
            var collDiff = newStart.column - oldStart.column;
            this.addFolds(folds.map(function(x) {
                x = x.clone();
                if (x.start.row == oldStart.row)
                    x.start.column += collDiff;
                if (x.end.row == oldStart.row)
                    x.end.column += collDiff;
                x.start.row += rowDiff;
                x.end.row += rowDiff;
                return x;
            }));
        }

        return toRange;
    };
    this.indentRows = function(startRow, endRow, indentString) {
        indentString = indentString.replace(/\t/g, this.getTabString());
        for (var row=startRow; row<=endRow; row++)
            this.doc.insertInLine({row: row, column: 0}, indentString);
    };
    this.outdentRows = function (range) {
        var rowRange = range.collapseRows();
        var deleteRange = new Range(0, 0, 0, 0);
        var size = this.getTabSize();

        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {
            var line = this.getLine(i);

            deleteRange.start.row = i;
            deleteRange.end.row = i;
            for (var j = 0; j < size; ++j)
                if (line.charAt(j) != ' ')
                    break;
            if (j < size && line.charAt(j) == '\t') {
                deleteRange.start.column = j;
                deleteRange.end.column = j + 1;
            } else {
                deleteRange.start.column = 0;
                deleteRange.end.column = j;
            }
            this.remove(deleteRange);
        }
    };

    this.$moveLines = function(firstRow, lastRow, dir) {
        firstRow = this.getRowFoldStart(firstRow);
        lastRow = this.getRowFoldEnd(lastRow);
        if (dir < 0) {
            var row = this.getRowFoldStart(firstRow + dir);
            if (row < 0) return 0;
            var diff = row-firstRow;
        } else if (dir > 0) {
            var row = this.getRowFoldEnd(lastRow + dir);
            if (row > this.doc.getLength()-1) return 0;
            var diff = row-lastRow;
        } else {
            firstRow = this.$clipRowToDocument(firstRow);
            lastRow = this.$clipRowToDocument(lastRow);
            var diff = lastRow - firstRow + 1;
        }

        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);
        var folds = this.getFoldsInRange(range).map(function(x){
            x = x.clone();
            x.start.row += diff;
            x.end.row += diff;
            return x;
        });
        
        var lines = dir == 0
            ? this.doc.getLines(firstRow, lastRow)
            : this.doc.removeFullLines(firstRow, lastRow);
        this.doc.insertFullLines(firstRow+diff, lines);
        folds.length && this.addFolds(folds);
        return diff;
    };
    this.moveLinesUp = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, -1);
    };
    this.moveLinesDown = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 1);
    };
    this.duplicateLines = function(firstRow, lastRow) {
        return this.$moveLines(firstRow, lastRow, 0);
    };


    this.$clipRowToDocument = function(row) {
        return Math.max(0, Math.min(row, this.doc.getLength()-1));
    };

    this.$clipColumnToRow = function(row, column) {
        if (column < 0)
            return 0;
        return Math.min(this.doc.getLine(row).length, column);
    };


    this.$clipPositionToDocument = function(row, column) {
        column = Math.max(0, column);

        if (row < 0) {
            row = 0;
            column = 0;
        } else {
            var len = this.doc.getLength();
            if (row >= len) {
                row = len - 1;
                column = this.doc.getLine(len-1).length;
            } else {
                column = Math.min(this.doc.getLine(row).length, column);
            }
        }

        return {
            row: row,
            column: column
        };
    };

    this.$clipRangeToDocument = function(range) {
        if (range.start.row < 0) {
            range.start.row = 0;
            range.start.column = 0;
        } else {
            range.start.column = this.$clipColumnToRow(
                range.start.row,
                range.start.column
            );
        }

        var len = this.doc.getLength() - 1;
        if (range.end.row > len) {
            range.end.row = len;
            range.end.column = this.doc.getLine(len).length;
        } else {
            range.end.column = this.$clipColumnToRow(
                range.end.row,
                range.end.column
            );
        }
        return range;
    };
    this.$wrapLimit = 80;
    this.$useWrapMode = false;
    this.$wrapLimitRange = {
        min : null,
        max : null
    };
    this.setUseWrapMode = function(useWrapMode) {
        if (useWrapMode != this.$useWrapMode) {
            this.$useWrapMode = useWrapMode;
            this.$modified = true;
            this.$resetRowCache(0);
            if (useWrapMode) {
                var len = this.getLength();
                this.$wrapData = Array(len);
                this.$updateWrapData(0, len - 1);
            }

            this._signal("changeWrapMode");
        }
    };
    this.getUseWrapMode = function() {
        return this.$useWrapMode;
    };
    this.setWrapLimitRange = function(min, max) {
        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {
            this.$wrapLimitRange = { min: min, max: max };
            this.$modified = true;
            this.$bidiHandler.markAsDirty();
            if (this.$useWrapMode)
                this._signal("changeWrapMode");
        }
    };
    this.adjustWrapLimit = function(desiredLimit, $printMargin) {
        var limits = this.$wrapLimitRange;
        if (limits.max < 0)
            limits = {min: $printMargin, max: $printMargin};
        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);
        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {
            this.$wrapLimit = wrapLimit;
            this.$modified = true;
            if (this.$useWrapMode) {
                this.$updateWrapData(0, this.getLength() - 1);
                this.$resetRowCache(0);
                this._signal("changeWrapLimit");
            }
            return true;
        }
        return false;
    };

    this.$constrainWrapLimit = function(wrapLimit, min, max) {
        if (min)
            wrapLimit = Math.max(min, wrapLimit);

        if (max)
            wrapLimit = Math.min(max, wrapLimit);

        return wrapLimit;
    };
    this.getWrapLimit = function() {
        return this.$wrapLimit;
    };
    this.setWrapLimit = function (limit) {
        this.setWrapLimitRange(limit, limit);
    };
    this.getWrapLimitRange = function() {
        return {
            min : this.$wrapLimitRange.min,
            max : this.$wrapLimitRange.max
        };
    };

    this.$updateInternalDataOnChange = function(delta) {
        var useWrapMode = this.$useWrapMode;
        var action = delta.action;
        var start = delta.start;
        var end = delta.end;
        var firstRow = start.row;
        var lastRow = end.row;
        var len = lastRow - firstRow;
        var removedFolds = null;
        
        this.$updating = true;
        if (len != 0) {
            if (action === "remove") {
                this[useWrapMode ? "$wrapData" : "$rowLengthCache"].splice(firstRow, len);

                var foldLines = this.$foldData;
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);

                var foldLine = this.getFoldLine(end.row);
                var idx = 0;
                if (foldLine) {
                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);
                    foldLine.shiftRow(-len);

                    var foldLineBefore = this.getFoldLine(firstRow);
                    if (foldLineBefore && foldLineBefore !== foldLine) {
                        foldLineBefore.merge(foldLine);
                        foldLine = foldLineBefore;
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= end.row) {
                        foldLine.shiftRow(-len);
                    }
                }

                lastRow = firstRow;
            } else {
                var args = Array(len);
                args.unshift(firstRow, 0);
                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;
                arr.splice.apply(arr, args);
                var foldLines = this.$foldData;
                var foldLine = this.getFoldLine(firstRow);
                var idx = 0;
                if (foldLine) {
                    var cmp = foldLine.range.compareInside(start.row, start.column);
                    if (cmp == 0) {
                        foldLine = foldLine.split(start.row, start.column);
                        if (foldLine) {
                            foldLine.shiftRow(len);
                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);
                        }
                    } else
                    if (cmp == -1) {
                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);
                        foldLine.shiftRow(len);
                    }
                    idx = foldLines.indexOf(foldLine) + 1;
                }

                for (idx; idx < foldLines.length; idx++) {
                    var foldLine = foldLines[idx];
                    if (foldLine.start.row >= firstRow) {
                        foldLine.shiftRow(len);
                    }
                }
            }
        } else {
            len = Math.abs(delta.start.column - delta.end.column);
            if (action === "remove") {
                removedFolds = this.getFoldsInRange(delta);
                this.removeFolds(removedFolds);

                len = -len;
            }
            var foldLine = this.getFoldLine(firstRow);
            if (foldLine) {
                foldLine.addRemoveChars(firstRow, start.column, len);
            }
        }

        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {
            console.error("doc.getLength() and $wrapData.length have to be the same!");
        }
        this.$updating = false;

        if (useWrapMode)
            this.$updateWrapData(firstRow, lastRow);
        else
            this.$updateRowLengthCache(firstRow, lastRow);

        return removedFolds;
    };

    this.$updateRowLengthCache = function(firstRow, lastRow, b) {
        this.$rowLengthCache[firstRow] = null;
        this.$rowLengthCache[lastRow] = null;
    };

    this.$updateWrapData = function(firstRow, lastRow) {
        var lines = this.doc.getAllLines();
        var tabSize = this.getTabSize();
        var wrapData = this.$wrapData;
        var wrapLimit = this.$wrapLimit;
        var tokens;
        var foldLine;

        var row = firstRow;
        lastRow = Math.min(lastRow, lines.length - 1);
        while (row <= lastRow) {
            foldLine = this.getFoldLine(row, foldLine);
            if (!foldLine) {
                tokens = this.$getDisplayTokens(lines[row]);
                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row ++;
            } else {
                tokens = [];
                foldLine.walk(function(placeholder, row, column, lastColumn) {
                        var walkTokens;
                        if (placeholder != null) {
                            walkTokens = this.$getDisplayTokens(
                                            placeholder, tokens.length);
                            walkTokens[0] = PLACEHOLDER_START;
                            for (var i = 1; i < walkTokens.length; i++) {
                                walkTokens[i] = PLACEHOLDER_BODY;
                            }
                        } else {
                            walkTokens = this.$getDisplayTokens(
                                lines[row].substring(lastColumn, column),
                                tokens.length);
                        }
                        tokens = tokens.concat(walkTokens);
                    }.bind(this),
                    foldLine.end.row,
                    lines[foldLine.end.row].length + 1
                );

                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);
                row = foldLine.end.row + 1;
            }
        }
    };
    var CHAR = 1,
        CHAR_EXT = 2,
        PLACEHOLDER_START = 3,
        PLACEHOLDER_BODY =  4,
        PUNCTUATION = 9,
        SPACE = 10,
        TAB = 11,
        TAB_SPACE = 12;


    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {
        if (tokens.length == 0) {
            return [];
        }

        var splits = [];
        var displayLength = tokens.length;
        var lastSplit = 0, lastDocSplit = 0;

        var isCode = this.$wrapAsCode;

        var indentedSoftWrap = this.$indentedSoftWrap;
        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)
            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);

        function getWrapIndent() {
            var indentation = 0;
            if (maxIndent === 0)
                return indentation;
            if (indentedSoftWrap) {
                for (var i = 0; i < tokens.length; i++) {
                    var token = tokens[i];
                    if (token == SPACE)
                        indentation += 1;
                    else if (token == TAB)
                        indentation += tabSize;
                    else if (token == TAB_SPACE)
                        continue;
                    else
                        break;
                }
            }
            if (isCode && indentedSoftWrap !== false)
                indentation += tabSize;
            return Math.min(indentation, maxIndent);
        }
        function addSplit(screenPos) {
            var displayed = tokens.slice(lastSplit, screenPos);
            var len = displayed.length;
            displayed.join("")
                .replace(/12/g, function() {
                    len -= 1;
                })
                .replace(/2/g, function() {
                    len -= 1;
                });

            if (!splits.length) {
                indent = getWrapIndent();
                splits.indent = indent;
            }
            lastDocSplit += len;
            splits.push(lastDocSplit);
            lastSplit = screenPos;
        }
        var indent = 0;
        while (displayLength - lastSplit > wrapLimit - indent) {
            var split = lastSplit + wrapLimit - indent;
            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {
                addSplit(split);
                continue;
            }
            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {
                for (split; split != lastSplit - 1; split--) {
                    if (tokens[split] == PLACEHOLDER_START) {
                        break;
                    }
                }
                if (split > lastSplit) {
                    addSplit(split);
                    continue;
                }
                split = lastSplit + wrapLimit;
                for (split; split < tokens.length; split++) {
                    if (tokens[split] != PLACEHOLDER_BODY) {
                        break;
                    }
                }
                if (split == tokens.length) {
                    break;  // Breaks the while-loop.
                }
                addSplit(split);
                continue;
            }
            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);
            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                split --;
            }
            if (isCode) {
                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {
                    split --;
                }
                while (split > minSplit && tokens[split] == PUNCTUATION) {
                    split --;
                }
            } else {
                while (split > minSplit && tokens[split] < SPACE) {
                    split --;
                }
            }
            if (split > minSplit) {
                addSplit(++split);
                continue;
            }
            split = lastSplit + wrapLimit;
            if (tokens[split] == CHAR_EXT)
                split--;
            addSplit(split - indent);
        }
        return splits;
    };
    this.$getDisplayTokens = function(str, offset) {
        var arr = [];
        var tabSize;
        offset = offset || 0;

        for (var i = 0; i < str.length; i++) {
            var c = str.charCodeAt(i);
            if (c == 9) {
                tabSize = this.getScreenTabSize(arr.length + offset);
                arr.push(TAB);
                for (var n = 1; n < tabSize; n++) {
                    arr.push(TAB_SPACE);
                }
            }
            else if (c == 32) {
                arr.push(SPACE);
            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {
                arr.push(PUNCTUATION);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                arr.push(CHAR, CHAR_EXT);
            } else {
                arr.push(CHAR);
            }
        }
        return arr;
    };
    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
        if (maxScreenColumn == 0)
            return [0, 0];
        if (maxScreenColumn == null)
            maxScreenColumn = Infinity;
        screenColumn = screenColumn || 0;

        var c, column;
        for (column = 0; column < str.length; column++) {
            c = str.charCodeAt(column);
            if (c == 9) {
                screenColumn += this.getScreenTabSize(screenColumn);
            }
            else if (c >= 0x1100 && isFullWidth(c)) {
                screenColumn += 2;
            } else {
                screenColumn += 1;
            }
            if (screenColumn > maxScreenColumn) {
                break;
            }
        }

        return [screenColumn, column];
    };

    this.lineWidgets = null;
    this.getRowLength = function(row) {
        if (this.lineWidgets)
            var h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
        else 
            h = 0;
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1 + h;
        } else {
            return this.$wrapData[row].length + 1 + h;
        }
    };
    this.getRowLineCount = function(row) {
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1;
        } else {
            return this.$wrapData[row].length + 1;
        }
    };

    this.getRowWrapIndent = function(screenRow) {
        if (this.$useWrapMode) {
            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
            var splits = this.$wrapData[pos.row];
            return splits.length && splits[0] < pos.column ? splits.indent : 0;
        } else {
            return 0;
        }
    };
    this.getScreenLastRowColumn = function(screenRow) {
        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);
        return this.documentToScreenColumn(pos.row, pos.column);
    };
    this.getDocumentLastRowColumn = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.getScreenLastRowColumn(screenRow);
    };
    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {
        var screenRow = this.documentToScreenRow(docRow, docColumn);
        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);
    };
    this.getRowSplitData = function(row) {
        if (!this.$useWrapMode) {
            return undefined;
        } else {
            return this.$wrapData[row];
        }
    };
    this.getScreenTabSize = function(screenColumn) {
        return this.$tabSize - screenColumn % this.$tabSize;
    };


    this.screenToDocumentRow = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).row;
    };


    this.screenToDocumentColumn = function(screenRow, screenColumn) {
        return this.screenToDocumentPosition(screenRow, screenColumn).column;
    };
    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {
        if (screenRow < 0)
            return {row: 0, column: 0};

        var line;
        var docRow = 0;
        var docColumn = 0;
        var column;
        var row = 0;
        var rowLength = 0;

        var rowCache = this.$screenRowCache;
        var i = this.$getRowCacheIndex(rowCache, screenRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var docRow = this.$docRowCache[i];
            var doCache = screenRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var maxRow = this.getLength() - 1;
        var foldLine = this.getNextFoldLine(docRow);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (row <= screenRow) {
            rowLength = this.getRowLength(docRow);
            if (row + rowLength > screenRow || docRow >= maxRow) {
                break;
            } else {
                row += rowLength;
                docRow++;
                if (docRow > foldStart) {
                    docRow = foldLine.end.row+1;
                    foldLine = this.getNextFoldLine(docRow, foldLine);
                    foldStart = foldLine ? foldLine.start.row : Infinity;
                }
            }

            if (doCache) {
                this.$docRowCache.push(docRow);
                this.$screenRowCache.push(row);
            }
        }

        if (foldLine && foldLine.start.row <= docRow) {
            line = this.getFoldDisplayLine(foldLine);
            docRow = foldLine.start.row;
        } else if (row + rowLength <= screenRow || docRow > maxRow) {
            return {
                row: maxRow,
                column: this.getLine(maxRow).length
            };
        } else {
            line = this.getLine(docRow);
            foldLine = null;
        }
        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);
        if (this.$useWrapMode) {
            var splits = this.$wrapData[docRow];
            if (splits) {
                column = splits[splitIndex];
                if(splitIndex > 0 && splits.length) {
                    wrapIndent = splits.indent;
                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];
                    line = line.substring(docColumn);
                }
            }
        }

        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))
            screenColumn = this.$bidiHandler.offsetToCol(offsetX);

        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];
        if (this.$useWrapMode && docColumn >= column)
            docColumn = column - 1;

        if (foldLine)
            return foldLine.idxToPosition(docColumn);

        return {row: docRow, column: docColumn};
    };
    this.documentToScreenPosition = function(docRow, docColumn) {
        if (typeof docColumn === "undefined")
            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);
        else
            pos = this.$clipPositionToDocument(docRow, docColumn);

        docRow = pos.row;
        docColumn = pos.column;

        var screenRow = 0;
        var foldStartRow = null;
        var fold = null;
        fold = this.getFoldAt(docRow, docColumn, 1);
        if (fold) {
            docRow = fold.start.row;
            docColumn = fold.start.column;
        }

        var rowEnd, row = 0;


        var rowCache = this.$docRowCache;
        var i = this.$getRowCacheIndex(rowCache, docRow);
        var l = rowCache.length;
        if (l && i >= 0) {
            var row = rowCache[i];
            var screenRow = this.$screenRowCache[i];
            var doCache = docRow > rowCache[l - 1];
        } else {
            var doCache = !l;
        }

        var foldLine = this.getNextFoldLine(row);
        var foldStart = foldLine ?foldLine.start.row :Infinity;

        while (row < docRow) {
            if (row >= foldStart) {
                rowEnd = foldLine.end.row + 1;
                if (rowEnd > docRow)
                    break;
                foldLine = this.getNextFoldLine(rowEnd, foldLine);
                foldStart = foldLine ?foldLine.start.row :Infinity;
            }
            else {
                rowEnd = row + 1;
            }

            screenRow += this.getRowLength(row);
            row = rowEnd;

            if (doCache) {
                this.$docRowCache.push(row);
                this.$screenRowCache.push(screenRow);
            }
        }
        var textLine = "";
        if (foldLine && row >= foldStart) {
            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);
            foldStartRow = foldLine.start.row;
        } else {
            textLine = this.getLine(docRow).substring(0, docColumn);
            foldStartRow = docRow;
        }
        var wrapIndent = 0;
        if (this.$useWrapMode) {
            var wrapRow = this.$wrapData[foldStartRow];
            if (wrapRow) {
                var screenRowOffset = 0;
                while (textLine.length >= wrapRow[screenRowOffset]) {
                    screenRow ++;
                    screenRowOffset++;
                }
                textLine = textLine.substring(
                    wrapRow[screenRowOffset - 1] || 0, textLine.length
                );
                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;
            }
        }

        return {
            row: screenRow,
            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]
        };
    };
    this.documentToScreenColumn = function(row, docColumn) {
        return this.documentToScreenPosition(row, docColumn).column;
    };
    this.documentToScreenRow = function(docRow, docColumn) {
        return this.documentToScreenPosition(docRow, docColumn).row;
    };
    this.getScreenLength = function() {
        var screenRows = 0;
        var fold = null;
        if (!this.$useWrapMode) {
            screenRows = this.getLength();
            var foldData = this.$foldData;
            for (var i = 0; i < foldData.length; i++) {
                fold = foldData[i];
                screenRows -= fold.end.row - fold.start.row;
            }
        } else {
            var lastRow = this.$wrapData.length;
            var row = 0, i = 0;
            var fold = this.$foldData[i++];
            var foldStart = fold ? fold.start.row :Infinity;

            while (row < lastRow) {
                var splits = this.$wrapData[row];
                screenRows += splits ? splits.length + 1 : 1;
                row ++;
                if (row > foldStart) {
                    row = fold.end.row+1;
                    fold = this.$foldData[i++];
                    foldStart = fold ?fold.start.row :Infinity;
                }
            }
        }
        if (this.lineWidgets)
            screenRows += this.$getWidgetScreenLength();

        return screenRows;
    };
    this.$setFontMetrics = function(fm) {
        if (!this.$enableVarChar) return;
        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {
            if (maxScreenColumn === 0)
                return [0, 0];
            if (!maxScreenColumn)
                maxScreenColumn = Infinity;
            screenColumn = screenColumn || 0;
            
            var c, column;
            for (column = 0; column < str.length; column++) {
                c = str.charAt(column);
                if (c === "\t") {
                    screenColumn += this.getScreenTabSize(screenColumn);
                } else {
                    screenColumn += fm.getCharacterWidth(c);
                }
                if (screenColumn > maxScreenColumn) {
                    break;
                }
            }
            
            return [screenColumn, column];
        };
    };
    
    this.destroy = function() {
        if (this.bgTokenizer) {
            this.bgTokenizer.setDocument(null);
            this.bgTokenizer = null;
        }
        this.$stopWorker();
    };

    this.isFullWidth = isFullWidth;
    function isFullWidth(c) {
        if (c < 0x1100)
            return false;
        return c >= 0x1100 && c <= 0x115F ||
               c >= 0x11A3 && c <= 0x11A7 ||
               c >= 0x11FA && c <= 0x11FF ||
               c >= 0x2329 && c <= 0x232A ||
               c >= 0x2E80 && c <= 0x2E99 ||
               c >= 0x2E9B && c <= 0x2EF3 ||
               c >= 0x2F00 && c <= 0x2FD5 ||
               c >= 0x2FF0 && c <= 0x2FFB ||
               c >= 0x3000 && c <= 0x303E ||
               c >= 0x3041 && c <= 0x3096 ||
               c >= 0x3099 && c <= 0x30FF ||
               c >= 0x3105 && c <= 0x312D ||
               c >= 0x3131 && c <= 0x318E ||
               c >= 0x3190 && c <= 0x31BA ||
               c >= 0x31C0 && c <= 0x31E3 ||
               c >= 0x31F0 && c <= 0x321E ||
               c >= 0x3220 && c <= 0x3247 ||
               c >= 0x3250 && c <= 0x32FE ||
               c >= 0x3300 && c <= 0x4DBF ||
               c >= 0x4E00 && c <= 0xA48C ||
               c >= 0xA490 && c <= 0xA4C6 ||
               c >= 0xA960 && c <= 0xA97C ||
               c >= 0xAC00 && c <= 0xD7A3 ||
               c >= 0xD7B0 && c <= 0xD7C6 ||
               c >= 0xD7CB && c <= 0xD7FB ||
               c >= 0xF900 && c <= 0xFAFF ||
               c >= 0xFE10 && c <= 0xFE19 ||
               c >= 0xFE30 && c <= 0xFE52 ||
               c >= 0xFE54 && c <= 0xFE66 ||
               c >= 0xFE68 && c <= 0xFE6B ||
               c >= 0xFF01 && c <= 0xFF60 ||
               c >= 0xFFE0 && c <= 0xFFE6;
    }

}).call(EditSession.prototype);

acequire("./edit_session/folding").Folding.call(EditSession.prototype);
acequire("./edit_session/bracket_match").BracketMatch.call(EditSession.prototype);


config.defineOptions(EditSession.prototype, "session", {
    wrap: {
        set: function(value) {
            if (!value || value == "off")
                value = false;
            else if (value == "free")
                value = true;
            else if (value == "printMargin")
                value = -1;
            else if (typeof value == "string")
                value = parseInt(value, 10) || false;

            if (this.$wrap == value)
                return;
            this.$wrap = value;
            if (!value) {
                this.setUseWrapMode(false);
            } else {
                var col = typeof value == "number" ? value : null;
                this.setWrapLimitRange(col, col);
                this.setUseWrapMode(true);
            }
        },
        get: function() {
            if (this.getUseWrapMode()) {
                if (this.$wrap == -1)
                    return "printMargin";
                if (!this.getWrapLimitRange().min)
                    return "free";
                return this.$wrap;
            }
            return "off";
        },
        handlesSet: true
    },    
    wrapMethod: {
        set: function(val) {
            val = val == "auto"
                ? this.$mode.type != "text"
                : val != "text";
            if (val != this.$wrapAsCode) {
                this.$wrapAsCode = val;
                if (this.$useWrapMode) {
                    this.$modified = true;
                    this.$resetRowCache(0);
                    this.$updateWrapData(0, this.getLength() - 1);
                }
            }
        },
        initialValue: "auto"
    },
    indentedSoftWrap: { initialValue: true },
    firstLineNumber: {
        set: function() {this._signal("changeBreakpoint");},
        initialValue: 1
    },
    useWorker: {
        set: function(useWorker) {
            this.$useWorker = useWorker;

            this.$stopWorker();
            if (useWorker)
                this.$startWorker();
        },
        initialValue: true
    },
    useSoftTabs: {initialValue: true},
    tabSize: {
        set: function(tabSize) {
            if (isNaN(tabSize) || this.$tabSize === tabSize) return;

            this.$modified = true;
            this.$rowLengthCache = [];
            this.$tabSize = tabSize;
            this._signal("changeTabSize");
        },
        initialValue: 4,
        handlesSet: true
    },
    navigateWithinSoftTabs: {initialValue: false},
    overwrite: {
        set: function(val) {this._signal("changeOverwrite");},
        initialValue: false
    },
    newLineMode: {
        set: function(val) {this.doc.setNewLineMode(val);},
        get: function() {return this.doc.getNewLineMode();},
        handlesSet: true
    },
    mode: {
        set: function(val) { this.setMode(val); },
        get: function() { return this.$modeId; }
    }
});

exports.EditSession = EditSession;
});

ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("./lib/lang");
var oop = acequire("./lib/oop");
var Range = acequire("./range").Range;

var Search = function() {
    this.$options = {};
};

(function() {
    this.set = function(options) {
        oop.mixin(this.$options, options);
        return this;
    };
    this.getOptions = function() {
        return lang.copyObject(this.$options);
    };
    this.setOptions = function(options) {
        this.$options = options;
    };
    this.find = function(session) {
        var options = this.$options;
        var iterator = this.$matchIterator(session, options);
        if (!iterator)
            return false;

        var firstRange = null;
        iterator.forEach(function(sr, sc, er, ec) {
            firstRange = new Range(sr, sc, er, ec);
            if (sc == ec && options.start && options.start.start
                && options.skipCurrent != false && firstRange.isEqual(options.start)
            ) {
                firstRange = null;
                return false;
            }

            return true;
        });

        return firstRange;
    };
    this.findAll = function(session) {
        var options = this.$options;
        if (!options.needle)
            return [];
        this.$assembleRegExp(options);

        var range = options.range;
        var lines = range
            ? session.getLines(range.start.row, range.end.row)
            : session.doc.getAllLines();

        var ranges = [];
        var re = options.re;
        if (options.$isMultiLine) {
            var len = re.length;
            var maxRow = lines.length - len;
            var prevRange;
            outer: for (var row = re.offset || 0; row <= maxRow; row++) {
                for (var j = 0; j < len; j++)
                    if (lines[row + j].search(re[j]) == -1)
                        continue outer;
                
                var startLine = lines[row];
                var line = lines[row + len - 1];
                var startIndex = startLine.length - startLine.match(re[0])[0].length;
                var endIndex = line.match(re[len - 1])[0].length;
                
                if (prevRange && prevRange.end.row === row &&
                    prevRange.end.column > startIndex
                ) {
                    continue;
                }
                ranges.push(prevRange = new Range(
                    row, startIndex, row + len - 1, endIndex
                ));
                if (len > 2)
                    row = row + len - 2;
            }
        } else {
            for (var i = 0; i < lines.length; i++) {
                var matches = lang.getMatchOffsets(lines[i], re);
                for (var j = 0; j < matches.length; j++) {
                    var match = matches[j];
                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));
                }
            }
        }

        if (range) {
            var startColumn = range.start.column;
            var endColumn = range.start.column;
            var i = 0, j = ranges.length - 1;
            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)
                i++;

            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)
                j--;
            
            ranges = ranges.slice(i, j + 1);
            for (i = 0, j = ranges.length; i < j; i++) {
                ranges[i].start.row += range.start.row;
                ranges[i].end.row += range.start.row;
            }
        }

        return ranges;
    };
    this.replace = function(input, replacement) {
        var options = this.$options;

        var re = this.$assembleRegExp(options);
        if (options.$isMultiLine)
            return replacement;

        if (!re)
            return;

        var match = re.exec(input);
        if (!match || match[0].length != input.length)
            return null;
        
        replacement = input.replace(re, replacement);
        if (options.preserveCase) {
            replacement = replacement.split("");
            for (var i = Math.min(input.length, input.length); i--; ) {
                var ch = input[i];
                if (ch && ch.toLowerCase() != ch)
                    replacement[i] = replacement[i].toUpperCase();
                else
                    replacement[i] = replacement[i].toLowerCase();
            }
            replacement = replacement.join("");
        }
        
        return replacement;
    };

    this.$assembleRegExp = function(options, $disableFakeMultiline) {
        if (options.needle instanceof RegExp)
            return options.re = options.needle;

        var needle = options.needle;

        if (!options.needle)
            return options.re = false;

        if (!options.regExp)
            needle = lang.escapeRegExp(needle);

        if (options.wholeWord)
            needle = addWordBoundary(needle, options);

        var modifier = options.caseSensitive ? "gm" : "gmi";

        options.$isMultiLine = !$disableFakeMultiline && /[\n\r]/.test(needle);
        if (options.$isMultiLine)
            return options.re = this.$assembleMultilineRegExp(needle, modifier);

        try {
            var re = new RegExp(needle, modifier);
        } catch(e) {
            re = false;
        }
        return options.re = re;
    };

    this.$assembleMultilineRegExp = function(needle, modifier) {
        var parts = needle.replace(/\r\n|\r|\n/g, "$\n^").split("\n");
        var re = [];
        for (var i = 0; i < parts.length; i++) try {
            re.push(new RegExp(parts[i], modifier));
        } catch(e) {
            return false;
        }
        return re;
    };

    this.$matchIterator = function(session, options) {
        var re = this.$assembleRegExp(options);
        if (!re)
            return false;
        var backwards = options.backwards == true;
        var skipCurrent = options.skipCurrent != false;

        var range = options.range;
        var start = options.start;
        if (!start)
            start = range ? range[backwards ? "end" : "start"] : session.selection.getRange();
         
        if (start.start)
            start = start[skipCurrent != backwards ? "end" : "start"];

        var firstRow = range ? range.start.row : 0;
        var lastRow = range ? range.end.row : session.getLength() - 1;

        if (backwards) {
            var forEach = function(callback) {
                var row = start.row;
                if (forEachInLine(row, start.column, callback))
                    return;
                for (row--; row >= firstRow; row--)
                    if (forEachInLine(row, Number.MAX_VALUE, callback))
                        return;
                if (options.wrap == false)
                    return;
                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)
                    if (forEachInLine(row, Number.MAX_VALUE, callback))
                        return;
            };
        }
        else {
            var forEach = function(callback) {
                var row = start.row;
                if (forEachInLine(row, start.column, callback))
                    return;
                for (row = row + 1; row <= lastRow; row++)
                    if (forEachInLine(row, 0, callback))
                        return;
                if (options.wrap == false)
                    return;
                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)
                    if (forEachInLine(row, 0, callback))
                        return;
            };
        }
        
        if (options.$isMultiLine) {
            var len = re.length;
            var forEachInLine = function(row, offset, callback) {
                var startRow = backwards ? row - len + 1 : row;
                if (startRow < 0) return;
                var line = session.getLine(startRow);
                var startIndex = line.search(re[0]);
                if (!backwards && startIndex < offset || startIndex === -1) return;
                for (var i = 1; i < len; i++) {
                    line = session.getLine(startRow + i);
                    if (line.search(re[i]) == -1)
                        return;
                }
                var endIndex = line.match(re[len - 1])[0].length;
                if (backwards && endIndex > offset) return;
                if (callback(startRow, startIndex, startRow + len - 1, endIndex))
                    return true;
            };
        }
        else if (backwards) {
            var forEachInLine = function(row, endIndex, callback) {
                var line = session.getLine(row);
                var matches = [];
                var m, last = 0;
                re.lastIndex = 0;
                while((m = re.exec(line))) {
                    var length = m[0].length;
                    last = m.index;
                    if (!length) {
                        if (last >= line.length) break;
                        re.lastIndex = last += 1;
                    }
                    if (m.index + length > endIndex)
                        break;
                    matches.push(m.index, length);
                }
                for (var i = matches.length - 1; i >= 0; i -= 2) {
                    var column = matches[i - 1];
                    var length = matches[i];
                    if (callback(row, column, row, column + length))
                        return true;
                }
            };
        }
        else {
            var forEachInLine = function(row, startIndex, callback) {
                var line = session.getLine(row);
                var m;
                var last = startIndex;
                re.lastIndex = startIndex;
                while((m = re.exec(line))) {
                    var length = m[0].length;
                    last = m.index;
                    if (callback(row, last, row,last + length))
                        return true;
                    if (!length) {
                        re.lastIndex = last += 1;
                        if (last >= line.length) return false;
                    }
                }
            };
        }
        return {forEach: forEach};
    };

}).call(Search.prototype);

function addWordBoundary(needle, options) {
    function wordBoundary(c) {
        if (/\w/.test(c) || options.regExp) return "\\b";
        return "";
    }
    return wordBoundary(needle[0]) + needle
        + wordBoundary(needle[needle.length - 1]);
}

exports.Search = Search;
});

ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"], function(acequire, exports, module) {
"use strict";

var keyUtil = acequire("../lib/keys");
var useragent = acequire("../lib/useragent");
var KEY_MODS = keyUtil.KEY_MODS;

function HashHandler(config, platform) {
    this.platform = platform || (useragent.isMac ? "mac" : "win");
    this.commands = {};
    this.commandKeyBinding = {};
    this.addCommands(config);
    this.$singleCommand = true;
}

function MultiHashHandler(config, platform) {
    HashHandler.call(this, config, platform);
    this.$singleCommand = false;
}

MultiHashHandler.prototype = HashHandler.prototype;

(function() {
    

    this.addCommand = function(command) {
        if (this.commands[command.name])
            this.removeCommand(command);

        this.commands[command.name] = command;

        if (command.bindKey)
            this._buildKeyHash(command);
    };

    this.removeCommand = function(command, keepCommand) {
        var name = command && (typeof command === 'string' ? command : command.name);
        command = this.commands[name];
        if (!keepCommand)
            delete this.commands[name];
        var ckb = this.commandKeyBinding;
        for (var keyId in ckb) {
            var cmdGroup = ckb[keyId];
            if (cmdGroup == command) {
                delete ckb[keyId];
            } else if (Array.isArray(cmdGroup)) {
                var i = cmdGroup.indexOf(command);
                if (i != -1) {
                    cmdGroup.splice(i, 1);
                    if (cmdGroup.length == 1)
                        ckb[keyId] = cmdGroup[0];
                }
            }
        }
    };

    this.bindKey = function(key, command, position) {
        if (typeof key == "object" && key) {
            if (position == undefined)
                position = key.position;
            key = key[this.platform];
        }
        if (!key)
            return;
        if (typeof command == "function")
            return this.addCommand({exec: command, bindKey: key, name: command.name || key});
        
        key.split("|").forEach(function(keyPart) {
            var chain = "";
            if (keyPart.indexOf(" ") != -1) {
                var parts = keyPart.split(/\s+/);
                keyPart = parts.pop();
                parts.forEach(function(keyPart) {
                    var binding = this.parseKeys(keyPart);
                    var id = KEY_MODS[binding.hashId] + binding.key;
                    chain += (chain ? " " : "") + id;
                    this._addCommandToBinding(chain, "chainKeys");
                }, this);
                chain += " ";
            }
            var binding = this.parseKeys(keyPart);
            var id = KEY_MODS[binding.hashId] + binding.key;
            this._addCommandToBinding(chain + id, command, position);
        }, this);
    };
    
    function getPosition(command) {
        return typeof command == "object" && command.bindKey
            && command.bindKey.position
            || (command.isDefault ? -100 : 0);
    }
    this._addCommandToBinding = function(keyId, command, position) {
        var ckb = this.commandKeyBinding, i;
        if (!command) {
            delete ckb[keyId];
        } else if (!ckb[keyId] || this.$singleCommand) {
            ckb[keyId] = command;
        } else {
            if (!Array.isArray(ckb[keyId])) {
                ckb[keyId] = [ckb[keyId]];
            } else if ((i = ckb[keyId].indexOf(command)) != -1) {
                ckb[keyId].splice(i, 1);
            }

            if (typeof position != "number") {
                position = getPosition(command);
            }

            var commands = ckb[keyId];
            for (i = 0; i < commands.length; i++) {
                var other = commands[i];
                var otherPos = getPosition(other);
                if (otherPos > position)
                    break;
            }
            commands.splice(i, 0, command);
        }
    };

    this.addCommands = function(commands) {
        commands && Object.keys(commands).forEach(function(name) {
            var command = commands[name];
            if (!command)
                return;
            
            if (typeof command === "string")
                return this.bindKey(command, name);

            if (typeof command === "function")
                command = { exec: command };

            if (typeof command !== "object")
                return;

            if (!command.name)
                command.name = name;

            this.addCommand(command);
        }, this);
    };

    this.removeCommands = function(commands) {
        Object.keys(commands).forEach(function(name) {
            this.removeCommand(commands[name]);
        }, this);
    };

    this.bindKeys = function(keyList) {
        Object.keys(keyList).forEach(function(key) {
            this.bindKey(key, keyList[key]);
        }, this);
    };

    this._buildKeyHash = function(command) {
        this.bindKey(command.bindKey, command);
    };
    this.parseKeys = function(keys) {
        var parts = keys.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(x){return x;});
        var key = parts.pop();

        var keyCode = keyUtil[key];
        if (keyUtil.FUNCTION_KEYS[keyCode])
            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();
        else if (!parts.length)
            return {key: key, hashId: -1};
        else if (parts.length == 1 && parts[0] == "shift")
            return {key: key.toUpperCase(), hashId: -1};

        var hashId = 0;
        for (var i = parts.length; i--;) {
            var modifier = keyUtil.KEY_MODS[parts[i]];
            if (modifier == null) {
                if (typeof console != "undefined")
                    console.error("invalid modifier " + parts[i] + " in " + keys);
                return false;
            }
            hashId |= modifier;
        }
        return {key: key, hashId: hashId};
    };

    this.findKeyCommand = function findKeyCommand(hashId, keyString) {
        var key = KEY_MODS[hashId] + keyString;
        return this.commandKeyBinding[key];
    };

    this.handleKeyboard = function(data, hashId, keyString, keyCode) {
        if (keyCode < 0) return;
        var key = KEY_MODS[hashId] + keyString;
        var command = this.commandKeyBinding[key];
        if (data.$keyChain) {
            data.$keyChain += " " + key;
            command = this.commandKeyBinding[data.$keyChain] || command;
        }
        
        if (command) {
            if (command == "chainKeys" || command[command.length - 1] == "chainKeys") {
                data.$keyChain = data.$keyChain || key;
                return {command: "null"};
            }
        }
        
        if (data.$keyChain) {
            if ((!hashId || hashId == 4) && keyString.length == 1)
                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input
            else if (hashId == -1 || keyCode > 0)
                data.$keyChain = ""; // reset keyChain
        }
        return {command: command};
    };
    
    this.getStatusText = function(editor, data) {
        return data.$keyChain || "";
    };

}).call(HashHandler.prototype);

exports.HashHandler = HashHandler;
exports.MultiHashHandler = MultiHashHandler;
});

ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var MultiHashHandler = acequire("../keyboard/hash_handler").MultiHashHandler;
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var CommandManager = function(platform, commands) {
    MultiHashHandler.call(this, commands, platform);
    this.byName = this.commands;
    this.setDefaultHandler("exec", function(e) {
        return e.command.exec(e.editor, e.args || {});
    });
};

oop.inherits(CommandManager, MultiHashHandler);

(function() {

    oop.implement(this, EventEmitter);

    this.exec = function(command, editor, args) {
        if (Array.isArray(command)) {
            for (var i = command.length; i--; ) {
                if (this.exec(command[i], editor, args)) return true;
            }
            return false;
        }

        if (typeof command === "string")
            command = this.commands[command];

        if (!command)
            return false;

        if (editor && editor.$readOnly && !command.readOnly)
            return false;

        if (command.isAvailable && !command.isAvailable(editor))
            return false;

        var e = {editor: editor, command: command, args: args};
        e.returnValue = this._emit("exec", e);
        this._signal("afterExec", e);

        return e.returnValue === false ? false : true;
    };

    this.toggleRecording = function(editor) {
        if (this.$inReplay)
            return;

        editor && editor._emit("changeStatus");
        if (this.recording) {
            this.macro.pop();
            this.removeEventListener("exec", this.$addCommandToMacro);

            if (!this.macro.length)
                this.macro = this.oldMacro;

            return this.recording = false;
        }
        if (!this.$addCommandToMacro) {
            this.$addCommandToMacro = function(e) {
                this.macro.push([e.command, e.args]);
            }.bind(this);
        }

        this.oldMacro = this.macro;
        this.macro = [];
        this.on("exec", this.$addCommandToMacro);
        return this.recording = true;
    };

    this.replay = function(editor) {
        if (this.$inReplay || !this.macro)
            return;

        if (this.recording)
            return this.toggleRecording(editor);

        try {
            this.$inReplay = true;
            this.macro.forEach(function(x) {
                if (typeof x == "string")
                    this.exec(x, editor);
                else
                    this.exec(x[0], editor, x[1]);
            }, this);
        } finally {
            this.$inReplay = false;
        }
    };

    this.trimMacro = function(m) {
        return m.map(function(x){
            if (typeof x[0] != "string")
                x[0] = x[0].name;
            if (!x[1])
                x = x[0];
            return x;
        });
    };

}).call(CommandManager.prototype);

exports.CommandManager = CommandManager;

});

ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"], function(acequire, exports, module) {
"use strict";

var lang = acequire("../lib/lang");
var config = acequire("../config");
var Range = acequire("../range").Range;

function bindKey(win, mac) {
    return {win: win, mac: mac};
}
exports.commands = [{
    name: "showSettingsMenu",
    bindKey: bindKey("Ctrl-,", "Command-,"),
    exec: function(editor) {
        config.loadModule("ace/ext/settings_menu", function(module) {
            module.init(editor);
            editor.showSettingsMenu();
        });
    },
    readOnly: true
}, {
    name: "goToNextError",
    bindKey: bindKey("Alt-E", "F4"),
    exec: function(editor) {
        config.loadModule("ace/ext/error_marker", function(module) {
            module.showErrorMarker(editor, 1);
        });
    },
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "goToPreviousError",
    bindKey: bindKey("Alt-Shift-E", "Shift-F4"),
    exec: function(editor) {
        config.loadModule("ace/ext/error_marker", function(module) {
            module.showErrorMarker(editor, -1);
        });
    },
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "selectall",
    bindKey: bindKey("Ctrl-A", "Command-A"),
    exec: function(editor) { editor.selectAll(); },
    readOnly: true
}, {
    name: "centerselection",
    bindKey: bindKey(null, "Ctrl-L"),
    exec: function(editor) { editor.centerSelection(); },
    readOnly: true
}, {
    name: "gotoline",
    bindKey: bindKey("Ctrl-L", "Command-L"),
    exec: function(editor) {
        var line = parseInt(prompt("Enter line number:"), 10);
        if (!isNaN(line)) {
            editor.gotoLine(line);
        }
    },
    readOnly: true
}, {
    name: "fold",
    bindKey: bindKey("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
    exec: function(editor) { editor.session.toggleFold(false); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "unfold",
    bindKey: bindKey("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
    exec: function(editor) { editor.session.toggleFold(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "toggleFoldWidget",
    bindKey: bindKey("F2", "F2"),
    exec: function(editor) { editor.session.toggleFoldWidget(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "toggleParentFoldWidget",
    bindKey: bindKey("Alt-F2", "Alt-F2"),
    exec: function(editor) { editor.session.toggleFoldWidget(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "foldall",
    bindKey: bindKey(null, "Ctrl-Command-Option-0"),
    exec: function(editor) { editor.session.foldAll(); },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "foldOther",
    bindKey: bindKey("Alt-0", "Command-Option-0"),
    exec: function(editor) { 
        editor.session.foldAll();
        editor.session.unfold(editor.selection.getAllRanges());
    },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "unfoldall",
    bindKey: bindKey("Alt-Shift-0", "Command-Option-Shift-0"),
    exec: function(editor) { editor.session.unfold(); },
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "findnext",
    bindKey: bindKey("Ctrl-K", "Command-G"),
    exec: function(editor) { editor.findNext(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "findprevious",
    bindKey: bindKey("Ctrl-Shift-K", "Command-Shift-G"),
    exec: function(editor) { editor.findPrevious(); },
    multiSelectAction: "forEach",
    scrollIntoView: "center",
    readOnly: true
}, {
    name: "selectOrFindNext",
    bindKey: bindKey("Alt-K", "Ctrl-G"),
    exec: function(editor) {
        if (editor.selection.isEmpty())
            editor.selection.selectWord();
        else
            editor.findNext(); 
    },
    readOnly: true
}, {
    name: "selectOrFindPrevious",
    bindKey: bindKey("Alt-Shift-K", "Ctrl-Shift-G"),
    exec: function(editor) { 
        if (editor.selection.isEmpty())
            editor.selection.selectWord();
        else
            editor.findPrevious();
    },
    readOnly: true
}, {
    name: "find",
    bindKey: bindKey("Ctrl-F", "Command-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor);});
    },
    readOnly: true
}, {
    name: "overwrite",
    bindKey: "Insert",
    exec: function(editor) { editor.toggleOverwrite(); },
    readOnly: true
}, {
    name: "selecttostart",
    bindKey: bindKey("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
    exec: function(editor) { editor.getSelection().selectFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "gotostart",
    bindKey: bindKey("Ctrl-Home", "Command-Home|Command-Up"),
    exec: function(editor) { editor.navigateFileStart(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "selectup",
    bindKey: bindKey("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
    exec: function(editor) { editor.getSelection().selectUp(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "golineup",
    bindKey: bindKey("Up", "Up|Ctrl-P"),
    exec: function(editor, args) { editor.navigateUp(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttoend",
    bindKey: bindKey("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
    exec: function(editor) { editor.getSelection().selectFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "gotoend",
    bindKey: bindKey("Ctrl-End", "Command-End|Command-Down"),
    exec: function(editor) { editor.navigateFileEnd(); },
    multiSelectAction: "forEach",
    readOnly: true,
    scrollIntoView: "animate",
    aceCommandGroup: "fileJump"
}, {
    name: "selectdown",
    bindKey: bindKey("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
    exec: function(editor) { editor.getSelection().selectDown(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "golinedown",
    bindKey: bindKey("Down", "Down|Ctrl-N"),
    exec: function(editor, args) { editor.navigateDown(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectwordleft",
    bindKey: bindKey("Ctrl-Shift-Left", "Option-Shift-Left"),
    exec: function(editor) { editor.getSelection().selectWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotowordleft",
    bindKey: bindKey("Ctrl-Left", "Option-Left"),
    exec: function(editor) { editor.navigateWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttolinestart",
    bindKey: bindKey("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotolinestart",
    bindKey: bindKey("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
    exec: function(editor) { editor.navigateLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectleft",
    bindKey: bindKey("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
    exec: function(editor) { editor.getSelection().selectLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotoleft",
    bindKey: bindKey("Left", "Left|Ctrl-B"),
    exec: function(editor, args) { editor.navigateLeft(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectwordright",
    bindKey: bindKey("Ctrl-Shift-Right", "Option-Shift-Right"),
    exec: function(editor) { editor.getSelection().selectWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotowordright",
    bindKey: bindKey("Ctrl-Right", "Option-Right"),
    exec: function(editor) { editor.navigateWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selecttolineend",
    bindKey: bindKey("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotolineend",
    bindKey: bindKey("Alt-Right|End", "Command-Right|End|Ctrl-E"),
    exec: function(editor) { editor.navigateLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectright",
    bindKey: bindKey("Shift-Right", "Shift-Right"),
    exec: function(editor) { editor.getSelection().selectRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "gotoright",
    bindKey: bindKey("Right", "Right|Ctrl-F"),
    exec: function(editor, args) { editor.navigateRight(args.times); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectpagedown",
    bindKey: "Shift-PageDown",
    exec: function(editor) { editor.selectPageDown(); },
    readOnly: true
}, {
    name: "pagedown",
    bindKey: bindKey(null, "Option-PageDown"),
    exec: function(editor) { editor.scrollPageDown(); },
    readOnly: true
}, {
    name: "gotopagedown",
    bindKey: bindKey("PageDown", "PageDown|Ctrl-V"),
    exec: function(editor) { editor.gotoPageDown(); },
    readOnly: true
}, {
    name: "selectpageup",
    bindKey: "Shift-PageUp",
    exec: function(editor) { editor.selectPageUp(); },
    readOnly: true
}, {
    name: "pageup",
    bindKey: bindKey(null, "Option-PageUp"),
    exec: function(editor) { editor.scrollPageUp(); },
    readOnly: true
}, {
    name: "gotopageup",
    bindKey: "PageUp",
    exec: function(editor) { editor.gotoPageUp(); },
    readOnly: true
}, {
    name: "scrollup",
    bindKey: bindKey("Ctrl-Up", null),
    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "scrolldown",
    bindKey: bindKey("Ctrl-Down", null),
    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },
    readOnly: true
}, {
    name: "selectlinestart",
    bindKey: "Shift-Home",
    exec: function(editor) { editor.getSelection().selectLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectlineend",
    bindKey: "Shift-End",
    exec: function(editor) { editor.getSelection().selectLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "togglerecording",
    bindKey: bindKey("Ctrl-Alt-E", "Command-Option-E"),
    exec: function(editor) { editor.commands.toggleRecording(editor); },
    readOnly: true
}, {
    name: "replaymacro",
    bindKey: bindKey("Ctrl-Shift-E", "Command-Shift-E"),
    exec: function(editor) { editor.commands.replay(editor); },
    readOnly: true
}, {
    name: "jumptomatching",
    bindKey: bindKey("Ctrl-P", "Ctrl-P"),
    exec: function(editor) { editor.jumpToMatching(); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "selecttomatching",
    bindKey: bindKey("Ctrl-Shift-P", "Ctrl-Shift-P"),
    exec: function(editor) { editor.jumpToMatching(true); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "expandToMatching",
    bindKey: bindKey("Ctrl-Shift-M", "Ctrl-Shift-M"),
    exec: function(editor) { editor.jumpToMatching(true, true); },
    multiSelectAction: "forEach",
    scrollIntoView: "animate",
    readOnly: true
}, {
    name: "passKeysToBrowser",
    bindKey: bindKey(null, null),
    exec: function() {},
    passEvent: true,
    readOnly: true
}, {
    name: "copy",
    exec: function(editor) {
    },
    readOnly: true
},
{
    name: "cut",
    exec: function(editor) {
        var range = editor.getSelectionRange();
        editor._emit("cut", range);

        if (!editor.selection.isEmpty()) {
            editor.session.remove(range);
            editor.clearSelection();
        }
    },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "paste",
    exec: function(editor, args) {
        editor.$handlePaste(args);
    },
    scrollIntoView: "cursor"
}, {
    name: "removeline",
    bindKey: bindKey("Ctrl-D", "Command-D"),
    exec: function(editor) { editor.removeLines(); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEachLine"
}, {
    name: "duplicateSelection",
    bindKey: bindKey("Ctrl-Shift-D", "Command-Shift-D"),
    exec: function(editor) { editor.duplicateSelection(); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "sortlines",
    bindKey: bindKey("Ctrl-Alt-S", "Command-Alt-S"),
    exec: function(editor) { editor.sortLines(); },
    scrollIntoView: "selection",
    multiSelectAction: "forEachLine"
}, {
    name: "togglecomment",
    bindKey: bindKey("Ctrl-/", "Command-/"),
    exec: function(editor) { editor.toggleCommentLines(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "toggleBlockComment",
    bindKey: bindKey("Ctrl-Shift-/", "Command-Shift-/"),
    exec: function(editor) { editor.toggleBlockComment(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "modifyNumberUp",
    bindKey: bindKey("Ctrl-Shift-Up", "Alt-Shift-Up"),
    exec: function(editor) { editor.modifyNumber(1); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "modifyNumberDown",
    bindKey: bindKey("Ctrl-Shift-Down", "Alt-Shift-Down"),
    exec: function(editor) { editor.modifyNumber(-1); },
    scrollIntoView: "cursor",
    multiSelectAction: "forEach"
}, {
    name: "replace",
    bindKey: bindKey("Ctrl-H", "Command-Option-F"),
    exec: function(editor) {
        config.loadModule("ace/ext/searchbox", function(e) {e.Search(editor, true);});
    }
}, {
    name: "undo",
    bindKey: bindKey("Ctrl-Z", "Command-Z"),
    exec: function(editor) { editor.undo(); }
}, {
    name: "redo",
    bindKey: bindKey("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
    exec: function(editor) { editor.redo(); }
}, {
    name: "copylinesup",
    bindKey: bindKey("Alt-Shift-Up", "Command-Option-Up"),
    exec: function(editor) { editor.copyLinesUp(); },
    scrollIntoView: "cursor"
}, {
    name: "movelinesup",
    bindKey: bindKey("Alt-Up", "Option-Up"),
    exec: function(editor) { editor.moveLinesUp(); },
    scrollIntoView: "cursor"
}, {
    name: "copylinesdown",
    bindKey: bindKey("Alt-Shift-Down", "Command-Option-Down"),
    exec: function(editor) { editor.copyLinesDown(); },
    scrollIntoView: "cursor"
}, {
    name: "movelinesdown",
    bindKey: bindKey("Alt-Down", "Option-Down"),
    exec: function(editor) { editor.moveLinesDown(); },
    scrollIntoView: "cursor"
}, {
    name: "del",
    bindKey: bindKey("Delete", "Delete|Ctrl-D|Shift-Delete"),
    exec: function(editor) { editor.remove("right"); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "backspace",
    bindKey: bindKey(
        "Shift-Backspace|Backspace",
        "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"
    ),
    exec: function(editor) { editor.remove("left"); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "cut_or_delete",
    bindKey: bindKey("Shift-Delete", null),
    exec: function(editor) { 
        if (editor.selection.isEmpty()) {
            editor.remove("left");
        } else {
            return false;
        }
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolinestart",
    bindKey: bindKey("Alt-Backspace", "Command-Backspace"),
    exec: function(editor) { editor.removeToLineStart(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolineend",
    bindKey: bindKey("Alt-Delete", "Ctrl-K|Command-Delete"),
    exec: function(editor) { editor.removeToLineEnd(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolinestarthard",
    bindKey: bindKey("Ctrl-Shift-Backspace", null),
    exec: function(editor) {
        var range = editor.selection.getRange();
        range.start.column = 0;
        editor.session.remove(range);
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removetolineendhard",
    bindKey: bindKey("Ctrl-Shift-Delete", null),
    exec: function(editor) {
        var range = editor.selection.getRange();
        range.end.column = Number.MAX_VALUE;
        editor.session.remove(range);
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removewordleft",
    bindKey: bindKey("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
    exec: function(editor) { editor.removeWordLeft(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "removewordright",
    bindKey: bindKey("Ctrl-Delete", "Alt-Delete"),
    exec: function(editor) { editor.removeWordRight(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "outdent",
    bindKey: bindKey("Shift-Tab", "Shift-Tab"),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "indent",
    bindKey: bindKey("Tab", "Tab"),
    exec: function(editor) { editor.indent(); },
    multiSelectAction: "forEach",
    scrollIntoView: "selectionPart"
}, {
    name: "blockoutdent",
    bindKey: bindKey("Ctrl-[", "Ctrl-["),
    exec: function(editor) { editor.blockOutdent(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "blockindent",
    bindKey: bindKey("Ctrl-]", "Ctrl-]"),
    exec: function(editor) { editor.blockIndent(); },
    multiSelectAction: "forEachLine",
    scrollIntoView: "selectionPart"
}, {
    name: "insertstring",
    exec: function(editor, str) { editor.insert(str); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "inserttext",
    exec: function(editor, args) {
        editor.insert(lang.stringRepeat(args.text  || "", args.times || 1));
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "splitline",
    bindKey: bindKey(null, "Ctrl-O"),
    exec: function(editor) { editor.splitLine(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "transposeletters",
    bindKey: bindKey("Alt-Shift-X", "Ctrl-T"),
    exec: function(editor) { editor.transposeLetters(); },
    multiSelectAction: function(editor) {editor.transposeSelections(1); },
    scrollIntoView: "cursor"
}, {
    name: "touppercase",
    bindKey: bindKey("Ctrl-U", "Ctrl-U"),
    exec: function(editor) { editor.toUpperCase(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "tolowercase",
    bindKey: bindKey("Ctrl-Shift-U", "Ctrl-Shift-U"),
    exec: function(editor) { editor.toLowerCase(); },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor"
}, {
    name: "expandtoline",
    bindKey: bindKey("Ctrl-Shift-L", "Command-Shift-L"),
    exec: function(editor) {
        var range = editor.selection.getRange();

        range.start.column = range.end.column = 0;
        range.end.row++;
        editor.selection.setRange(range, false);
    },
    multiSelectAction: "forEach",
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "joinlines",
    bindKey: bindKey(null, null),
    exec: function(editor) {
        var isBackwards = editor.selection.isBackwards();
        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();
        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();
        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;
        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());
        var selectedCount = selectedText.replace(/\n\s*/, " ").length;
        var insertLine = editor.session.doc.getLine(selectionStart.row);

        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {
            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));
            if (curLine.length !== 0) {
                curLine = " " + curLine;
            }
            insertLine += curLine;
        }

        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {
            insertLine += editor.session.doc.getNewLineCharacter();
        }

        editor.clearSelection();
        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);

        if (selectedCount > 0) {
            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);
            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);
        } else {
            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;
            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);
        }
    },
    multiSelectAction: "forEach",
    readOnly: true
}, {
    name: "invertSelection",
    bindKey: bindKey(null, null),
    exec: function(editor) {
        var endRow = editor.session.doc.getLength() - 1;
        var endCol = editor.session.doc.getLine(endRow).length;
        var ranges = editor.selection.rangeList.ranges;
        var newRanges = [];
        if (ranges.length < 1) {
            ranges = [editor.selection.getRange()];
        }

        for (var i = 0; i < ranges.length; i++) {
            if (i == (ranges.length - 1)) {
                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {
                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));
                }
            }

            if (i === 0) {
                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {
                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));
                }
            } else {
                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));
            }
        }

        editor.exitMultiSelectMode();
        editor.clearSelection();

        for(var i = 0; i < newRanges.length; i++) {
            editor.selection.addRange(newRanges[i], false);
        }
    },
    readOnly: true,
    scrollIntoView: "none"
}];

});

ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"], function(acequire, exports, module) {
"use strict";

acequire("./lib/fixoldbrowsers");

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var lang = acequire("./lib/lang");
var useragent = acequire("./lib/useragent");
var TextInput = acequire("./keyboard/textinput").TextInput;
var MouseHandler = acequire("./mouse/mouse_handler").MouseHandler;
var FoldHandler = acequire("./mouse/fold_handler").FoldHandler;
var KeyBinding = acequire("./keyboard/keybinding").KeyBinding;
var EditSession = acequire("./edit_session").EditSession;
var Search = acequire("./search").Search;
var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var CommandManager = acequire("./commands/command_manager").CommandManager;
var defaultCommands = acequire("./commands/default_commands").commands;
var config = acequire("./config");
var TokenIterator = acequire("./token_iterator").TokenIterator;
var Editor = function(renderer, session) {
    var container = renderer.getContainerElement();
    this.container = container;
    this.renderer = renderer;
    this.id = "editor" + (++Editor.$uid);

    this.commands = new CommandManager(useragent.isMac ? "mac" : "win", defaultCommands);
    if (typeof document == "object") {
        this.textInput  = new TextInput(renderer.getTextAreaContainer(), this);
        this.renderer.textarea = this.textInput.getElement();
        this.$mouseHandler = new MouseHandler(this);
        new FoldHandler(this);
    }

    this.keyBinding = new KeyBinding(this);

    this.$blockScrolling = 0;
    this.$search = new Search().set({
        wrap: true
    });

    this.$historyTracker = this.$historyTracker.bind(this);
    this.commands.on("exec", this.$historyTracker);

    this.$initOperationListeners();
    
    this._$emitInputEvent = lang.delayedCall(function() {
        this._signal("input", {});
        if (this.session && this.session.bgTokenizer)
            this.session.bgTokenizer.scheduleStart();
    }.bind(this));
    
    this.on("change", function(_, _self) {
        _self._$emitInputEvent.schedule(31);
    });

    this.setSession(session || new EditSession(""));
    config.resetOptions(this);
    config._signal("editor", this);
};

Editor.$uid = 0;

(function(){

    oop.implement(this, EventEmitter);

    this.$initOperationListeners = function() {
        function last(a) {return a[a.length - 1];}

        this.selections = [];
        this.commands.on("exec", this.startOperation.bind(this), true);
        this.commands.on("afterExec", this.endOperation.bind(this), true);

        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this));

        this.on("change", function() {
            this.curOp || this.startOperation();
            this.curOp.docChanged = true;
        }.bind(this), true);

        this.on("changeSelection", function() {
            this.curOp || this.startOperation();
            this.curOp.selectionChanged = true;
        }.bind(this), true);
    };

    this.curOp = null;
    this.prevOp = {};
    this.startOperation = function(commadEvent) {
        if (this.curOp) {
            if (!commadEvent || this.curOp.command)
                return;
            this.prevOp = this.curOp;
        }
        if (!commadEvent) {
            this.previousCommand = null;
            commadEvent = {};
        }

        this.$opResetTimer.schedule();
        this.curOp = {
            command: commadEvent.command || {},
            args: commadEvent.args,
            scrollTop: this.renderer.scrollTop
        };
        if (this.curOp.command.name && this.curOp.command.scrollIntoView !== undefined)
            this.$blockScrolling++;
    };

    this.endOperation = function(e) {
        if (this.curOp) {
            if (e && e.returnValue === false)
                return this.curOp = null;
            this._signal("beforeEndOperation");
            var command = this.curOp.command;
            if (command.name && this.$blockScrolling > 0)
                this.$blockScrolling--;
            var scrollIntoView = command && command.scrollIntoView;
            if (scrollIntoView) {
                switch (scrollIntoView) {
                    case "center-animate":
                        scrollIntoView = "animate";
                    case "center":
                        this.renderer.scrollCursorIntoView(null, 0.5);
                        break;
                    case "animate":
                    case "cursor":
                        this.renderer.scrollCursorIntoView();
                        break;
                    case "selectionPart":
                        var range = this.selection.getRange();
                        var config = this.renderer.layerConfig;
                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {
                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                        }
                        break;
                    default:
                        break;
                }
                if (scrollIntoView == "animate")
                    this.renderer.animateScrolling(this.curOp.scrollTop);
            }
            
            this.prevOp = this.curOp;
            this.curOp = null;
        }
    };
    this.$mergeableCommands = ["backspace", "del", "insertstring"];
    this.$historyTracker = function(e) {
        if (!this.$mergeUndoDeltas)
            return;

        var prev = this.prevOp;
        var mergeableCommands = this.$mergeableCommands;
        var shouldMerge = prev.command && (e.command.name == prev.command.name);
        if (e.command.name == "insertstring") {
            var text = e.args;
            if (this.mergeNextCommand === undefined)
                this.mergeNextCommand = true;

            shouldMerge = shouldMerge
                && this.mergeNextCommand // previous command allows to coalesce with
                && (!/\s/.test(text) || /\s/.test(prev.args)); // previous insertion was of same type

            this.mergeNextCommand = true;
        } else {
            shouldMerge = shouldMerge
                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable
        }

        if (
            this.$mergeUndoDeltas != "always"
            && Date.now() - this.sequenceStartTime > 2000
        ) {
            shouldMerge = false; // the sequence is too long
        }

        if (shouldMerge)
            this.session.mergeUndoDeltas = true;
        else if (mergeableCommands.indexOf(e.command.name) !== -1)
            this.sequenceStartTime = Date.now();
    };
    this.setKeyboardHandler = function(keyboardHandler, cb) {
        if (keyboardHandler && typeof keyboardHandler === "string") {
            this.$keybindingId = keyboardHandler;
            var _self = this;
            config.loadModule(["keybinding", keyboardHandler], function(module) {
                if (_self.$keybindingId == keyboardHandler)
                    _self.keyBinding.setKeyboardHandler(module && module.handler);
                cb && cb();
            });
        } else {
            this.$keybindingId = null;
            this.keyBinding.setKeyboardHandler(keyboardHandler);
            cb && cb();
        }
    };
    this.getKeyboardHandler = function() {
        return this.keyBinding.getKeyboardHandler();
    };
    this.setSession = function(session) {
        if (this.session == session)
            return;
        if (this.curOp) this.endOperation();
        this.curOp = {};

        var oldSession = this.session;
        if (oldSession) {
            this.session.off("change", this.$onDocumentChange);
            this.session.off("changeMode", this.$onChangeMode);
            this.session.off("tokenizerUpdate", this.$onTokenizerUpdate);
            this.session.off("changeTabSize", this.$onChangeTabSize);
            this.session.off("changeWrapLimit", this.$onChangeWrapLimit);
            this.session.off("changeWrapMode", this.$onChangeWrapMode);
            this.session.off("changeFold", this.$onChangeFold);
            this.session.off("changeFrontMarker", this.$onChangeFrontMarker);
            this.session.off("changeBackMarker", this.$onChangeBackMarker);
            this.session.off("changeBreakpoint", this.$onChangeBreakpoint);
            this.session.off("changeAnnotation", this.$onChangeAnnotation);
            this.session.off("changeOverwrite", this.$onCursorChange);
            this.session.off("changeScrollTop", this.$onScrollTopChange);
            this.session.off("changeScrollLeft", this.$onScrollLeftChange);

            var selection = this.session.getSelection();
            selection.off("changeCursor", this.$onCursorChange);
            selection.off("changeSelection", this.$onSelectionChange);
        }

        this.session = session;
        if (session) {
            this.$onDocumentChange = this.onDocumentChange.bind(this);
            session.on("change", this.$onDocumentChange);
            this.renderer.setSession(session);
    
            this.$onChangeMode = this.onChangeMode.bind(this);
            session.on("changeMode", this.$onChangeMode);
    
            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);
            session.on("tokenizerUpdate", this.$onTokenizerUpdate);
    
            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);
            session.on("changeTabSize", this.$onChangeTabSize);
    
            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);
            session.on("changeWrapLimit", this.$onChangeWrapLimit);
    
            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);
            session.on("changeWrapMode", this.$onChangeWrapMode);
    
            this.$onChangeFold = this.onChangeFold.bind(this);
            session.on("changeFold", this.$onChangeFold);
    
            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);
            this.session.on("changeFrontMarker", this.$onChangeFrontMarker);
    
            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);
            this.session.on("changeBackMarker", this.$onChangeBackMarker);
    
            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);
            this.session.on("changeBreakpoint", this.$onChangeBreakpoint);
    
            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);
            this.session.on("changeAnnotation", this.$onChangeAnnotation);
    
            this.$onCursorChange = this.onCursorChange.bind(this);
            this.session.on("changeOverwrite", this.$onCursorChange);
    
            this.$onScrollTopChange = this.onScrollTopChange.bind(this);
            this.session.on("changeScrollTop", this.$onScrollTopChange);
    
            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);
            this.session.on("changeScrollLeft", this.$onScrollLeftChange);
    
            this.selection = session.getSelection();
            this.selection.on("changeCursor", this.$onCursorChange);
    
            this.$onSelectionChange = this.onSelectionChange.bind(this);
            this.selection.on("changeSelection", this.$onSelectionChange);
    
            this.onChangeMode();
    
            this.$blockScrolling += 1;
            this.onCursorChange();
            this.$blockScrolling -= 1;
    
            this.onScrollTopChange();
            this.onScrollLeftChange();
            this.onSelectionChange();
            this.onChangeFrontMarker();
            this.onChangeBackMarker();
            this.onChangeBreakpoint();
            this.onChangeAnnotation();
            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();
            this.renderer.updateFull();
        } else {
            this.selection = null;
            this.renderer.setSession(session);
        }

        this._signal("changeSession", {
            session: session,
            oldSession: oldSession
        });
        
        this.curOp = null;
        
        oldSession && oldSession._signal("changeEditor", {oldEditor: this});
        session && session._signal("changeEditor", {editor: this});

        if (session && session.bgTokenizer)
            session.bgTokenizer.scheduleStart();
    };
    this.getSession = function() {
        return this.session;
    };
    this.setValue = function(val, cursorPos) {
        this.session.doc.setValue(val);

        if (!cursorPos)
            this.selectAll();
        else if (cursorPos == 1)
            this.navigateFileEnd();
        else if (cursorPos == -1)
            this.navigateFileStart();

        return val;
    };
    this.getValue = function() {
        return this.session.getValue();
    };
    this.getSelection = function() {
        return this.selection;
    };
    this.resize = function(force) {
        this.renderer.onResize(force);
    };
    this.setTheme = function(theme, cb) {
        this.renderer.setTheme(theme, cb);
    };
    this.getTheme = function() {
        return this.renderer.getTheme();
    };
    this.setStyle = function(style) {
        this.renderer.setStyle(style);
    };
    this.unsetStyle = function(style) {
        this.renderer.unsetStyle(style);
    };
    this.getFontSize = function () {
        return this.getOption("fontSize") ||
           dom.computedStyle(this.container, "fontSize");
    };
    this.setFontSize = function(size) {
        this.setOption("fontSize", size);
    };

    this.$highlightBrackets = function() {
        if (this.session.$bracketHighlight) {
            this.session.removeMarker(this.session.$bracketHighlight);
            this.session.$bracketHighlight = null;
        }

        if (this.$highlightPending) {
            return;
        }
        var self = this;
        this.$highlightPending = true;
        setTimeout(function() {
            self.$highlightPending = false;
            var session = self.session;
            if (!session || !session.bgTokenizer) return;
            var pos = session.findMatchingBracket(self.getCursorPosition());
            if (pos) {
                var range = new Range(pos.row, pos.column, pos.row, pos.column + 1);
            } else if (session.$mode.getMatching) {
                var range = session.$mode.getMatching(self.session);
            }
            if (range)
                session.$bracketHighlight = session.addMarker(range, "ace_bracket", "text");
        }, 50);
    };
    this.$highlightTags = function() {
        if (this.$highlightTagPending)
            return;
        var self = this;
        this.$highlightTagPending = true;
        setTimeout(function() {
            self.$highlightTagPending = false;
            
            var session = self.session;
            if (!session || !session.bgTokenizer) return;
            
            var pos = self.getCursorPosition();
            var iterator = new TokenIterator(self.session, pos.row, pos.column);
            var token = iterator.getCurrentToken();
            
            if (!token || !/\b(?:tag-open|tag-name)/.test(token.type)) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
            }
            
            if (token.type.indexOf("tag-open") != -1) {
                token = iterator.stepForward();
                if (!token)
                    return;
            }
            
            var tag = token.value;
            var depth = 0;
            var prevToken = iterator.stepBackward();
            
            if (prevToken.value == '<'){
                do {
                    prevToken = token;
                    token = iterator.stepForward();
                    
                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {
                        if (prevToken.value === '<'){
                            depth++;
                        } else if (prevToken.value === '</'){
                            depth--;
                        }
                    }
                    
                } while (token && depth >= 0);
            } else {
                do {
                    token = prevToken;
                    prevToken = iterator.stepBackward();
                    
                    if (token && token.value === tag && token.type.indexOf('tag-name') !== -1) {
                        if (prevToken.value === '<') {
                            depth++;
                        } else if (prevToken.value === '</') {
                            depth--;
                        }
                    }
                } while (prevToken && depth <= 0);
                iterator.stepForward();
            }
            
            if (!token) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
                return;
            }
            
            var row = iterator.getCurrentTokenRow();
            var column = iterator.getCurrentTokenColumn();
            var range = new Range(row, column, row, column+token.value.length);
            var sbm = session.$backMarkers[session.$tagHighlight];
            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {
                session.removeMarker(session.$tagHighlight);
                session.$tagHighlight = null;
            }
            
            if (range && !session.$tagHighlight)
                session.$tagHighlight = session.addMarker(range, "ace_bracket", "text");
        }, 50);
    };
    this.focus = function() {
        var _self = this;
        setTimeout(function() {
            _self.textInput.focus();
        });
        this.textInput.focus();
    };
    this.isFocused = function() {
        return this.textInput.isFocused();
    };
    this.blur = function() {
        this.textInput.blur();
    };
    this.onFocus = function(e) {
        if (this.$isFocused)
            return;
        this.$isFocused = true;
        this.renderer.showCursor();
        this.renderer.visualizeFocus();
        this._emit("focus", e);
    };
    this.onBlur = function(e) {
        if (!this.$isFocused)
            return;
        this.$isFocused = false;
        this.renderer.hideCursor();
        this.renderer.visualizeBlur();
        this._emit("blur", e);
    };

    this.$cursorChange = function() {
        this.renderer.updateCursor();
    };
    this.onDocumentChange = function(delta) {
        var wrap = this.session.$useWrapMode;
        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);
        this.renderer.updateLines(delta.start.row, lastRow, wrap);

        this._signal("change", delta);
        this.$cursorChange();
        this.$updateHighlightActiveLine();
    };

    this.onTokenizerUpdate = function(e) {
        var rows = e.data;
        this.renderer.updateLines(rows.first, rows.last);
    };


    this.onScrollTopChange = function() {
        this.renderer.scrollToY(this.session.getScrollTop());
    };

    this.onScrollLeftChange = function() {
        this.renderer.scrollToX(this.session.getScrollLeft());
    };
    this.onCursorChange = function() {
        this.$cursorChange();

        if (!this.$blockScrolling) {
            config.warn("Automatically scrolling cursor into view after selection change",
                "this will be disabled in the next version",
                "set editor.$blockScrolling = Infinity to disable this message"
            );
            this.renderer.scrollCursorIntoView();
        }

        this.$highlightBrackets();
        this.$highlightTags();
        this.$updateHighlightActiveLine();
        this._signal("changeSelection");
    };

    this.$updateHighlightActiveLine = function() {
        var session = this.getSession();

        var highlight;
        if (this.$highlightActiveLine) {
            if ((this.$selectionStyle != "line" || !this.selection.isMultiLine()))
                highlight = this.getCursorPosition();
            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))
                highlight = false;
        }

        if (session.$highlightLineMarker && !highlight) {
            session.removeMarker(session.$highlightLineMarker.id);
            session.$highlightLineMarker = null;
        } else if (!session.$highlightLineMarker && highlight) {
            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);
            range.id = session.addMarker(range, "ace_active-line", "screenLine");
            session.$highlightLineMarker = range;
        } else if (highlight) {
            session.$highlightLineMarker.start.row = highlight.row;
            session.$highlightLineMarker.end.row = highlight.row;
            session.$highlightLineMarker.start.column = highlight.column;
            session._signal("changeBackMarker");
        }
    };

    this.onSelectionChange = function(e) {
        var session = this.session;

        if (session.$selectionMarker) {
            session.removeMarker(session.$selectionMarker);
        }
        session.$selectionMarker = null;

        if (!this.selection.isEmpty()) {
            var range = this.selection.getRange();
            var style = this.getSelectionStyle();
            session.$selectionMarker = session.addMarker(range, "ace_selection", style);
        } else {
            this.$updateHighlightActiveLine();
        }

        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
        this.session.highlight(re);

        this._signal("changeSelection");
    };

    this.$getSelectionHighLightRegexp = function() {
        var session = this.session;

        var selection = this.getSelectionRange();
        if (selection.isEmpty() || selection.isMultiLine())
            return;

        var startOuter = selection.start.column - 1;
        var endOuter = selection.end.column + 1;
        var line = session.getLine(selection.start.row);
        var lineCols = line.length;
        var needle = line.substring(Math.max(startOuter, 0),
                                    Math.min(endOuter, lineCols));
        if ((startOuter >= 0 && /^[\w\d]/.test(needle)) ||
            (endOuter <= lineCols && /[\w\d]$/.test(needle)))
            return;

        needle = line.substring(selection.start.column, selection.end.column);
        if (!/^[\w\d]+$/.test(needle))
            return;

        var re = this.$search.$assembleRegExp({
            wholeWord: true,
            caseSensitive: true,
            needle: needle
        });

        return re;
    };


    this.onChangeFrontMarker = function() {
        this.renderer.updateFrontMarkers();
    };

    this.onChangeBackMarker = function() {
        this.renderer.updateBackMarkers();
    };


    this.onChangeBreakpoint = function() {
        this.renderer.updateBreakpoints();
    };

    this.onChangeAnnotation = function() {
        this.renderer.setAnnotations(this.session.getAnnotations());
    };


    this.onChangeMode = function(e) {
        this.renderer.updateText();
        this._emit("changeMode", e);
    };


    this.onChangeWrapLimit = function() {
        this.renderer.updateFull();
    };

    this.onChangeWrapMode = function() {
        this.renderer.onResize(true);
    };


    this.onChangeFold = function() {
        this.$updateHighlightActiveLine();
        this.renderer.updateFull();
    };
    this.getSelectedText = function() {
        return this.session.getTextRange(this.getSelectionRange());
    };
    this.getCopyText = function() {
        var text = this.getSelectedText();
        this._signal("copy", text);
        return text;
    };
    this.onCopy = function() {
        this.commands.exec("copy", this);
    };
    this.onCut = function() {
        this.commands.exec("cut", this);
    };
    this.onPaste = function(text, event) {
        var e = {text: text, event: event};
        this.commands.exec("paste", this, e);
    };
    
    this.$handlePaste = function(e) {
        if (typeof e == "string") 
            e = {text: e};
        this._signal("paste", e);
        var text = e.text;
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {
            this.insert(text);
        } else {
            var lines = text.split(/\r\n|\r|\n/);
            var ranges = this.selection.rangeList.ranges;
    
            if (lines.length > ranges.length || lines.length < 2 || !lines[1])
                return this.commands.exec("insertstring", this, text);
    
            for (var i = ranges.length; i--;) {
                var range = ranges[i];
                if (!range.isEmpty())
                    this.session.remove(range);
    
                this.session.insert(range.start, lines[i]);
            }
        }
    };

    this.execCommand = function(command, args) {
        return this.commands.exec(command, this, args);
    };
    this.insert = function(text, pasted) {
        var session = this.session;
        var mode = session.getMode();
        var cursor = this.getCursorPosition();

        if (this.getBehavioursEnabled() && !pasted) {
            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);
            if (transform) {
                if (text !== transform.text) {
                    this.session.mergeUndoDeltas = false;
                    this.$mergeNextCommand = false;
                }
                text = transform.text;

            }
        }
        
        if (text == "\t")
            text = this.session.getTabString();
        if (!this.selection.isEmpty()) {
            var range = this.getSelectionRange();
            cursor = this.session.remove(range);
            this.clearSelection();
        }
        else if (this.session.getOverwrite() && text.indexOf("\n") == -1) {
            var range = new Range.fromPoints(cursor, cursor);
            range.end.column += text.length;
            this.session.remove(range);
        }

        if (text == "\n" || text == "\r\n") {
            var line = session.getLine(cursor.row);
            if (cursor.column > line.search(/\S|$/)) {
                var d = line.substr(cursor.column).search(/\S|$/);
                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);
            }
        }
        this.clearSelection();

        var start = cursor.column;
        var lineState = session.getState(cursor.row);
        var line = session.getLine(cursor.row);
        var shouldOutdent = mode.checkOutdent(lineState, line, text);
        var end = session.insert(cursor, text);

        if (transform && transform.selection) {
            if (transform.selection.length == 2) { // Transform relative to the current column
                this.selection.setSelectionRange(
                    new Range(cursor.row, start + transform.selection[0],
                              cursor.row, start + transform.selection[1]));
            } else { // Transform relative to the current row.
                this.selection.setSelectionRange(
                    new Range(cursor.row + transform.selection[0],
                              transform.selection[1],
                              cursor.row + transform.selection[2],
                              transform.selection[3]));
            }
        }

        if (session.getDocument().isNewLine(text)) {
            var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());

            session.insert({row: cursor.row+1, column: 0}, lineIndent);
        }
        if (shouldOutdent)
            mode.autoOutdent(lineState, session, cursor.row);
    };

    this.onTextInput = function(text) {
        this.keyBinding.onTextInput(text);
    };

    this.onCommandKey = function(e, hashId, keyCode) {
        this.keyBinding.onCommandKey(e, hashId, keyCode);
    };
    this.setOverwrite = function(overwrite) {
        this.session.setOverwrite(overwrite);
    };
    this.getOverwrite = function() {
        return this.session.getOverwrite();
    };
    this.toggleOverwrite = function() {
        this.session.toggleOverwrite();
    };
    this.setScrollSpeed = function(speed) {
        this.setOption("scrollSpeed", speed);
    };
    this.getScrollSpeed = function() {
        return this.getOption("scrollSpeed");
    };
    this.setDragDelay = function(dragDelay) {
        this.setOption("dragDelay", dragDelay);
    };
    this.getDragDelay = function() {
        return this.getOption("dragDelay");
    };
    this.setSelectionStyle = function(val) {
        this.setOption("selectionStyle", val);
    };
    this.getSelectionStyle = function() {
        return this.getOption("selectionStyle");
    };
    this.setHighlightActiveLine = function(shouldHighlight) {
        this.setOption("highlightActiveLine", shouldHighlight);
    };
    this.getHighlightActiveLine = function() {
        return this.getOption("highlightActiveLine");
    };
    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };
    this.setHighlightSelectedWord = function(shouldHighlight) {
        this.setOption("highlightSelectedWord", shouldHighlight);
    };
    this.getHighlightSelectedWord = function() {
        return this.$highlightSelectedWord;
    };

    this.setAnimatedScroll = function(shouldAnimate){
        this.renderer.setAnimatedScroll(shouldAnimate);
    };

    this.getAnimatedScroll = function(){
        return this.renderer.getAnimatedScroll();
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.renderer.setShowInvisibles(showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.renderer.getShowInvisibles();
    };

    this.setDisplayIndentGuides = function(display) {
        this.renderer.setDisplayIndentGuides(display);
    };

    this.getDisplayIndentGuides = function() {
        return this.renderer.getDisplayIndentGuides();
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.renderer.setShowPrintMargin(showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.renderer.getShowPrintMargin();
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.renderer.setPrintMarginColumn(showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.renderer.getPrintMarginColumn();
    };
    this.setReadOnly = function(readOnly) {
        this.setOption("readOnly", readOnly);
    };
    this.getReadOnly = function() {
        return this.getOption("readOnly");
    };
    this.setBehavioursEnabled = function (enabled) {
        this.setOption("behavioursEnabled", enabled);
    };
    this.getBehavioursEnabled = function () {
        return this.getOption("behavioursEnabled");
    };
    this.setWrapBehavioursEnabled = function (enabled) {
        this.setOption("wrapBehavioursEnabled", enabled);
    };
    this.getWrapBehavioursEnabled = function () {
        return this.getOption("wrapBehavioursEnabled");
    };
    this.setShowFoldWidgets = function(show) {
        this.setOption("showFoldWidgets", show);

    };
    this.getShowFoldWidgets = function() {
        return this.getOption("showFoldWidgets");
    };

    this.setFadeFoldWidgets = function(fade) {
        this.setOption("fadeFoldWidgets", fade);
    };

    this.getFadeFoldWidgets = function() {
        return this.getOption("fadeFoldWidgets");
    };
    this.remove = function(dir) {
        if (this.selection.isEmpty()){
            if (dir == "left")
                this.selection.selectLeft();
            else
                this.selection.selectRight();
        }

        var range = this.getSelectionRange();
        if (this.getBehavioursEnabled()) {
            var session = this.session;
            var state = session.getState(range.start.row);
            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);

            if (range.end.column === 0) {
                var text = session.getTextRange(range);
                if (text[text.length - 1] == "\n") {
                    var line = session.getLine(range.end.row);
                    if (/^\s+$/.test(line)) {
                        range.end.column = line.length;
                    }
                }
            }
            if (new_range)
                range = new_range;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.removeWordRight = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordRight();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeWordLeft = function() {
        if (this.selection.isEmpty())
            this.selection.selectWordLeft();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineStart = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineStart();

        this.session.remove(this.getSelectionRange());
        this.clearSelection();
    };
    this.removeToLineEnd = function() {
        if (this.selection.isEmpty())
            this.selection.selectLineEnd();

        var range = this.getSelectionRange();
        if (range.start.column == range.end.column && range.start.row == range.end.row) {
            range.end.column = 0;
            range.end.row++;
        }

        this.session.remove(range);
        this.clearSelection();
    };
    this.splitLine = function() {
        if (!this.selection.isEmpty()) {
            this.session.remove(this.getSelectionRange());
            this.clearSelection();
        }

        var cursor = this.getCursorPosition();
        this.insert("\n");
        this.moveCursorToPosition(cursor);
    };
    this.transposeLetters = function() {
        if (!this.selection.isEmpty()) {
            return;
        }

        var cursor = this.getCursorPosition();
        var column = cursor.column;
        if (column === 0)
            return;

        var line = this.session.getLine(cursor.row);
        var swap, range;
        if (column < line.length) {
            swap = line.charAt(column) + line.charAt(column-1);
            range = new Range(cursor.row, column-1, cursor.row, column+1);
        }
        else {
            swap = line.charAt(column-1) + line.charAt(column-2);
            range = new Range(cursor.row, column-2, cursor.row, column);
        }
        this.session.replace(range, swap);
        this.session.selection.moveToPosition(range.end);
    };
    this.toLowerCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toLowerCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.toUpperCase = function() {
        var originalRange = this.getSelectionRange();
        if (this.selection.isEmpty()) {
            this.selection.selectWord();
        }

        var range = this.getSelectionRange();
        var text = this.session.getTextRange(range);
        this.session.replace(range, text.toUpperCase());
        this.selection.setSelectionRange(originalRange);
    };
    this.indent = function() {
        var session = this.session;
        var range = this.getSelectionRange();

        if (range.start.row < range.end.row) {
            var rows = this.$getSelectedRows();
            session.indentRows(rows.first, rows.last, "\t");
            return;
        } else if (range.start.column < range.end.column) {
            var text = session.getTextRange(range);
            if (!/^\s+$/.test(text)) {
                var rows = this.$getSelectedRows();
                session.indentRows(rows.first, rows.last, "\t");
                return;
            }
        }
        
        var line = session.getLine(range.start.row);
        var position = range.start;
        var size = session.getTabSize();
        var column = session.documentToScreenColumn(position.row, position.column);

        if (this.session.getUseSoftTabs()) {
            var count = (size - column % size);
            var indentString = lang.stringRepeat(" ", count);
        } else {
            var count = column % size;
            while (line[range.start.column - 1] == " " && count) {
                range.start.column--;
                count--;
            }
            this.selection.setSelectionRange(range);
            indentString = "\t";
        }
        return this.insert(indentString);
    };
    this.blockIndent = function() {
        var rows = this.$getSelectedRows();
        this.session.indentRows(rows.first, rows.last, "\t");
    };
    this.blockOutdent = function() {
        var selection = this.session.getSelection();
        this.session.outdentRows(selection.getRange());
    };
    this.sortLines = function() {
        var rows = this.$getSelectedRows();
        var session = this.session;

        var lines = [];
        for (var i = rows.first; i <= rows.last; i++)
            lines.push(session.getLine(i));

        lines.sort(function(a, b) {
            if (a.toLowerCase() < b.toLowerCase()) return -1;
            if (a.toLowerCase() > b.toLowerCase()) return 1;
            return 0;
        });

        var deleteRange = new Range(0, 0, 0, 0);
        for (var i = rows.first; i <= rows.last; i++) {
            var line = session.getLine(i);
            deleteRange.start.row = i;
            deleteRange.end.row = i;
            deleteRange.end.column = line.length;
            session.replace(deleteRange, lines[i-rows.first]);
        }
    };
    this.toggleCommentLines = function() {
        var state = this.session.getState(this.getCursorPosition().row);
        var rows = this.$getSelectedRows();
        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);
    };

    this.toggleBlockComment = function() {
        var cursor = this.getCursorPosition();
        var state = this.session.getState(cursor.row);
        var range = this.getSelectionRange();
        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);
    };
    this.getNumberAt = function(row, column) {
        var _numberRx = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
        _numberRx.lastIndex = 0;

        var s = this.session.getLine(row);
        while (_numberRx.lastIndex < column) {
            var m = _numberRx.exec(s);
            if(m.index <= column && m.index+m[0].length >= column){
                var number = {
                    value: m[0],
                    start: m.index,
                    end: m.index+m[0].length
                };
                return number;
            }
        }
        return null;
    };
    this.modifyNumber = function(amount) {
        var row = this.selection.getCursor().row;
        var column = this.selection.getCursor().column;
        var charRange = new Range(row, column-1, row, column);

        var c = this.session.getTextRange(charRange);
        if (!isNaN(parseFloat(c)) && isFinite(c)) {
            var nr = this.getNumberAt(row, column);
            if (nr) {
                var fp = nr.value.indexOf(".") >= 0 ? nr.start + nr.value.indexOf(".") + 1 : nr.end;
                var decimals = nr.start + nr.value.length - fp;

                var t = parseFloat(nr.value);
                t *= Math.pow(10, decimals);


                if(fp !== nr.end && column < fp){
                    amount *= Math.pow(10, nr.end - column - 1);
                } else {
                    amount *= Math.pow(10, nr.end - column);
                }

                t += amount;
                t /= Math.pow(10, decimals);
                var nnr = t.toFixed(decimals);
                var replaceRange = new Range(row, nr.start, row, nr.end);
                this.session.replace(replaceRange, nnr);
                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));

            }
        }
    };
    this.removeLines = function() {
        var rows = this.$getSelectedRows();
        this.session.removeFullLines(rows.first, rows.last);
        this.clearSelection();
    };

    this.duplicateSelection = function() {
        var sel = this.selection;
        var doc = this.session;
        var range = sel.getRange();
        var reverse = sel.isBackwards();
        if (range.isEmpty()) {
            var row = range.start.row;
            doc.duplicateLines(row, row);
        } else {
            var point = reverse ? range.start : range.end;
            var endPoint = doc.insert(point, doc.getTextRange(range), false);
            range.start = point;
            range.end = endPoint;

            sel.setSelectionRange(range, reverse);
        }
    };
    this.moveLinesDown = function() {
        this.$moveLines(1, false);
    };
    this.moveLinesUp = function() {
        this.$moveLines(-1, false);
    };
    this.moveText = function(range, toPosition, copy) {
        return this.session.moveText(range, toPosition, copy);
    };
    this.copyLinesUp = function() {
        this.$moveLines(-1, true);
    };
    this.copyLinesDown = function() {
        this.$moveLines(1, true);
    };
    this.$moveLines = function(dir, copy) {
        var rows, moved;
        var selection = this.selection;
        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {
            var range = selection.toOrientedRange();
            rows = this.$getSelectedRows(range);
            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);
            if (copy && dir == -1) moved = 0;
            range.moveBy(moved, 0);
            selection.fromOrientedRange(range);
        } else {
            var ranges = selection.rangeList.ranges;
            selection.rangeList.detach(this.session);
            this.inVirtualSelectionMode = true;
            
            var diff = 0;
            var totalDiff = 0;
            var l = ranges.length;
            for (var i = 0; i < l; i++) {
                var rangeIndex = i;
                ranges[i].moveBy(diff, 0);
                rows = this.$getSelectedRows(ranges[i]);
                var first = rows.first;
                var last = rows.last;
                while (++i < l) {
                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);
                    var subRows = this.$getSelectedRows(ranges[i]);
                    if (copy && subRows.first != last)
                        break;
                    else if (!copy && subRows.first > last + 1)
                        break;
                    last = subRows.last;
                }
                i--;
                diff = this.session.$moveLines(first, last, copy ? 0 : dir);
                if (copy && dir == -1) rangeIndex = i + 1;
                while (rangeIndex <= i) {
                    ranges[rangeIndex].moveBy(diff, 0);
                    rangeIndex++;
                }
                if (!copy) diff = 0;
                totalDiff += diff;
            }
            
            selection.fromOrientedRange(selection.ranges[0]);
            selection.rangeList.attach(this.session);
            this.inVirtualSelectionMode = false;
        }
    };
    this.$getSelectedRows = function(range) {
        range = (range || this.getSelectionRange()).collapseRows();

        return {
            first: this.session.getRowFoldStart(range.start.row),
            last: this.session.getRowFoldEnd(range.end.row)
        };
    };

    this.onCompositionStart = function(text) {
        this.renderer.showComposition(this.getCursorPosition());
    };

    this.onCompositionUpdate = function(text) {
        this.renderer.setCompositionText(text);
    };

    this.onCompositionEnd = function() {
        this.renderer.hideComposition();
    };
    this.getFirstVisibleRow = function() {
        return this.renderer.getFirstVisibleRow();
    };
    this.getLastVisibleRow = function() {
        return this.renderer.getLastVisibleRow();
    };
    this.isRowVisible = function(row) {
        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());
    };
    this.isRowFullyVisible = function(row) {
        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());
    };
    this.$getVisibleRowCount = function() {
        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
    };

    this.$moveByPage = function(dir, select) {
        var renderer = this.renderer;
        var config = this.renderer.layerConfig;
        var rows = dir * Math.floor(config.height / config.lineHeight);

        this.$blockScrolling++;
        if (select === true) {
            this.selection.$moveSelection(function(){
                this.moveCursorBy(rows, 0);
            });
        } else if (select === false) {
            this.selection.moveCursorBy(rows, 0);
            this.selection.clearSelection();
        }
        this.$blockScrolling--;

        var scrollTop = renderer.scrollTop;

        renderer.scrollBy(0, rows * config.lineHeight);
        if (select != null)
            renderer.scrollCursorIntoView(null, 0.5);

        renderer.animateScrolling(scrollTop);
    };
    this.selectPageDown = function() {
        this.$moveByPage(1, true);
    };
    this.selectPageUp = function() {
        this.$moveByPage(-1, true);
    };
    this.gotoPageDown = function() {
       this.$moveByPage(1, false);
    };
    this.gotoPageUp = function() {
        this.$moveByPage(-1, false);
    };
    this.scrollPageDown = function() {
        this.$moveByPage(1);
    };
    this.scrollPageUp = function() {
        this.$moveByPage(-1);
    };
    this.scrollToRow = function(row) {
        this.renderer.scrollToRow(row);
    };
    this.scrollToLine = function(line, center, animate, callback) {
        this.renderer.scrollToLine(line, center, animate, callback);
    };
    this.centerSelection = function() {
        var range = this.getSelectionRange();
        var pos = {
            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),
            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)
        };
        this.renderer.alignCursor(pos, 0.5);
    };
    this.getCursorPosition = function() {
        return this.selection.getCursor();
    };
    this.getCursorPositionScreen = function() {
        return this.session.documentToScreenPosition(this.getCursorPosition());
    };
    this.getSelectionRange = function() {
        return this.selection.getRange();
    };
    this.selectAll = function() {
        this.$blockScrolling += 1;
        this.selection.selectAll();
        this.$blockScrolling -= 1;
    };
    this.clearSelection = function() {
        this.selection.clearSelection();
    };
    this.moveCursorTo = function(row, column) {
        this.selection.moveCursorTo(row, column);
    };
    this.moveCursorToPosition = function(pos) {
        this.selection.moveCursorToPosition(pos);
    };
    this.jumpToMatching = function(select, expand) {
        var cursor = this.getCursorPosition();
        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);
        var prevToken = iterator.getCurrentToken();
        var token = prevToken || iterator.stepForward();

        if (!token) return;
        var matchType;
        var found = false;
        var depth = {};
        var i = cursor.column - token.start;
        var bracketType;
        var brackets = {
            ")": "(",
            "(": "(",
            "]": "[",
            "[": "[",
            "{": "{",
            "}": "{"
        };
        
        do {
            if (token.value.match(/[{}()\[\]]/g)) {
                for (; i < token.value.length && !found; i++) {
                    if (!brackets[token.value[i]]) {
                        continue;
                    }

                    bracketType = brackets[token.value[i]] + '.' + token.type.replace("rparen", "lparen");

                    if (isNaN(depth[bracketType])) {
                        depth[bracketType] = 0;
                    }

                    switch (token.value[i]) {
                        case '(':
                        case '[':
                        case '{':
                            depth[bracketType]++;
                            break;
                        case ')':
                        case ']':
                        case '}':
                            depth[bracketType]--;

                            if (depth[bracketType] === -1) {
                                matchType = 'bracket';
                                found = true;
                            }
                        break;
                    }
                }
            }
            else if (token && token.type.indexOf('tag-name') !== -1) {
                if (isNaN(depth[token.value])) {
                    depth[token.value] = 0;
                }
                
                if (prevToken.value === '<') {
                    depth[token.value]++;
                }
                else if (prevToken.value === '</') {
                    depth[token.value]--;
                }
                
                if (depth[token.value] === -1) {
                    matchType = 'tag';
                    found = true;
                }
            }

            if (!found) {
                prevToken = token;
                token = iterator.stepForward();
                i = 0;
            }
        } while (token && !found);
        if (!matchType)
            return;

        var range, pos;
        if (matchType === 'bracket') {
            range = this.session.getBracketRange(cursor);
            if (!range) {
                range = new Range(
                    iterator.getCurrentTokenRow(),
                    iterator.getCurrentTokenColumn() + i - 1,
                    iterator.getCurrentTokenRow(),
                    iterator.getCurrentTokenColumn() + i - 1
                );
                pos = range.start;
                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)
                    range = this.session.getBracketRange(pos);
            }
        }
        else if (matchType === 'tag') {
            if (token && token.type.indexOf('tag-name') !== -1) 
                var tag = token.value;
            else
                return;

            range = new Range(
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2,
                iterator.getCurrentTokenRow(),
                iterator.getCurrentTokenColumn() - 2
            );
            if (range.compare(cursor.row, cursor.column) === 0) {
                found = false;
                do {
                    token = prevToken;
                    prevToken = iterator.stepBackward();
                    
                    if (prevToken) {
                        if (prevToken.type.indexOf('tag-close') !== -1) {
                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);
                        }

                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {
                            if (prevToken.value === '<') {
                                depth[tag]++;
                            }
                            else if (prevToken.value === '</') {
                                depth[tag]--;
                            }
                            
                            if (depth[tag] === 0)
                                found = true;
                        }
                    }
                } while (prevToken && !found);
            }
            if (token && token.type.indexOf('tag-name')) {
                pos = range.start;
                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)
                    pos = range.end;
            }
        }

        pos = range && range.cursor || pos;
        if (pos) {
            if (select) {
                if (range && expand) {
                    this.selection.setRange(range);
                } else if (range && range.isEqual(this.getSelectionRange())) {
                    this.clearSelection();
                } else {
                    this.selection.selectTo(pos.row, pos.column);
                }
            } else {
                this.selection.moveTo(pos.row, pos.column);
            }
        }
    };
    this.gotoLine = function(lineNumber, column, animate) {
        this.selection.clearSelection();
        this.session.unfold({row: lineNumber - 1, column: column || 0});

        this.$blockScrolling += 1;
        this.exitMultiSelectMode && this.exitMultiSelectMode();
        this.moveCursorTo(lineNumber - 1, column || 0);
        this.$blockScrolling -= 1;

        if (!this.isRowFullyVisible(lineNumber - 1))
            this.scrollToLine(lineNumber - 1, true, animate);
    };
    this.navigateTo = function(row, column) {
        this.selection.moveTo(row, column);
    };
    this.navigateUp = function(times) {
        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
            var selectionStart = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionStart);
        }
        this.selection.clearSelection();
        this.selection.moveCursorBy(-times || -1, 0);
    };
    this.navigateDown = function(times) {
        if (this.selection.isMultiLine() && this.selection.isBackwards()) {
            var selectionEnd = this.selection.anchor.getPosition();
            return this.moveCursorToPosition(selectionEnd);
        }
        this.selection.clearSelection();
        this.selection.moveCursorBy(times || 1, 0);
    };
    this.navigateLeft = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionStart = this.getSelectionRange().start;
            this.moveCursorToPosition(selectionStart);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorLeft();
            }
        }
        this.clearSelection();
    };
    this.navigateRight = function(times) {
        if (!this.selection.isEmpty()) {
            var selectionEnd = this.getSelectionRange().end;
            this.moveCursorToPosition(selectionEnd);
        }
        else {
            times = times || 1;
            while (times--) {
                this.selection.moveCursorRight();
            }
        }
        this.clearSelection();
    };
    this.navigateLineStart = function() {
        this.selection.moveCursorLineStart();
        this.clearSelection();
    };
    this.navigateLineEnd = function() {
        this.selection.moveCursorLineEnd();
        this.clearSelection();
    };
    this.navigateFileEnd = function() {
        this.selection.moveCursorFileEnd();
        this.clearSelection();
    };
    this.navigateFileStart = function() {
        this.selection.moveCursorFileStart();
        this.clearSelection();
    };
    this.navigateWordRight = function() {
        this.selection.moveCursorWordRight();
        this.clearSelection();
    };
    this.navigateWordLeft = function() {
        this.selection.moveCursorWordLeft();
        this.clearSelection();
    };
    this.replace = function(replacement, options) {
        if (options)
            this.$search.set(options);

        var range = this.$search.find(this.session);
        var replaced = 0;
        if (!range)
            return replaced;

        if (this.$tryReplace(range, replacement)) {
            replaced = 1;
        }
        if (range !== null) {
            this.selection.setSelectionRange(range);
            this.renderer.scrollSelectionIntoView(range.start, range.end);
        }

        return replaced;
    };
    this.replaceAll = function(replacement, options) {
        if (options) {
            this.$search.set(options);
        }

        var ranges = this.$search.findAll(this.session);
        var replaced = 0;
        if (!ranges.length)
            return replaced;

        this.$blockScrolling += 1;

        var selection = this.getSelectionRange();
        this.selection.moveTo(0, 0);

        for (var i = ranges.length - 1; i >= 0; --i) {
            if(this.$tryReplace(ranges[i], replacement)) {
                replaced++;
            }
        }

        this.selection.setSelectionRange(selection);
        this.$blockScrolling -= 1;

        return replaced;
    };

    this.$tryReplace = function(range, replacement) {
        var input = this.session.getTextRange(range);
        replacement = this.$search.replace(input, replacement);
        if (replacement !== null) {
            range.end = this.session.replace(range, replacement);
            return range;
        } else {
            return null;
        }
    };
    this.getLastSearchOptions = function() {
        return this.$search.getOptions();
    };
    this.find = function(needle, options, animate) {
        if (!options)
            options = {};

        if (typeof needle == "string" || needle instanceof RegExp)
            options.needle = needle;
        else if (typeof needle == "object")
            oop.mixin(options, needle);

        var range = this.selection.getRange();
        if (options.needle == null) {
            needle = this.session.getTextRange(range)
                || this.$search.$options.needle;
            if (!needle) {
                range = this.session.getWordRange(range.start.row, range.start.column);
                needle = this.session.getTextRange(range);
            }
            this.$search.set({needle: needle});
        }

        this.$search.set(options);
        if (!options.start)
            this.$search.set({start: range});

        var newRange = this.$search.find(this.session);
        if (options.preventScroll)
            return newRange;
        if (newRange) {
            this.revealRange(newRange, animate);
            return newRange;
        }
        if (options.backwards)
            range.start = range.end;
        else
            range.end = range.start;
        this.selection.setRange(range);
    };
    this.findNext = function(options, animate) {
        this.find({skipCurrent: true, backwards: false}, options, animate);
    };
    this.findPrevious = function(options, animate) {
        this.find(options, {skipCurrent: true, backwards: true}, animate);
    };

    this.revealRange = function(range, animate) {
        this.$blockScrolling += 1;
        this.session.unfold(range);
        this.selection.setSelectionRange(range);
        this.$blockScrolling -= 1;

        var scrollTop = this.renderer.scrollTop;
        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);
        if (animate !== false)
            this.renderer.animateScrolling(scrollTop);
    };
    this.undo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().undo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.redo = function() {
        this.$blockScrolling++;
        this.session.getUndoManager().redo();
        this.$blockScrolling--;
        this.renderer.scrollCursorIntoView(null, 0.5);
    };
    this.destroy = function() {
        this.renderer.destroy();
        this._signal("destroy", this);
        if (this.session) {
            this.session.destroy();
        }
    };
    this.setAutoScrollEditorIntoView = function(enable) {
        if (!enable)
            return;
        var rect;
        var self = this;
        var shouldScroll = false;
        if (!this.$scrollAnchor)
            this.$scrollAnchor = document.createElement("div");
        var scrollAnchor = this.$scrollAnchor;
        scrollAnchor.style.cssText = "position:absolute";
        this.container.insertBefore(scrollAnchor, this.container.firstChild);
        var onChangeSelection = this.on("changeSelection", function() {
            shouldScroll = true;
        });
        var onBeforeRender = this.renderer.on("beforeRender", function() {
            if (shouldScroll)
                rect = self.renderer.container.getBoundingClientRect();
        });
        var onAfterRender = this.renderer.on("afterRender", function() {
            if (shouldScroll && rect && (self.isFocused()
                || self.searchBox && self.searchBox.isFocused())
            ) {
                var renderer = self.renderer;
                var pos = renderer.$cursorLayer.$pixelPos;
                var config = renderer.layerConfig;
                var top = pos.top - config.offset;
                if (pos.top >= 0 && top + rect.top < 0) {
                    shouldScroll = true;
                } else if (pos.top < config.height &&
                    pos.top + rect.top + config.lineHeight > window.innerHeight) {
                    shouldScroll = false;
                } else {
                    shouldScroll = null;
                }
                if (shouldScroll != null) {
                    scrollAnchor.style.top = top + "px";
                    scrollAnchor.style.left = pos.left + "px";
                    scrollAnchor.style.height = config.lineHeight + "px";
                    scrollAnchor.scrollIntoView(shouldScroll);
                }
                shouldScroll = rect = null;
            }
        });
        this.setAutoScrollEditorIntoView = function(enable) {
            if (enable)
                return;
            delete this.setAutoScrollEditorIntoView;
            this.off("changeSelection", onChangeSelection);
            this.renderer.off("afterRender", onAfterRender);
            this.renderer.off("beforeRender", onBeforeRender);
        };
    };


    this.$resetCursorStyle = function() {
        var style = this.$cursorStyle || "ace";
        var cursorLayer = this.renderer.$cursorLayer;
        if (!cursorLayer)
            return;
        cursorLayer.setSmoothBlinking(/smooth/.test(style));
        cursorLayer.isBlinking = !this.$readOnly && style != "wide";
        dom.setCssClass(cursorLayer.element, "ace_slim-cursors", /slim/.test(style));
    };

}).call(Editor.prototype);



config.defineOptions(Editor.prototype, "editor", {
    selectionStyle: {
        set: function(style) {
            this.onSelectionChange();
            this._signal("changeSelectionStyle", {data: style});
        },
        initialValue: "line"
    },
    highlightActiveLine: {
        set: function() {this.$updateHighlightActiveLine();},
        initialValue: true
    },
    highlightSelectedWord: {
        set: function(shouldHighlight) {this.$onSelectionChange();},
        initialValue: true
    },
    readOnly: {
        set: function(readOnly) {
            this.$resetCursorStyle(); 
        },
        initialValue: false
    },
    cursorStyle: {
        set: function(val) { this.$resetCursorStyle(); },
        values: ["ace", "slim", "smooth", "wide"],
        initialValue: "ace"
    },
    mergeUndoDeltas: {
        values: [false, true, "always"],
        initialValue: true
    },
    behavioursEnabled: {initialValue: true},
    wrapBehavioursEnabled: {initialValue: true},
    autoScrollEditorIntoView: {
        set: function(val) {this.setAutoScrollEditorIntoView(val);}
    },
    keyboardHandler: {
        set: function(val) { this.setKeyboardHandler(val); },
        get: function() { return this.keybindingId; },
        handlesSet: true
    },

    hScrollBarAlwaysVisible: "renderer",
    vScrollBarAlwaysVisible: "renderer",
    highlightGutterLine: "renderer",
    animatedScroll: "renderer",
    showInvisibles: "renderer",
    showPrintMargin: "renderer",
    printMarginColumn: "renderer",
    printMargin: "renderer",
    fadeFoldWidgets: "renderer",
    showFoldWidgets: "renderer",
    showLineNumbers: "renderer",
    showGutter: "renderer",
    displayIndentGuides: "renderer",
    fontSize: "renderer",
    fontFamily: "renderer",
    maxLines: "renderer",
    minLines: "renderer",
    scrollPastEnd: "renderer",
    fixedWidthGutter: "renderer",
    theme: "renderer",

    scrollSpeed: "$mouseHandler",
    dragDelay: "$mouseHandler",
    dragEnabled: "$mouseHandler",
    focusTimout: "$mouseHandler",
    tooltipFollowsMouse: "$mouseHandler",

    firstLineNumber: "session",
    overwrite: "session",
    newLineMode: "session",
    useWorker: "session",
    useSoftTabs: "session",
    tabSize: "session",
    wrap: "session",
    indentedSoftWrap: "session",
    foldStyle: "session",
    mode: "session"
});

exports.Editor = Editor;
});

ace.define("ace/undomanager",["require","exports","module"], function(acequire, exports, module) {
"use strict";
var UndoManager = function() {
    this.reset();
};

(function() {
    this.execute = function(options) {
        var deltaSets = options.args[0];
        this.$doc  = options.args[1];
        if (options.merge && this.hasUndo()){
            this.dirtyCounter--;
            deltaSets = this.$undoStack.pop().concat(deltaSets);
        }
        this.$undoStack.push(deltaSets);
        this.$redoStack = [];
        if (this.dirtyCounter < 0) {
            this.dirtyCounter = NaN;
        }
        this.dirtyCounter++;
    };
    this.undo = function(dontSelect) {
        var deltaSets = this.$undoStack.pop();
        var undoSelectionRange = null;
        if (deltaSets) {
            undoSelectionRange = this.$doc.undoChanges(deltaSets, dontSelect);
            this.$redoStack.push(deltaSets);
            this.dirtyCounter--;
        }

        return undoSelectionRange;
    };
    this.redo = function(dontSelect) {
        var deltaSets = this.$redoStack.pop();
        var redoSelectionRange = null;
        if (deltaSets) {
            redoSelectionRange =
                this.$doc.redoChanges(this.$deserializeDeltas(deltaSets), dontSelect);
            this.$undoStack.push(deltaSets);
            this.dirtyCounter++;
        }
        return redoSelectionRange;
    };
    this.reset = function() {
        this.$undoStack = [];
        this.$redoStack = [];
        this.dirtyCounter = 0;
    };
    this.hasUndo = function() {
        return this.$undoStack.length > 0;
    };
    this.hasRedo = function() {
        return this.$redoStack.length > 0;
    };
    this.markClean = function() {
        this.dirtyCounter = 0;
    };
    this.isClean = function() {
        return this.dirtyCounter === 0;
    };
    this.$serializeDeltas = function(deltaSets) {
        return cloneDeltaSetsObj(deltaSets, $serializeDelta);
    };
    this.$deserializeDeltas = function(deltaSets) {
        return cloneDeltaSetsObj(deltaSets, $deserializeDelta);
    };
    
    function $serializeDelta(delta){
        return {
            action: delta.action,
            start: delta.start,
            end: delta.end,
            lines: delta.lines.length == 1 ? null : delta.lines,
            text: delta.lines.length == 1 ? delta.lines[0] : null
        };
    }
        
    function $deserializeDelta(delta) {
        return {
            action: delta.action,
            start: delta.start,
            end: delta.end,
            lines: delta.lines || [delta.text]
        };
    }
    
    function cloneDeltaSetsObj(deltaSets_old, fnGetModifiedDelta) {
        var deltaSets_new = new Array(deltaSets_old.length);
        for (var i = 0; i < deltaSets_old.length; i++) {
            var deltaSet_old = deltaSets_old[i];
            var deltaSet_new = { group: deltaSet_old.group, deltas: new Array(deltaSet_old.length)};
            
            for (var j = 0; j < deltaSet_old.deltas.length; j++) {
                var delta_old = deltaSet_old.deltas[j];
                deltaSet_new.deltas[j] = fnGetModifiedDelta(delta_old);
            }
            
            deltaSets_new[i] = deltaSet_new;
        }
        return deltaSets_new;
    }
    
}).call(UndoManager.prototype);

exports.UndoManager = UndoManager;
});

ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var oop = acequire("../lib/oop");
var lang = acequire("../lib/lang");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Gutter = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_gutter-layer";
    parentEl.appendChild(this.element);
    this.setShowFoldWidgets(this.$showFoldWidgets);
    
    this.gutterWidth = 0;

    this.$annotations = [];
    this.$updateAnnotations = this.$updateAnnotations.bind(this);

    this.$cells = [];
};

(function() {

    oop.implement(this, EventEmitter);

    this.setSession = function(session) {
        if (this.session)
            this.session.removeEventListener("change", this.$updateAnnotations);
        this.session = session;
        if (session)
            session.on("change", this.$updateAnnotations);
    };

    this.addGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.addGutterDecoration");
        this.session.addGutterDecoration(row, className);
    };

    this.removeGutterDecoration = function(row, className){
        if (window.console)
            console.warn && console.warn("deprecated use session.removeGutterDecoration");
        this.session.removeGutterDecoration(row, className);
    };

    this.setAnnotations = function(annotations) {
        this.$annotations = [];
        for (var i = 0; i < annotations.length; i++) {
            var annotation = annotations[i];
            var row = annotation.row;
            var rowInfo = this.$annotations[row];
            if (!rowInfo)
                rowInfo = this.$annotations[row] = {text: []};
           
            var annoText = annotation.text;
            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || "";

            if (rowInfo.text.indexOf(annoText) === -1)
                rowInfo.text.push(annoText);

            var type = annotation.type;
            if (type == "error")
                rowInfo.className = " ace_error";
            else if (type == "warning" && rowInfo.className != " ace_error")
                rowInfo.className = " ace_warning";
            else if (type == "info" && (!rowInfo.className))
                rowInfo.className = " ace_info";
        }
    };

    this.$updateAnnotations = function (delta) {
        if (!this.$annotations.length)
            return;
        var firstRow = delta.start.row;
        var len = delta.end.row - firstRow;
        if (len === 0) {
        } else if (delta.action == 'remove') {
            this.$annotations.splice(firstRow, len + 1, null);
        } else {
            var args = new Array(len + 1);
            args.unshift(firstRow, 1);
            this.$annotations.splice.apply(this.$annotations, args);
        }
    };

    this.update = function(config) {
        var session = this.session;
        var firstRow = config.firstRow;
        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar
            session.getLength() - 1);
        var fold = session.getNextFoldLine(firstRow);
        var foldStart = fold ? fold.start.row : Infinity;
        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;
        var breakpoints = session.$breakpoints;
        var decorations = session.$decorations;
        var firstLineNumber = session.$firstLineNumber;
        var lastLineNumber = 0;
        
        var gutterRenderer = session.gutterRenderer || this.$renderer;

        var cell = null;
        var index = -1;
        var row = firstRow;
        while (true) {
            if (row > foldStart) {
                row = fold.end.row + 1;
                fold = session.getNextFoldLine(row, fold);
                foldStart = fold ? fold.start.row : Infinity;
            }
            if (row > lastRow) {
                while (this.$cells.length > index + 1) {
                    cell = this.$cells.pop();
                    this.element.removeChild(cell.element);
                }
                break;
            }

            cell = this.$cells[++index];
            if (!cell) {
                cell = {element: null, textNode: null, foldWidget: null};
                cell.element = dom.createElement("div");
                cell.textNode = document.createTextNode('');
                cell.element.appendChild(cell.textNode);
                this.element.appendChild(cell.element);
                this.$cells[index] = cell;
            }

            var className = "ace_gutter-cell ";
            if (breakpoints[row])
                className += breakpoints[row];
            if (decorations[row])
                className += decorations[row];
            if (this.$annotations[row])
                className += this.$annotations[row].className;
            if (cell.element.className != className)
                cell.element.className = className;

            var height = session.getRowLength(row) * config.lineHeight + "px";
            if (height != cell.element.style.height)
                cell.element.style.height = height;

            if (foldWidgets) {
                var c = foldWidgets[row];
                if (c == null)
                    c = foldWidgets[row] = session.getFoldWidget(row);
            }

            if (c) {
                if (!cell.foldWidget) {
                    cell.foldWidget = dom.createElement("span");
                    cell.element.appendChild(cell.foldWidget);
                }
                var className = "ace_fold-widget ace_" + c;
                if (c == "start" && row == foldStart && row < fold.end.row)
                    className += " ace_closed";
                else
                    className += " ace_open";
                if (cell.foldWidget.className != className)
                    cell.foldWidget.className = className;

                var height = config.lineHeight + "px";
                if (cell.foldWidget.style.height != height)
                    cell.foldWidget.style.height = height;
            } else {
                if (cell.foldWidget) {
                    cell.element.removeChild(cell.foldWidget);
                    cell.foldWidget = null;
                }
            }
            
            var text = lastLineNumber = gutterRenderer
                ? gutterRenderer.getText(session, row)
                : row + firstLineNumber;
            if (text !== cell.textNode.data)
                cell.textNode.data = text;

            row++;
        }

        this.element.style.height = config.minHeight + "px";

        if (this.$fixedWidth || session.$useWrapMode)
            lastLineNumber = session.getLength() + firstLineNumber;

        var gutterWidth = gutterRenderer 
            ? gutterRenderer.getWidth(session, lastLineNumber, config)
            : lastLineNumber.toString().length * config.characterWidth;
        
        var padding = this.$padding || this.$computePadding();
        gutterWidth += padding.left + padding.right;
        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {
            this.gutterWidth = gutterWidth;
            this.element.style.width = Math.ceil(this.gutterWidth) + "px";
            this._emit("changeGutterWidth", gutterWidth);
        }
    };

    this.$fixedWidth = false;
    
    this.$showLineNumbers = true;
    this.$renderer = "";
    this.setShowLineNumbers = function(show) {
        this.$renderer = !show && {
            getWidth: function() {return "";},
            getText: function() {return "";}
        };
    };
    
    this.getShowLineNumbers = function() {
        return this.$showLineNumbers;
    };
    
    this.$showFoldWidgets = true;
    this.setShowFoldWidgets = function(show) {
        if (show)
            dom.addCssClass(this.element, "ace_folding-enabled");
        else
            dom.removeCssClass(this.element, "ace_folding-enabled");

        this.$showFoldWidgets = show;
        this.$padding = null;
    };
    
    this.getShowFoldWidgets = function() {
        return this.$showFoldWidgets;
    };

    this.$computePadding = function() {
        if (!this.element.firstChild)
            return {left: 0, right: 0};
        var style = dom.computedStyle(this.element.firstChild);
        this.$padding = {};
        this.$padding.left = parseInt(style.paddingLeft) + 1 || 0;
        this.$padding.right = parseInt(style.paddingRight) || 0;
        return this.$padding;
    };

    this.getRegion = function(point) {
        var padding = this.$padding || this.$computePadding();
        var rect = this.element.getBoundingClientRect();
        if (point.x < padding.left + rect.left)
            return "markers";
        if (this.$showFoldWidgets && point.x > rect.right - padding.right)
            return "foldWidgets";
    };

}).call(Gutter.prototype);

exports.Gutter = Gutter;

});

ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;
var dom = acequire("../lib/dom");

var Marker = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_marker-layer";
    parentEl.appendChild(this.element);
};

(function() {

    this.$padding = 0;

    this.setPadding = function(padding) {
        this.$padding = padding;
    };
    this.setSession = function(session) {
        this.session = session;
    };
    
    this.setMarkers = function(markers) {
        this.markers = markers;
    };

    this.update = function(config) {
        if (!config) return;

        this.config = config;


        var html = [];
        for (var key in this.markers) {
            var marker = this.markers[key];

            if (!marker.range) {
                marker.update(html, this, this.session, config);
                continue;
            }

            var range = marker.range.clipRows(config.firstRow, config.lastRow);
            if (range.isEmpty()) continue;

            range = range.toScreenRange(this.session);
            if (marker.renderer) {
                var top = this.$getTop(range.start.row, config);
                var left = this.$padding + (this.session.$bidiHandler.isBidiRow(range.start.row)
                    ? this.session.$bidiHandler.getPosLeft(range.start.column)
                    : range.start.column * config.characterWidth);
                marker.renderer(html, range, left, top, config);
            } else if (marker.type == "fullLine") {
                this.drawFullLineMarker(html, range, marker.clazz, config);
            } else if (marker.type == "screenLine") {
                this.drawScreenLineMarker(html, range, marker.clazz, config);
            } else if (range.isMultiLine()) {
                if (marker.type == "text")
                    this.drawTextMarker(html, range, marker.clazz, config);
                else
                    this.drawMultiLineMarker(html, range, marker.clazz, config);
            } else {
                if (this.session.$bidiHandler.isBidiRow(range.start.row)) {
                    this.drawBidiSingleLineMarker(html, range, marker.clazz + " ace_start" + " ace_br15", config);
                } else {
                    this.drawSingleLineMarker(html, range, marker.clazz + " ace_start" + " ace_br15", config);
                }
            }
        }
        this.element.innerHTML = html.join("");
    };

    this.$getTop = function(row, layerConfig) {
        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;
    };

    function getBorderClass(tl, tr, br, bl) {
        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);
    }
    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {
        var session = this.session;
        var start = range.start.row;
        var end = range.end.row;
        var row = start;
        var prev = 0; 
        var curr = 0;
        var next = session.getScreenLastRowColumn(row);
        var clazzModified = null;
        var lineRange = new Range(row, range.start.column, row, curr);
        for (; row <= end; row++) {
            lineRange.start.row = lineRange.end.row = row;
            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);
            lineRange.end.column = next;
            prev = curr;
            curr = next;
            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;
            clazzModified = clazz + (row == start  ? " ace_start" : "") + " ace_br"
                + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end);

            if (this.session.$bidiHandler.isBidiRow(row)) {
                this.drawBidiSingleLineMarker(stringBuilder, lineRange, clazzModified,
                    layerConfig, row == end ? 0 : 1, extraStyle);
            } else {
                this.drawSingleLineMarker(stringBuilder, lineRange, clazzModified,
                    layerConfig, row == end ? 0 : 1, extraStyle);
            }
        }
    };
    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var padding = this.$padding;
        var height, top, left;
        extraStyle = extraStyle || "";
       if (this.session.$bidiHandler.isBidiRow(range.start.row)) {
           var range1 = range.clone();
           range1.end.row = range1.start.row;
           range1.end.column = this.session.getLine(range1.start.row).length;
           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br1 ace_start", config, null, extraStyle);
        } else {
           height = config.lineHeight;
           top = this.$getTop(range.start.row, config);
           left = padding + range.start.column * config.characterWidth;
           stringBuilder.push(
               "<div class='", clazz, " ace_br1 ace_start' style='",
               "height:", height, "px;",
               "right:0;",
               "top:", top, "px;",
               "left:", left, "px;", extraStyle, "'></div>"
           );
        }
        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {
           var range1 = range.clone();
           range1.start.row = range1.end.row;
           range1.start.column = 0;
           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + " ace_br12", config, null, extraStyle);
        } else {
           var width = range.end.column * config.characterWidth;
           height = config.lineHeight;
           top = this.$getTop(range.end.row, config);
           stringBuilder.push(
               "<div class='", clazz, " ace_br12' style='",
               "height:", height, "px;",
               "width:", width, "px;",
               "top:", top, "px;",
               "left:", padding, "px;", extraStyle, "'></div>"
           );
        }
        height = (range.end.row - range.start.row - 1) * config.lineHeight;
        if (height <= 0)
            return;
        top = this.$getTop(range.start.row + 1, config);
        
        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);

        stringBuilder.push(
            "<div class='", clazz, (radiusClass ? " ace_br" + radiusClass : ""), "' style='",
            "height:", height, "px;",
            "right:0;",
            "top:", top, "px;",
            "left:", padding, "px;", extraStyle, "'></div>"
        );
    };
    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {
        var height = config.lineHeight;
        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;

        var top = this.$getTop(range.start.row, config);
        var left = this.$padding + range.start.column * config.characterWidth;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "width:", width, "px;",
            "top:", top, "px;",
            "left:", left, "px;", extraStyle || "", "'></div>"
        );
    };
    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {
        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;
        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);

        selections.forEach(function(selection) {
            stringBuilder.push(
                "<div class='", clazz, "' style='",
                "height:", height, "px;",
                "width:", selection.width + (extraLength || 0), "px;",
                "top:", top, "px;",
                "left:", padding + selection.left, "px;", extraStyle || "", "'></div>"
            );
        });
    };

    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;
        if (range.start.row != range.end.row)
            height += this.$getTop(range.end.row, config) - top;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };
    
    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {
        var top = this.$getTop(range.start.row, config);
        var height = config.lineHeight;

        stringBuilder.push(
            "<div class='", clazz, "' style='",
            "height:", height, "px;",
            "top:", top, "px;",
            "left:0;right:0;", extraStyle || "", "'></div>"
        );
    };

}).call(Marker.prototype);

exports.Marker = Marker;

});

ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var useragent = acequire("../lib/useragent");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var Text = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_text-layer";
    parentEl.appendChild(this.element);
    this.$updateEolChar = this.$updateEolChar.bind(this);
};

(function() {

    oop.implement(this, EventEmitter);

    this.EOF_CHAR = "\xB6";
    this.EOL_CHAR_LF = "\xAC";
    this.EOL_CHAR_CRLF = "\xa4";
    this.EOL_CHAR = this.EOL_CHAR_LF;
    this.TAB_CHAR = "\u2014"; //"\u21E5";
    this.SPACE_CHAR = "\xB7";
    this.$padding = 0;

    this.$updateEolChar = function() {
        var EOL_CHAR = this.session.doc.getNewLineCharacter() == "\n"
           ? this.EOL_CHAR_LF
           : this.EOL_CHAR_CRLF;
        if (this.EOL_CHAR != EOL_CHAR) {
            this.EOL_CHAR = EOL_CHAR;
            return true;
        }
    };

    this.setPadding = function(padding) {
        this.$padding = padding;
        this.element.style.padding = "0 " + padding + "px";
    };

    this.getLineHeight = function() {
        return this.$fontMetrics.$characterSize.height || 0;
    };

    this.getCharacterWidth = function() {
        return this.$fontMetrics.$characterSize.width || 0;
    };
    
    this.$setFontMetrics = function(measure) {
        this.$fontMetrics = measure;
        this.$fontMetrics.on("changeCharacterSize", function(e) {
            this._signal("changeCharacterSize", e);
        }.bind(this));
        this.$pollSizeChanges();
    };

    this.checkForSizeChanges = function() {
        this.$fontMetrics.checkForSizeChanges();
    };
    this.$pollSizeChanges = function() {
        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
    };
    this.setSession = function(session) {
        this.session = session;
        if (session)
            this.$computeTabString();
    };

    this.showInvisibles = false;
    this.setShowInvisibles = function(showInvisibles) {
        if (this.showInvisibles == showInvisibles)
            return false;

        this.showInvisibles = showInvisibles;
        this.$computeTabString();
        return true;
    };

    this.displayIndentGuides = true;
    this.setDisplayIndentGuides = function(display) {
        if (this.displayIndentGuides == display)
            return false;

        this.displayIndentGuides = display;
        this.$computeTabString();
        return true;
    };

    this.$tabStrings = [];
    this.onChangeTabSize =
    this.$computeTabString = function() {
        var tabSize = this.session.getTabSize();
        this.tabSize = tabSize;
        var tabStr = this.$tabStrings = [0];
        for (var i = 1; i < tabSize + 1; i++) {
            if (this.showInvisibles) {
                tabStr.push("<span class='ace_invisible ace_invisible_tab'>"
                    + lang.stringRepeat(this.TAB_CHAR, i)
                    + "</span>");
            } else {
                tabStr.push(lang.stringRepeat(" ", i));
            }
        }
        if (this.displayIndentGuides) {
            this.$indentGuideRe =  /\s\S| \t|\t |\s$/;
            var className = "ace_indent-guide";
            var spaceClass = "";
            var tabClass = "";
            if (this.showInvisibles) {
                className += " ace_invisible";
                spaceClass = " ace_invisible_space";
                tabClass = " ace_invisible_tab";
                var spaceContent = lang.stringRepeat(this.SPACE_CHAR, this.tabSize);
                var tabContent = lang.stringRepeat(this.TAB_CHAR, this.tabSize);
            } else{
                var spaceContent = lang.stringRepeat(" ", this.tabSize);
                var tabContent = spaceContent;
            }

            this.$tabStrings[" "] = "<span class='" + className + spaceClass + "'>" + spaceContent + "</span>";
            this.$tabStrings["\t"] = "<span class='" + className + tabClass + "'>" + tabContent + "</span>";
        }
    };

    this.updateLines = function(config, firstRow, lastRow) {
        if (this.config.lastRow != config.lastRow ||
            this.config.firstRow != config.firstRow) {
            this.scrollLines(config);
        }
        this.config = config;

        var first = Math.max(firstRow, config.firstRow);
        var last = Math.min(lastRow, config.lastRow);

        var lineElements = this.element.childNodes;
        var lineElementsIdx = 0;

        for (var row = config.firstRow; row < first; row++) {
            var foldLine = this.session.getFoldLine(row);
            if (foldLine) {
                if (foldLine.containsRow(first)) {
                    first = foldLine.start.row;
                    break;
                } else {
                    row = foldLine.end.row;
                }
            }
            lineElementsIdx ++;
        }

        var row = first;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > last)
                break;

            var lineElement = lineElements[lineElementsIdx++];
            if (lineElement) {
                var html = [];
                this.$renderLine(
                    html, row, !this.$useLineGroups(), row == foldStart ? foldLine : false
                );
                lineElement.style.height = config.lineHeight * this.session.getRowLength(row) + "px";
                lineElement.innerHTML = html.join("");
            }
            row++;
        }
    };

    this.scrollLines = function(config) {
        var oldConfig = this.config;
        this.config = config;

        if (!oldConfig || oldConfig.lastRow < config.firstRow)
            return this.update(config);

        if (config.lastRow < oldConfig.firstRow)
            return this.update(config);

        var el = this.element;
        if (oldConfig.firstRow < config.firstRow)
            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)
                el.removeChild(el.firstChild);

        if (oldConfig.lastRow > config.lastRow)
            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)
                el.removeChild(el.lastChild);

        if (config.firstRow < oldConfig.firstRow) {
            var fragment = this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1);
            if (el.firstChild)
                el.insertBefore(fragment, el.firstChild);
            else
                el.appendChild(fragment);
        }

        if (config.lastRow > oldConfig.lastRow) {
            var fragment = this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow);
            el.appendChild(fragment);
        }
    };

    this.$renderLinesFragment = function(config, firstRow, lastRow) {
        var fragment = this.element.ownerDocument.createDocumentFragment();
        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row : Infinity;
            }
            if (row > lastRow)
                break;

            var container = dom.createElement("div");

            var html = [];
            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);
            container.innerHTML = html.join("");
            if (this.$useLineGroups()) {
                container.className = 'ace_line_group';
                fragment.appendChild(container);
                container.style.height = config.lineHeight * this.session.getRowLength(row) + "px";

            } else {
                while(container.firstChild)
                    fragment.appendChild(container.firstChild);
            }

            row++;
        }
        return fragment;
    };

    this.update = function(config) {
        this.config = config;

        var html = [];
        var firstRow = config.firstRow, lastRow = config.lastRow;

        var row = firstRow;
        var foldLine = this.session.getNextFoldLine(row);
        var foldStart = foldLine ? foldLine.start.row : Infinity;

        while (true) {
            if (row > foldStart) {
                row = foldLine.end.row+1;
                foldLine = this.session.getNextFoldLine(row, foldLine);
                foldStart = foldLine ? foldLine.start.row :Infinity;
            }
            if (row > lastRow)
                break;

            if (this.$useLineGroups())
                html.push("<div class='ace_line_group' style='height:", config.lineHeight*this.session.getRowLength(row), "px'>");

            this.$renderLine(html, row, false, row == foldStart ? foldLine : false);

            if (this.$useLineGroups())
                html.push("</div>"); // end the line group

            row++;
        }
        this.element.innerHTML = html.join("");
    };

    this.$textToken = {
        "text": true,
        "rparen": true,
        "lparen": true
    };

    this.$renderToken = function(stringBuilder, screenColumn, token, value) {
        var self = this;
        var replaceReg = /\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g;
        var replaceFunc = function(c, a, b, tabIdx, idx4) {
            if (a) {
                return self.showInvisibles
                    ? "<span class='ace_invisible ace_invisible_space'>" + lang.stringRepeat(self.SPACE_CHAR, c.length) + "</span>"
                    : c;
            } else if (c == "&") {
                return "&#38;";
            } else if (c == "<") {
                return "&#60;";
            } else if (c == ">") {
                return "&#62;";
            } else if (c == "\t") {
                var tabSize = self.session.getScreenTabSize(screenColumn + tabIdx);
                screenColumn += tabSize - 1;
                return self.$tabStrings[tabSize];
            } else if (c == "\u3000") {
                var classToUse = self.showInvisibles ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk";
                var space = self.showInvisibles ? self.SPACE_CHAR : "";
                screenColumn += 1;
                return "<span class='" + classToUse + "' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + space + "</span>";
            } else if (b) {
                return "<span class='ace_invisible ace_invisible_space ace_invalid'>" + self.SPACE_CHAR + "</span>";
            } else {
                screenColumn += 1;
                return "<span class='ace_cjk' style='width:" +
                    (self.config.characterWidth * 2) +
                    "px'>" + c + "</span>";
            }
        };

        var output = value.replace(replaceReg, replaceFunc);

        if (!this.$textToken[token.type]) {
            var classes = "ace_" + token.type.replace(/\./g, " ace_");
            var style = "";
            if (token.type == "fold")
                style = " style='width:" + (token.value.length * this.config.characterWidth) + "px;' ";
            stringBuilder.push("<span class='", classes, "'", style, ">", output, "</span>");
        }
        else {
            stringBuilder.push(output);
        }
        return screenColumn + value.length;
    };

    this.renderIndentGuide = function(stringBuilder, value, max) {
        var cols = value.search(this.$indentGuideRe);
        if (cols <= 0 || cols >= max)
            return value;
        if (value[0] == " ") {
            cols -= cols % this.tabSize;
            stringBuilder.push(lang.stringRepeat(this.$tabStrings[" "], cols/this.tabSize));
            return value.substr(cols);
        } else if (value[0] == "\t") {
            stringBuilder.push(lang.stringRepeat(this.$tabStrings["\t"], cols));
            return value.substr(cols);
        }
        return value;
    };

    this.$renderWrappedLine = function(stringBuilder, tokens, splits, onlyContents) {
        var chars = 0;
        var split = 0;
        var splitChars = splits[0];
        var screenColumn = 0;

        for (var i = 0; i < tokens.length; i++) {
            var token = tokens[i];
            var value = token.value;
            if (i == 0 && this.displayIndentGuides) {
                chars = value.length;
                value = this.renderIndentGuide(stringBuilder, value, splitChars);
                if (!value)
                    continue;
                chars -= value.length;
            }

            if (chars + value.length < splitChars) {
                screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
                chars += value.length;
            } else {
                while (chars + value.length >= splitChars) {
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn,
                        token, value.substring(0, splitChars - chars)
                    );
                    value = value.substring(splitChars - chars);
                    chars = splitChars;

                    if (!onlyContents) {
                        stringBuilder.push("</div>",
                            "<div class='ace_line' style='height:",
                            this.config.lineHeight, "px'>"
                        );
                    }

                    stringBuilder.push(lang.stringRepeat("\xa0", splits.indent));

                    split ++;
                    screenColumn = 0;
                    splitChars = splits[split] || Number.MAX_VALUE;
                }
                if (value.length != 0) {
                    chars += value.length;
                    screenColumn = this.$renderToken(
                        stringBuilder, screenColumn, token, value
                    );
                }
            }
        }
    };

    this.$renderSimpleLine = function(stringBuilder, tokens) {
        var screenColumn = 0;
        var token = tokens[0];
        var value = token.value;
        if (this.displayIndentGuides)
            value = this.renderIndentGuide(stringBuilder, value);
        if (value)
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        for (var i = 1; i < tokens.length; i++) {
            token = tokens[i];
            value = token.value;
            screenColumn = this.$renderToken(stringBuilder, screenColumn, token, value);
        }
    };
    this.$renderLine = function(stringBuilder, row, onlyContents, foldLine) {
        if (!foldLine && foldLine != false)
            foldLine = this.session.getFoldLine(row);

        if (foldLine)
            var tokens = this.$getFoldLineTokens(row, foldLine);
        else
            var tokens = this.session.getTokens(row);


        if (!onlyContents) {
            stringBuilder.push(
                "<div class='ace_line' style='height:", 
                    this.config.lineHeight * (
                        this.$useLineGroups() ? 1 :this.session.getRowLength(row)
                    ), "px'>"
            );
        }

        if (tokens.length) {
            var splits = this.session.getRowSplitData(row);
            if (splits && splits.length)
                this.$renderWrappedLine(stringBuilder, tokens, splits, onlyContents);
            else
                this.$renderSimpleLine(stringBuilder, tokens);
        }

        if (this.showInvisibles) {
            if (foldLine)
                row = foldLine.end.row;

            stringBuilder.push(
                "<span class='ace_invisible ace_invisible_eol'>",
                row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR,
                "</span>"
            );
        }
        if (!onlyContents)
            stringBuilder.push("</div>");
    };

    this.$getFoldLineTokens = function(row, foldLine) {
        var session = this.session;
        var renderTokens = [];

        function addTokens(tokens, from, to) {
            var idx = 0, col = 0;
            while ((col + tokens[idx].value.length) < from) {
                col += tokens[idx].value.length;
                idx++;

                if (idx == tokens.length)
                    return;
            }
            if (col != from) {
                var value = tokens[idx].value.substring(from - col);
                if (value.length > (to - from))
                    value = value.substring(0, to - from);

                renderTokens.push({
                    type: tokens[idx].type,
                    value: value
                });

                col = from + value.length;
                idx += 1;
            }

            while (col < to && idx < tokens.length) {
                var value = tokens[idx].value;
                if (value.length + col > to) {
                    renderTokens.push({
                        type: tokens[idx].type,
                        value: value.substring(0, to - col)
                    });
                } else
                    renderTokens.push(tokens[idx]);
                col += value.length;
                idx += 1;
            }
        }

        var tokens = session.getTokens(row);
        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {
            if (placeholder != null) {
                renderTokens.push({
                    type: "fold",
                    value: placeholder
                });
            } else {
                if (isNewRow)
                    tokens = session.getTokens(row);

                if (tokens.length)
                    addTokens(tokens, lastColumn, column);
            }
        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);

        return renderTokens;
    };

    this.$useLineGroups = function() {
        return this.session.getUseWrapMode();
    };

    this.destroy = function() {
        clearInterval(this.$pollSizeChangesTimer);
        if (this.$measureNode)
            this.$measureNode.parentNode.removeChild(this.$measureNode);
        delete this.$measureNode;
    };

}).call(Text.prototype);

exports.Text = Text;

});

ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var isIE8;

var Cursor = function(parentEl) {
    this.element = dom.createElement("div");
    this.element.className = "ace_layer ace_cursor-layer";
    parentEl.appendChild(this.element);
    
    if (isIE8 === undefined)
        isIE8 = !("opacity" in this.element.style);

    this.isVisible = false;
    this.isBlinking = true;
    this.blinkInterval = 1000;
    this.smoothBlinking = false;

    this.cursors = [];
    this.cursor = this.addCursor();
    dom.addCssClass(this.element, "ace_hidden-cursors");
    this.$updateCursors = (isIE8
        ? this.$updateVisibility
        : this.$updateOpacity).bind(this);
};

(function() {
    
    this.$updateVisibility = function(val) {
        var cursors = this.cursors;
        for (var i = cursors.length; i--; )
            cursors[i].style.visibility = val ? "" : "hidden";
    };
    this.$updateOpacity = function(val) {
        var cursors = this.cursors;
        for (var i = cursors.length; i--; )
            cursors[i].style.opacity = val ? "" : "0";
    };
    

    this.$padding = 0;
    this.setPadding = function(padding) {
        this.$padding = padding;
    };

    this.setSession = function(session) {
        this.session = session;
    };

    this.setBlinking = function(blinking) {
        if (blinking != this.isBlinking){
            this.isBlinking = blinking;
            this.restartTimer();
        }
    };

    this.setBlinkInterval = function(blinkInterval) {
        if (blinkInterval != this.blinkInterval){
            this.blinkInterval = blinkInterval;
            this.restartTimer();
        }
    };

    this.setSmoothBlinking = function(smoothBlinking) {
        if (smoothBlinking != this.smoothBlinking && !isIE8) {
            this.smoothBlinking = smoothBlinking;
            dom.setCssClass(this.element, "ace_smooth-blinking", smoothBlinking);
            this.$updateCursors(true);
            this.$updateCursors = (this.$updateOpacity).bind(this);
            this.restartTimer();
        }
    };

    this.addCursor = function() {
        var el = dom.createElement("div");
        el.className = "ace_cursor";
        this.element.appendChild(el);
        this.cursors.push(el);
        return el;
    };

    this.removeCursor = function() {
        if (this.cursors.length > 1) {
            var el = this.cursors.pop();
            el.parentNode.removeChild(el);
            return el;
        }
    };

    this.hideCursor = function() {
        this.isVisible = false;
        dom.addCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.showCursor = function() {
        this.isVisible = true;
        dom.removeCssClass(this.element, "ace_hidden-cursors");
        this.restartTimer();
    };

    this.restartTimer = function() {
        var update = this.$updateCursors;
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
        if (this.smoothBlinking) {
            dom.removeCssClass(this.element, "ace_smooth-blinking");
        }
        
        update(true);

        if (!this.isBlinking || !this.blinkInterval || !this.isVisible)
            return;

        if (this.smoothBlinking) {
            setTimeout(function(){
                dom.addCssClass(this.element, "ace_smooth-blinking");
            }.bind(this));
        }
        
        var blink = function(){
            this.timeoutId = setTimeout(function() {
                update(false);
            }, 0.6 * this.blinkInterval);
        }.bind(this);

        this.intervalId = setInterval(function() {
            update(true);
            blink();
        }, this.blinkInterval);

        blink();
    };

    this.getPixelPosition = function(position, onScreen) {
        if (!this.config || !this.session)
            return {left : 0, top : 0};

        if (!position)
            position = this.session.selection.getCursor();
        var pos = this.session.documentToScreenPosition(position);
        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)
            ? this.session.$bidiHandler.getPosLeft(pos.column)
            : pos.column * this.config.characterWidth);

        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *
            this.config.lineHeight;

        return {left : cursorLeft, top : cursorTop};
    };

    this.update = function(config) {
        this.config = config;

        var selections = this.session.$selectionMarkers;
        var i = 0, cursorIndex = 0;

        if (selections === undefined || selections.length === 0){
            selections = [{cursor: null}];
        }

        for (var i = 0, n = selections.length; i < n; i++) {
            var pixelPos = this.getPixelPosition(selections[i].cursor, true);
            if ((pixelPos.top > config.height + config.offset ||
                 pixelPos.top < 0) && i > 1) {
                continue;
            }

            var style = (this.cursors[cursorIndex++] || this.addCursor()).style;
            
            if (!this.drawCursor) {
                style.left = pixelPos.left + "px";
                style.top = pixelPos.top + "px";
                style.width = config.characterWidth + "px";
                style.height = config.lineHeight + "px";
            } else {
                this.drawCursor(style, pixelPos, config, selections[i], this.session);
            }
        }
        while (this.cursors.length > cursorIndex)
            this.removeCursor();

        var overwrite = this.session.getOverwrite();
        this.$setOverwrite(overwrite);
        this.$pixelPos = pixelPos;
        this.restartTimer();
    };
    
    this.drawCursor = null;

    this.$setOverwrite = function(overwrite) {
        if (overwrite != this.overwrite) {
            this.overwrite = overwrite;
            if (overwrite)
                dom.addCssClass(this.element, "ace_overwrite-cursors");
            else
                dom.removeCssClass(this.element, "ace_overwrite-cursors");
        }
    };

    this.destroy = function() {
        clearInterval(this.intervalId);
        clearTimeout(this.timeoutId);
    };

}).call(Cursor.prototype);

exports.Cursor = Cursor;

});

ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var event = acequire("./lib/event");
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var MAX_SCROLL_H = 0x8000;
var ScrollBar = function(parent) {
    this.element = dom.createElement("div");
    this.element.className = "ace_scrollbar ace_scrollbar" + this.classSuffix;

    this.inner = dom.createElement("div");
    this.inner.className = "ace_scrollbar-inner";
    this.element.appendChild(this.inner);

    parent.appendChild(this.element);

    this.setVisible(false);
    this.skipEvent = false;

    event.addListener(this.element, "scroll", this.onScroll.bind(this));
    event.addListener(this.element, "mousedown", event.preventDefault);
};

(function() {
    oop.implement(this, EventEmitter);

    this.setVisible = function(isVisible) {
        this.element.style.display = isVisible ? "" : "none";
        this.isVisible = isVisible;
        this.coeff = 1;
    };
}).call(ScrollBar.prototype);
var VScrollBar = function(parent, renderer) {
    ScrollBar.call(this, parent);
    this.scrollTop = 0;
    this.scrollHeight = 0;
    renderer.$scrollbarWidth = 
    this.width = dom.scrollbarWidth(parent.ownerDocument);
    this.inner.style.width =
    this.element.style.width = (this.width || 15) + 5 + "px";
    this.$minWidth = 0;
};

oop.inherits(VScrollBar, ScrollBar);

(function() {

    this.classSuffix = '-v';
    this.onScroll = function() {
        if (!this.skipEvent) {
            this.scrollTop = this.element.scrollTop;
            if (this.coeff != 1) {
                var h = this.element.clientHeight / this.scrollHeight;
                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);
            }
            this._emit("scroll", {data: this.scrollTop});
        }
        this.skipEvent = false;
    };
    this.getWidth = function() {
        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
    };
    this.setHeight = function(height) {
        this.element.style.height = height + "px";
    };
    this.setInnerHeight =
    this.setScrollHeight = function(height) {
        this.scrollHeight = height;
        if (height > MAX_SCROLL_H) {
            this.coeff = MAX_SCROLL_H / height;
            height = MAX_SCROLL_H;
        } else if (this.coeff != 1) {
            this.coeff = 1;
        }
        this.inner.style.height = height + "px";
    };
    this.setScrollTop = function(scrollTop) {
        if (this.scrollTop != scrollTop) {
            this.skipEvent = true;
            this.scrollTop = scrollTop;
            this.element.scrollTop = scrollTop * this.coeff;
        }
    };

}).call(VScrollBar.prototype);
var HScrollBar = function(parent, renderer) {
    ScrollBar.call(this, parent);
    this.scrollLeft = 0;
    this.height = renderer.$scrollbarWidth;
    this.inner.style.height =
    this.element.style.height = (this.height || 15) + 5 + "px";
};

oop.inherits(HScrollBar, ScrollBar);

(function() {

    this.classSuffix = '-h';
    this.onScroll = function() {
        if (!this.skipEvent) {
            this.scrollLeft = this.element.scrollLeft;
            this._emit("scroll", {data: this.scrollLeft});
        }
        this.skipEvent = false;
    };
    this.getHeight = function() {
        return this.isVisible ? this.height : 0;
    };
    this.setWidth = function(width) {
        this.element.style.width = width + "px";
    };
    this.setInnerWidth = function(width) {
        this.inner.style.width = width + "px";
    };
    this.setScrollWidth = function(width) {
        this.inner.style.width = width + "px";
    };
    this.setScrollLeft = function(scrollLeft) {
        if (this.scrollLeft != scrollLeft) {
            this.skipEvent = true;
            this.scrollLeft = this.element.scrollLeft = scrollLeft;
        }
    };

}).call(HScrollBar.prototype);


exports.ScrollBar = VScrollBar; // backward compatibility
exports.ScrollBarV = VScrollBar; // backward compatibility
exports.ScrollBarH = HScrollBar; // backward compatibility

exports.VScrollBar = VScrollBar;
exports.HScrollBar = HScrollBar;
});

ace.define("ace/renderloop",["require","exports","module","ace/lib/event"], function(acequire, exports, module) {
"use strict";

var event = acequire("./lib/event");


var RenderLoop = function(onRender, win) {
    this.onRender = onRender;
    this.pending = false;
    this.changes = 0;
    this.window = win || window;
};

(function() {


    this.schedule = function(change) {
        this.changes = this.changes | change;
        if (!this.pending && this.changes) {
            this.pending = true;
            var _self = this;
            event.nextFrame(function() {
                _self.pending = false;
                var changes;
                while (changes = _self.changes) {
                    _self.changes = 0;
                    _self.onRender(changes);
                }
            }, this.window);
        }
    };

}).call(RenderLoop.prototype);

exports.RenderLoop = RenderLoop;
});

ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"], function(acequire, exports, module) {

var oop = acequire("../lib/oop");
var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var useragent = acequire("../lib/useragent");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;

var CHAR_COUNT = 0;

var FontMetrics = exports.FontMetrics = function(parentEl) {
    this.el = dom.createElement("div");
    this.$setMeasureNodeStyles(this.el.style, true);
    
    this.$main = dom.createElement("div");
    this.$setMeasureNodeStyles(this.$main.style);
    
    this.$measureNode = dom.createElement("div");
    this.$setMeasureNodeStyles(this.$measureNode.style);
    
    
    this.el.appendChild(this.$main);
    this.el.appendChild(this.$measureNode);
    parentEl.appendChild(this.el);
    
    if (!CHAR_COUNT)
        this.$testFractionalRect();
    this.$measureNode.innerHTML = lang.stringRepeat("X", CHAR_COUNT);
    
    this.$characterSize = {width: 0, height: 0};
    this.checkForSizeChanges();
};

(function() {

    oop.implement(this, EventEmitter);
        
    this.$characterSize = {width: 0, height: 0};
    
    this.$testFractionalRect = function() {
        var el = dom.createElement("div");
        this.$setMeasureNodeStyles(el.style);
        el.style.width = "0.2px";
        document.documentElement.appendChild(el);
        var w = el.getBoundingClientRect().width;
        if (w > 0 && w < 1)
            CHAR_COUNT = 50;
        else
            CHAR_COUNT = 100;
        el.parentNode.removeChild(el);
    };
    
    this.$setMeasureNodeStyles = function(style, isRoot) {
        style.width = style.height = "auto";
        style.left = style.top = "0px";
        style.visibility = "hidden";
        style.position = "absolute";
        style.whiteSpace = "pre";

        if (useragent.isIE < 8) {
            style["font-family"] = "inherit";
        } else {
            style.font = "inherit";
        }
        style.overflow = isRoot ? "hidden" : "visible";
    };

    this.checkForSizeChanges = function() {
        var size = this.$measureSizes();
        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {
            this.$measureNode.style.fontWeight = "bold";
            var boldSize = this.$measureSizes();
            this.$measureNode.style.fontWeight = "";
            this.$characterSize = size;
            this.charSizes = Object.create(null);
            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;
            this._emit("changeCharacterSize", {data: size});
        }
    };

    this.$pollSizeChanges = function() {
        if (this.$pollSizeChangesTimer)
            return this.$pollSizeChangesTimer;
        var self = this;
        return this.$pollSizeChangesTimer = setInterval(function() {
            self.checkForSizeChanges();
        }, 500);
    };
    
    this.setPolling = function(val) {
        if (val) {
            this.$pollSizeChanges();
        } else if (this.$pollSizeChangesTimer) {
            clearInterval(this.$pollSizeChangesTimer);
            this.$pollSizeChangesTimer = 0;
        }
    };

    this.$measureSizes = function() {
        if (CHAR_COUNT === 50) {
            var rect = null;
            try { 
               rect = this.$measureNode.getBoundingClientRect();
            } catch(e) {
               rect = {width: 0, height:0 };
            }
            var size = {
                height: rect.height,
                width: rect.width / CHAR_COUNT
            };
        } else {
            var size = {
                height: this.$measureNode.clientHeight,
                width: this.$measureNode.clientWidth / CHAR_COUNT
            };
        }
        if (size.width === 0 || size.height === 0)
            return null;
        return size;
    };

    this.$measureCharWidth = function(ch) {
        this.$main.innerHTML = lang.stringRepeat(ch, CHAR_COUNT);
        var rect = this.$main.getBoundingClientRect();
        return rect.width / CHAR_COUNT;
    };
    
    this.getCharacterWidth = function(ch) {
        var w = this.charSizes[ch];
        if (w === undefined) {
            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;
        }
        return w;
    };

    this.destroy = function() {
        clearInterval(this.$pollSizeChangesTimer);
        if (this.el && this.el.parentNode)
            this.el.parentNode.removeChild(this.el);
    };

}).call(FontMetrics.prototype);

});

ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var config = acequire("./config");
var useragent = acequire("./lib/useragent");
var GutterLayer = acequire("./layer/gutter").Gutter;
var MarkerLayer = acequire("./layer/marker").Marker;
var TextLayer = acequire("./layer/text").Text;
var CursorLayer = acequire("./layer/cursor").Cursor;
var HScrollBar = acequire("./scrollbar").HScrollBar;
var VScrollBar = acequire("./scrollbar").VScrollBar;
var RenderLoop = acequire("./renderloop").RenderLoop;
var FontMetrics = acequire("./layer/font_metrics").FontMetrics;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var editorCss = ".ace_editor {\
position: relative;\
overflow: hidden;\
font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\
direction: ltr;\
text-align: left;\
-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\
}\
.ace_scroller {\
position: absolute;\
overflow: hidden;\
top: 0;\
bottom: 0;\
background-color: inherit;\
-ms-user-select: none;\
-moz-user-select: none;\
-webkit-user-select: none;\
user-select: none;\
cursor: text;\
}\
.ace_content {\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
min-width: 100%;\
}\
.ace_dragging .ace_scroller:before{\
position: absolute;\
top: 0;\
left: 0;\
right: 0;\
bottom: 0;\
content: '';\
background: rgba(250, 250, 250, 0.01);\
z-index: 1000;\
}\
.ace_dragging.ace_dark .ace_scroller:before{\
background: rgba(0, 0, 0, 0.01);\
}\
.ace_selecting, .ace_selecting * {\
cursor: text !important;\
}\
.ace_gutter {\
position: absolute;\
overflow : hidden;\
width: auto;\
top: 0;\
bottom: 0;\
left: 0;\
cursor: default;\
z-index: 4;\
-ms-user-select: none;\
-moz-user-select: none;\
-webkit-user-select: none;\
user-select: none;\
}\
.ace_gutter-active-line {\
position: absolute;\
left: 0;\
right: 0;\
}\
.ace_scroller.ace_scroll-left {\
box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\
}\
.ace_gutter-cell {\
padding-left: 19px;\
padding-right: 6px;\
background-repeat: no-repeat;\
}\
.ace_gutter-cell.ace_error {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\");\
background-repeat: no-repeat;\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_warning {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\");\
background-position: 2px center;\
}\
.ace_gutter-cell.ace_info {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\");\
background-position: 2px center;\
}\
.ace_dark .ace_gutter-cell.ace_info {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\");\
}\
.ace_scrollbar {\
position: absolute;\
right: 0;\
bottom: 0;\
z-index: 6;\
}\
.ace_scrollbar-inner {\
position: absolute;\
cursor: text;\
left: 0;\
top: 0;\
}\
.ace_scrollbar-v{\
overflow-x: hidden;\
overflow-y: scroll;\
top: 0;\
}\
.ace_scrollbar-h {\
overflow-x: scroll;\
overflow-y: hidden;\
left: 0;\
}\
.ace_print-margin {\
position: absolute;\
height: 100%;\
}\
.ace_text-input {\
position: absolute;\
z-index: 0;\
width: 0.5em;\
height: 1em;\
opacity: 0;\
background: transparent;\
-moz-appearance: none;\
appearance: none;\
border: none;\
resize: none;\
outline: none;\
overflow: hidden;\
font: inherit;\
padding: 0 1px;\
margin: 0 -1px;\
text-indent: -1em;\
-ms-user-select: text;\
-moz-user-select: text;\
-webkit-user-select: text;\
user-select: text;\
white-space: pre!important;\
}\
.ace_text-input.ace_composition {\
background: inherit;\
color: inherit;\
z-index: 1000;\
opacity: 1;\
text-indent: 0;\
}\
.ace_layer {\
z-index: 1;\
position: absolute;\
overflow: hidden;\
word-wrap: normal;\
white-space: pre;\
height: 100%;\
width: 100%;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
pointer-events: none;\
}\
.ace_gutter-layer {\
position: relative;\
width: auto;\
text-align: right;\
pointer-events: auto;\
}\
.ace_text-layer {\
font: inherit !important;\
}\
.ace_cjk {\
display: inline-block;\
text-align: center;\
}\
.ace_cursor-layer {\
z-index: 4;\
}\
.ace_cursor {\
z-index: 4;\
position: absolute;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
border-left: 2px solid;\
transform: translatez(0);\
}\
.ace_multiselect .ace_cursor {\
border-left-width: 1px;\
}\
.ace_slim-cursors .ace_cursor {\
border-left-width: 1px;\
}\
.ace_overwrite-cursors .ace_cursor {\
border-left-width: 0;\
border-bottom: 1px solid;\
}\
.ace_hidden-cursors .ace_cursor {\
opacity: 0.2;\
}\
.ace_smooth-blinking .ace_cursor {\
-webkit-transition: opacity 0.18s;\
transition: opacity 0.18s;\
}\
.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\
position: absolute;\
z-index: 3;\
}\
.ace_marker-layer .ace_selection {\
position: absolute;\
z-index: 5;\
}\
.ace_marker-layer .ace_bracket {\
position: absolute;\
z-index: 6;\
}\
.ace_marker-layer .ace_active-line {\
position: absolute;\
z-index: 2;\
}\
.ace_marker-layer .ace_selected-word {\
position: absolute;\
z-index: 4;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
}\
.ace_line .ace_fold {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
display: inline-block;\
height: 11px;\
margin-top: -2px;\
vertical-align: middle;\
background-image:\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\");\
background-repeat: no-repeat, repeat-x;\
background-position: center center, top left;\
color: transparent;\
border: 1px solid black;\
border-radius: 2px;\
cursor: pointer;\
pointer-events: auto;\
}\
.ace_dark .ace_fold {\
}\
.ace_fold:hover{\
background-image:\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\"),\
url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\");\
}\
.ace_tooltip {\
background-color: #FFF;\
background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));\
background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\
border: 1px solid gray;\
border-radius: 1px;\
box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\
color: black;\
max-width: 100%;\
padding: 3px 4px;\
position: fixed;\
z-index: 999999;\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
cursor: default;\
white-space: pre;\
word-wrap: break-word;\
line-height: normal;\
font-style: normal;\
font-weight: normal;\
letter-spacing: normal;\
pointer-events: none;\
}\
.ace_folding-enabled > .ace_gutter-cell {\
padding-right: 13px;\
}\
.ace_fold-widget {\
-moz-box-sizing: border-box;\
-webkit-box-sizing: border-box;\
box-sizing: border-box;\
margin: 0 -12px 0 1px;\
display: none;\
width: 11px;\
vertical-align: top;\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\");\
background-repeat: no-repeat;\
background-position: center;\
border-radius: 3px;\
border: 1px solid transparent;\
cursor: pointer;\
}\
.ace_folding-enabled .ace_fold-widget {\
display: inline-block;   \
}\
.ace_fold-widget.ace_end {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\");\
}\
.ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\");\
}\
.ace_fold-widget:hover {\
border: 1px solid rgba(0, 0, 0, 0.3);\
background-color: rgba(255, 255, 255, 0.2);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\
}\
.ace_fold-widget:active {\
border: 1px solid rgba(0, 0, 0, 0.4);\
background-color: rgba(0, 0, 0, 0.05);\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\
}\
.ace_dark .ace_fold-widget {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\");\
}\
.ace_dark .ace_fold-widget.ace_end {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget.ace_closed {\
background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\");\
}\
.ace_dark .ace_fold-widget:hover {\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
background-color: rgba(255, 255, 255, 0.1);\
}\
.ace_dark .ace_fold-widget:active {\
box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\
}\
.ace_fold-widget.ace_invalid {\
background-color: #FFB4B4;\
border-color: #DE5555;\
}\
.ace_fade-fold-widgets .ace_fold-widget {\
-webkit-transition: opacity 0.4s ease 0.05s;\
transition: opacity 0.4s ease 0.05s;\
opacity: 0;\
}\
.ace_fade-fold-widgets:hover .ace_fold-widget {\
-webkit-transition: opacity 0.05s ease 0.05s;\
transition: opacity 0.05s ease 0.05s;\
opacity:1;\
}\
.ace_underline {\
text-decoration: underline;\
}\
.ace_bold {\
font-weight: bold;\
}\
.ace_nobold .ace_bold {\
font-weight: normal;\
}\
.ace_italic {\
font-style: italic;\
}\
.ace_error-marker {\
background-color: rgba(255, 0, 0,0.2);\
position: absolute;\
z-index: 9;\
}\
.ace_highlight-marker {\
background-color: rgba(255, 255, 0,0.2);\
position: absolute;\
z-index: 8;\
}\
.ace_br1 {border-top-left-radius    : 3px;}\
.ace_br2 {border-top-right-radius   : 3px;}\
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\
.ace_br4 {border-bottom-right-radius: 3px;}\
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\
.ace_br8 {border-bottom-left-radius : 3px;}\
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\
.ace_text-input-ios {\
position: absolute !important;\
top: -100000px !important;\
left: -100000px !important;\
}\
";

dom.importCssString(editorCss, "ace_editor.css");

var VirtualRenderer = function(container, theme) {
    var _self = this;

    this.container = container || dom.createElement("div");
    this.$keepTextAreaAtCursor = !useragent.isOldIE;

    dom.addCssClass(this.container, "ace_editor");

    this.setTheme(theme);

    this.$gutter = dom.createElement("div");
    this.$gutter.className = "ace_gutter";
    this.container.appendChild(this.$gutter);
    this.$gutter.setAttribute("aria-hidden", true);

    this.scroller = dom.createElement("div");
    this.scroller.className = "ace_scroller";
    this.container.appendChild(this.scroller);

    this.content = dom.createElement("div");
    this.content.className = "ace_content";
    this.scroller.appendChild(this.content);

    this.$gutterLayer = new GutterLayer(this.$gutter);
    this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this));

    this.$markerBack = new MarkerLayer(this.content);

    var textLayer = this.$textLayer = new TextLayer(this.content);
    this.canvas = textLayer.element;

    this.$markerFront = new MarkerLayer(this.content);

    this.$cursorLayer = new CursorLayer(this.content);
    this.$horizScroll = false;
    this.$vScroll = false;

    this.scrollBar = 
    this.scrollBarV = new VScrollBar(this.container, this);
    this.scrollBarH = new HScrollBar(this.container, this);
    this.scrollBarV.addEventListener("scroll", function(e) {
        if (!_self.$scrollAnimation)
            _self.session.setScrollTop(e.data - _self.scrollMargin.top);
    });
    this.scrollBarH.addEventListener("scroll", function(e) {
        if (!_self.$scrollAnimation)
            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);
    });

    this.scrollTop = 0;
    this.scrollLeft = 0;

    this.cursorPos = {
        row : 0,
        column : 0
    };

    this.$fontMetrics = new FontMetrics(this.container);
    this.$textLayer.$setFontMetrics(this.$fontMetrics);
    this.$textLayer.addEventListener("changeCharacterSize", function(e) {
        _self.updateCharacterSize();
        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);
        _self._signal("changeCharacterSize", e);
    });

    this.$size = {
        width: 0,
        height: 0,
        scrollerHeight: 0,
        scrollerWidth: 0,
        $dirty: true
    };

    this.layerConfig = {
        width : 1,
        padding : 0,
        firstRow : 0,
        firstRowScreen: 0,
        lastRow : 0,
        lineHeight : 0,
        characterWidth : 0,
        minHeight : 1,
        maxHeight : 1,
        offset : 0,
        height : 1,
        gutterOffset: 1
    };
    
    this.scrollMargin = {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0,
        v: 0,
        h: 0
    };

    this.$loop = new RenderLoop(
        this.$renderChanges.bind(this),
        this.container.ownerDocument.defaultView
    );
    this.$loop.schedule(this.CHANGE_FULL);

    this.updateCharacterSize();
    this.setPadding(4);
    config.resetOptions(this);
    config._emit("renderer", this);
};

(function() {

    this.CHANGE_CURSOR = 1;
    this.CHANGE_MARKER = 2;
    this.CHANGE_GUTTER = 4;
    this.CHANGE_SCROLL = 8;
    this.CHANGE_LINES = 16;
    this.CHANGE_TEXT = 32;
    this.CHANGE_SIZE = 64;
    this.CHANGE_MARKER_BACK = 128;
    this.CHANGE_MARKER_FRONT = 256;
    this.CHANGE_FULL = 512;
    this.CHANGE_H_SCROLL = 1024;

    oop.implement(this, EventEmitter);

    this.updateCharacterSize = function() {
        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {
            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;
            this.setStyle("ace_nobold", !this.$allowBoldFonts);
        }

        this.layerConfig.characterWidth =
        this.characterWidth = this.$textLayer.getCharacterWidth();
        this.layerConfig.lineHeight =
        this.lineHeight = this.$textLayer.getLineHeight();
        this.$updatePrintMargin();
    };
    this.setSession = function(session) {
        if (this.session)
            this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode);
            
        this.session = session;
        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)
            session.setScrollTop(-this.scrollMargin.top);

        this.$cursorLayer.setSession(session);
        this.$markerBack.setSession(session);
        this.$markerFront.setSession(session);
        this.$gutterLayer.setSession(session);
        this.$textLayer.setSession(session);
        if (!session)
            return;
        
        this.$loop.schedule(this.CHANGE_FULL);
        this.session.$setFontMetrics(this.$fontMetrics);
        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;
        
        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);
        this.onChangeNewLineMode();
        this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode);
    };
    this.updateLines = function(firstRow, lastRow, force) {
        if (lastRow === undefined)
            lastRow = Infinity;

        if (!this.$changedLines) {
            this.$changedLines = {
                firstRow: firstRow,
                lastRow: lastRow
            };
        }
        else {
            if (this.$changedLines.firstRow > firstRow)
                this.$changedLines.firstRow = firstRow;

            if (this.$changedLines.lastRow < lastRow)
                this.$changedLines.lastRow = lastRow;
        }
        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {
            if (force)
                this.$changedLines.lastRow = this.layerConfig.lastRow;
            else
                return;
        }
        if (this.$changedLines.firstRow > this.layerConfig.lastRow)
            return;
        this.$loop.schedule(this.CHANGE_LINES);
    };

    this.onChangeNewLineMode = function() {
        this.$loop.schedule(this.CHANGE_TEXT);
        this.$textLayer.$updateEolChar();
        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
    };
    
    this.onChangeTabSize = function() {
        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);
        this.$textLayer.onChangeTabSize();
    };
    this.updateText = function() {
        this.$loop.schedule(this.CHANGE_TEXT);
    };
    this.updateFull = function(force) {
        if (force)
            this.$renderChanges(this.CHANGE_FULL, true);
        else
            this.$loop.schedule(this.CHANGE_FULL);
    };
    this.updateFontSize = function() {
        this.$textLayer.checkForSizeChanges();
    };

    this.$changes = 0;
    this.$updateSizeAsync = function() {
        if (this.$loop.pending)
            this.$size.$dirty = true;
        else
            this.onResize();
    };
    this.onResize = function(force, gutterWidth, width, height) {
        if (this.resizing > 2)
            return;
        else if (this.resizing > 0)
            this.resizing++;
        else
            this.resizing = force ? 1 : 0;
        var el = this.container;
        if (!height)
            height = el.clientHeight || el.scrollHeight;
        if (!width)
            width = el.clientWidth || el.scrollWidth;
        var changes = this.$updateCachedSize(force, gutterWidth, width, height);

        
        if (!this.$size.scrollerHeight || (!width && !height))
            return this.resizing = 0;

        if (force)
            this.$gutterLayer.$padding = null;

        if (force)
            this.$renderChanges(changes | this.$changes, true);
        else
            this.$loop.schedule(changes | this.$changes);

        if (this.resizing)
            this.resizing = 0;
        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;
    };
    
    this.$updateCachedSize = function(force, gutterWidth, width, height) {
        height -= (this.$extraHeight || 0);
        var changes = 0;
        var size = this.$size;
        var oldSize = {
            width: size.width,
            height: size.height,
            scrollerHeight: size.scrollerHeight,
            scrollerWidth: size.scrollerWidth
        };
        if (height && (force || size.height != height)) {
            size.height = height;
            changes |= this.CHANGE_SIZE;

            size.scrollerHeight = size.height;
            if (this.$horizScroll)
                size.scrollerHeight -= this.scrollBarH.getHeight();
            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px";

            changes = changes | this.CHANGE_SCROLL;
        }

        if (width && (force || size.width != width)) {
            changes |= this.CHANGE_SIZE;
            size.width = width;
            
            if (gutterWidth == null)
                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
            
            this.gutterWidth = gutterWidth;
            
            this.scrollBarH.element.style.left = 
            this.scroller.style.left = gutterWidth + "px";
            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth());           
            
            this.scrollBarH.element.style.right = 
            this.scroller.style.right = this.scrollBarV.getWidth() + "px";
            this.scroller.style.bottom = this.scrollBarH.getHeight() + "px";

            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force)
                changes |= this.CHANGE_FULL;
        }
        
        size.$dirty = !width || !height;

        if (changes)
            this._signal("resize", oldSize);

        return changes;
    };

    this.onGutterResize = function() {
        var gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;
        if (gutterWidth != this.gutterWidth)
            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);

        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {
            this.$loop.schedule(this.CHANGE_FULL);
        } else if (this.$size.$dirty) {
            this.$loop.schedule(this.CHANGE_FULL);
        } else {
            this.$computeLayerConfig();
            this.$loop.schedule(this.CHANGE_MARKER);
        }
    };
    this.adjustWrapLimit = function() {
        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;
        var limit = Math.floor(availableWidth / this.characterWidth);
        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);
    };
    this.setAnimatedScroll = function(shouldAnimate){
        this.setOption("animatedScroll", shouldAnimate);
    };
    this.getAnimatedScroll = function() {
        return this.$animatedScroll;
    };
    this.setShowInvisibles = function(showInvisibles) {
        this.setOption("showInvisibles", showInvisibles);
        this.session.$bidiHandler.setShowInvisibles(showInvisibles);
    };
    this.getShowInvisibles = function() {
        return this.getOption("showInvisibles");
    };
    this.getDisplayIndentGuides = function() {
        return this.getOption("displayIndentGuides");
    };

    this.setDisplayIndentGuides = function(display) {
        this.setOption("displayIndentGuides", display);
    };
    this.setShowPrintMargin = function(showPrintMargin) {
        this.setOption("showPrintMargin", showPrintMargin);
    };
    this.getShowPrintMargin = function() {
        return this.getOption("showPrintMargin");
    };
    this.setPrintMarginColumn = function(showPrintMargin) {
        this.setOption("printMarginColumn", showPrintMargin);
    };
    this.getPrintMarginColumn = function() {
        return this.getOption("printMarginColumn");
    };
    this.getShowGutter = function(){
        return this.getOption("showGutter");
    };
    this.setShowGutter = function(show){
        return this.setOption("showGutter", show);
    };

    this.getFadeFoldWidgets = function(){
        return this.getOption("fadeFoldWidgets");
    };

    this.setFadeFoldWidgets = function(show) {
        this.setOption("fadeFoldWidgets", show);
    };

    this.setHighlightGutterLine = function(shouldHighlight) {
        this.setOption("highlightGutterLine", shouldHighlight);
    };

    this.getHighlightGutterLine = function() {
        return this.getOption("highlightGutterLine");
    };

    this.$updateGutterLineHighlight = function() {
        var pos = this.$cursorLayer.$pixelPos;
        var height = this.layerConfig.lineHeight;
        if (this.session.getUseWrapMode()) {
            var cursor = this.session.selection.getCursor();
            cursor.column = 0;
            pos = this.$cursorLayer.getPixelPosition(cursor, true);
            height *= this.session.getRowLength(cursor.row);
        }
        this.$gutterLineHighlight.style.top = pos.top - this.layerConfig.offset + "px";
        this.$gutterLineHighlight.style.height = height + "px";
    };

    this.$updatePrintMargin = function() {
        if (!this.$showPrintMargin && !this.$printMarginEl)
            return;

        if (!this.$printMarginEl) {
            var containerEl = dom.createElement("div");
            containerEl.className = "ace_layer ace_print-margin-layer";
            this.$printMarginEl = dom.createElement("div");
            this.$printMarginEl.className = "ace_print-margin";
            containerEl.appendChild(this.$printMarginEl);
            this.content.insertBefore(containerEl, this.content.firstChild);
        }

        var style = this.$printMarginEl.style;
        style.left = ((this.characterWidth * this.$printMarginColumn) + this.$padding) + "px";
        style.visibility = this.$showPrintMargin ? "visible" : "hidden";
        
        if (this.session && this.session.$wrap == -1)
            this.adjustWrapLimit();
    };
    this.getContainerElement = function() {
        return this.container;
    };
    this.getMouseEventTarget = function() {
        return this.scroller;
    };
    this.getTextAreaContainer = function() {
        return this.container;
    };
    this.$moveTextAreaToCursor = function() {
        if (!this.$keepTextAreaAtCursor)
            return;
        var config = this.layerConfig;
        var posTop = this.$cursorLayer.$pixelPos.top;
        var posLeft = this.$cursorLayer.$pixelPos.left;
        posTop -= config.offset;

        var style = this.textarea.style;
        var h = this.lineHeight;
        if (posTop < 0 || posTop > config.height - h) {
            style.top = style.left = "0";
            return;
        }

        var w = this.characterWidth;
        if (this.$composition) {
            var val = this.textarea.value.replace(/^\x01+/, "");
            w *= (this.session.$getStringScreenWidth(val)[0]+2);
            h += 2;
        }
        posLeft -= this.scrollLeft;
        if (posLeft > this.$size.scrollerWidth - w)
            posLeft = this.$size.scrollerWidth - w;

        posLeft += this.gutterWidth;
        style.height = h + "px";
        style.width = w + "px";
        style.left = Math.min(posLeft, this.$size.scrollerWidth - w) + "px";
        style.top = Math.min(posTop, this.$size.height - h) + "px";
    };
    this.getFirstVisibleRow = function() {
        return this.layerConfig.firstRow;
    };
    this.getFirstFullyVisibleRow = function() {
        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
    };
    this.getLastFullyVisibleRow = function() {
        var config = this.layerConfig;
        var lastRow = config.lastRow;
        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;
        if (top - this.session.getScrollTop() > config.height - config.lineHeight)
            return lastRow - 1;
        return lastRow;
    };
    this.getLastVisibleRow = function() {
        return this.layerConfig.lastRow;
    };

    this.$padding = null;
    this.setPadding = function(padding) {
        this.$padding = padding;
        this.$textLayer.setPadding(padding);
        this.$cursorLayer.setPadding(padding);
        this.$markerFront.setPadding(padding);
        this.$markerBack.setPadding(padding);
        this.$loop.schedule(this.CHANGE_FULL);
        this.$updatePrintMargin();
    };
    
    this.setScrollMargin = function(top, bottom, left, right) {
        var sm = this.scrollMargin;
        sm.top = top|0;
        sm.bottom = bottom|0;
        sm.right = right|0;
        sm.left = left|0;
        sm.v = sm.top + sm.bottom;
        sm.h = sm.left + sm.right;
        if (sm.top && this.scrollTop <= 0 && this.session)
            this.session.setScrollTop(-sm.top);
        this.updateFull();
    };
    this.getHScrollBarAlwaysVisible = function() {
        return this.$hScrollBarAlwaysVisible;
    };
    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {
        this.setOption("hScrollBarAlwaysVisible", alwaysVisible);
    };
    this.getVScrollBarAlwaysVisible = function() {
        return this.$vScrollBarAlwaysVisible;
    };
    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {
        this.setOption("vScrollBarAlwaysVisible", alwaysVisible);
    };

    this.$updateScrollBarV = function() {
        var scrollHeight = this.layerConfig.maxHeight;
        var scrollerHeight = this.$size.scrollerHeight;
        if (!this.$maxLines && this.$scrollPastEnd) {
            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;
            if (this.scrollTop > scrollHeight - scrollerHeight) {
                scrollHeight = this.scrollTop + scrollerHeight;
                this.scrollBarV.scrollTop = null;
            }
        }
        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);
        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
    };
    this.$updateScrollBarH = function() {
        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);
        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
    };
    
    this.$frozen = false;
    this.freeze = function() {
        this.$frozen = true;
    };
    
    this.unfreeze = function() {
        this.$frozen = false;
    };

    this.$renderChanges = function(changes, force) {
        if (this.$changes) {
            changes |= this.$changes;
            this.$changes = 0;
        }
        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {
            this.$changes |= changes;
            return; 
        } 
        if (this.$size.$dirty) {
            this.$changes |= changes;
            return this.onResize(true);
        }
        if (!this.lineHeight) {
            this.$textLayer.checkForSizeChanges();
        }
        
        this._signal("beforeRender");

        if (this.session && this.session.$bidiHandler)
            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);

        var config = this.layerConfig;
        if (changes & this.CHANGE_FULL ||
            changes & this.CHANGE_SIZE ||
            changes & this.CHANGE_TEXT ||
            changes & this.CHANGE_LINES ||
            changes & this.CHANGE_SCROLL ||
            changes & this.CHANGE_H_SCROLL
        ) {
            changes |= this.$computeLayerConfig();
            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {
                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;
                if (st > 0) {
                    this.scrollTop = st;
                    changes = changes | this.CHANGE_SCROLL;
                    changes |= this.$computeLayerConfig();
                }
            }
            config = this.layerConfig;
            this.$updateScrollBarV();
            if (changes & this.CHANGE_H_SCROLL)
                this.$updateScrollBarH();
            this.$gutterLayer.element.style.marginTop = (-config.offset) + "px";
            this.content.style.marginTop = (-config.offset) + "px";
            this.content.style.width = config.width + 2 * this.$padding + "px";
            this.content.style.height = config.minHeight + "px";
        }
        if (changes & this.CHANGE_H_SCROLL) {
            this.content.style.marginLeft = -this.scrollLeft + "px";
            this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller" : "ace_scroller ace_scroll-left";
        }
        if (changes & this.CHANGE_FULL) {
            this.$textLayer.update(config);
            if (this.$showGutter)
                this.$gutterLayer.update(config);
            this.$markerBack.update(config);
            this.$markerFront.update(config);
            this.$cursorLayer.update(config);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this._signal("afterRender");
            return;
        }
        if (changes & this.CHANGE_SCROLL) {
            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)
                this.$textLayer.update(config);
            else
                this.$textLayer.scrollLines(config);

            if (this.$showGutter)
                this.$gutterLayer.update(config);
            this.$markerBack.update(config);
            this.$markerFront.update(config);
            this.$cursorLayer.update(config);
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
            this.$moveTextAreaToCursor();
            this._signal("afterRender");
            return;
        }

        if (changes & this.CHANGE_TEXT) {
            this.$textLayer.update(config);
            if (this.$showGutter)
                this.$gutterLayer.update(config);
        }
        else if (changes & this.CHANGE_LINES) {
            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)
                this.$gutterLayer.update(config);
        }
        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {
            if (this.$showGutter)
                this.$gutterLayer.update(config);
        }

        if (changes & this.CHANGE_CURSOR) {
            this.$cursorLayer.update(config);
            this.$moveTextAreaToCursor();
            this.$highlightGutterLine && this.$updateGutterLineHighlight();
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {
            this.$markerFront.update(config);
        }

        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {
            this.$markerBack.update(config);
        }

        this._signal("afterRender");
    };

    
    this.$autosize = function() {
        var height = this.session.getScreenLength() * this.lineHeight;
        var maxHeight = this.$maxLines * this.lineHeight;
        var desiredHeight = Math.min(maxHeight,
            Math.max((this.$minLines || 1) * this.lineHeight, height)
        ) + this.scrollMargin.v + (this.$extraHeight || 0);
        if (this.$horizScroll)
            desiredHeight += this.scrollBarH.getHeight();
        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)
            desiredHeight = this.$maxPixelHeight;
        var vScroll = height > maxHeight;
        
        if (desiredHeight != this.desiredHeight ||
            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {
            if (vScroll != this.$vScroll) {
                this.$vScroll = vScroll;
                this.scrollBarV.setVisible(vScroll);
            }
            
            var w = this.container.clientWidth;
            this.container.style.height = desiredHeight + "px";
            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);
            this.desiredHeight = desiredHeight;
            
            this._signal("autosize");
        }
    };
    
    this.$computeLayerConfig = function() {
        var session = this.session;
        var size = this.$size;
        
        var hideScrollbars = size.height <= 2 * this.lineHeight;
        var screenLines = this.session.getScreenLength();
        var maxHeight = screenLines * this.lineHeight;

        var longestLine = this.$getLongestLine();
        
        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||
            size.scrollerWidth - longestLine - 2 * this.$padding < 0);

        var hScrollChanged = this.$horizScroll !== horizScroll;
        if (hScrollChanged) {
            this.$horizScroll = horizScroll;
            this.scrollBarH.setVisible(horizScroll);
        }
        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine
        if (this.$maxLines && this.lineHeight > 1)
            this.$autosize();

        var offset = this.scrollTop % this.lineHeight;
        var minHeight = size.scrollerHeight + this.lineHeight;
        
        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd
            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd
            : 0;
        maxHeight += scrollPastEnd;
        
        var sm = this.scrollMargin;
        this.session.setScrollTop(Math.max(-sm.top,
            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));

        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, 
            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));
        
        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||
            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);
        var vScrollChanged = vScrollBefore !== vScroll;
        if (vScrollChanged) {
            this.$vScroll = vScroll;
            this.scrollBarV.setVisible(vScroll);
        }

        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;
        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));
        var lastRow = firstRow + lineCount;
        var firstRowScreen, firstRowHeight;
        var lineHeight = this.lineHeight;
        firstRow = session.screenToDocumentRow(firstRow, 0);
        var foldLine = session.getFoldLine(firstRow);
        if (foldLine) {
            firstRow = foldLine.start.row;
        }

        firstRowScreen = session.documentToScreenRow(firstRow, 0);
        firstRowHeight = session.getRowLength(firstRow) * lineHeight;

        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);
        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +
                                                firstRowHeight;

        offset = this.scrollTop - firstRowScreen * lineHeight;

        var changes = 0;
        if (this.layerConfig.width != longestLine) 
            changes = this.CHANGE_H_SCROLL;
        if (hScrollChanged || vScrollChanged) {
            changes = this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);
            this._signal("scrollbarVisibilityChanged");
            if (vScrollChanged)
                longestLine = this.$getLongestLine();
        }
        
        this.layerConfig = {
            width : longestLine,
            padding : this.$padding,
            firstRow : firstRow,
            firstRowScreen: firstRowScreen,
            lastRow : lastRow,
            lineHeight : lineHeight,
            characterWidth : this.characterWidth,
            minHeight : minHeight,
            maxHeight : maxHeight,
            offset : offset,
            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,
            height : this.$size.scrollerHeight
        };

        return changes;
    };

    this.$updateLines = function() {
        if (!this.$changedLines) return;
        var firstRow = this.$changedLines.firstRow;
        var lastRow = this.$changedLines.lastRow;
        this.$changedLines = null;

        var layerConfig = this.layerConfig;

        if (firstRow > layerConfig.lastRow + 1) { return; }
        if (lastRow < layerConfig.firstRow) { return; }
        if (lastRow === Infinity) {
            if (this.$showGutter)
                this.$gutterLayer.update(layerConfig);
            this.$textLayer.update(layerConfig);
            return;
        }
        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);
        return true;
    };

    this.$getLongestLine = function() {
        var charCount = this.session.getScreenWidth();
        if (this.showInvisibles && !this.session.$useWrapMode)
            charCount += 1;

        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));
    };
    this.updateFrontMarkers = function() {
        this.$markerFront.setMarkers(this.session.getMarkers(true));
        this.$loop.schedule(this.CHANGE_MARKER_FRONT);
    };
    this.updateBackMarkers = function() {
        this.$markerBack.setMarkers(this.session.getMarkers());
        this.$loop.schedule(this.CHANGE_MARKER_BACK);
    };
    this.addGutterDecoration = function(row, className){
        this.$gutterLayer.addGutterDecoration(row, className);
    };
    this.removeGutterDecoration = function(row, className){
        this.$gutterLayer.removeGutterDecoration(row, className);
    };
    this.updateBreakpoints = function(rows) {
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.setAnnotations = function(annotations) {
        this.$gutterLayer.setAnnotations(annotations);
        this.$loop.schedule(this.CHANGE_GUTTER);
    };
    this.updateCursor = function() {
        this.$loop.schedule(this.CHANGE_CURSOR);
    };
    this.hideCursor = function() {
        this.$cursorLayer.hideCursor();
    };
    this.showCursor = function() {
        this.$cursorLayer.showCursor();
    };

    this.scrollSelectionIntoView = function(anchor, lead, offset) {
        this.scrollCursorIntoView(anchor, offset);
        this.scrollCursorIntoView(lead, offset);
    };
    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {
        if (this.$size.scrollerHeight === 0)
            return;

        var pos = this.$cursorLayer.getPixelPosition(cursor);

        var left = pos.left;
        var top = pos.top;
        
        var topMargin = $viewMargin && $viewMargin.top || 0;
        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;
        
        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
        
        if (scrollTop + topMargin > top) {
            if (offset && scrollTop + topMargin > top + this.lineHeight)
                top -= offset * this.$size.scrollerHeight;
            if (top === 0)
                top = -this.scrollMargin.top;
            this.session.setScrollTop(top);
        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {
            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)
                top += offset * this.$size.scrollerHeight;
            this.session.setScrollTop(top + this.lineHeight - this.$size.scrollerHeight);
        }

        var scrollLeft = this.scrollLeft;

        if (scrollLeft > left) {
            if (left < this.$padding + 2 * this.layerConfig.characterWidth)
                left = -this.scrollMargin.left;
            this.session.setScrollLeft(left);
        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {
            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));
        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {
            this.session.setScrollLeft(0);
        }
    };
    this.getScrollTop = function() {
        return this.session.getScrollTop();
    };
    this.getScrollLeft = function() {
        return this.session.getScrollLeft();
    };
    this.getScrollTopRow = function() {
        return this.scrollTop / this.lineHeight;
    };
    this.getScrollBottomRow = function() {
        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
    };
    this.scrollToRow = function(row) {
        this.session.setScrollTop(row * this.lineHeight);
    };

    this.alignCursor = function(cursor, alignment) {
        if (typeof cursor == "number")
            cursor = {row: cursor, column: 0};

        var pos = this.$cursorLayer.getPixelPosition(cursor);
        var h = this.$size.scrollerHeight - this.lineHeight;
        var offset = pos.top - h * (alignment || 0);

        this.session.setScrollTop(offset);
        return offset;
    };

    this.STEPS = 8;
    this.$calcSteps = function(fromValue, toValue){
        var i = 0;
        var l = this.STEPS;
        var steps = [];

        var func  = function(t, x_min, dx) {
            return dx * (Math.pow(t - 1, 3) + 1) + x_min;
        };

        for (i = 0; i < l; ++i)
            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));

        return steps;
    };
    this.scrollToLine = function(line, center, animate, callback) {
        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});
        var offset = pos.top;
        if (center)
            offset -= this.$size.scrollerHeight / 2;

        var initialScroll = this.scrollTop;
        this.session.setScrollTop(offset);
        if (animate !== false)
            this.animateScrolling(initialScroll, callback);
    };

    this.animateScrolling = function(fromValue, callback) {
        var toValue = this.scrollTop;
        if (!this.$animatedScroll)
            return;
        var _self = this;
        
        if (fromValue == toValue)
            return;
        
        if (this.$scrollAnimation) {
            var oldSteps = this.$scrollAnimation.steps;
            if (oldSteps.length) {
                fromValue = oldSteps[0];
                if (fromValue == toValue)
                    return;
            }
        }
        
        var steps = _self.$calcSteps(fromValue, toValue);
        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};

        clearInterval(this.$timer);

        _self.session.setScrollTop(steps.shift());
        _self.session.$scrollTop = toValue;
        this.$timer = setInterval(function() {
            if (steps.length) {
                _self.session.setScrollTop(steps.shift());
                _self.session.$scrollTop = toValue;
            } else if (toValue != null) {
                _self.session.$scrollTop = -1;
                _self.session.setScrollTop(toValue);
                toValue = null;
            } else {
                _self.$timer = clearInterval(_self.$timer);
                _self.$scrollAnimation = null;
                callback && callback();
            }
        }, 10);
    };
    this.scrollToY = function(scrollTop) {
        if (this.scrollTop !== scrollTop) {
            this.$loop.schedule(this.CHANGE_SCROLL);
            this.scrollTop = scrollTop;
        }
    };
    this.scrollToX = function(scrollLeft) {
        if (this.scrollLeft !== scrollLeft)
            this.scrollLeft = scrollLeft;
        this.$loop.schedule(this.CHANGE_H_SCROLL);
    };
    this.scrollTo = function(x, y) {
        this.session.setScrollTop(y);
        this.session.setScrollLeft(y);
    };
    this.scrollBy = function(deltaX, deltaY) {
        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);
        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);
    };
    this.isScrollableBy = function(deltaX, deltaY) {
        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)
           return true;
        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight
            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)
           return true;
        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)
            return true;
        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth
            - this.layerConfig.width < -1 + this.scrollMargin.right)
           return true;
    };

    this.pixelToScreenCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();

        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;
        var offset = offsetX / this.characterWidth;
        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);
        var col = Math.round(offset);

        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};
    };

    this.screenToTextCoordinates = function(x, y) {
        var canvasPos = this.scroller.getBoundingClientRect();
        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;

        var col = Math.round(offsetX / this.characterWidth);

        var row = (y + this.scrollTop - canvasPos.top) / this.lineHeight;

        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);
    };
    this.textToScreenCoordinates = function(row, column) {
        var canvasPos = this.scroller.getBoundingClientRect();
        var pos = this.session.documentToScreenPosition(row, column);

        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)
             ? this.session.$bidiHandler.getPosLeft(pos.column)
             : Math.round(pos.column * this.characterWidth));

        var y = pos.row * this.lineHeight;

        return {
            pageX: canvasPos.left + x - this.scrollLeft,
            pageY: canvasPos.top + y - this.scrollTop
        };
    };
    this.visualizeFocus = function() {
        dom.addCssClass(this.container, "ace_focus");
    };
    this.visualizeBlur = function() {
        dom.removeCssClass(this.container, "ace_focus");
    };
    this.showComposition = function(position) {
        if (!this.$composition)
            this.$composition = {
                keepTextAreaAtCursor: this.$keepTextAreaAtCursor,
                cssText: this.textarea.style.cssText
            };

        this.$keepTextAreaAtCursor = true;
        dom.addCssClass(this.textarea, "ace_composition");
        this.textarea.style.cssText = "";
        this.$moveTextAreaToCursor();
    };
    this.setCompositionText = function(text) {
        this.$moveTextAreaToCursor();
    };
    this.hideComposition = function() {
        if (!this.$composition)
            return;

        dom.removeCssClass(this.textarea, "ace_composition");
        this.$keepTextAreaAtCursor = this.$composition.keepTextAreaAtCursor;
        this.textarea.style.cssText = this.$composition.cssText;
        this.$composition = null;
    };
    this.setTheme = function(theme, cb) {
        var _self = this;
        this.$themeId = theme;
        _self._dispatchEvent('themeChange',{theme:theme});

        if (!theme || typeof theme == "string") {
            var moduleName = theme || this.$options.theme.initialValue;
            config.loadModule(["theme", moduleName], afterLoad);
        } else {
            afterLoad(theme);
        }

        function afterLoad(module) {
            if (_self.$themeId != theme)
                return cb && cb();
            if (!module || !module.cssClass)
                throw new Error("couldn't load module " + theme + " or it didn't call define");
            dom.importCssString(
                module.cssText,
                module.cssClass,
                _self.container.ownerDocument
            );

            if (_self.theme)
                dom.removeCssClass(_self.container, _self.theme.cssClass);

            var padding = "padding" in module ? module.padding 
                : "padding" in (_self.theme || {}) ? 4 : _self.$padding;
            if (_self.$padding && padding != _self.$padding)
                _self.setPadding(padding);
            _self.$theme = module.cssClass;

            _self.theme = module;
            dom.addCssClass(_self.container, module.cssClass);
            dom.setCssClass(_self.container, "ace_dark", module.isDark);
            if (_self.$size) {
                _self.$size.width = 0;
                _self.$updateSizeAsync();
            }

            _self._dispatchEvent('themeLoaded', {theme:module});
            cb && cb();
        }
    };
    this.getTheme = function() {
        return this.$themeId;
    };
    this.setStyle = function(style, include) {
        dom.setCssClass(this.container, style, include !== false);
    };
    this.unsetStyle = function(style) {
        dom.removeCssClass(this.container, style);
    };
    
    this.setCursorStyle = function(style) {
        if (this.scroller.style.cursor != style)
            this.scroller.style.cursor = style;
    };
    this.setMouseCursor = function(cursorStyle) {
        this.scroller.style.cursor = cursorStyle;
    };
    this.destroy = function() {
        this.$textLayer.destroy();
        this.$cursorLayer.destroy();
    };

}).call(VirtualRenderer.prototype);


config.defineOptions(VirtualRenderer.prototype, "renderer", {
    animatedScroll: {initialValue: false},
    showInvisibles: {
        set: function(value) {
            if (this.$textLayer.setShowInvisibles(value))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: false
    },
    showPrintMargin: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: true
    },
    printMarginColumn: {
        set: function() { this.$updatePrintMargin(); },
        initialValue: 80
    },
    printMargin: {
        set: function(val) {
            if (typeof val == "number")
                this.$printMarginColumn = val;
            this.$showPrintMargin = !!val;
            this.$updatePrintMargin();
        },
        get: function() {
            return this.$showPrintMargin && this.$printMarginColumn; 
        }
    },
    showGutter: {
        set: function(show){
            this.$gutter.style.display = show ? "block" : "none";
            this.$loop.schedule(this.CHANGE_FULL);
            this.onGutterResize();
        },
        initialValue: true
    },
    fadeFoldWidgets: {
        set: function(show) {
            dom.setCssClass(this.$gutter, "ace_fade-fold-widgets", show);
        },
        initialValue: false
    },
    showFoldWidgets: {
        set: function(show) {this.$gutterLayer.setShowFoldWidgets(show);},
        initialValue: true
    },
    showLineNumbers: {
        set: function(show) {
            this.$gutterLayer.setShowLineNumbers(show);
            this.$loop.schedule(this.CHANGE_GUTTER);
        },
        initialValue: true
    },
    displayIndentGuides: {
        set: function(show) {
            if (this.$textLayer.setDisplayIndentGuides(show))
                this.$loop.schedule(this.CHANGE_TEXT);
        },
        initialValue: true
    },
    highlightGutterLine: {
        set: function(shouldHighlight) {
            if (!this.$gutterLineHighlight) {
                this.$gutterLineHighlight = dom.createElement("div");
                this.$gutterLineHighlight.className = "ace_gutter-active-line";
                this.$gutter.appendChild(this.$gutterLineHighlight);
                return;
            }

            this.$gutterLineHighlight.style.display = shouldHighlight ? "" : "none";
            if (this.$cursorLayer.$pixelPos)
                this.$updateGutterLineHighlight();
        },
        initialValue: false,
        value: true
    },
    hScrollBarAlwaysVisible: {
        set: function(val) {
            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
    },
    vScrollBarAlwaysVisible: {
        set: function(val) {
            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)
                this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: false
    },
    fontSize:  {
        set: function(size) {
            if (typeof size == "number")
                size = size + "px";
            this.container.style.fontSize = size;
            this.updateFontSize();
        },
        initialValue: 12
    },
    fontFamily: {
        set: function(name) {
            this.container.style.fontFamily = name;
            this.updateFontSize();
        }
    },
    maxLines: {
        set: function(val) {
            this.updateFull();
        }
    },
    minLines: {
        set: function(val) {
            this.updateFull();
        }
    },
    maxPixelHeight: {
        set: function(val) {
            this.updateFull();
        },
        initialValue: 0
    },
    scrollPastEnd: {
        set: function(val) {
            val = +val || 0;
            if (this.$scrollPastEnd == val)
                return;
            this.$scrollPastEnd = val;
            this.$loop.schedule(this.CHANGE_SCROLL);
        },
        initialValue: 0,
        handlesSet: true
    },
    fixedWidthGutter: {
        set: function(val) {
            this.$gutterLayer.$fixedWidth = !!val;
            this.$loop.schedule(this.CHANGE_GUTTER);
        }
    },
    theme: {
        set: function(val) { this.setTheme(val); },
        get: function() { return this.$themeId || this.theme; },
        initialValue: "./theme/textmate",
        handlesSet: true
    }
});

exports.VirtualRenderer = VirtualRenderer;
});

ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var net = acequire("../lib/net");
var EventEmitter = acequire("../lib/event_emitter").EventEmitter;
var config = acequire("../config");

function $workerBlob(workerUrl, mod) {
    var script = mod.src;"importScripts('" + net.qualifyURL(workerUrl) + "');";
    try {
        return new Blob([script], {"type": "application/javascript"});
    } catch (e) { // Backwards-compatibility
        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;
        var blobBuilder = new BlobBuilder();
        blobBuilder.append(script);
        return blobBuilder.getBlob("application/javascript");
    }
}

function createWorker(workerUrl, mod) {
    var blob = $workerBlob(workerUrl, mod);
    var URL = window.URL || window.webkitURL;
    var blobURL = URL.createObjectURL(blob);
    return new Worker(blobURL);
}

var WorkerClient = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.onMessage = this.onMessage.bind(this);
    if (acequire.nameToUrl && !acequire.toUrl)
        acequire.toUrl = acequire.nameToUrl;
    
    if (config.get("packaged") || !acequire.toUrl) {
        workerUrl = workerUrl || config.moduleUrl(mod.id, "worker");
    } else {
        var normalizePath = this.$normalizePath;
        workerUrl = workerUrl || normalizePath(acequire.toUrl("ace/worker/worker.js", null, "_"));

        var tlns = {};
        topLevelNamespaces.forEach(function(ns) {
            tlns[ns] = normalizePath(acequire.toUrl(ns, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
        });
    }

    this.$worker = createWorker(workerUrl, mod);
    if (importScripts) {
        this.send("importScripts", importScripts);
    }
    this.$worker.postMessage({
        init : true,
        tlns : tlns,
        module : mod.id,
        classname : classname
    });

    this.callbackId = 1;
    this.callbacks = {};

    this.$worker.onmessage = this.onMessage;
};

(function(){

    oop.implement(this, EventEmitter);

    this.onMessage = function(e) {
        var msg = e.data;
        switch (msg.type) {
            case "event":
                this._signal(msg.name, {data: msg.data});
                break;
            case "call":
                var callback = this.callbacks[msg.id];
                if (callback) {
                    callback(msg.data);
                    delete this.callbacks[msg.id];
                }
                break;
            case "error":
                this.reportError(msg.data);
                break;
            case "log":
                window.console && console.log && console.log.apply(console, msg.data);
                break;
        }
    };
    
    this.reportError = function(err) {
        window.console && console.error && console.error(err);
    };

    this.$normalizePath = function(path) {
        return net.qualifyURL(path);
    };

    this.terminate = function() {
        this._signal("terminate", {});
        this.deltaQueue = null;
        this.$worker.terminate();
        this.$worker = null;
        if (this.$doc)
            this.$doc.off("change", this.changeListener);
        this.$doc = null;
    };

    this.send = function(cmd, args) {
        this.$worker.postMessage({command: cmd, args: args});
    };

    this.call = function(cmd, args, callback) {
        if (callback) {
            var id = this.callbackId++;
            this.callbacks[id] = callback;
            args.push(id);
        }
        this.send(cmd, args);
    };

    this.emit = function(event, data) {
        try {
            this.$worker.postMessage({event: event, data: {data: data.data}});
        }
        catch(ex) {
            console.error(ex.stack);
        }
    };

    this.attachToDocument = function(doc) {
        if (this.$doc)
            this.terminate();

        this.$doc = doc;
        this.call("setValue", [doc.getValue()]);
        doc.on("change", this.changeListener);
    };

    this.changeListener = function(delta) {
        if (!this.deltaQueue) {
            this.deltaQueue = [];
            setTimeout(this.$sendDeltaQueue, 0);
        }
        if (delta.action == "insert")
            this.deltaQueue.push(delta.start, delta.lines);
        else
            this.deltaQueue.push(delta.start, delta.end);
    };

    this.$sendDeltaQueue = function() {
        var q = this.deltaQueue;
        if (!q) return;
        this.deltaQueue = null;
        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {
            this.call("setValue", [this.$doc.getValue()]);
        } else
            this.emit("change", {data: q});
    };

}).call(WorkerClient.prototype);


var UIWorkerClient = function(topLevelNamespaces, mod, classname) {
    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);
    this.changeListener = this.changeListener.bind(this);
    this.callbackId = 1;
    this.callbacks = {};
    this.messageBuffer = [];

    var main = null;
    var emitSync = false;
    var sender = Object.create(EventEmitter);
    var _self = this;

    this.$worker = {};
    this.$worker.terminate = function() {};
    this.$worker.postMessage = function(e) {
        _self.messageBuffer.push(e);
        if (main) {
            if (emitSync)
                setTimeout(processNext);
            else
                processNext();
        }
    };
    this.setEmitSync = function(val) { emitSync = val; };

    var processNext = function() {
        var msg = _self.messageBuffer.shift();
        if (msg.command)
            main[msg.command].apply(main, msg.args);
        else if (msg.event)
            sender._signal(msg.event, msg.data);
    };

    sender.postMessage = function(msg) {
        _self.onMessage({data: msg});
    };
    sender.callback = function(data, callbackId) {
        this.postMessage({type: "call", id: callbackId, data: data});
    };
    sender.emit = function(name, data) {
        this.postMessage({type: "event", name: name, data: data});
    };

    config.loadModule(["worker", mod], function(Main) {
        main = new Main[classname](sender);
        while (_self.messageBuffer.length)
            processNext();
    });
};

UIWorkerClient.prototype = WorkerClient.prototype;

exports.UIWorkerClient = UIWorkerClient;
exports.WorkerClient = WorkerClient;
exports.createWorker = createWorker;


});

ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"], function(acequire, exports, module) {
"use strict";

var Range = acequire("./range").Range;
var EventEmitter = acequire("./lib/event_emitter").EventEmitter;
var oop = acequire("./lib/oop");

var PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {
    var _self = this;
    this.length = length;
    this.session = session;
    this.doc = session.getDocument();
    this.mainClass = mainClass;
    this.othersClass = othersClass;
    this.$onUpdate = this.onUpdate.bind(this);
    this.doc.on("change", this.$onUpdate);
    this.$others = others;
    
    this.$onCursorChange = function() {
        setTimeout(function() {
            _self.onCursorChange();
        });
    };
    
    this.$pos = pos;
    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};
    this.$undoStackDepth = undoStack.length;
    this.setup();

    session.selection.on("changeCursor", this.$onCursorChange);
};

(function() {

    oop.implement(this, EventEmitter);
    this.setup = function() {
        var _self = this;
        var doc = this.doc;
        var session = this.session;
        
        this.selectionBefore = session.selection.toJSON();
        if (session.selection.inMultiSelectMode)
            session.selection.toSingleRange();

        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);
        var pos = this.pos;
        pos.$insertRight = true;
        pos.detach();
        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);
        this.others = [];
        this.$others.forEach(function(other) {
            var anchor = doc.createAnchor(other.row, other.column);
            anchor.$insertRight = true;
            anchor.detach();
            _self.others.push(anchor);
        });
        session.setUndoSelect(false);
    };
    this.showOtherMarkers = function() {
        if (this.othersActive) return;
        var session = this.session;
        var _self = this;
        this.othersActive = true;
        this.others.forEach(function(anchor) {
            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);
        });
    };
    this.hideOtherMarkers = function() {
        if (!this.othersActive) return;
        this.othersActive = false;
        for (var i = 0; i < this.others.length; i++) {
            this.session.removeMarker(this.others[i].markerId);
        }
    };
    this.onUpdate = function(delta) {
        if (this.$updating)
            return this.updateAnchors(delta);
            
        var range = delta;
        if (range.start.row !== range.end.row) return;
        if (range.start.row !== this.pos.row) return;
        this.$updating = true;
        var lengthDiff = delta.action === "insert" ? range.end.column - range.start.column : range.start.column - range.end.column;
        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;
        var distanceFromStart = range.start.column - this.pos.column;
        
        this.updateAnchors(delta);
        
        if (inMainRange)
            this.length += lengthDiff;

        if (inMainRange && !this.session.$fromUndo) {
            if (delta.action === 'insert') {
                for (var i = this.others.length - 1; i >= 0; i--) {
                    var otherPos = this.others[i];
                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                    this.doc.insertMergedLines(newPos, delta.lines);
                }
            } else if (delta.action === 'remove') {
                for (var i = this.others.length - 1; i >= 0; i--) {
                    var otherPos = this.others[i];
                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};
                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));
                }
            }
        }
        
        this.$updating = false;
        this.updateMarkers();
    };
    
    this.updateAnchors = function(delta) {
        this.pos.onChange(delta);
        for (var i = this.others.length; i--;)
            this.others[i].onChange(delta);
        this.updateMarkers();
    };
    
    this.updateMarkers = function() {
        if (this.$updating)
            return;
        var _self = this;
        var session = this.session;
        var updateMarker = function(pos, className) {
            session.removeMarker(pos.markerId);
            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);
        };
        updateMarker(this.pos, this.mainClass);
        for (var i = this.others.length; i--;)
            updateMarker(this.others[i], this.othersClass);
    };

    this.onCursorChange = function(event) {
        if (this.$updating || !this.session) return;
        var pos = this.session.selection.getCursor();
        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {
            this.showOtherMarkers();
            this._emit("cursorEnter", event);
        } else {
            this.hideOtherMarkers();
            this._emit("cursorLeave", event);
        }
    };    
    this.detach = function() {
        this.session.removeMarker(this.pos && this.pos.markerId);
        this.hideOtherMarkers();
        this.doc.removeEventListener("change", this.$onUpdate);
        this.session.selection.removeEventListener("changeCursor", this.$onCursorChange);
        this.session.setUndoSelect(true);
        this.session = null;
    };
    this.cancel = function() {
        if (this.$undoStackDepth === -1)
            return;
        var undoManager = this.session.getUndoManager();
        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;
        for (var i = 0; i < undosRequired; i++) {
            undoManager.undo(true);
        }
        if (this.selectionBefore)
            this.session.selection.fromJSON(this.selectionBefore);
    };
}).call(PlaceHolder.prototype);


exports.PlaceHolder = PlaceHolder;
});

ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"], function(acequire, exports, module) {

var event = acequire("../lib/event");
var useragent = acequire("../lib/useragent");
function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}

function onMouseDown(e) {
    var ev = e.domEvent;
    var alt = ev.altKey;
    var shift = ev.shiftKey;
    var ctrl = ev.ctrlKey;
    var accel = e.getAccelKey();
    var button = e.getButton();
    
    if (ctrl && useragent.isMac)
        button = ev.button;

    if (e.editor.inMultiSelectMode && button == 2) {
        e.editor.textInput.onContextMenu(e.domEvent);
        return;
    }
    
    if (!ctrl && !alt && !accel) {
        if (button === 0 && e.editor.inMultiSelectMode)
            e.editor.exitMultiSelectMode();
        return;
    }
    
    if (button !== 0)
        return;

    var editor = e.editor;
    var selection = editor.selection;
    var isMultiSelect = editor.inMultiSelectMode;
    var pos = e.getDocumentPosition();
    var cursor = selection.getCursor();
    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));

    var mouseX = e.x, mouseY = e.y;
    var onMouseSelection = function(e) {
        mouseX = e.clientX;
        mouseY = e.clientY;
    };
    
    var session = editor.session;
    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
    var screenCursor = screenAnchor;
    
    var selectionMode;
    if (editor.$mouseHandler.$enableJumpToDef) {
        if (ctrl && alt || accel && alt)
            selectionMode = shift ? "block" : "add";
        else if (alt && editor.$blockSelectEnabled)
            selectionMode = "block";
    } else {
        if (accel && !alt) {
            selectionMode = "add";
            if (!isMultiSelect && shift)
                return;
        } else if (alt && editor.$blockSelectEnabled) {
            selectionMode = "block";
        }
    }
    
    if (selectionMode && useragent.isMac && ev.ctrlKey) {
        editor.$mouseHandler.cancelContextMenu();
    }

    if (selectionMode == "add") {
        if (!isMultiSelect && inSelection)
            return; // dragging

        if (!isMultiSelect) {
            var range = selection.toOrientedRange();
            editor.addSelectionMarker(range);
        }

        var oldRange = selection.rangeList.rangeAtPoint(pos);
        
        
        editor.$blockScrolling++;
        editor.inVirtualSelectionMode = true;
        
        if (shift) {
            oldRange = null;
            range = selection.ranges[0] || range;
            editor.removeSelectionMarker(range);
        }
        editor.once("mouseup", function() {
            var tmpSel = selection.toOrientedRange();

            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))
                selection.substractPoint(tmpSel.cursor);
            else {
                if (shift) {
                    selection.substractPoint(range.cursor);
                } else if (range) {
                    editor.removeSelectionMarker(range);
                    selection.addRange(range);
                }
                selection.addRange(tmpSel);
            }
            editor.$blockScrolling--;
            editor.inVirtualSelectionMode = false;
        });

    } else if (selectionMode == "block") {
        e.stop();
        editor.inVirtualSelectionMode = true;        
        var initialRange;
        var rectSel = [];
        var blockSelect = function() {
            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);
            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);

            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))
                return;
            screenCursor = newCursor;
            
            editor.$blockScrolling++;
            editor.selection.moveToPosition(cursor);
            editor.renderer.scrollCursorIntoView();

            editor.removeSelectionMarkers(rectSel);
            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);
            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())
                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();
            rectSel.forEach(editor.addSelectionMarker, editor);
            editor.updateSelectionMarkers();
            editor.$blockScrolling--;
        };
        editor.$blockScrolling++;
        if (isMultiSelect && !accel) {
            selection.toSingleRange();
        } else if (!isMultiSelect && accel) {
            initialRange = selection.toOrientedRange();
            editor.addSelectionMarker(initialRange);
        }
        
        if (shift)
            screenAnchor = session.documentToScreenPosition(selection.lead);            
        else
            selection.moveToPosition(pos);
        editor.$blockScrolling--;
        
        screenCursor = {row: -1, column: -1};

        var onMouseSelectionEnd = function(e) {
            clearInterval(timerId);
            editor.removeSelectionMarkers(rectSel);
            if (!rectSel.length)
                rectSel = [selection.toOrientedRange()];
            editor.$blockScrolling++;
            if (initialRange) {
                editor.removeSelectionMarker(initialRange);
                selection.toSingleRange(initialRange);
            }
            for (var i = 0; i < rectSel.length; i++)
                selection.addRange(rectSel[i]);
            editor.inVirtualSelectionMode = false;
            editor.$mouseHandler.$clickSelection = null;
            editor.$blockScrolling--;
        };

        var onSelectionInterval = blockSelect;

        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);
        var timerId = setInterval(function() {onSelectionInterval();}, 20);

        return e.preventDefault();
    }
}


exports.onMouseDown = onMouseDown;

});

ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"], function(acequire, exports, module) {
exports.defaultCommands = [{
    name: "addCursorAbove",
    exec: function(editor) { editor.selectMoreLines(-1); },
    bindKey: {win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorBelow",
    exec: function(editor) { editor.selectMoreLines(1); },
    bindKey: {win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorAboveSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "addCursorBelowSkipCurrent",
    exec: function(editor) { editor.selectMoreLines(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectMoreBefore",
    exec: function(editor) { editor.selectMore(-1); },
    bindKey: {win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectMoreAfter",
    exec: function(editor) { editor.selectMore(1); },
    bindKey: {win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectNextBefore",
    exec: function(editor) { editor.selectMore(-1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "selectNextAfter",
    exec: function(editor) { editor.selectMore(1, true); },
    bindKey: {win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right"},
    scrollIntoView: "cursor",
    readOnly: true
}, {
    name: "splitIntoLines",
    exec: function(editor) { editor.multiSelect.splitIntoLines(); },
    bindKey: {win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L"},
    readOnly: true
}, {
    name: "alignCursors",
    exec: function(editor) { editor.alignCursors(); },
    bindKey: {win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A"},
    scrollIntoView: "cursor"
}, {
    name: "findAll",
    exec: function(editor) { editor.findAll(); },
    bindKey: {win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G"},
    scrollIntoView: "cursor",
    readOnly: true
}];
exports.multiSelectCommands = [{
    name: "singleSelection",
    bindKey: "esc",
    exec: function(editor) { editor.exitMultiSelectMode(); },
    scrollIntoView: "cursor",
    readOnly: true,
    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}
}];

var HashHandler = acequire("../keyboard/hash_handler").HashHandler;
exports.keyboardHandler = new HashHandler(exports.multiSelectCommands);

});

ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"], function(acequire, exports, module) {

var RangeList = acequire("./range_list").RangeList;
var Range = acequire("./range").Range;
var Selection = acequire("./selection").Selection;
var onMouseDown = acequire("./mouse/multi_select_handler").onMouseDown;
var event = acequire("./lib/event");
var lang = acequire("./lib/lang");
var commands = acequire("./commands/multi_select_commands");
exports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);
var Search = acequire("./search").Search;
var search = new Search();

function find(session, needle, dir) {
    search.$options.wrap = true;
    search.$options.needle = needle;
    search.$options.backwards = dir == -1;
    return search.find(session);
}
var EditSession = acequire("./edit_session").EditSession;
(function() {
    this.getSelectionMarkers = function() {
        return this.$selectionMarkers;
    };
}).call(EditSession.prototype);
(function() {
    this.ranges = null;
    this.rangeList = null;
    this.addRange = function(range, $blockChangeEvents) {
        if (!range)
            return;

        if (!this.inMultiSelectMode && this.rangeCount === 0) {
            var oldRange = this.toOrientedRange();
            this.rangeList.add(oldRange);
            this.rangeList.add(range);
            if (this.rangeList.ranges.length != 2) {
                this.rangeList.removeAll();
                return $blockChangeEvents || this.fromOrientedRange(range);
            }
            this.rangeList.removeAll();
            this.rangeList.add(oldRange);
            this.$onAddRange(oldRange);
        }

        if (!range.cursor)
            range.cursor = range.end;

        var removed = this.rangeList.add(range);

        this.$onAddRange(range);

        if (removed.length)
            this.$onRemoveRange(removed);

        if (this.rangeCount > 1 && !this.inMultiSelectMode) {
            this._signal("multiSelect");
            this.inMultiSelectMode = true;
            this.session.$undoSelect = false;
            this.rangeList.attach(this.session);
        }

        return $blockChangeEvents || this.fromOrientedRange(range);
    };

    this.toSingleRange = function(range) {
        range = range || this.ranges[0];
        var removed = this.rangeList.removeAll();
        if (removed.length)
            this.$onRemoveRange(removed);

        range && this.fromOrientedRange(range);
    };
    this.substractPoint = function(pos) {
        var removed = this.rangeList.substractPoint(pos);
        if (removed) {
            this.$onRemoveRange(removed);
            return removed[0];
        }
    };
    this.mergeOverlappingRanges = function() {
        var removed = this.rangeList.merge();
        if (removed.length)
            this.$onRemoveRange(removed);
        else if(this.ranges[0])
            this.fromOrientedRange(this.ranges[0]);
    };

    this.$onAddRange = function(range) {
        this.rangeCount = this.rangeList.ranges.length;
        this.ranges.unshift(range);
        this._signal("addRange", {range: range});
    };

    this.$onRemoveRange = function(removed) {
        this.rangeCount = this.rangeList.ranges.length;
        if (this.rangeCount == 1 && this.inMultiSelectMode) {
            var lastRange = this.rangeList.ranges.pop();
            removed.push(lastRange);
            this.rangeCount = 0;
        }

        for (var i = removed.length; i--; ) {
            var index = this.ranges.indexOf(removed[i]);
            this.ranges.splice(index, 1);
        }

        this._signal("removeRange", {ranges: removed});

        if (this.rangeCount === 0 && this.inMultiSelectMode) {
            this.inMultiSelectMode = false;
            this._signal("singleSelect");
            this.session.$undoSelect = true;
            this.rangeList.detach(this.session);
        }

        lastRange = lastRange || this.ranges[0];
        if (lastRange && !lastRange.isEqual(this.getRange()))
            this.fromOrientedRange(lastRange);
    };
    this.$initRangeList = function() {
        if (this.rangeList)
            return;

        this.rangeList = new RangeList();
        this.ranges = [];
        this.rangeCount = 0;
    };
    this.getAllRanges = function() {
        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
    };

    this.splitIntoLines = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var range = this.getRange();
            var isBackwards = this.isBackwards();
            var startRow = range.start.row;
            var endRow = range.end.row;
            if (startRow == endRow) {
                if (isBackwards)
                    var start = range.end, end = range.start;
                else
                    var start = range.start, end = range.end;
                
                this.addRange(Range.fromPoints(end, end));
                this.addRange(Range.fromPoints(start, start));
                return;
            }

            var rectSel = [];
            var r = this.getLineRange(startRow, true);
            r.start.column = range.start.column;
            rectSel.push(r);

            for (var i = startRow + 1; i < endRow; i++)
                rectSel.push(this.getLineRange(i, true));

            r = this.getLineRange(endRow, true);
            r.end.column = range.end.column;
            rectSel.push(r);

            rectSel.forEach(this.addRange, this);
        }
    };
    this.toggleBlockSelection = function () {
        if (this.rangeCount > 1) {
            var ranges = this.rangeList.ranges;
            var lastRange = ranges[ranges.length - 1];
            var range = Range.fromPoints(ranges[0].start, lastRange.end);

            this.toSingleRange();
            this.setSelectionRange(range, lastRange.cursor == lastRange.start);
        } else {
            var cursor = this.session.documentToScreenPosition(this.selectionLead);
            var anchor = this.session.documentToScreenPosition(this.selectionAnchor);

            var rectSel = this.rectangularRangeBlock(cursor, anchor);
            rectSel.forEach(this.addRange, this);
        }
    };
    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {
        var rectSel = [];

        var xBackwards = screenCursor.column < screenAnchor.column;
        if (xBackwards) {
            var startColumn = screenCursor.column;
            var endColumn = screenAnchor.column;
            var startOffsetX = screenCursor.offsetX;
            var endOffsetX = screenAnchor.offsetX;
        } else {
            var startColumn = screenAnchor.column;
            var endColumn = screenCursor.column;
            var startOffsetX = screenAnchor.offsetX;
            var endOffsetX = screenCursor.offsetX;
        }

        var yBackwards = screenCursor.row < screenAnchor.row;
        if (yBackwards) {
            var startRow = screenCursor.row;
            var endRow = screenAnchor.row;
        } else {
            var startRow = screenAnchor.row;
            var endRow = screenCursor.row;
        }

        if (startColumn < 0)
            startColumn = 0;
        if (startRow < 0)
            startRow = 0;

        if (startRow == endRow)
            includeEmptyLines = true;

        for (var row = startRow; row <= endRow; row++) {
            var range = Range.fromPoints(
                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),
                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)
            );
            if (range.isEmpty()) {
                if (docEnd && isSamePoint(range.end, docEnd))
                    break;
                var docEnd = range.end;
            }
            range.cursor = xBackwards ? range.start : range.end;
            rectSel.push(range);
        }

        if (yBackwards)
            rectSel.reverse();

        if (!includeEmptyLines) {
            var end = rectSel.length - 1;
            while (rectSel[end].isEmpty() && end > 0)
                end--;
            if (end > 0) {
                var start = 0;
                while (rectSel[start].isEmpty())
                    start++;
            }
            for (var i = end; i >= start; i--) {
                if (rectSel[i].isEmpty())
                    rectSel.splice(i, 1);
            }
        }

        return rectSel;
    };
}).call(Selection.prototype);
var Editor = acequire("./editor").Editor;
(function() {
    this.updateSelectionMarkers = function() {
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };
    this.addSelectionMarker = function(orientedRange) {
        if (!orientedRange.cursor)
            orientedRange.cursor = orientedRange.end;

        var style = this.getSelectionStyle();
        orientedRange.marker = this.session.addMarker(orientedRange, "ace_selection", style);

        this.session.$selectionMarkers.push(orientedRange);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
        return orientedRange;
    };
    this.removeSelectionMarker = function(range) {
        if (!range.marker)
            return;
        this.session.removeMarker(range.marker);
        var index = this.session.$selectionMarkers.indexOf(range);
        if (index != -1)
            this.session.$selectionMarkers.splice(index, 1);
        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
    };

    this.removeSelectionMarkers = function(ranges) {
        var markerList = this.session.$selectionMarkers;
        for (var i = ranges.length; i--; ) {
            var range = ranges[i];
            if (!range.marker)
                continue;
            this.session.removeMarker(range.marker);
            var index = markerList.indexOf(range);
            if (index != -1)
                markerList.splice(index, 1);
        }
        this.session.selectionMarkerCount = markerList.length;
    };

    this.$onAddRange = function(e) {
        this.addSelectionMarker(e.range);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onRemoveRange = function(e) {
        this.removeSelectionMarkers(e.ranges);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onMultiSelect = function(e) {
        if (this.inMultiSelectMode)
            return;
        this.inMultiSelectMode = true;

        this.setStyle("ace_multiselect");
        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);
        this.commands.setDefaultHandler("exec", this.$onMultiSelectExec);

        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
    };

    this.$onSingleSelect = function(e) {
        if (this.session.multiSelect.inVirtualMode)
            return;
        this.inMultiSelectMode = false;

        this.unsetStyle("ace_multiselect");
        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);

        this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec);
        this.renderer.updateCursor();
        this.renderer.updateBackMarkers();
        this._emit("changeSelection");
    };

    this.$onMultiSelectExec = function(e) {
        var command = e.command;
        var editor = e.editor;
        if (!editor.multiSelect)
            return;
        if (!command.multiSelectAction) {
            var result = command.exec(editor, e.args || {});
            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());
            editor.multiSelect.mergeOverlappingRanges();
        } else if (command.multiSelectAction == "forEach") {
            result = editor.forEachSelection(command, e.args);
        } else if (command.multiSelectAction == "forEachLine") {
            result = editor.forEachSelection(command, e.args, true);
        } else if (command.multiSelectAction == "single") {
            editor.exitMultiSelectMode();
            result = command.exec(editor, e.args || {});
        } else {
            result = command.multiSelectAction(editor, e.args || {});
        }
        return result;
    }; 
    this.forEachSelection = function(cmd, args, options) {
        if (this.inVirtualSelectionMode)
            return;
        var keepOrder = options && options.keepOrder;
        var $byLines = options == true || options && options.$byLines;
        var session = this.session;
        var selection = this.selection;
        var rangeList = selection.rangeList;
        var ranges = (keepOrder ? selection : rangeList).ranges;
        var result;
        
        if (!ranges.length)
            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
        
        var reg = selection._eventRegistry;
        selection._eventRegistry = {};

        var tmpSel = new Selection(session);
        this.inVirtualSelectionMode = true;
        for (var i = ranges.length; i--;) {
            if ($byLines) {
                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)
                    i--;
            }
            tmpSel.fromOrientedRange(ranges[i]);
            tmpSel.index = i;
            this.selection = session.selection = tmpSel;
            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});
            if (!result && cmdResult !== undefined)
                result = cmdResult;
            tmpSel.toOrientedRange(ranges[i]);
        }
        tmpSel.detach();

        this.selection = session.selection = selection;
        this.inVirtualSelectionMode = false;
        selection._eventRegistry = reg;
        selection.mergeOverlappingRanges();
        
        var anim = this.renderer.$scrollAnimation;
        this.onCursorChange();
        this.onSelectionChange();
        if (anim && anim.from == anim.to)
            this.renderer.animateScrolling(anim.from);
        
        return result;
    };
    this.exitMultiSelectMode = function() {
        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
            return;
        this.multiSelect.toSingleRange();
    };

    this.getSelectedText = function() {
        var text = "";
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var ranges = this.multiSelect.rangeList.ranges;
            var buf = [];
            for (var i = 0; i < ranges.length; i++) {
                buf.push(this.session.getTextRange(ranges[i]));
            }
            var nl = this.session.getDocument().getNewLineCharacter();
            text = buf.join(nl);
            if (text.length == (buf.length - 1) * nl.length)
                text = "";
        } else if (!this.selection.isEmpty()) {
            text = this.session.getTextRange(this.getSelectionRange());
        }
        return text;
    };
    
    this.$checkMultiselectChange = function(e, anchor) {
        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var range = this.multiSelect.ranges[0];
            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)
                return;
            var pos = anchor == this.multiSelect.anchor
                ? range.cursor == range.start ? range.end : range.start
                : range.cursor;
            if (pos.row != anchor.row 
                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)
                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());
        }
    };
    this.findAll = function(needle, options, additive) {
        options = options || {};
        options.needle = needle || options.needle;
        if (options.needle == undefined) {
            var range = this.selection.isEmpty()
                ? this.selection.getWordRange()
                : this.selection.getRange();
            options.needle = this.session.getTextRange(range);
        }    
        this.$search.set(options);
        
        var ranges = this.$search.findAll(this.session);
        if (!ranges.length)
            return 0;

        this.$blockScrolling += 1;
        var selection = this.multiSelect;

        if (!additive)
            selection.toSingleRange(ranges[0]);

        for (var i = ranges.length; i--; )
            selection.addRange(ranges[i], true);
        if (range && selection.rangeList.rangeAtPoint(range.start))
            selection.addRange(range, true);
        
        this.$blockScrolling -= 1;

        return ranges.length;
    };
    this.selectMoreLines = function(dir, skip) {
        var range = this.selection.toOrientedRange();
        var isBackwards = range.cursor == range.end;

        var screenLead = this.session.documentToScreenPosition(range.cursor);
        if (this.selection.$desiredColumn)
            screenLead.column = this.selection.$desiredColumn;

        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);

        if (!range.isEmpty()) {
            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);
            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);
        } else {
            var anchor = lead;
        }

        if (isBackwards) {
            var newRange = Range.fromPoints(lead, anchor);
            newRange.cursor = newRange.start;
        } else {
            var newRange = Range.fromPoints(anchor, lead);
            newRange.cursor = newRange.end;
        }

        newRange.desiredColumn = screenLead.column;
        if (!this.selection.inMultiSelectMode) {
            this.selection.addRange(range);
        } else {
            if (skip)
                var toRemove = range.cursor;
        }

        this.selection.addRange(newRange);
        if (toRemove)
            this.selection.substractPoint(toRemove);
    };
    this.transposeSelections = function(dir) {
        var session = this.session;
        var sel = session.multiSelect;
        var all = sel.ranges;

        for (var i = all.length; i--; ) {
            var range = all[i];
            if (range.isEmpty()) {
                var tmp = session.getWordRange(range.start.row, range.start.column);
                range.start.row = tmp.start.row;
                range.start.column = tmp.start.column;
                range.end.row = tmp.end.row;
                range.end.column = tmp.end.column;
            }
        }
        sel.mergeOverlappingRanges();

        var words = [];
        for (var i = all.length; i--; ) {
            var range = all[i];
            words.unshift(session.getTextRange(range));
        }

        if (dir < 0)
            words.unshift(words.pop());
        else
            words.push(words.shift());

        for (var i = all.length; i--; ) {
            var range = all[i];
            var tmp = range.clone();
            session.replace(range, words[i]);
            range.start.row = tmp.start.row;
            range.start.column = tmp.start.column;
        }
    };
    this.selectMore = function(dir, skip, stopAtFirst) {
        var session = this.session;
        var sel = session.multiSelect;

        var range = sel.toOrientedRange();
        if (range.isEmpty()) {
            range = session.getWordRange(range.start.row, range.start.column);
            range.cursor = dir == -1 ? range.start : range.end;
            this.multiSelect.addRange(range);
            if (stopAtFirst)
                return;
        }
        var needle = session.getTextRange(range);

        var newRange = find(session, needle, dir);
        if (newRange) {
            newRange.cursor = dir == -1 ? newRange.start : newRange.end;
            this.$blockScrolling += 1;
            this.session.unfold(newRange);
            this.multiSelect.addRange(newRange);
            this.$blockScrolling -= 1;
            this.renderer.scrollCursorIntoView(null, 0.5);
        }
        if (skip)
            this.multiSelect.substractPoint(range.cursor);
    };
    this.alignCursors = function() {
        var session = this.session;
        var sel = session.multiSelect;
        var ranges = sel.ranges;
        var row = -1;
        var sameRowRanges = ranges.filter(function(r) {
            if (r.cursor.row == row)
                return true;
            row = r.cursor.row;
        });
        
        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {
            var range = this.selection.getRange();
            var fr = range.start.row, lr = range.end.row;
            var guessRange = fr == lr;
            if (guessRange) {
                var max = this.session.getLength();
                var line;
                do {
                    line = this.session.getLine(lr);
                } while (/[=:]/.test(line) && ++lr < max);
                do {
                    line = this.session.getLine(fr);
                } while (/[=:]/.test(line) && --fr > 0);
                
                if (fr < 0) fr = 0;
                if (lr >= max) lr = max - 1;
            }
            var lines = this.session.removeFullLines(fr, lr);
            lines = this.$reAlignText(lines, guessRange);
            this.session.insert({row: fr, column: 0}, lines.join("\n") + "\n");
            if (!guessRange) {
                range.start.column = 0;
                range.end.column = lines[lines.length - 1].length;
            }
            this.selection.setRange(range);
        } else {
            sameRowRanges.forEach(function(r) {
                sel.substractPoint(r.cursor);
            });

            var maxCol = 0;
            var minSpace = Infinity;
            var spaceOffsets = ranges.map(function(r) {
                var p = r.cursor;
                var line = session.getLine(p.row);
                var spaceOffset = line.substr(p.column).search(/\S/g);
                if (spaceOffset == -1)
                    spaceOffset = 0;

                if (p.column > maxCol)
                    maxCol = p.column;
                if (spaceOffset < minSpace)
                    minSpace = spaceOffset;
                return spaceOffset;
            });
            ranges.forEach(function(r, i) {
                var p = r.cursor;
                var l = maxCol - p.column;
                var d = spaceOffsets[i] - minSpace;
                if (l > d)
                    session.insert(p, lang.stringRepeat(" ", l - d));
                else
                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));

                r.start.column = r.end.column = maxCol;
                r.start.row = r.end.row = p.row;
                r.cursor = r.end;
            });
            sel.fromOrientedRange(ranges[0]);
            this.renderer.updateCursor();
            this.renderer.updateBackMarkers();
        }
    };

    this.$reAlignText = function(lines, forceLeft) {
        var isLeftAligned = true, isRightAligned = true;
        var startW, textW, endW;

        return lines.map(function(line) {
            var m = line.match(/(\s*)(.*?)(\s*)([=:].*)/);
            if (!m)
                return [line];

            if (startW == null) {
                startW = m[1].length;
                textW = m[2].length;
                endW = m[3].length;
                return m;
            }

            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)
                isRightAligned = false;
            if (startW != m[1].length)
                isLeftAligned = false;

            if (startW > m[1].length)
                startW = m[1].length;
            if (textW < m[2].length)
                textW = m[2].length;
            if (endW > m[3].length)
                endW = m[3].length;

            return m;
        }).map(forceLeft ? alignLeft :
            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);

        function spaces(n) {
            return lang.stringRepeat(" ", n);
        }

        function alignLeft(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(textW - m[2].length + endW)
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function alignRight(m) {
            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]
                + spaces(endW, " ")
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
        function unAlign(m) {
            return !m[2] ? m[0] : spaces(startW) + m[2]
                + spaces(endW)
                + m[4].replace(/^([=:])\s+/, "$1 ");
        }
    };
}).call(Editor.prototype);


function isSamePoint(p1, p2) {
    return p1.row == p2.row && p1.column == p2.column;
}
exports.onSessionChange = function(e) {
    var session = e.session;
    if (session && !session.multiSelect) {
        session.$selectionMarkers = [];
        session.selection.$initRangeList();
        session.multiSelect = session.selection;
    }
    this.multiSelect = session && session.multiSelect;

    var oldSession = e.oldSession;
    if (oldSession) {
        oldSession.multiSelect.off("addRange", this.$onAddRange);
        oldSession.multiSelect.off("removeRange", this.$onRemoveRange);
        oldSession.multiSelect.off("multiSelect", this.$onMultiSelect);
        oldSession.multiSelect.off("singleSelect", this.$onSingleSelect);
        oldSession.multiSelect.lead.off("change", this.$checkMultiselectChange);
        oldSession.multiSelect.anchor.off("change", this.$checkMultiselectChange);
    }

    if (session) {
        session.multiSelect.on("addRange", this.$onAddRange);
        session.multiSelect.on("removeRange", this.$onRemoveRange);
        session.multiSelect.on("multiSelect", this.$onMultiSelect);
        session.multiSelect.on("singleSelect", this.$onSingleSelect);
        session.multiSelect.lead.on("change", this.$checkMultiselectChange);
        session.multiSelect.anchor.on("change", this.$checkMultiselectChange);
    }

    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {
        if (session.selection.inMultiSelectMode)
            this.$onMultiSelect();
        else
            this.$onSingleSelect();
    }
};
function MultiSelect(editor) {
    if (editor.$multiselectOnSessionChange)
        return;
    editor.$onAddRange = editor.$onAddRange.bind(editor);
    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);
    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);
    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);
    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);
    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);

    editor.$multiselectOnSessionChange(editor);
    editor.on("changeSession", editor.$multiselectOnSessionChange);

    editor.on("mousedown", onMouseDown);
    editor.commands.addCommands(commands.defaultCommands);

    addAltCursorListeners(editor);
}

function addAltCursorListeners(editor){
    var el = editor.textInput.getElement();
    var altCursor = false;
    event.addListener(el, "keydown", function(e) {
        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);
        if (editor.$blockSelectEnabled && altDown) {
            if (!altCursor) {
                editor.renderer.setMouseCursor("crosshair");
                altCursor = true;
            }
        } else if (altCursor) {
            reset();
        }
    });

    event.addListener(el, "keyup", reset);
    event.addListener(el, "blur", reset);
    function reset(e) {
        if (altCursor) {
            editor.renderer.setMouseCursor("");
            altCursor = false;
        }
    }
}

exports.MultiSelect = MultiSelect;


acequire("./config").defineOptions(Editor.prototype, "editor", {
    enableMultiselect: {
        set: function(val) {
            MultiSelect(this);
            if (val) {
                this.on("changeSession", this.$multiselectOnSessionChange);
                this.on("mousedown", onMouseDown);
            } else {
                this.off("changeSession", this.$multiselectOnSessionChange);
                this.off("mousedown", onMouseDown);
            }
        },
        value: true
    },
    enableBlockSelect: {
        set: function(val) {
            this.$blockSelectEnabled = val;
        },
        value: true
    }
});



});

ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../../range").Range;

var FoldMode = exports.FoldMode = function() {};

(function() {

    this.foldingStartMarker = null;
    this.foldingStopMarker = null;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
        if (this.foldingStartMarker.test(line))
            return "start";
        if (foldStyle == "markbeginend"
                && this.foldingStopMarker
                && this.foldingStopMarker.test(line))
            return "end";
        return "";
    };

    this.getFoldWidgetRange = function(session, foldStyle, row) {
        return null;
    };

    this.indentationBlock = function(session, row, column) {
        var re = /\S/;
        var line = session.getLine(row);
        var startLevel = line.search(re);
        if (startLevel == -1)
            return;

        var startColumn = column || line.length;
        var maxRow = session.getLength();
        var startRow = row;
        var endRow = row;

        while (++row < maxRow) {
            var level = session.getLine(row).search(re);

            if (level == -1)
                continue;

            if (level <= startLevel)
                break;

            endRow = row;
        }

        if (endRow > startRow) {
            var endColumn = session.getLine(endRow).length;
            return new Range(startRow, startColumn, endRow, endColumn);
        }
    };

    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {
        var start = {row: row, column: column + 1};
        var end = session.$findClosingBracket(bracket, start, typeRe);
        if (!end)
            return;

        var fw = session.foldWidgets[end.row];
        if (fw == null)
            fw = session.getFoldWidget(end.row);

        if (fw == "start" && end.row > start.row) {
            end.row --;
            end.column = session.getLine(end.row).length;
        }
        return Range.fromPoints(start, end);
    };

    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {
        var end = {row: row, column: column};
        var start = session.$findOpeningBracket(bracket, end);

        if (!start)
            return;

        start.column++;
        end.column--;

        return  Range.fromPoints(start, end);
    };
}).call(FoldMode.prototype);

});

ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {
"use strict";

exports.isDark = false;
exports.cssClass = "ace-tm";
exports.cssText = ".ace-tm .ace_gutter {\
background: #f0f0f0;\
color: #333;\
}\
.ace-tm .ace_print-margin {\
width: 1px;\
background: #e8e8e8;\
}\
.ace-tm .ace_fold {\
background-color: #6B72E6;\
}\
.ace-tm {\
background-color: #FFFFFF;\
color: black;\
}\
.ace-tm .ace_cursor {\
color: black;\
}\
.ace-tm .ace_invisible {\
color: rgb(191, 191, 191);\
}\
.ace-tm .ace_storage,\
.ace-tm .ace_keyword {\
color: blue;\
}\
.ace-tm .ace_constant {\
color: rgb(197, 6, 11);\
}\
.ace-tm .ace_constant.ace_buildin {\
color: rgb(88, 72, 246);\
}\
.ace-tm .ace_constant.ace_language {\
color: rgb(88, 92, 246);\
}\
.ace-tm .ace_constant.ace_library {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_invalid {\
background-color: rgba(255, 0, 0, 0.1);\
color: red;\
}\
.ace-tm .ace_support.ace_function {\
color: rgb(60, 76, 114);\
}\
.ace-tm .ace_support.ace_constant {\
color: rgb(6, 150, 14);\
}\
.ace-tm .ace_support.ace_type,\
.ace-tm .ace_support.ace_class {\
color: rgb(109, 121, 222);\
}\
.ace-tm .ace_keyword.ace_operator {\
color: rgb(104, 118, 135);\
}\
.ace-tm .ace_string {\
color: rgb(3, 106, 7);\
}\
.ace-tm .ace_comment {\
color: rgb(76, 136, 107);\
}\
.ace-tm .ace_comment.ace_doc {\
color: rgb(0, 102, 255);\
}\
.ace-tm .ace_comment.ace_doc.ace_tag {\
color: rgb(128, 159, 191);\
}\
.ace-tm .ace_constant.ace_numeric {\
color: rgb(0, 0, 205);\
}\
.ace-tm .ace_variable {\
color: rgb(49, 132, 149);\
}\
.ace-tm .ace_xml-pe {\
color: rgb(104, 104, 91);\
}\
.ace-tm .ace_entity.ace_name.ace_function {\
color: #0000A2;\
}\
.ace-tm .ace_heading {\
color: rgb(12, 7, 255);\
}\
.ace-tm .ace_list {\
color:rgb(185, 6, 144);\
}\
.ace-tm .ace_meta.ace_tag {\
color:rgb(0, 22, 142);\
}\
.ace-tm .ace_string.ace_regex {\
color: rgb(255, 0, 0)\
}\
.ace-tm .ace_marker-layer .ace_selection {\
background: rgb(181, 213, 255);\
}\
.ace-tm.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px white;\
}\
.ace-tm .ace_marker-layer .ace_step {\
background: rgb(252, 255, 0);\
}\
.ace-tm .ace_marker-layer .ace_stack {\
background: rgb(164, 229, 101);\
}\
.ace-tm .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid rgb(192, 192, 192);\
}\
.ace-tm .ace_marker-layer .ace_active-line {\
background: rgba(0, 0, 0, 0.07);\
}\
.ace-tm .ace_gutter-active-line {\
background-color : #dcdcdc;\
}\
.ace-tm .ace_marker-layer .ace_selected-word {\
background: rgb(250, 250, 255);\
border: 1px solid rgb(200, 200, 250);\
}\
.ace-tm .ace_indent-guide {\
background: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\") right repeat-y;\
}\
";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});

ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"], function(acequire, exports, module) {
"use strict";

var oop = acequire("./lib/oop");
var dom = acequire("./lib/dom");
var Range = acequire("./range").Range;


function LineWidgets(session) {
    this.session = session;
    this.session.widgetManager = this;
    this.session.getRowLength = this.getRowLength;
    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;
    this.updateOnChange = this.updateOnChange.bind(this);
    this.renderWidgets = this.renderWidgets.bind(this);
    this.measureWidgets = this.measureWidgets.bind(this);
    this.session._changedWidgets = [];
    this.$onChangeEditor = this.$onChangeEditor.bind(this);
    
    this.session.on("change", this.updateOnChange);
    this.session.on("changeFold", this.updateOnFold);
    this.session.on("changeEditor", this.$onChangeEditor);
}

(function() {
    this.getRowLength = function(row) {
        var h;
        if (this.lineWidgets)
            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;
        else 
            h = 0;
        if (!this.$useWrapMode || !this.$wrapData[row]) {
            return 1 + h;
        } else {
            return this.$wrapData[row].length + 1 + h;
        }
    };

    this.$getWidgetScreenLength = function() {
        var screenRows = 0;
        this.lineWidgets.forEach(function(w){
            if (w && w.rowCount && !w.hidden)
                screenRows += w.rowCount;
        });
        return screenRows;
    };    
    
    this.$onChangeEditor = function(e) {
        this.attach(e.editor);
    };
    
    this.attach = function(editor) {
        if (editor  && editor.widgetManager && editor.widgetManager != this)
            editor.widgetManager.detach();

        if (this.editor == editor)
            return;

        this.detach();
        this.editor = editor;
        
        if (editor) {
            editor.widgetManager = this;
            editor.renderer.on("beforeRender", this.measureWidgets);
            editor.renderer.on("afterRender", this.renderWidgets);
        }
    };
    this.detach = function(e) {
        var editor = this.editor;
        if (!editor)
            return;
        
        this.editor = null;
        editor.widgetManager = null;
        
        editor.renderer.off("beforeRender", this.measureWidgets);
        editor.renderer.off("afterRender", this.renderWidgets);
        var lineWidgets = this.session.lineWidgets;
        lineWidgets && lineWidgets.forEach(function(w) {
            if (w && w.el && w.el.parentNode) {
                w._inDocument = false;
                w.el.parentNode.removeChild(w.el);
            }
        });
    };

    this.updateOnFold = function(e, session) {
        var lineWidgets = session.lineWidgets;
        if (!lineWidgets || !e.action)
            return;
        var fold = e.data;
        var start = fold.start.row;
        var end = fold.end.row;
        var hide = e.action == "add";
        for (var i = start + 1; i < end; i++) {
            if (lineWidgets[i])
                lineWidgets[i].hidden = hide;
        }
        if (lineWidgets[end]) {
            if (hide) {
                if (!lineWidgets[start])
                    lineWidgets[start] = lineWidgets[end];
                else
                    lineWidgets[end].hidden = hide;
            } else {
                if (lineWidgets[start] == lineWidgets[end])
                    lineWidgets[start] = undefined;
                lineWidgets[end].hidden = hide;
            }
        }
    };
    
    this.updateOnChange = function(delta) {
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets) return;
        
        var startRow = delta.start.row;
        var len = delta.end.row - startRow;

        if (len === 0) {
        } else if (delta.action == 'remove') {
            var removed = lineWidgets.splice(startRow + 1, len);
            removed.forEach(function(w) {
                w && this.removeLineWidget(w);
            }, this);
            this.$updateRows();
        } else {
            var args = new Array(len);
            args.unshift(startRow, 0);
            lineWidgets.splice.apply(lineWidgets, args);
            this.$updateRows();
        }
    };
    
    this.$updateRows = function() {
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets) return;
        var noWidgets = true;
        lineWidgets.forEach(function(w, i) {
            if (w) {
                noWidgets = false;
                w.row = i;
                while (w.$oldWidget) {
                    w.$oldWidget.row = i;
                    w = w.$oldWidget;
                }
            }
        });
        if (noWidgets)
            this.session.lineWidgets = null;
    };

    this.addLineWidget = function(w) {
        if (!this.session.lineWidgets)
            this.session.lineWidgets = new Array(this.session.getLength());
        
        var old = this.session.lineWidgets[w.row];
        if (old) {
            w.$oldWidget = old;
            if (old.el && old.el.parentNode) {
                old.el.parentNode.removeChild(old.el);
                old._inDocument = false;
            }
        }
            
        this.session.lineWidgets[w.row] = w;
        
        w.session = this.session;
        
        var renderer = this.editor.renderer;
        if (w.html && !w.el) {
            w.el = dom.createElement("div");
            w.el.innerHTML = w.html;
        }
        if (w.el) {
            dom.addCssClass(w.el, "ace_lineWidgetContainer");
            w.el.style.position = "absolute";
            w.el.style.zIndex = 5;
            renderer.container.appendChild(w.el);
            w._inDocument = true;
        }
        
        if (!w.coverGutter) {
            w.el.style.zIndex = 3;
        }
        if (w.pixelHeight == null) {
            w.pixelHeight = w.el.offsetHeight;
        }
        if (w.rowCount == null) {
            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;
        }
        
        var fold = this.session.getFoldAt(w.row, 0);
        w.$fold = fold;
        if (fold) {
            var lineWidgets = this.session.lineWidgets;
            if (w.row == fold.end.row && !lineWidgets[fold.start.row])
                lineWidgets[fold.start.row] = w;
            else
                w.hidden = true;
        }
            
        this.session._emit("changeFold", {data:{start:{row: w.row}}});
        
        this.$updateRows();
        this.renderWidgets(null, renderer);
        this.onWidgetChanged(w);
        return w;
    };
    
    this.removeLineWidget = function(w) {
        w._inDocument = false;
        w.session = null;
        if (w.el && w.el.parentNode)
            w.el.parentNode.removeChild(w.el);
        if (w.editor && w.editor.destroy) try {
            w.editor.destroy();
        } catch(e){}
        if (this.session.lineWidgets) {
            var w1 = this.session.lineWidgets[w.row];
            if (w1 == w) {
                this.session.lineWidgets[w.row] = w.$oldWidget;
                if (w.$oldWidget)
                    this.onWidgetChanged(w.$oldWidget);
            } else {
                while (w1) {
                    if (w1.$oldWidget == w) {
                        w1.$oldWidget = w.$oldWidget;
                        break;
                    }
                    w1 = w1.$oldWidget;
                }
            }
        }
        this.session._emit("changeFold", {data:{start:{row: w.row}}});
        this.$updateRows();
    };
    
    this.getWidgetsAtRow = function(row) {
        var lineWidgets = this.session.lineWidgets;
        var w = lineWidgets && lineWidgets[row];
        var list = [];
        while (w) {
            list.push(w);
            w = w.$oldWidget;
        }
        return list;
    };
    
    this.onWidgetChanged = function(w) {
        this.session._changedWidgets.push(w);
        this.editor && this.editor.renderer.updateFull();
    };
    
    this.measureWidgets = function(e, renderer) {
        var changedWidgets = this.session._changedWidgets;
        var config = renderer.layerConfig;
        
        if (!changedWidgets || !changedWidgets.length) return;
        var min = Infinity;
        for (var i = 0; i < changedWidgets.length; i++) {
            var w = changedWidgets[i];
            if (!w || !w.el) continue;
            if (w.session != this.session) continue;
            if (!w._inDocument) {
                if (this.session.lineWidgets[w.row] != w)
                    continue;
                w._inDocument = true;
                renderer.container.appendChild(w.el);
            }
            
            w.h = w.el.offsetHeight;
            
            if (!w.fixedWidth) {
                w.w = w.el.offsetWidth;
                w.screenWidth = Math.ceil(w.w / config.characterWidth);
            }
            
            var rowCount = w.h / config.lineHeight;
            if (w.coverLine) {
                rowCount -= this.session.getRowLineCount(w.row);
                if (rowCount < 0)
                    rowCount = 0;
            }
            if (w.rowCount != rowCount) {
                w.rowCount = rowCount;
                if (w.row < min)
                    min = w.row;
            }
        }
        if (min != Infinity) {
            this.session._emit("changeFold", {data:{start:{row: min}}});
            this.session.lineWidgetWidth = null;
        }
        this.session._changedWidgets = [];
    };
    
    this.renderWidgets = function(e, renderer) {
        var config = renderer.layerConfig;
        var lineWidgets = this.session.lineWidgets;
        if (!lineWidgets)
            return;
        var first = Math.min(this.firstRow, config.firstRow);
        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);
        
        while (first > 0 && !lineWidgets[first])
            first--;
        
        this.firstRow = config.firstRow;
        this.lastRow = config.lastRow;

        renderer.$cursorLayer.config = config;
        for (var i = first; i <= last; i++) {
            var w = lineWidgets[i];
            if (!w || !w.el) continue;
            if (w.hidden) {
                w.el.style.top = -100 - (w.pixelHeight || 0) + "px";
                continue;
            }
            if (!w._inDocument) {
                w._inDocument = true;
                renderer.container.appendChild(w.el);
            }
            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;
            if (!w.coverLine)
                top += config.lineHeight * this.session.getRowLineCount(w.row);
            w.el.style.top = top - config.offset + "px";
            
            var left = w.coverGutter ? 0 : renderer.gutterWidth;
            if (!w.fixedWidth)
                left -= renderer.scrollLeft;
            w.el.style.left = left + "px";
            
            if (w.fullWidth && w.screenWidth) {
                w.el.style.minWidth = config.width + 2 * config.padding + "px";
            }
            
            if (w.fixedWidth) {
                w.el.style.right = renderer.scrollBar.getWidth() + "px";
            } else {
                w.el.style.right = "";
            }
        }
    };
    
}).call(LineWidgets.prototype);


exports.LineWidgets = LineWidgets;

});

ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"], function(acequire, exports, module) {
"use strict";
var LineWidgets = acequire("../line_widgets").LineWidgets;
var dom = acequire("../lib/dom");
var Range = acequire("../range").Range;

function binarySearch(array, needle, comparator) {
    var first = 0;
    var last = array.length - 1;

    while (first <= last) {
        var mid = (first + last) >> 1;
        var c = comparator(needle, array[mid]);
        if (c > 0)
            first = mid + 1;
        else if (c < 0)
            last = mid - 1;
        else
            return mid;
    }
    return -(first + 1);
}

function findAnnotations(session, row, dir) {
    var annotations = session.getAnnotations().sort(Range.comparePoints);
    if (!annotations.length)
        return;
    
    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);
    if (i < 0)
        i = -i - 1;
    
    if (i >= annotations.length)
        i = dir > 0 ? 0 : annotations.length - 1;
    else if (i === 0 && dir < 0)
        i = annotations.length - 1;
    
    var annotation = annotations[i];
    if (!annotation || !dir)
        return;

    if (annotation.row === row) {
        do {
            annotation = annotations[i += dir];
        } while (annotation && annotation.row === row);
        if (!annotation)
            return annotations.slice();
    }
    
    
    var matched = [];
    row = annotation.row;
    do {
        matched[dir < 0 ? "unshift" : "push"](annotation);
        annotation = annotations[i += dir];
    } while (annotation && annotation.row == row);
    return matched.length && matched;
}

exports.showErrorMarker = function(editor, dir) {
    var session = editor.session;
    if (!session.widgetManager) {
        session.widgetManager = new LineWidgets(session);
        session.widgetManager.attach(editor);
    }
    
    var pos = editor.getCursorPosition();
    var row = pos.row;
    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {
        return w.type == "errorMarker";
    })[0];
    if (oldWidget) {
        oldWidget.destroy();
    } else {
        row -= dir;
    }
    var annotations = findAnnotations(session, row, dir);
    var gutterAnno;
    if (annotations) {
        var annotation = annotations[0];
        pos.column = (annotation.pos && typeof annotation.column != "number"
            ? annotation.pos.sc
            : annotation.column) || 0;
        pos.row = annotation.row;
        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];
    } else if (oldWidget) {
        return;
    } else {
        gutterAnno = {
            text: ["Looks good!"],
            className: "ace_ok"
        };
    }
    editor.session.unfold(pos.row);
    editor.selection.moveToPosition(pos);
    
    var w = {
        row: pos.row, 
        fixedWidth: true,
        coverGutter: true,
        el: dom.createElement("div"),
        type: "errorMarker"
    };
    var el = w.el.appendChild(dom.createElement("div"));
    var arrow = w.el.appendChild(dom.createElement("div"));
    arrow.className = "error_widget_arrow " + gutterAnno.className;
    
    var left = editor.renderer.$cursorLayer
        .getPixelPosition(pos).left;
    arrow.style.left = left + editor.renderer.gutterWidth - 5 + "px";
    
    w.el.className = "error_widget_wrapper";
    el.className = "error_widget " + gutterAnno.className;
    el.innerHTML = gutterAnno.text.join("<br>");
    
    el.appendChild(dom.createElement("div"));
    
    var kb = function(_, hashId, keyString) {
        if (hashId === 0 && (keyString === "esc" || keyString === "return")) {
            w.destroy();
            return {command: "null"};
        }
    };
    
    w.destroy = function() {
        if (editor.$mouseHandler.isMousePressed)
            return;
        editor.keyBinding.removeKeyboardHandler(kb);
        session.widgetManager.removeLineWidget(w);
        editor.off("changeSelection", w.destroy);
        editor.off("changeSession", w.destroy);
        editor.off("mouseup", w.destroy);
        editor.off("change", w.destroy);
    };
    
    editor.keyBinding.addKeyboardHandler(kb);
    editor.on("changeSelection", w.destroy);
    editor.on("changeSession", w.destroy);
    editor.on("mouseup", w.destroy);
    editor.on("change", w.destroy);
    
    editor.session.widgetManager.addLineWidget(w);
    
    w.el.onmousedown = editor.focus.bind(editor);
    
    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});
};


dom.importCssString("\
    .error_widget_wrapper {\
        background: inherit;\
        color: inherit;\
        border:none\
    }\
    .error_widget {\
        border-top: solid 2px;\
        border-bottom: solid 2px;\
        margin: 5px 0;\
        padding: 10px 40px;\
        white-space: pre-wrap;\
    }\
    .error_widget.ace_error, .error_widget_arrow.ace_error{\
        border-color: #ff5a5a\
    }\
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\
        border-color: #F1D817\
    }\
    .error_widget.ace_info, .error_widget_arrow.ace_info{\
        border-color: #5a5a5a\
    }\
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\
        border-color: #5aaa5a\
    }\
    .error_widget_arrow {\
        position: absolute;\
        border: solid 5px;\
        border-top-color: transparent!important;\
        border-right-color: transparent!important;\
        border-left-color: transparent!important;\
        top: -5px;\
    }\
", "");

});

ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"], function(acequire, exports, module) {
"use strict";

acequire("./lib/fixoldbrowsers");

var dom = acequire("./lib/dom");
var event = acequire("./lib/event");

var Editor = acequire("./editor").Editor;
var EditSession = acequire("./edit_session").EditSession;
var UndoManager = acequire("./undomanager").UndoManager;
var Renderer = acequire("./virtual_renderer").VirtualRenderer;
acequire("./worker/worker_client");
acequire("./keyboard/hash_handler");
acequire("./placeholder");
acequire("./multi_select");
acequire("./mode/folding/fold_mode");
acequire("./theme/textmate");
acequire("./ext/error_marker");

exports.config = acequire("./config");
exports.acequire = acequire;

if (true)
    exports.define = __webpack_require__("07d6");
exports.edit = function(el) {
    if (typeof el == "string") {
        var _id = el;
        el = document.getElementById(_id);
        if (!el)
            throw new Error("ace.edit can't find div #" + _id);
    }

    if (el && el.env && el.env.editor instanceof Editor)
        return el.env.editor;

    var value = "";
    if (el && /input|textarea/i.test(el.tagName)) {
        var oldNode = el;
        value = oldNode.value;
        el = dom.createElement("pre");
        oldNode.parentNode.replaceChild(el, oldNode);
    } else if (el) {
        value = dom.getInnerText(el);
        el.innerHTML = "";
    }

    var doc = exports.createEditSession(value);

    var editor = new Editor(new Renderer(el));
    editor.setSession(doc);

    var env = {
        document: doc,
        editor: editor,
        onResize: editor.resize.bind(editor, null)
    };
    if (oldNode) env.textarea = oldNode;
    event.addListener(window, "resize", env.onResize);
    editor.on("destroy", function() {
        event.removeListener(window, "resize", env.onResize);
        env.editor.container.env = null; // prevent memory leak on old ie
    });
    editor.container.env = editor.env = env;
    return editor;
};
exports.createEditSession = function(text, mode) {
    var doc = new EditSession(text, mode);
    doc.setUndoManager(new UndoManager());
    return doc;
};
exports.EditSession = EditSession;
exports.UndoManager = UndoManager;
exports.version = "1.2.9";
});
            (function() {
                ace.acequire(["ace/ace"], function(a) {
                    if (a) {
                        a.config.init(true);
                        a.define = ace.define;
                    }
                    if (!window.ace)
                        window.ace = a;
                    for (var key in a) if (a.hasOwnProperty(key))
                        window.ace[key] = a[key];
                });
            })();
        
module.exports = window.ace.acequire("ace/ace");

/***/ }),

/***/ "07d6":
/***/ (function(module, exports) {

module.exports = function() {
	throw new Error("define cannot be used indirect");
};


/***/ }),

/***/ "07e3":
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),

/***/ "092b":
/***/ (function(module, exports) {

ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
};

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/c_cpp_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var cFunctions = exports.cFunctions = "\\b(?:hypot(?:f|l)?|s(?:scanf|ystem|nprintf|ca(?:nf|lb(?:n(?:f|l)?|ln(?:f|l)?))|i(?:n(?:h(?:f|l)?|f|l)?|gn(?:al|bit))|tr(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?)|error|pbrk|ftime|len|rchr|xfrm)|printf|et(?:jmp|vbuf|locale|buf)|qrt(?:f|l)?|w(?:scanf|printf)|rand)|n(?:e(?:arbyint(?:f|l)?|xt(?:toward(?:f|l)?|after(?:f|l)?))|an(?:f|l)?)|c(?:s(?:in(?:h(?:f|l)?|f|l)?|qrt(?:f|l)?)|cos(?:h(?:f)?|f|l)?|imag(?:f|l)?|t(?:ime|an(?:h(?:f|l)?|f|l)?)|o(?:s(?:h(?:f|l)?|f|l)?|nj(?:f|l)?|pysign(?:f|l)?)|p(?:ow(?:f|l)?|roj(?:f|l)?)|e(?:il(?:f|l)?|xp(?:f|l)?)|l(?:o(?:ck|g(?:f|l)?)|earerr)|a(?:sin(?:h(?:f|l)?|f|l)?|cos(?:h(?:f|l)?|f|l)?|tan(?:h(?:f|l)?|f|l)?|lloc|rg(?:f|l)?|bs(?:f|l)?)|real(?:f|l)?|brt(?:f|l)?)|t(?:ime|o(?:upper|lower)|an(?:h(?:f|l)?|f|l)?|runc(?:f|l)?|gamma(?:f|l)?|mp(?:nam|file))|i(?:s(?:space|n(?:ormal|an)|cntrl|inf|digit|u(?:nordered|pper)|p(?:unct|rint)|finite|w(?:space|c(?:ntrl|type)|digit|upper|p(?:unct|rint)|lower|al(?:num|pha)|graph|xdigit|blank)|l(?:ower|ess(?:equal|greater)?)|al(?:num|pha)|gr(?:eater(?:equal)?|aph)|xdigit|blank)|logb(?:f|l)?|max(?:div|abs))|di(?:v|fftime)|_Exit|unget(?:c|wc)|p(?:ow(?:f|l)?|ut(?:s|c(?:har)?|wc(?:har)?)|error|rintf)|e(?:rf(?:c(?:f|l)?|f|l)?|x(?:it|p(?:2(?:f|l)?|f|l|m1(?:f|l)?)?))|v(?:s(?:scanf|nprintf|canf|printf|w(?:scanf|printf))|printf|f(?:scanf|printf|w(?:scanf|printf))|w(?:scanf|printf)|a_(?:start|copy|end|arg))|qsort|f(?:s(?:canf|e(?:tpos|ek))|close|tell|open|dim(?:f|l)?|p(?:classify|ut(?:s|c|w(?:s|c))|rintf)|e(?:holdexcept|set(?:e(?:nv|xceptflag)|round)|clearexcept|testexcept|of|updateenv|r(?:aiseexcept|ror)|get(?:e(?:nv|xceptflag)|round))|flush|w(?:scanf|ide|printf|rite)|loor(?:f|l)?|abs(?:f|l)?|get(?:s|c|pos|w(?:s|c))|re(?:open|e|ad|xp(?:f|l)?)|m(?:in(?:f|l)?|od(?:f|l)?|a(?:f|l|x(?:f|l)?)?))|l(?:d(?:iv|exp(?:f|l)?)|o(?:ngjmp|cal(?:time|econv)|g(?:1(?:p(?:f|l)?|0(?:f|l)?)|2(?:f|l)?|f|l|b(?:f|l)?)?)|abs|l(?:div|abs|r(?:int(?:f|l)?|ound(?:f|l)?))|r(?:int(?:f|l)?|ound(?:f|l)?)|gamma(?:f|l)?)|w(?:scanf|c(?:s(?:s(?:tr|pn)|nc(?:py|at|mp)|c(?:spn|hr|oll|py|at|mp)|to(?:imax|d|u(?:l(?:l)?|max)|k|f|l(?:d|l)?|mbs)|pbrk|ftime|len|r(?:chr|tombs)|xfrm)|to(?:b|mb)|rtomb)|printf|mem(?:set|c(?:hr|py|mp)|move))|a(?:s(?:sert|ctime|in(?:h(?:f|l)?|f|l)?)|cos(?:h(?:f|l)?|f|l)?|t(?:o(?:i|f|l(?:l)?)|exit|an(?:h(?:f|l)?|2(?:f|l)?|f|l)?)|b(?:s|ort))|g(?:et(?:s|c(?:har)?|env|wc(?:har)?)|mtime)|r(?:int(?:f|l)?|ound(?:f|l)?|e(?:name|alloc|wind|m(?:ove|quo(?:f|l)?|ainder(?:f|l)?))|a(?:nd|ise))|b(?:search|towc)|m(?:odf(?:f|l)?|em(?:set|c(?:hr|py|mp)|move)|ktime|alloc|b(?:s(?:init|towcs|rtowcs)|towc|len|r(?:towc|len))))\\b";

var c_cppHighlightRules = function() {

    var keywordControls = (
        "break|case|continue|default|do|else|for|goto|if|_Pragma|" +
        "return|switch|while|catch|operator|try|throw|using"
    );
    
    var storageType = (
        "asm|__asm__|auto|bool|_Bool|char|_Complex|double|enum|float|" +
        "_Imaginary|int|long|short|signed|struct|typedef|union|unsigned|void|" +
        "class|wchar_t|template|char16_t|char32_t"
    );

    var storageModifiers = (
        "const|extern|register|restrict|static|volatile|inline|private|" +
        "protected|public|friend|explicit|virtual|export|mutable|typename|" +
        "constexpr|new|delete|alignas|alignof|decltype|noexcept|thread_local"
    );

    var keywordOperators = (
        "and|and_eq|bitand|bitor|compl|not|not_eq|or|or_eq|typeid|xor|xor_eq" +
        "const_cast|dynamic_cast|reinterpret_cast|static_cast|sizeof|namespace"
    );

    var builtinConstants = (
        "NULL|true|false|TRUE|FALSE|nullptr"
    );

    var keywordMapper = this.$keywords = this.createKeywordMapper({
        "keyword.control" : keywordControls,
        "storage.type" : storageType,
        "storage.modifier" : storageModifiers,
        "keyword.operator" : keywordOperators,
        "variable.language": "this",
        "constant.language": builtinConstants
    }, "identifier");

    var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*\\b";
    var escapeRe = /\\(?:['"?\\abfnrtv]|[0-7]{1,3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}U[a-fA-F\d]{8}|.)/.source;
    var formatRe = "%"
          + /(\d+\$)?/.source // field (argument #)
          + /[#0\- +']*/.source // flags
          + /[,;:_]?/.source // separator character (AltiVec)
          + /((-?\d+)|\*(-?\d+\$)?)?/.source // minimum field width
          + /(\.((-?\d+)|\*(-?\d+\$)?)?)?/.source // precision
          + /(hh|h|ll|l|j|t|z|q|L|vh|vl|v|hv|hl)?/.source // length modifier
          + /(\[[^"\]]+\]|[diouxXDOUeEfFgGaACcSspn%])/.source; // conversion type

    this.$rules = { 
        "start" : [
            {
                token : "comment",
                regex : "//$",
                next : "start"
            }, {
                token : "comment",
                regex : "//",
                next : "singleLineComment"
            },
            DocCommentHighlightRules.getStartRule("doc-start"),
            {
                token : "comment", // multi line comment
                regex : "\\/\\*",
                next : "comment"
            }, {
                token : "string", // character
                regex : "'(?:" + escapeRe + "|.)?'"
            }, {
                token : "string.start",
                regex : '"', 
                stateName: "qqstring",
                next: [
                    { token: "string", regex: /\\\s*$/, next: "qqstring" },
                    { token: "constant.language.escape", regex: escapeRe },
                    { token: "constant.language.escape", regex: formatRe },
                    { token: "string.end", regex: '"|$', next: "start" },
                    { defaultToken: "string"}
                ]
            }, {
                token : "string.start",
                regex : 'R"\\(', 
                stateName: "rawString",
                next: [
                    { token: "string.end", regex: '\\)"', next: "start" },
                    { defaultToken: "string"}
                ]
            }, {
                token : "constant.numeric", // hex
                regex : "0[xX][0-9a-fA-F]+(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"
            }, {
                token : "constant.numeric", // float
                regex : "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?(L|l|UL|ul|u|U|F|f|ll|LL|ull|ULL)?\\b"
            }, {
                token : "keyword", // pre-compiler directives
                regex : "#\\s*(?:include|import|pragma|line|define|undef)\\b",
                next  : "directive"
            }, {
                token : "keyword", // special case pre-compiler directive
                regex : "#\\s*(?:endif|if|ifdef|else|elif|ifndef)\\b"
            }, {
                token : "support.function.C99.c",
                regex : cFunctions
            }, {
                token : keywordMapper,
                regex : "[a-zA-Z_$][a-zA-Z0-9_$]*"
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|<<=|>>=|>>>=|<>|&&|\|\||\?:|[*%\/+\-&\^|~!<>=]=?/
            }, {
              token : "punctuation.operator",
              regex : "\\?|\\:|\\,|\\;|\\."
            }, {
                token : "paren.lparen",
                regex : "[[({]"
            }, {
                token : "paren.rparen",
                regex : "[\\])}]"
            }, {
                token : "text",
                regex : "\\s+"
            }
        ],
        "comment" : [
            {
                token : "comment", // closing comment
                regex : "\\*\\/",
                next : "start"
            }, {
                defaultToken : "comment"
            }
        ],
        "singleLineComment" : [
            {
                token : "comment",
                regex : /\\$/,
                next : "singleLineComment"
            }, {
                token : "comment",
                regex : /$/,
                next : "start"
            }, {
                defaultToken: "comment"
            }
        ],
        "directive" : [
            {
                token : "constant.other.multiline",
                regex : /\\/
            },
            {
                token : "constant.other.multiline",
                regex : /.*\\/
            },
            {
                token : "constant.other",
                regex : "\\s*<.+?>",
                next : "start"
            },
            {
                token : "constant.other", // single line
                regex : '\\s*["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]',
                next : "start"
            }, 
            {
                token : "constant.other", // single line
                regex : "\\s*['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']",
                next : "start"
            },
            {
                token : "constant.other",
                regex : /[^\\\/]+/,
                next : "start"
            }
        ]
    };

    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("start") ]);
    this.normalizeRules();
};

oop.inherits(c_cppHighlightRules, TextHighlightRules);

exports.c_cppHighlightRules = c_cppHighlightRules;
});

ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/c_cpp",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/c_cpp_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var c_cppHighlightRules = acequire("./c_cpp_highlight_rules").c_cppHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = c_cppHighlightRules;

    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();

    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start") {
            var match = line.match(/^.*[\{\(\[]\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.$id = "ace/mode/c_cpp";
}).call(Mode.prototype);

exports.Mode = Mode;
});

ace.define("ace/mode/glsl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/c_cpp_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var c_cppHighlightRules = acequire("./c_cpp_highlight_rules").c_cppHighlightRules;

var glslHighlightRules = function() {

    var keywords = (
        "attribute|const|uniform|varying|break|continue|do|for|while|" +
        "if|else|in|out|inout|float|int|void|bool|true|false|" +
        "lowp|mediump|highp|precision|invariant|discard|return|mat2|mat3|" +
        "mat4|vec2|vec3|vec4|ivec2|ivec3|ivec4|bvec2|bvec3|bvec4|sampler2D|" +
        "samplerCube|struct"
    );

    var buildinConstants = (
        "radians|degrees|sin|cos|tan|asin|acos|atan|pow|" +
        "exp|log|exp2|log2|sqrt|inversesqrt|abs|sign|floor|ceil|fract|mod|" +
        "min|max|clamp|mix|step|smoothstep|length|distance|dot|cross|" +
        "normalize|faceforward|reflect|refract|matrixCompMult|lessThan|" +
        "lessThanEqual|greaterThan|greaterThanEqual|equal|notEqual|any|all|" +
        "not|dFdx|dFdy|fwidth|texture2D|texture2DProj|texture2DLod|" +
        "texture2DProjLod|textureCube|textureCubeLod|" +
        "gl_MaxVertexAttribs|gl_MaxVertexUniformVectors|gl_MaxVaryingVectors|" +
        "gl_MaxVertexTextureImageUnits|gl_MaxCombinedTextureImageUnits|" +
        "gl_MaxTextureImageUnits|gl_MaxFragmentUniformVectors|gl_MaxDrawBuffers|" +
        "gl_DepthRangeParameters|gl_DepthRange|" +
        "gl_Position|gl_PointSize|" +
        "gl_FragCoord|gl_FrontFacing|gl_PointCoord|gl_FragColor|gl_FragData"
    );

    var keywordMapper = this.createKeywordMapper({
        "variable.language": "this",
        "keyword": keywords,
        "constant.language": buildinConstants
    }, "identifier");

    this.$rules = new c_cppHighlightRules().$rules;
    this.$rules.start.forEach(function(rule) {
        if (typeof rule.token == "function")
            rule.token = keywordMapper;
    });
};

oop.inherits(glslHighlightRules, c_cppHighlightRules);

exports.glslHighlightRules = glslHighlightRules;
});

ace.define("ace/mode/glsl",["require","exports","module","ace/lib/oop","ace/mode/c_cpp","ace/mode/glsl_highlight_rules","ace/mode/matching_brace_outdent","ace/range","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var CMode = acequire("./c_cpp").Mode;
var glslHighlightRules = acequire("./glsl_highlight_rules").glslHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var Range = acequire("../range").Range;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = glslHighlightRules;
    
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, CMode);

(function() {
    this.$id = "ace/mode/glsl";
}).call(Mode.prototype);

exports.Mode = Mode;
});


/***/ }),

/***/ "0a0d":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("e829");

/***/ }),

/***/ "0a49":
/***/ (function(module, exports, __webpack_require__) {

// 0 -> Array#forEach
// 1 -> Array#map
// 2 -> Array#filter
// 3 -> Array#some
// 4 -> Array#every
// 5 -> Array#find
// 6 -> Array#findIndex
var ctx = __webpack_require__("9b43");
var IObject = __webpack_require__("626a");
var toObject = __webpack_require__("4bf8");
var toLength = __webpack_require__("9def");
var asc = __webpack_require__("cd1c");
module.exports = function (TYPE, $create) {
  var IS_MAP = TYPE == 1;
  var IS_FILTER = TYPE == 2;
  var IS_SOME = TYPE == 3;
  var IS_EVERY = TYPE == 4;
  var IS_FIND_INDEX = TYPE == 6;
  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
  var create = $create || asc;
  return function ($this, callbackfn, that) {
    var O = toObject($this);
    var self = IObject(O);
    var f = ctx(callbackfn, that, 3);
    var length = toLength(self.length);
    var index = 0;
    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
    var val, res;
    for (;length > index; index++) if (NO_HOLES || index in self) {
      val = self[index];
      res = f(val, index, O);
      if (TYPE) {
        if (IS_MAP) result[index] = res;   // map
        else if (res) switch (TYPE) {
          case 3: return true;             // some
          case 5: return val;              // find
          case 6: return index;            // findIndex
          case 2: result.push(val);        // filter
        } else if (IS_EVERY) return false; // every
      }
    }
    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
  };
};


/***/ }),

/***/ "0bfb":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 21.2.5.3 get RegExp.prototype.flags
var anObject = __webpack_require__("cb7c");
module.exports = function () {
  var that = anObject(this);
  var result = '';
  if (that.global) result += 'g';
  if (that.ignoreCase) result += 'i';
  if (that.multiline) result += 'm';
  if (that.unicode) result += 'u';
  if (that.sticky) result += 'y';
  return result;
};


/***/ }),

/***/ "0c5f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TitleBar_vue_vue_type_style_index_0_id_78b124fe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("bc0b");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TitleBar_vue_vue_type_style_index_0_id_78b124fe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TitleBar_vue_vue_type_style_index_0_id_78b124fe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TitleBar_vue_vue_type_style_index_0_id_78b124fe_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "0d58":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__("ce10");
var enumBugKeys = __webpack_require__("e11e");

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),

/***/ "0fc9":
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__("3a38");
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),

/***/ "1169":
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__("2d95");
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),

/***/ "1173":
/***/ (function(module, exports) {

module.exports = function (it, Constructor, name, forbiddenField) {
  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {
    throw TypeError(name + ': incorrect invocation!');
  } return it;
};


/***/ }),

/***/ "11e9":
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__("52a7");
var createDesc = __webpack_require__("4630");
var toIObject = __webpack_require__("6821");
var toPrimitive = __webpack_require__("6a99");
var has = __webpack_require__("69a8");
var IE8_DOM_DEFINE = __webpack_require__("c69a");
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__("9e1e") ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),

/***/ "1209":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/*
 * anime.js v3.0.1
 * (c) 2019 Julian Garnier
 * Released under the MIT license
 * animejs.com
 */

// Defaults

var defaultInstanceSettings = {
  update: null,
  begin: null,
  loopBegin: null,
  changeBegin: null,
  change: null,
  changeComplete: null,
  loopComplete: null,
  complete: null,
  loop: 1,
  direction: 'normal',
  autoplay: true,
  timelineOffset: 0
};

var defaultTweenSettings = {
  duration: 1000,
  delay: 0,
  endDelay: 0,
  easing: 'easeOutElastic(1, .5)',
  round: 0
};

var validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skew', 'skewX', 'skewY', 'perspective'];

// Caching

var cache = {
  CSS: {},
  springs: {}
};

// Utils

function minMax(val, min, max) {
  return Math.min(Math.max(val, min), max);
}

function stringContains(str, text) {
  return str.indexOf(text) > -1;
}

function applyArguments(func, args) {
  return func.apply(null, args);
}

var is = {
  arr: function (a) { return Array.isArray(a); },
  obj: function (a) { return stringContains(Object.prototype.toString.call(a), 'Object'); },
  pth: function (a) { return is.obj(a) && a.hasOwnProperty('totalLength'); },
  svg: function (a) { return a instanceof SVGElement; },
  inp: function (a) { return a instanceof HTMLInputElement; },
  dom: function (a) { return a.nodeType || is.svg(a); },
  str: function (a) { return typeof a === 'string'; },
  fnc: function (a) { return typeof a === 'function'; },
  und: function (a) { return typeof a === 'undefined'; },
  hex: function (a) { return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a); },
  rgb: function (a) { return /^rgb/.test(a); },
  hsl: function (a) { return /^hsl/.test(a); },
  col: function (a) { return (is.hex(a) || is.rgb(a) || is.hsl(a)); },
  key: function (a) { return !defaultInstanceSettings.hasOwnProperty(a) && !defaultTweenSettings.hasOwnProperty(a) && a !== 'targets' && a !== 'keyframes'; }
};

// Easings

function parseEasingParameters(string) {
  var match = /\(([^)]+)\)/.exec(string);
  return match ? match[1].split(',').map(function (p) { return parseFloat(p); }) : [];
}

// Spring solver inspired by Webkit Copyright © 2016 Apple Inc. All rights reserved. https://webkit.org/demos/spring/spring.js

function spring(string, duration) {

  var params = parseEasingParameters(string);
  var mass = minMax(is.und(params[0]) ? 1 : params[0], .1, 100);
  var stiffness = minMax(is.und(params[1]) ? 100 : params[1], .1, 100);
  var damping = minMax(is.und(params[2]) ? 10 : params[2], .1, 100);
  var velocity =  minMax(is.und(params[3]) ? 0 : params[3], .1, 100);
  var w0 = Math.sqrt(stiffness / mass);
  var zeta = damping / (2 * Math.sqrt(stiffness * mass));
  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;
  var a = 1;
  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;

  function solver(t) {
    var progress = duration ? (duration * t) / 1000 : t;
    if (zeta < 1) {
      progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));
    } else {
      progress = (a + b * progress) * Math.exp(-progress * w0);
    }
    if (t === 0 || t === 1) { return t; }
    return 1 - progress;
  }

  function getDuration() {
    var cached = cache.springs[string];
    if (cached) { return cached; }
    var frame = 1/6;
    var elapsed = 0;
    var rest = 0;
    while(true) {
      elapsed += frame;
      if (solver(elapsed) === 1) {
        rest++;
        if (rest >= 16) { break; }
      } else {
        rest = 0;
      }
    }
    var duration = elapsed * frame * 1000;
    cache.springs[string] = duration;
    return duration;
  }

  return duration ? solver : getDuration;

}

// Elastic easing adapted from jQueryUI http://api.jqueryui.com/easings/

function elastic(amplitude, period) {
  if ( amplitude === void 0 ) amplitude = 1;
  if ( period === void 0 ) period = .5;

  var a = minMax(amplitude, 1, 10);
  var p = minMax(period, .1, 2);
  return function (t) {
    return (t === 0 || t === 1) ? t : 
      -a * Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2) * Math.asin(1 / a))) * (Math.PI * 2)) / p);
  }
}

// Basic steps easing implementation https://developer.mozilla.org/fr/docs/Web/CSS/transition-timing-function

function steps(steps) {
  if ( steps === void 0 ) steps = 10;

  return function (t) { return Math.round(t * steps) * (1 / steps); };
}

// BezierEasing https://github.com/gre/bezier-easing

var bezier = (function () {

  var kSplineTableSize = 11;
  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);

  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 }
  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 }
  function C(aA1)      { return 3.0 * aA1 }

  function calcBezier(aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT }
  function getSlope(aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) }

  function binarySubdivide(aX, aA, aB, mX1, mX2) {
    var currentX, currentT, i = 0;
    do {
      currentT = aA + (aB - aA) / 2.0;
      currentX = calcBezier(currentT, mX1, mX2) - aX;
      if (currentX > 0.0) { aB = currentT; } else { aA = currentT; }
    } while (Math.abs(currentX) > 0.0000001 && ++i < 10);
    return currentT;
  }

  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
    for (var i = 0; i < 4; ++i) {
      var currentSlope = getSlope(aGuessT, mX1, mX2);
      if (currentSlope === 0.0) { return aGuessT; }
      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
      aGuessT -= currentX / currentSlope;
    }
    return aGuessT;
  }

  function bezier(mX1, mY1, mX2, mY2) {

    if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) { return; }
    var sampleValues = new Float32Array(kSplineTableSize);

    if (mX1 !== mY1 || mX2 !== mY2) {
      for (var i = 0; i < kSplineTableSize; ++i) {
        sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);
      }
    }

    function getTForX(aX) {

      var intervalStart = 0;
      var currentSample = 1;
      var lastSample = kSplineTableSize - 1;

      for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {
        intervalStart += kSampleStepSize;
      }

      --currentSample;

      var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);
      var guessForT = intervalStart + dist * kSampleStepSize;
      var initialSlope = getSlope(guessForT, mX1, mX2);

      if (initialSlope >= 0.001) {
        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
      } else if (initialSlope === 0.0) {
        return guessForT;
      } else {
        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);
      }

    }

    return function (x) {
      if (mX1 === mY1 && mX2 === mY2) { return x; }
      if (x === 0 || x === 1) { return x; }
      return calcBezier(getTForX(x), mY1, mY2);
    }

  }

  return bezier;

})();

var penner = (function () {

  var names = ['Quad', 'Cubic', 'Quart', 'Quint', 'Sine', 'Expo', 'Circ', 'Back', 'Elastic'];

  // Approximated Penner equations http://matthewlein.com/ceaser/

  var curves = {
    In: [
      [0.550, 0.085, 0.680, 0.530], /* inQuad */
      [0.550, 0.055, 0.675, 0.190], /* inCubic */
      [0.895, 0.030, 0.685, 0.220], /* inQuart */
      [0.755, 0.050, 0.855, 0.060], /* inQuint */
      [0.470, 0.000, 0.745, 0.715], /* inSine */
      [0.950, 0.050, 0.795, 0.035], /* inExpo */
      [0.600, 0.040, 0.980, 0.335], /* inCirc */
      [0.600,-0.280, 0.735, 0.045], /* inBack */
      elastic /* inElastic */
    ],
    Out: [
      [0.250, 0.460, 0.450, 0.940], /* outQuad */
      [0.215, 0.610, 0.355, 1.000], /* outCubic */
      [0.165, 0.840, 0.440, 1.000], /* outQuart */
      [0.230, 1.000, 0.320, 1.000], /* outQuint */
      [0.390, 0.575, 0.565, 1.000], /* outSine */
      [0.190, 1.000, 0.220, 1.000], /* outExpo */
      [0.075, 0.820, 0.165, 1.000], /* outCirc */
      [0.175, 0.885, 0.320, 1.275], /* outBack */
      function (a, p) { return function (t) { return 1 - elastic(a, p)(1 - t); }; } /* outElastic */
    ],
    InOut: [
      [0.455, 0.030, 0.515, 0.955], /* inOutQuad */
      [0.645, 0.045, 0.355, 1.000], /* inOutCubic */
      [0.770, 0.000, 0.175, 1.000], /* inOutQuart */
      [0.860, 0.000, 0.070, 1.000], /* inOutQuint */
      [0.445, 0.050, 0.550, 0.950], /* inOutSine */
      [1.000, 0.000, 0.000, 1.000], /* inOutExpo */
      [0.785, 0.135, 0.150, 0.860], /* inOutCirc */
      [0.680,-0.550, 0.265, 1.550], /* inOutBack */
      function (a, p) { return function (t) { return t < .5 ? elastic(a, p)(t * 2) / 2 : 1 - elastic(a, p)(t * -2 + 2) / 2; }; } /* inOutElastic */
    ]
  };

  var eases = { 
    linear: [0.250, 0.250, 0.750, 0.750]
  };

  var loop = function ( coords ) {
    curves[coords].forEach(function (ease, i) {
      eases['ease'+coords+names[i]] = ease;
    });
  };

  for (var coords in curves) loop( coords );

  return eases;

})();

function parseEasings(easing, duration) {
  if (is.fnc(easing)) { return easing; }
  var name = easing.split('(')[0];
  var ease = penner[name];
  var args = parseEasingParameters(easing);
  switch (name) {
    case 'spring' : return spring(easing, duration);
    case 'cubicBezier' : return applyArguments(bezier, args);
    case 'steps' : return applyArguments(steps, args);
    default : return is.fnc(ease) ? applyArguments(ease, args) : applyArguments(bezier, ease);
  }
}

// Strings

function selectString(str) {
  try {
    var nodes = document.querySelectorAll(str);
    return nodes;
  } catch(e) {
    return;
  }
}

// Arrays

function filterArray(arr, callback) {
  var len = arr.length;
  var thisArg = arguments.length >= 2 ? arguments[1] : void 0;
  var result = [];
  for (var i = 0; i < len; i++) {
    if (i in arr) {
      var val = arr[i];
      if (callback.call(thisArg, val, i, arr)) {
        result.push(val);
      }
    }
  }
  return result;
}

function flattenArray(arr) {
  return arr.reduce(function (a, b) { return a.concat(is.arr(b) ? flattenArray(b) : b); }, []);
}

function toArray(o) {
  if (is.arr(o)) { return o; }
  if (is.str(o)) { o = selectString(o) || o; }
  if (o instanceof NodeList || o instanceof HTMLCollection) { return [].slice.call(o); }
  return [o];
}

function arrayContains(arr, val) {
  return arr.some(function (a) { return a === val; });
}

// Objects

function cloneObject(o) {
  var clone = {};
  for (var p in o) { clone[p] = o[p]; }
  return clone;
}

function replaceObjectProps(o1, o2) {
  var o = cloneObject(o1);
  for (var p in o1) { o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p]; }
  return o;
}

function mergeObjects(o1, o2) {
  var o = cloneObject(o1);
  for (var p in o2) { o[p] = is.und(o1[p]) ? o2[p] : o1[p]; }
  return o;
}

// Colors

function rgbToRgba(rgbValue) {
  var rgb = /rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(rgbValue);
  return rgb ? ("rgba(" + (rgb[1]) + ",1)") : rgbValue;
}

function hexToRgba(hexValue) {
  var rgx = /^#?([a-f\d])([a-f\d])([a-f\d])$/i;
  var hex = hexValue.replace(rgx, function (m, r, g, b) { return r + r + g + g + b + b; } );
  var rgb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
  var r = parseInt(rgb[1], 16);
  var g = parseInt(rgb[2], 16);
  var b = parseInt(rgb[3], 16);
  return ("rgba(" + r + "," + g + "," + b + ",1)");
}

function hslToRgba(hslValue) {
  var hsl = /hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(hslValue) || /hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(hslValue);
  var h = parseInt(hsl[1], 10) / 360;
  var s = parseInt(hsl[2], 10) / 100;
  var l = parseInt(hsl[3], 10) / 100;
  var a = hsl[4] || 1;
  function hue2rgb(p, q, t) {
    if (t < 0) { t += 1; }
    if (t > 1) { t -= 1; }
    if (t < 1/6) { return p + (q - p) * 6 * t; }
    if (t < 1/2) { return q; }
    if (t < 2/3) { return p + (q - p) * (2/3 - t) * 6; }
    return p;
  }
  var r, g, b;
  if (s == 0) {
    r = g = b = l;
  } else {
    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
    var p = 2 * l - q;
    r = hue2rgb(p, q, h + 1/3);
    g = hue2rgb(p, q, h);
    b = hue2rgb(p, q, h - 1/3);
  }
  return ("rgba(" + (r * 255) + "," + (g * 255) + "," + (b * 255) + "," + a + ")");
}

function colorToRgb(val) {
  if (is.rgb(val)) { return rgbToRgba(val); }
  if (is.hex(val)) { return hexToRgba(val); }
  if (is.hsl(val)) { return hslToRgba(val); }
}

// Units

function getUnit(val) {
  var split = /([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);
  if (split) { return split[2]; }
}

function getTransformUnit(propName) {
  if (stringContains(propName, 'translate') || propName === 'perspective') { return 'px'; }
  if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) { return 'deg'; }
}

// Values

function getFunctionValue(val, animatable) {
  if (!is.fnc(val)) { return val; }
  return val(animatable.target, animatable.id, animatable.total);
}

function getAttribute(el, prop) {
  return el.getAttribute(prop);
}

function convertPxToUnit(el, value, unit) {
  var valueUnit = getUnit(value);
  if (arrayContains([unit, 'deg', 'rad', 'turn'], valueUnit)) { return value; }
  var cached = cache.CSS[value + unit];
  if (!is.und(cached)) { return cached; }
  var baseline = 100;
  var tempEl = document.createElement(el.tagName);
  var parentEl = (el.parentNode && (el.parentNode !== document)) ? el.parentNode : document.body;
  parentEl.appendChild(tempEl);
  tempEl.style.position = 'absolute';
  tempEl.style.width = baseline + unit;
  var factor = baseline / tempEl.offsetWidth;
  parentEl.removeChild(tempEl);
  var convertedUnit = factor * parseFloat(value);
  cache.CSS[value + unit] = convertedUnit;
  return convertedUnit;
}

function getCSSValue(el, prop, unit) {
  if (prop in el.style) {
    var uppercasePropName = prop.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();
    var value = el.style[prop] || getComputedStyle(el).getPropertyValue(uppercasePropName) || '0';
    return unit ? convertPxToUnit(el, value, unit) : value;
  }
}

function getAnimationType(el, prop) {
  if (is.dom(el) && !is.inp(el) && (getAttribute(el, prop) || (is.svg(el) && el[prop]))) { return 'attribute'; }
  if (is.dom(el) && arrayContains(validTransforms, prop)) { return 'transform'; }
  if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) { return 'css'; }
  if (el[prop] != null) { return 'object'; }
}

function getElementTransforms(el) {
  if (!is.dom(el)) { return; }
  var str = el.style.transform || '';
  var reg  = /(\w+)\(([^)]*)\)/g;
  var transforms = new Map();
  var m; while (m = reg.exec(str)) { transforms.set(m[1], m[2]); }
  return transforms;
}

function getTransformValue(el, propName, animatable, unit) {
  var defaultVal = stringContains(propName, 'scale') ? 1 : 0 + getTransformUnit(propName);
  var value = getElementTransforms(el).get(propName) || defaultVal;
  if (animatable) {
    animatable.transforms.list.set(propName, value);
    animatable.transforms['last'] = propName;
  }
  return unit ? convertPxToUnit(el, value, unit) : value;
}

function getOriginalTargetValue(target, propName, unit, animatable) {
  switch (getAnimationType(target, propName)) {
    case 'transform': return getTransformValue(target, propName, animatable, unit);
    case 'css': return getCSSValue(target, propName, unit);
    case 'attribute': return getAttribute(target, propName);
    default: return target[propName] || 0;
  }
}

function getRelativeValue(to, from) {
  var operator = /^(\*=|\+=|-=)/.exec(to);
  if (!operator) { return to; }
  var u = getUnit(to) || 0;
  var x = parseFloat(from);
  var y = parseFloat(to.replace(operator[0], ''));
  switch (operator[0][0]) {
    case '+': return x + y + u;
    case '-': return x - y + u;
    case '*': return x * y + u;
  }
}

function validateValue(val, unit) {
  if (is.col(val)) { return colorToRgb(val); }
  var originalUnit = getUnit(val);
  var unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;
  return unit && !/\s/g.test(val) ? unitLess + unit : unitLess;
}

// getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes
// adapted from https://gist.github.com/SebLambla/3e0550c496c236709744

function getDistance(p1, p2) {
  return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2));
}

function getCircleLength(el) {
  return Math.PI * 2 * getAttribute(el, 'r');
}

function getRectLength(el) {
  return (getAttribute(el, 'width') * 2) + (getAttribute(el, 'height') * 2);
}

function getLineLength(el) {
  return getDistance(
    {x: getAttribute(el, 'x1'), y: getAttribute(el, 'y1')}, 
    {x: getAttribute(el, 'x2'), y: getAttribute(el, 'y2')}
  );
}

function getPolylineLength(el) {
  var points = el.points;
  var totalLength = 0;
  var previousPos;
  for (var i = 0 ; i < points.numberOfItems; i++) {
    var currentPos = points.getItem(i);
    if (i > 0) { totalLength += getDistance(previousPos, currentPos); }
    previousPos = currentPos;
  }
  return totalLength;
}

function getPolygonLength(el) {
  var points = el.points;
  return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));
}

// Path animation

function getTotalLength(el) {
  if (el.getTotalLength) { return el.getTotalLength(); }
  switch(el.tagName.toLowerCase()) {
    case 'circle': return getCircleLength(el);
    case 'rect': return getRectLength(el);
    case 'line': return getLineLength(el);
    case 'polyline': return getPolylineLength(el);
    case 'polygon': return getPolygonLength(el);
  }
}

function setDashoffset(el) {
  var pathLength = getTotalLength(el);
  el.setAttribute('stroke-dasharray', pathLength);
  return pathLength;
}

// Motion path

function getParentSvgEl(el) {
  var parentEl = el.parentNode;
  while (is.svg(parentEl)) {
    parentEl = parentEl.parentNode;
    if (!is.svg(parentEl.parentNode)) { break; }
  }
  return parentEl;
}

function getParentSvg(pathEl, svgData) {
  var svg = svgData || {};
  var parentSvgEl = svg.el || getParentSvgEl(pathEl);
  var rect = parentSvgEl.getBoundingClientRect();
  var viewBoxAttr = getAttribute(parentSvgEl, 'viewBox');
  var width = rect.width;
  var height = rect.height;
  var viewBox = svg.viewBox || (viewBoxAttr ? viewBoxAttr.split(' ') : [0, 0, width, height]);
  return {
    el: parentSvgEl,
    viewBox: viewBox,
    x: viewBox[0] / 1,
    y: viewBox[1] / 1,
    w: width / viewBox[2],
    h: height / viewBox[3]
  }
}

function getPath(path, percent) {
  var pathEl = is.str(path) ? selectString(path)[0] : path;
  var p = percent || 100;
  return function(property) {
    return {
      property: property,
      el: pathEl,
      svg: getParentSvg(pathEl),
      totalLength: getTotalLength(pathEl) * (p / 100)
    }
  }
}

function getPathProgress(path, progress) {
  function point(offset) {
    if ( offset === void 0 ) offset = 0;

    var l = progress + offset >= 1 ? progress + offset : 0;
    return path.el.getPointAtLength(l);
  }
  var svg = getParentSvg(path.el, path.svg);
  var p = point();
  var p0 = point(-1);
  var p1 = point(+1);
  switch (path.property) {
    case 'x': return (p.x - svg.x) * svg.w;
    case 'y': return (p.y - svg.y) * svg.h;
    case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;
  }
}

// Decompose value

function decomposeValue(val, unit) {
  var rgx = /-?\d*\.?\d+/g;
  var value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';
  return {
    original: value,
    numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],
    strings: (is.str(val) || unit) ? value.split(rgx) : []
  }
}

// Animatables

function parseTargets(targets) {
  var targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];
  return filterArray(targetsArray, function (item, pos, self) { return self.indexOf(item) === pos; });
}

function getAnimatables(targets) {
  var parsed = parseTargets(targets);
  return parsed.map(function (t, i) {
    return {target: t, id: i, total: parsed.length, transforms: { list: getElementTransforms(t) } };
  });
}

// Properties

function normalizePropertyTweens(prop, tweenSettings) {
  var settings = cloneObject(tweenSettings);
  // Override duration if easing is a spring
  if (/^spring/.test(settings.easing)) { settings.duration = spring(settings.easing); }
  if (is.arr(prop)) {
    var l = prop.length;
    var isFromTo = (l === 2 && !is.obj(prop[0]));
    if (!isFromTo) {
      // Duration divided by the number of tweens
      if (!is.fnc(tweenSettings.duration)) { settings.duration = tweenSettings.duration / l; }
    } else {
      // Transform [from, to] values shorthand to a valid tween value
      prop = {value: prop};
    }
  }
  var propArray = is.arr(prop) ? prop : [prop];
  return propArray.map(function (v, i) {
    var obj = (is.obj(v) && !is.pth(v)) ? v : {value: v};
    // Default delay value should only be applied to the first tween
    if (is.und(obj.delay)) { obj.delay = !i ? tweenSettings.delay : 0; }
    // Default endDelay value should only be applied to the last tween
    if (is.und(obj.endDelay)) { obj.endDelay = i === propArray.length - 1 ? tweenSettings.endDelay : 0; }
    return obj;
  }).map(function (k) { return mergeObjects(k, settings); });
}


function flattenKeyframes(keyframes) {
  var propertyNames = filterArray(flattenArray(keyframes.map(function (key) { return Object.keys(key); })), function (p) { return is.key(p); })
  .reduce(function (a,b) { if (a.indexOf(b) < 0) { a.push(b); } return a; }, []);
  var properties = {};
  var loop = function ( i ) {
    var propName = propertyNames[i];
    properties[propName] = keyframes.map(function (key) {
      var newKey = {};
      for (var p in key) {
        if (is.key(p)) {
          if (p == propName) { newKey.value = key[p]; }
        } else {
          newKey[p] = key[p];
        }
      }
      return newKey;
    });
  };

  for (var i = 0; i < propertyNames.length; i++) loop( i );
  return properties;
}

function getProperties(tweenSettings, params) {
  var properties = [];
  var keyframes = params.keyframes;
  if (keyframes) { params = mergeObjects(flattenKeyframes(keyframes), params); }
  for (var p in params) {
    if (is.key(p)) {
      properties.push({
        name: p,
        tweens: normalizePropertyTweens(params[p], tweenSettings)
      });
    }
  }
  return properties;
}

// Tweens

function normalizeTweenValues(tween, animatable) {
  var t = {};
  for (var p in tween) {
    var value = getFunctionValue(tween[p], animatable);
    if (is.arr(value)) {
      value = value.map(function (v) { return getFunctionValue(v, animatable); });
      if (value.length === 1) { value = value[0]; }
    }
    t[p] = value;
  }
  t.duration = parseFloat(t.duration);
  t.delay = parseFloat(t.delay);
  return t;
}

function normalizeTweens(prop, animatable) {
  var previousTween;
  return prop.tweens.map(function (t) {
    var tween = normalizeTweenValues(t, animatable);
    var tweenValue = tween.value;
    var to = is.arr(tweenValue) ? tweenValue[1] : tweenValue;
    var toUnit = getUnit(to);
    var originalValue = getOriginalTargetValue(animatable.target, prop.name, toUnit, animatable);
    var previousValue = previousTween ? previousTween.to.original : originalValue;
    var from = is.arr(tweenValue) ? tweenValue[0] : previousValue;
    var fromUnit = getUnit(from) || getUnit(originalValue);
    var unit = toUnit || fromUnit;
    if (is.und(to)) { to = previousValue; }
    tween.from = decomposeValue(from, unit);
    tween.to = decomposeValue(getRelativeValue(to, from), unit);
    tween.start = previousTween ? previousTween.end : 0;
    tween.end = tween.start + tween.delay + tween.duration + tween.endDelay;
    tween.easing = parseEasings(tween.easing, tween.duration);
    tween.isPath = is.pth(tweenValue);
    tween.isColor = is.col(tween.from.original);
    if (tween.isColor) { tween.round = 1; }
    previousTween = tween;
    return tween;
  });
}

// Tween progress

var setProgressValue = {
  css: function (t, p, v) { return t.style[p] = v; },
  attribute: function (t, p, v) { return t.setAttribute(p, v); },
  object: function (t, p, v) { return t[p] = v; },
  transform: function (t, p, v, transforms, manual) {
    transforms.list.set(p, v);
    if (p === transforms.last || manual) {
      var str = '';
      transforms.list.forEach(function (value, prop) { str += prop + "(" + value + ") "; });
      t.style.transform = str;
    }
  }
};

// Set Value helper

function setTargetsValue(targets, properties) {
  var animatables = getAnimatables(targets);
  animatables.forEach(function (animatable) {
    for (var property in properties) {
      var value = getFunctionValue(properties[property], animatable);
      var target = animatable.target;
      var valueUnit = getUnit(value);
      var originalValue = getOriginalTargetValue(target, property, valueUnit, animatable);
      var unit = valueUnit || getUnit(originalValue);
      var to = getRelativeValue(validateValue(value, unit), originalValue);
      var animType = getAnimationType(target, property);
      setProgressValue[animType](target, property, to, animatable.transforms, true);
    }
  });
}

// Animations

function createAnimation(animatable, prop) {
  var animType = getAnimationType(animatable.target, prop.name);
  if (animType) {
    var tweens = normalizeTweens(prop, animatable);
    var lastTween = tweens[tweens.length - 1];
    return {
      type: animType,
      property: prop.name,
      animatable: animatable,
      tweens: tweens,
      duration: lastTween.end,
      delay: tweens[0].delay,
      endDelay: lastTween.endDelay
    }
  }
}

function getAnimations(animatables, properties) {
  return filterArray(flattenArray(animatables.map(function (animatable) {
    return properties.map(function (prop) {
      return createAnimation(animatable, prop);
    });
  })), function (a) { return !is.und(a); });
}

// Create Instance

function getInstanceTimings(animations, tweenSettings) {
  var animLength = animations.length;
  var getTlOffset = function (anim) { return anim.timelineOffset ? anim.timelineOffset : 0; };
  var timings = {};
  timings.duration = animLength ? Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration; })) : tweenSettings.duration;
  timings.delay = animLength ? Math.min.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.delay; })) : tweenSettings.delay;
  timings.endDelay = animLength ? timings.duration - Math.max.apply(Math, animations.map(function (anim) { return getTlOffset(anim) + anim.duration - anim.endDelay; })) : tweenSettings.endDelay;
  return timings;
}

var instanceID = 0;

function createNewInstance(params) {
  var instanceSettings = replaceObjectProps(defaultInstanceSettings, params);
  var tweenSettings = replaceObjectProps(defaultTweenSettings, params);
  var properties = getProperties(tweenSettings, params);
  var animatables = getAnimatables(params.targets);
  var animations = getAnimations(animatables, properties);
  var timings = getInstanceTimings(animations, tweenSettings);
  var id = instanceID;
  instanceID++;
  return mergeObjects(instanceSettings, {
    id: id,
    children: [],
    animatables: animatables,
    animations: animations,
    duration: timings.duration,
    delay: timings.delay,
    endDelay: timings.endDelay
  });
}

// Core

var activeInstances = [];
var pausedInstances = [];
var raf;

var engine = (function () {
  function play() { 
    raf = requestAnimationFrame(step);
  }
  function step(t) {
    var activeInstancesLength = activeInstances.length;
    if (activeInstancesLength) {
      var i = 0;
      while (i < activeInstancesLength) {
        var activeInstance = activeInstances[i];
        if (!activeInstance.paused) {
          activeInstance.tick(t);
        } else {
          var instanceIndex = activeInstances.indexOf(activeInstance);
          if (instanceIndex > -1) {
            activeInstances.splice(instanceIndex, 1);
            activeInstancesLength = activeInstances.length;
          }
        }
        i++;
      }
      play();
    } else {
      raf = cancelAnimationFrame(raf);
    }
  }
  return play;
})();

function handleVisibilityChange() {
  if (document.hidden) {
    activeInstances.forEach(function (ins) { return ins.pause(); });
    pausedInstances = activeInstances.slice(0);
    activeInstances = [];
  } else {
    pausedInstances.forEach(function (ins) { return ins.play(); });
  }
}

if (typeof document !== 'undefined') {
  document.addEventListener('visibilitychange', handleVisibilityChange);
}

// Public Instance

function anime(params) {
  if ( params === void 0 ) params = {};


  var startTime = 0, lastTime = 0, now = 0;
  var children, childrenLength = 0;
  var resolve = null;

  function makePromise(instance) {
    var promise = window.Promise && new Promise(function (_resolve) { return resolve = _resolve; });
    instance.finished = promise;
    return promise;
  }

  var instance = createNewInstance(params);
  var promise = makePromise(instance);

  function toggleInstanceDirection() {
    var direction = instance.direction;
    if (direction !== 'alternate') {
      instance.direction = direction !== 'normal' ? 'normal' : 'reverse';
    }
    instance.reversed = !instance.reversed;
    children.forEach(function (child) { return child.reversed = instance.reversed; });
  }

  function adjustTime(time) {
    return instance.reversed ? instance.duration - time : time;
  }

  function resetTime() {
    startTime = 0;
    lastTime = adjustTime(instance.currentTime) * (1 / anime.speed);
  }

  function seekCild(time, child) {
    if (child) { child.seek(time - child.timelineOffset); }
  }

  function syncInstanceChildren(time) {
    if (!instance.reversePlayback) {
      for (var i = 0; i < childrenLength; i++) { seekCild(time, children[i]); }
    } else {
      for (var i$1 = childrenLength; i$1--;) { seekCild(time, children[i$1]); }
    }
  }

  function setAnimationsProgress(insTime) {
    var i = 0;
    var animations = instance.animations;
    var animationsLength = animations.length;
    while (i < animationsLength) {
      var anim = animations[i];
      var animatable = anim.animatable;
      var tweens = anim.tweens;
      var tweenLength = tweens.length - 1;
      var tween = tweens[tweenLength];
      // Only check for keyframes if there is more than one tween
      if (tweenLength) { tween = filterArray(tweens, function (t) { return (insTime < t.end); })[0] || tween; }
      var elapsed = minMax(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;
      var eased = isNaN(elapsed) ? 1 : tween.easing(elapsed);
      var strings = tween.to.strings;
      var round = tween.round;
      var numbers = [];
      var toNumbersLength = tween.to.numbers.length;
      var progress = (void 0);
      for (var n = 0; n < toNumbersLength; n++) {
        var value = (void 0);
        var toNumber = tween.to.numbers[n];
        var fromNumber = tween.from.numbers[n] || 0;
        if (!tween.isPath) {
          value = fromNumber + (eased * (toNumber - fromNumber));
        } else {
          value = getPathProgress(tween.value, eased * toNumber);
        }
        if (round) {
          if (!(tween.isColor && n > 2)) {
            value = Math.round(value * round) / round;
          }
        }
        numbers.push(value);
      }
      // Manual Array.reduce for better performances
      var stringsLength = strings.length;
      if (!stringsLength) {
        progress = numbers[0];
      } else {
        progress = strings[0];
        for (var s = 0; s < stringsLength; s++) {
          var a = strings[s];
          var b = strings[s + 1];
          var n$1 = numbers[s];
          if (!isNaN(n$1)) {
            if (!b) {
              progress += n$1 + ' ';
            } else {
              progress += n$1 + b;
            }
          }
        }
      }
      setProgressValue[anim.type](animatable.target, anim.property, progress, animatable.transforms);
      anim.currentValue = progress;
      i++;
    }
  }

  function setCallback(cb) {
    if (instance[cb] && !instance.passThrough) { instance[cb](instance); }
  }

  function countIteration() {
    if (instance.remaining && instance.remaining !== true) {
      instance.remaining--;
    }
  }

  function setInstanceProgress(engineTime) {
    var insDuration = instance.duration;
    var insDelay = instance.delay;
    var insEndDelay = insDuration - instance.endDelay;
    var insTime = adjustTime(engineTime);
    instance.progress = minMax((insTime / insDuration) * 100, 0, 100);
    instance.reversePlayback = insTime < instance.currentTime;
    if (children) { syncInstanceChildren(insTime); }
    if (!instance.began && instance.currentTime > 0) {
      instance.began = true;
      setCallback('begin');
      setCallback('loopBegin');
    }
    if (insTime <= insDelay && instance.currentTime !== 0) {
      setAnimationsProgress(0);
    }
    if ((insTime >= insEndDelay && instance.currentTime !== insDuration) || !insDuration) {
      setAnimationsProgress(insDuration);
    }
    if (insTime > insDelay && insTime < insEndDelay) {
      if (!instance.changeBegan) {
        instance.changeBegan = true;
        instance.changeCompleted = false;
        setCallback('changeBegin');
      }
      setCallback('change');
      setAnimationsProgress(insTime);
    } else {
      if (instance.changeBegan) {
        instance.changeCompleted = true;
        instance.changeBegan = false;
        setCallback('changeComplete');
      }
    }
    instance.currentTime = minMax(insTime, 0, insDuration);
    if (instance.began) { setCallback('update'); }
    if (engineTime >= insDuration) {
      lastTime = 0;
      countIteration();
      if (instance.remaining) {
        startTime = now;
        setCallback('loopComplete');
        setCallback('loopBegin');
        if (instance.direction === 'alternate') { toggleInstanceDirection(); }
      } else {
        instance.paused = true;
        if (!instance.completed) {
          instance.completed = true;
          setCallback('loopComplete');
          setCallback('complete');
          if (!instance.passThrough && 'Promise' in window) {
            resolve();
            promise = makePromise(instance);
          }
        }
      }
    }
  }

  instance.reset = function() {
    var direction = instance.direction;
    instance.passThrough = false;
    instance.currentTime = 0;
    instance.progress = 0;
    instance.paused = true;
    instance.began = false;
    instance.changeBegan = false;
    instance.completed = false;
    instance.changeCompleted = false;
    instance.reversePlayback = false;
    instance.reversed = direction === 'reverse';
    instance.remaining = instance.loop;
    children = instance.children;
    childrenLength = children.length;
    for (var i = childrenLength; i--;) { instance.children[i].reset(); }
    if (instance.reversed && instance.loop !== true || (direction === 'alternate' && instance.loop === 1)) { instance.remaining++; }
    setAnimationsProgress(0);
  };

  // Set Value helper

  instance.set = function(targets, properties) {
    setTargetsValue(targets, properties);
    return instance;
  };

  instance.tick = function(t) {
    now = t;
    if (!startTime) { startTime = now; }
    setInstanceProgress((now + (lastTime - startTime)) * anime.speed);
  };

  instance.seek = function(time) {
    setInstanceProgress(adjustTime(time));
  };

  instance.pause = function() {
    instance.paused = true;
    resetTime();
  };

  instance.play = function() {
    if (!instance.paused) { return; }
    if (instance.completed) { instance.reset(); }
    instance.paused = false;
    activeInstances.push(instance);
    resetTime();
    if (!raf) { engine(); }
  };

  instance.reverse = function() {
    toggleInstanceDirection();
    resetTime();
  };

  instance.restart = function() {
    instance.reset();
    instance.play();
  };

  instance.reset();

  if (instance.autoplay) { instance.play(); }

  return instance;

}

// Remove targets from animation

function removeTargetsFromAnimations(targetsArray, animations) {
  for (var a = animations.length; a--;) {
    if (arrayContains(targetsArray, animations[a].animatable.target)) {
      animations.splice(a, 1);
    }
  }
}

function removeTargets(targets) {
  var targetsArray = parseTargets(targets);
  for (var i = activeInstances.length; i--;) {
    var instance = activeInstances[i];
    var animations = instance.animations;
    var children = instance.children;
    removeTargetsFromAnimations(targetsArray, animations);
    for (var c = children.length; c--;) {
      var child = children[c];
      var childAnimations = child.animations;
      removeTargetsFromAnimations(targetsArray, childAnimations);
      if (!childAnimations.length && !child.children.length) { children.splice(c, 1); }
    }
    if (!animations.length && !children.length) { instance.pause(); }
  }
}

// Stagger helpers

function stagger(val, params) {
  if ( params === void 0 ) params = {};

  var direction = params.direction || 'normal';
  var easing = params.easing ? parseEasings(params.easing) : null;
  var grid = params.grid;
  var axis = params.axis;
  var fromIndex = params.from || 0;
  var fromFirst = fromIndex === 'first';
  var fromCenter = fromIndex === 'center';
  var fromLast = fromIndex === 'last';
  var isRange = is.arr(val);
  var val1 = isRange ? parseFloat(val[0]) : parseFloat(val);
  var val2 = isRange ? parseFloat(val[1]) : 0;
  var unit = getUnit(isRange ? val[1] : val) || 0;
  var start = params.start || 0 + (isRange ? val1 : 0);
  var values = [];
  var maxValue = 0;
  return function (el, i, t) {
    if (fromFirst) { fromIndex = 0; }
    if (fromCenter) { fromIndex = (t - 1) / 2; }
    if (fromLast) { fromIndex = t - 1; }
    if (!values.length) {
      for (var index = 0; index < t; index++) {
        if (!grid) {
          values.push(Math.abs(fromIndex - index));
        } else {
          var fromX = !fromCenter ? fromIndex%grid[0] : (grid[0]-1)/2;
          var fromY = !fromCenter ? Math.floor(fromIndex/grid[0]) : (grid[1]-1)/2;
          var toX = index%grid[0];
          var toY = Math.floor(index/grid[0]);
          var distanceX = fromX - toX;
          var distanceY = fromY - toY;
          var value = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
          if (axis === 'x') { value = -distanceX; }
          if (axis === 'y') { value = -distanceY; }
          values.push(value);
        }
        maxValue = Math.max.apply(Math, values);
      }
      if (easing) { values = values.map(function (val) { return easing(val / maxValue) * maxValue; }); }
      if (direction === 'reverse') { values = values.map(function (val) { return axis ? (val < 0) ? val * -1 : -val : Math.abs(maxValue - val); }); }
    }
    var spacing = isRange ? (val2 - val1) / maxValue : val1;
    return start + (spacing * (Math.round(values[i] * 100) / 100)) + unit;
  }
}

// Timeline

function timeline(params) {
  if ( params === void 0 ) params = {};

  var tl = anime(params);
  tl.duration = 0;
  tl.add = function(instanceParams, timelineOffset) {
    var tlIndex = activeInstances.indexOf(tl);
    var children = tl.children;
    if (tlIndex > -1) { activeInstances.splice(tlIndex, 1); }
    function passThrough(ins) { ins.passThrough = true; }
    for (var i = 0; i < children.length; i++) { passThrough(children[i]); }
    var insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params));
    insParams.targets = insParams.targets || params.targets;
    var tlDuration = tl.duration;
    insParams.autoplay = false;
    insParams.direction = tl.direction;
    insParams.timelineOffset = is.und(timelineOffset) ? tlDuration : getRelativeValue(timelineOffset, tlDuration);
    passThrough(tl);
    tl.seek(insParams.timelineOffset);
    var ins = anime(insParams);
    passThrough(ins);
    children.push(ins);
    var timings = getInstanceTimings(children, params);
    tl.delay = timings.delay;
    tl.endDelay = timings.endDelay;
    tl.duration = timings.duration;
    tl.seek(0);
    tl.reset();
    if (tl.autoplay) { tl.play(); }
    return tl;
  };
  return tl;
}

anime.version = '3.0.1';
anime.speed = 1;
anime.running = activeInstances;
anime.remove = removeTargets;
anime.get = getOriginalTargetValue;
anime.set = setTargetsValue;
anime.convertPx = convertPxToUnit;
anime.path = getPath;
anime.setDashoffset = setDashoffset;
anime.stagger = stagger;
anime.timeline = timeline;
anime.easing = parseEasings;
anime.penner = penner;
anime.random = function (min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; };

/* harmony default export */ __webpack_exports__["a"] = (anime);


/***/ }),

/***/ "122e":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ "1298":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IOSocket_vue_vue_type_style_index_0_id_16b57e2f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("f37d");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IOSocket_vue_vue_type_style_index_0_id_16b57e2f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IOSocket_vue_vue_type_style_index_0_id_16b57e2f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_IOSocket_vue_vue_type_style_index_0_id_16b57e2f_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "1495":
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__("86cc");
var anObject = __webpack_require__("cb7c");
var getKeys = __webpack_require__("0d58");

module.exports = __webpack_require__("9e1e") ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),

/***/ "14d4":
/***/ (function(module, exports) {

ace.define("ace/theme/monokai",["require","exports","module","ace/lib/dom"], function(acequire, exports, module) {

exports.isDark = true;
exports.cssClass = "ace-monokai";
exports.cssText = ".ace-monokai .ace_gutter {\
background: #2F3129;\
color: #8F908A\
}\
.ace-monokai .ace_print-margin {\
width: 1px;\
background: #555651\
}\
.ace-monokai {\
background-color: #272822;\
color: #F8F8F2\
}\
.ace-monokai .ace_cursor {\
color: #F8F8F0\
}\
.ace-monokai .ace_marker-layer .ace_selection {\
background: #49483E\
}\
.ace-monokai.ace_multiselect .ace_selection.ace_start {\
box-shadow: 0 0 3px 0px #272822;\
}\
.ace-monokai .ace_marker-layer .ace_step {\
background: rgb(102, 82, 0)\
}\
.ace-monokai .ace_marker-layer .ace_bracket {\
margin: -1px 0 0 -1px;\
border: 1px solid #49483E\
}\
.ace-monokai .ace_marker-layer .ace_active-line {\
background: #202020\
}\
.ace-monokai .ace_gutter-active-line {\
background-color: #272727\
}\
.ace-monokai .ace_marker-layer .ace_selected-word {\
border: 1px solid #49483E\
}\
.ace-monokai .ace_invisible {\
color: #52524d\
}\
.ace-monokai .ace_entity.ace_name.ace_tag,\
.ace-monokai .ace_keyword,\
.ace-monokai .ace_meta.ace_tag,\
.ace-monokai .ace_storage {\
color: #F92672\
}\
.ace-monokai .ace_punctuation,\
.ace-monokai .ace_punctuation.ace_tag {\
color: #fff\
}\
.ace-monokai .ace_constant.ace_character,\
.ace-monokai .ace_constant.ace_language,\
.ace-monokai .ace_constant.ace_numeric,\
.ace-monokai .ace_constant.ace_other {\
color: #AE81FF\
}\
.ace-monokai .ace_invalid {\
color: #F8F8F0;\
background-color: #F92672\
}\
.ace-monokai .ace_invalid.ace_deprecated {\
color: #F8F8F0;\
background-color: #AE81FF\
}\
.ace-monokai .ace_support.ace_constant,\
.ace-monokai .ace_support.ace_function {\
color: #66D9EF\
}\
.ace-monokai .ace_fold {\
background-color: #A6E22E;\
border-color: #F8F8F2\
}\
.ace-monokai .ace_storage.ace_type,\
.ace-monokai .ace_support.ace_class,\
.ace-monokai .ace_support.ace_type {\
font-style: italic;\
color: #66D9EF\
}\
.ace-monokai .ace_entity.ace_name.ace_function,\
.ace-monokai .ace_entity.ace_other,\
.ace-monokai .ace_entity.ace_other.ace_attribute-name,\
.ace-monokai .ace_variable {\
color: #A6E22E\
}\
.ace-monokai .ace_variable.ace_parameter {\
font-style: italic;\
color: #FD971F\
}\
.ace-monokai .ace_string {\
color: #E6DB74\
}\
.ace-monokai .ace_comment {\
color: #75715E\
}\
.ace-monokai .ace_indent-guide {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\
}";

var dom = acequire("../lib/dom");
dom.importCssString(exports.cssText, exports.cssClass);
});


/***/ }),

/***/ "1601":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".linker[data-v-0c874d6a]{text-decoration:underline}", ""]);

// exports


/***/ }),

/***/ "1654":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at = __webpack_require__("71c1")(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__("30f1")(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),

/***/ "1691":
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),

/***/ "1825":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("2318");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("240c6aee", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "1af6":
/***/ (function(module, exports, __webpack_require__) {

// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)
var $export = __webpack_require__("63b6");

$export($export.S, 'Array', { isArray: __webpack_require__("9003") });


/***/ }),

/***/ "1bc3":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__("f772");
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ "1e95":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"pos":{"x":60,"y":254},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', (v) => {\n  IO.Output('onFrame', v)\n})\n\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c4f82d6226b990017249795","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4module_542035946732","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":312,"y":261},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\nSignal,\nResources,\nsockets,\nbox,\nInput,\nOutput,\nOutputAll,\ngetMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\nlet timeMode = window.top[box.id + '-timeMode']\nlet progress = window.top[box.id + '-progress']\n// console.log(timeMode)\n\nlet timetracks = box.meta.filter(e => e.type === 'timeline-track')\ntimetracks.forEach((m, mi) => {\n  let time = 0\n  \n  if (timeMode === 'toEnv') {\n    time = (progress * m.value.totalTime)\n  } else {\n    time = evt.time / 1000 - startTime\n    if (time > m.value.totalTime) {\n      startTime = evt.time / 1000\n    }\n  }\n  \n  updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n})\n\n// tell UI\nif (timetracks.length > 0) {\n  let m = timetracks[0]\n  let time = performance.now() / 1000 - startTime\n  window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n}\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\nmVal.time = time\n\n// ---------------------------------\n// periods\n//  starting\nif (time >= mVal.start && time <= mVal.afterStart) {\n  let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n  mVal.starting = progress\n  mVal.mode = 'starting'\n  mVal.var = progress\n}\n\n// periods\n// during\nif (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n  let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n  mVal.during = progress\n  mVal.mode = 'during'\n  mVal.var = 1.0\n}\n\n// periods\n//  leaving\nif (time >= mVal.beforeEnd && time <= mVal.end) {\n  let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n  mVal.leaving = 1.0 - progress\n  mVal.mode = 'leaving'\n  mVal.var = 1.0 - progress\n}\n\n// ---------------------------------\n\n// overriders\n// before start\nif (time < mVal.start) {\n  let progress = 0\n  mVal.starting = 0\n  mVal.mode = 'beforeStart'\n  mVal.beforeStart = 0\n  mVal.var = 0\n}\n\n// after end\nif (time > mVal.end) {\n  let progress = 0\n  mVal.leaving = 0\n  mVal.afterEnd = 0\n  mVal.mode = 'afterEnd'\n  mVal.var = 0\n}\n\n// timebox mVal\n// timebox\nif (time >= mVal.start && time <= mVal.end) {\n  let progress = (time - mVal.start) / (mVal.end - mVal.start)\n  mVal.timebox = progress\n}\n\nmVal.tick = time / totalTime\nmVal.now = time\n};\n\nlet event = {\n$ready: true\n}\nlet toObject = (key) => {\nevent[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\nbox.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n  toObject(m.label);\n});\n\nOutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":11.925000000000006,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}},{"id":"_r705983770","label":"lovely","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c4f82d6226b990017249796","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4module_624493095826","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":209,"y":147},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c4f82d6226b990017249797","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4module_791055199420","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":184,"y":47},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"WebM Video Encoder ","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onClock', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f82d6226b99001724979a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712module_882360011137","created_at":"2019-01-28T21:30:16.221Z","updated_at":"2019-01-28T21:30:16.221Z","__v":0},{"pos":{"x":318,"y":405},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"starFun","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nResources.ensure(['threejs', 'effect-composer', 'gpgpu', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene');\n  let camera = Resources.get('camera');\n  let renderer = Resources.get('renderer');\n  \n  camera.position.z = 10;\n  \n  \n    \n  function prepIndexer (texture, SIZE) {\n    var pixels = texture.image.data\n    var p = 0\n    let max = SIZE * SIZE\n    for (var j = 0; j < max; j++) {\n      pixels[p + 0] = j\n      pixels[p + 1] = j / (max)\n      pixels[p + 2] = SIZE\n      pixels[p + 3] = 1.0\n      p += 4\n    }\n  }\n  \n  var ticker = 0\n  let SIZE = 192\n  \n  var gpuCompute = new GPUComputationRenderer(SIZE, SIZE, renderer)\n  \n  var indexerTexture = gpuCompute.createTexture()\n  prepIndexer(indexerTexture, SIZE)\n  \n  var pingTarget = gpuCompute.createRenderTarget()\n  var pongTarget = gpuCompute.createRenderTarget()\n  \n  let pingMat, pongMat;\n  \n  let displayV = `uniform sampler2D posTex;\n  uniform float pointSize;\n  uniform sampler2D indexerTexture;\n  \n  varying vec2 vUv;\n  \n  uniform float time;\n  \n  void main() {\n      vec4 info = texture2D(indexerTexture, uv);\n  \n      vec4 pos = texture2D(posTex, uv);\n  \n      vec4 mvPosition = modelViewMatrix * vec4(pos.xyz, 1.0);\n      vec4 outputPos = projectionMatrix * mvPosition;\n  \n      // outputPos.y = outputPos.y + sin(outputPos.y + time * 50.0) * sin(outputPos.y + time * 50.0);\n      // outputPos.x = outputPos.x + cos(outputPos.x + time * 50.0) * sin(outputPos.x + time * 50.0);\n  \n      vUv = uv;\n  \n      gl_Position = outputPos;\n      gl_PointSize = pointSize;\n  }\n  `\n  \n  let displayF = `\n  // uniform sampler2D posTex;\n  \n  uniform sampler2D picture;\n  uniform float opacity;\n  \n  uniform float time;\n  \n  varying vec2 vUv;\n  \n  void main() {\n      // vec4 posColor = texture2D(posTex, vUv);\n  \n      vec4 imgColor = texture2D(picture, vUv);\n  \n      vec4 outputColor = imgColor;\n      outputColor.a = outputColor.a * opacity;\n  \n      // outputColor.xyz *= posColor.xyz;\n      \n      outputColor.rgb = mix(outputColor.rgb + 0.2, vec3(1.0), smoothstep(0.0, 1.0, abs(sin(time * 5.0))));\n  \n      gl_FragColor = outputColor;\n  }\n  `\n  var defaultPingPong = `//\n//THANK YOU for your support <3 \n//\n\n#include <common>\nprecision highp sampler2D;\n\n//\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\n\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n  bool xgty = (abs(x) > abs(y));\n  return mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\n\nvec3 ballify (vec3 pos, float r) {\n  float az = atan2(pos.y, pos.x);\n  float el = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n  return vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\n\nvec3 fromBall(float r, float az, float el) {\n  return vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\n\nvoid toBall(vec3 pos, out float az, out float el) {\n  az = atan2(pos.y, pos.x);\n  el = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n\nmat3 rotateZ(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n        c, s, 0.0,\n        -s, c, 0.0,\n        0.0, 0.0, 1.0\n    );\n}\n\nmat3 rotateY(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n        c, 0.0, -s,\n        0.0, 1.0, 0.0,\n        s, 0.0, c\n    );\n}\n\nmat3 rotateX(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0, c, s,\n        0.0, -s, c\n    );\n}\n\n// float Gravity(float z) {\n//   float G, eZ;\n//   const float ER = 6378150.0;\n//   const float ER2 = 6378150.0 * 6378150.0;\n//   eZ = ER + z;\n//   G = 9.81 * ER2 / (eZ * eZ);\n//   return G;\n// }\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (vec3 lastPos, vec3 mouse) {\n  vec3 diff = lastPos.xyz - mouse;\n  float distance = constrain(length(diff), 1.0, 5.0);\n  float strength = 1.0 / (distance * distance);\n\n  diff = normalize(diff);\n  diff = diff * strength * -1.0;\n\n  return diff;\n}\n\nvec3 resDiff (in vec3 lastPos, in vec3 mouse) {\n  vec3 diff = lastPos - mouse;\n  diff = normalize(diff) * -1.0;\n  return diff;\n}\n\nuniform float time;\nuniform sampler2D lastTexture;\nuniform sampler2D indexerTexture;\n\nuniform vec3 mouse;\n\nvoid main () {\n\n  // @v@\n  // @.@\n\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n  vec4 indexer = texture2D(indexerTexture, uv);\n  vec4 lastPos = texture2D(lastTexture, uv);\n\n  float i = indexer.x;\n  float e = indexer.y;\n  float u = indexer.z;\n\n  vec3 nextPos = vec3(lastPos);\n\n  float x = 0.5 - rand(uv + .1);\n  float y = 0.5 - rand(uv + .2);\n  float z = 0.5 - rand(uv + .3);\n  \n  vec3 randomBall = ballify(vec3(x, y, z) + mouse, 1.0);\n  \n  vec3 pt1 = ballify(randomBall + nextPos, 15.0);\n  pt1.z += cnoise(pt1.xy + time * 20.0) * 6.0;\n  \n  \n  vec3 pt2 = ballify(randomBall + nextPos, 15.0);\n  pt2.z += rand(pt2.xy + time * 20.0);\n  \n  \n  nextPos = mix(pt1, pt2, smoothstep(0.0, 1.0, abs(distance(mouse, vec3(0.0))) / 0.5));\n  nextPos += getDiff(nextPos, mouse * 17.0) * 50.0;\n  \n  // remix code end here//\n  gl_FragColor = vec4(nextPos, 1.0);\n}\n\n  \n  \n  `\n    \n    \n  let mouseV3 = new THREE.Vector3(0.0, 0.0, 0.0);\n  \n  let init = ({ pingPongShader }) => {\n    try {\n      let newPingMat = gpuCompute.createShaderMaterial(pingPongShader, {\n        lastTexture: { value: null },\n        indexerTexture: { value: indexerTexture },\n        time: { value: 0 },\n        mouse: { value: mouseV3 }\n      })\n      let newPongMat = gpuCompute.createShaderMaterial(pingPongShader, {\n        lastTexture: { value: null },\n        indexerTexture: { value: indexerTexture },\n        time: { value: 0 },\n        mouse: { value: mouseV3 }\n      })   \n      pingMat = newPingMat\n      pongMat = newPongMat\n    } catch (e) {\n      console.error(e)    \n    }\n  }\n  \n  init({ pingPongShader: defaultPingPong })\n  \n  var mouser = () => {\n    window.addEventListener('mousemove', (evt) => {\n      let x = (evt.pageX - window.innerWidth * 0.5) / window.innerWidth\n      let y = (evt.pageY - window.innerHeight * 0.5) / window.innerHeight\n      let z = 0.0\n      y *= -1\n  \n      pingMat.uniforms.mouse.value.copy({ x, y, z })\n      pongMat.uniforms.mouse.value.copy({ x, y, z })\n    }, false)\n    \n    var ev = {\n      touchSurface: renderer.domElement\n    };\n    \n    var isClick = false\n    ev.touchSurface.addEventListener('click', () => {\n      if (!isClick) {\n        // pingMat.uniforms.tapCount.value++\n        // pongMat.uniforms.tapCount.value++\n      }\n    }, false)\n    ev.touchSurface.addEventListener('touchstart', (evt) => {\n      isClick = true\n      setTimeout(() => {\n        isClick = false\n      }, 111)\n    }, false)\n    ev.touchSurface.addEventListener('touchend', (evt) => {\n      if (isClick) {\n        // pingMat.uniforms.tapCount.value++\n        // pongMat.uniforms.tapCount.value++\n      }\n    }, false)\n    ev.touchSurface.addEventListener('touchmove', (evt) => {\n      evt.preventDefault()\n      let x = (evt.touches[0].pageX - window.innerWidth * 0.5) / window.innerWidth\n      let y = (evt.touches[0].pageY - window.innerHeight * 0.5) / window.innerHeight\n      let z = 0.0\n  \n      y *= -1\n  \n      pingMat.uniforms.mouse.value.copy({ x, y, z })\n      pongMat.uniforms.mouse.value.copy({ x, y, z })\n    }, false)\n  }\n  mouser()\n  \n  // sim part\n  let procSim = () => {\n    pingMat.uniforms.lastTexture.value = pongTarget.texture\n    pongMat.uniforms.lastTexture.value = pingTarget.texture\n  \n    pingMat.uniforms.time.value = window.performance.now() * 0.0001\n    pongMat.uniforms.time.value = window.performance.now() * 0.0001\n  \n    if (ticker % 2 === 0) {\n      gpuCompute.doRenderTarget(pongMat, pongTarget)\n    } else {\n      gpuCompute.doRenderTarget(pingMat, pingTarget)\n    }\n  }\n  \n  // display part\n  var geometry = new THREE.PlaneBufferGeometry(1.0, 1.0, SIZE - 1, SIZE - 1)\n  var material = new THREE.ShaderMaterial({\n    // blending: THREE.AdditiveBlending,\n    // depthTest: false,\n    transparent: true,\n    depthWrite: false,\n    vertexShader: displayV,\n    fragmentShader: displayF,\n    defines: {\n      resolution: 'vec2( ' + SIZE.toFixed(1) + ', ' + SIZE.toFixed(1) + ' )'\n    },\n    uniforms: {\n      time: { value: 0 },\n      opacity: { value: 0.5 },\n      posTex: { value: null },\n      \n      indexerTexture: { value: indexerTexture },\n  \n      picture: { value: new THREE.TextureLoader().load('https://picsum.photos/g/128?image=1081', (texture) => { texture.needsUpdate = true }) },\n      pointSize: { value: window.devicePixelRatio || 1.0 }\n    }\n  })\n  \n  var points = new THREE.Points(geometry, material)\n  // var points = ev.points = new THREE.Points(geometry, material)\n  points.matrixAutoUpdate = false\n  points.updateMatrix()\n  points.frustumCulled = false\n  \n  scene.add(points);\n  \n  let rAFID = 0\n  let rAF = () => {\n    rAFID = window.requestAnimationFrame(rAF)\n    procSim()\n    if (ticker % 2 === 0) {\n      material.uniforms.posTex.value = pongTarget.texture;\n    } else {\n      material.uniforms.posTex.value = pingTarget.texture;\n    }\n    ticker++\n    material.uniforms.time.value = window.performance.now() * 0.0001\n  }\n  rAFID = window.requestAnimationFrame(rAF);\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c4f82d6226b99001724979b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712module_737658780472","created_at":"2019-01-28T21:50:45.094Z","updated_at":"2019-01-28T21:50:45.094Z","__v":0},{"pos":{"x":33,"y":373},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\t\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c4f82d6226b990017249799","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4module_498705463997","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":44,"y":512},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\n// let getMeta = (key) => {\n// \treturn (box.meta.find(e => e.label === key) || {}).value\n// }\n\nResources.ensure(['threejs']).then(() => {\n  Resources.js.need('effect-composer', [\n    'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n    'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n    'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n    'https://threejs.org/examples/js/shaders/CopyShader.js',\n    'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n    'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n  ]);\n});\n\nvar self = this\n\nResources.ensure(['threejs', 'effect-composer', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.387},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":1.8},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1.2},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001b45"}],"_id":"5c4f82d6226b990017249798","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50module_673490855101","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"}],"connectors":[{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_59415369331","to":""},"idx":1545874257165,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b99001724976a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_59415369331","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_918256974382","to":"_hive_5c234d8b9fb407001754dd50socket_681924004470"},"idx":1545874257161,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onResize","color":"#ff7cfa","_id":"5c4f82d6226b99001724976b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_918256974382","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_648344830368","to":""},"idx":1546398709659,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b99001724976f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c2bf1674a54460017ee5842socket_648344830368","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_967655102975","to":"_hive_5c216d362dc0500017eec0d4socket_984258680163"},"idx":1545711358026,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f82d6226b99001724976c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_967655102975","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_472439359204","to":"_hive_5c296a16fde0030017366b46socket_927092796131"},"idx":1545695299854,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249772","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_472439359204","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_793234601449","to":""},"idx":1545695299862,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b99001724976d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_793234601449","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_815560743775","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_135549837207","to":""},"idx":1546043796475,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_815560743775","name":"my socket","color":"#92fe4b","_id":"5c4f82d6226b990017249770","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_135549837207","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_764885876841","to":""},"idx":1545695299859,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249774","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_764885876841","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_679824688311","to":""},"idx":1545874257164,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f82d6226b99001724976e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_679824688311","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_681924004470","to":"_hive_5c234d8b9fb407001754dd50socket_918256974382"},"idx":1545875829113,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f82d6226b990017249777","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_681924004470","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_984258680163","to":"_hive_5c216d362dc0500017eec0d4socket_967655102975"},"idx":1545704570549,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249773","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_984258680163","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_577333067774","to":"_hive_5c24382d9adca6001780ced4socket_314573235936"},"idx":1546285687328,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onTimeline","color":"#a8ceff","_id":"5c4f82d6226b990017249775","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c29c764e083af0017f21757socket_577333067774","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_118020687842","to":""},"idx":1546065326415,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline6","color":"#a8ceff","_id":"5c4f82d6226b99001724977c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_118020687842","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_624337151058","to":""},"idx":1545711358029,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize2","color":"#ff7cfa","_id":"5c4f82d6226b990017249779","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_624337151058","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_706901781830","to":"_hive_5c296a16fde0030017366b46socket_473040720177"},"idx":1545695299853,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249771","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_706901781830","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_711443654290","to":""},"idx":1545711358036,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize3","color":"#ff7cfa","_id":"5c4f82d6226b990017249778","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_711443654290","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_314573235936","to":"_hive_5c29c764e083af0017f21757socket_577333067774"},"idx":1546065326406,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline1","color":"#a8ceff","_id":"5c4f82d6226b990017249781","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_314573235936","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_9552257515","to":"_hive_5c216d362dc0500017eec0d4socket_1084991658835"},"idx":1545711358027,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize1","color":"#ff7cfa","_id":"5c4f82d6226b99001724977e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_9552257515","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_400210257960","to":"_hive_5c216d362dc0500017eec0d4socket_516251817815"},"idx":1545874257159,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f82d6226b990017249776","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_400210257960","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_927092796131","to":"_hive_5c216d362dc0500017eec0d4socket_472439359204"},"idx":1546239396071,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onFrame","color":"#05f1de","_id":"5c4f82d6226b99001724977a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c296a16fde0030017366b46socket_927092796131","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_342084457046","to":""},"idx":1546065326411,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline4","color":"#a8ceff","_id":"5c4f82d6226b99001724977d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_342084457046","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_473040720177","to":"_hive_5c216d362dc0500017eec0d4socket_706901781830"},"idx":1546234840006,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f82d6226b990017249786","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c296a16fde0030017366b46socket_473040720177","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_289414618978","to":""},"idx":1546065326410,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline3","color":"#a8ceff","_id":"5c4f82d6226b990017249783","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_289414618978","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_907889095702","to":""},"idx":1545695299855,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b99001724977b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_907889095702","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","to":"_hive_5c216d362dc0500017eec0d4socket_9552257515"},"idx":1545704570551,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f82d6226b990017249782","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_43083576117","to":""},"idx":1545874257166,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b99001724977f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_43083576117","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_280251465660","to":""},"idx":1545695299857,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249788","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_280251465660","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_122128054140","to":""},"idx":1545874257167,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b99001724978b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c234d8b9fb407001754dd50socket_122128054140","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_237021460432","to":""},"idx":1546065326413,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline5","color":"#a8ceff","_id":"5c4f82d6226b990017249780","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_237021460432","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_107133150501","to":""},"idx":1546395685802,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onClock","color":"#eaca38","_id":"5c4f82d6226b990017249787","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c2bf1674a54460017ee5842socket_107133150501","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","to":""},"idx":1546398709657,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b990017249784","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c4f6e9f226b990017249712module_737658780472"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_300323104773","to":"_hive_5c4f6e9f226b990017249712socket_3264529383"},"idx":1546065326407,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline2","color":"#a8ceff","_id":"5c4f82d6226b99001724978c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_300323104773","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_882360011137","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_158213344185","to":""},"idx":1548711017215,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c4f6e9f226b990017249712module_882360011137","name":"onClock","color":"#e9ca38","_id":"5c4f82d6226b99001724978d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_158213344185","created_at":"2019-01-28T21:30:17.326Z","updated_at":"2019-01-28T21:30:17.326Z","__v":0},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_516251817815","to":"_hive_5c234d8b9fb407001754dd50socket_400210257960"},"idx":1545704570555,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b990017249785","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_516251817815","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z","onHand":false},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_652014517913","to":""},"idx":1548712245233,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"onTimeline","color":"#a8ceff","_id":"5c4f82d6226b990017249790","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_652014517913","created_at":"2019-01-28T21:50:45.343Z","updated_at":"2019-01-28T21:50:45.343Z","__v":0},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c29c764e083af0017f21757module_11610133074"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_630105669056","to":"_hive_5c29c764e083af0017f21757socket_514282842606"},"idx":1546065326417,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline7","color":"#a8ceff","_id":"5c4f82d6226b990017249789","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c24382d9adca6001780ced4socket_630105669056","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_757304952328","to":""},"idx":1545695299860,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f82d6226b99001724978a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c216d362dc0500017eec0d4socket_757304952328","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_920586834868","to":""},"idx":1548712245234,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b990017249791","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_920586834868","created_at":"2019-01-28T21:50:45.348Z","updated_at":"2019-01-28T21:50:45.348Z","__v":0},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_1008781842161","to":""},"idx":1548712245235,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b990017249792","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_1008781842161","created_at":"2019-01-28T21:50:45.351Z","updated_at":"2019-01-28T21:50:45.351Z","__v":0},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_447783470714","to":""},"idx":1548712245232,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b99001724978f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_447783470714","created_at":"2019-01-28T21:50:45.340Z","updated_at":"2019-01-28T21:50:45.340Z","__v":0},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_3264529383","to":"_hive_5c24382d9adca6001780ced4socket_300323104773"},"idx":1548712245231,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"onTimeline","color":"#a8ceff","_id":"5c4f82d6226b99001724978e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_3264529383","created_at":"2019-01-28T21:50:45.334Z","updated_at":"2019-01-28T21:50:45.334Z","__v":0},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_780531520881","to":""},"idx":1548712245237,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b990017249794","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_780531520881","created_at":"2019-01-28T21:50:45.361Z","updated_at":"2019-01-28T21:50:45.361Z","__v":0},{"mod":{"from":"_hive_5c4f6e9f226b990017249712module_737658780472","to":""},"socket":{"from":"_hive_5c4f6e9f226b990017249712socket_781199807145","to":""},"idx":1548712245236,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c4f6e9f226b990017249712module_737658780472","name":"my socket","color":"#e4e3e5","_id":"5c4f82d6226b990017249793","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f82d6226b990017249769","id":"_hive_5c4f6e9f226b990017249712socket_781199807145","created_at":"2019-01-28T21:50:45.356Z","updated_at":"2019-01-28T21:50:45.356Z","__v":0}],"template":{"modules":[{"pos":{"x":368,"y":287},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","name":"Simple Transform Sliders","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll\n} = env\n//\nlet self = this\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nvar evt = {}\nlet getItems = () => box.meta.reduce((c, ie, idx) => {\n  c[ie.label] = ie.value\n  return c\n}, evt);\n\nInput('onTimeline', (v) => {\n  Output('uiControl', getItems())\n  Output('onTimeline', v)\n})\n\n","meta":[{"id":"_r264927804","label":"translateX","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r392841688","label":"translateY","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r914207710","label":"translateZ","type":"range","min":"-200","max":"200","step":0.1,"value":0},{"id":"_r172174598","label":"rotateX","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r274536640","label":"rotateY","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r759804655","label":"rotateZ","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r419232716","label":"scaleX","type":"range","min":"-100","max":"100","step":0.1,"value":5},{"id":"_r722167741","label":"scaleY","type":"range","min":"0","max":"50","step":"0.05","value":1},{"id":"_r773223356","label":"scaleZ","type":"range","min":"-100","max":"100","step":0.1,"value":5}],"_id":"5c2be9ff4a54460017ee57c3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75684660185","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = progress * m.value.totalTime\n    } else {\n      time = performance.now() / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = performance.now() / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":2.7755575615628914e-16,"afterStart":3.848361018826129,"beforeEnd":11.999999999999998,"end":15.000000000000002,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.2915476190476283,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2bee7d4a54460017ee582c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_998063926878","__v":0},{"pos":{"x":94,"y":154},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output('onFrame', { rect })\n})\n\nIO.Input('onFrame', () => {\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c2bec774a54460017ee57fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75273206587","__v":0},{"pos":{"x":75,"y":365},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.js.need('blooming-effect', [\n  'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n  'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n  'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n  'https://threejs.org/examples/js/shaders/CopyShader.js',\n  'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n  'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n]);\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.211},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":2.4},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001750"}],"_id":"5c2bec864a54460017ee5808","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_745027424560","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":12.150000000000004,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2c34a2efaf8e0017b43a0c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842module_1052875161852","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.0, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(randV3);\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor)\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  });\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c2e83aba2a2ac00177a613a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c2e73cab5f7ed00178e30ee","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","name":"煙火噴 Nova Blaster","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c308b7dcd5a5f0f21117274","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62module_950943352397","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","name":"SuperWarm","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 8.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.1;\n  toBall(noiser, az, el);\n  \n  lastPos.xyz = fromBall(75.0, az, el);\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nattribute vec3 htV3;\nattribute vec3 randV3;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  vec4 velocityAmount = texture2D( velocityInfo, uv );\n  particleVel = velocityAmount;\n  \n  vec3 newPos = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n  vec3 transformed = newPos + newPos * htV3;\n  \n  // if (htV3.x == 1.0) {\n  //   newPos = newPos - vec3(velocityAmount);\n  // }\n  \n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n  var starLightGeo = (nx = 100, ny = 100) => {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let uvValueVec2 = [];\n    let numLiunes = nx * ny\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var iy = 0; iy < ny; iy++) {\n      for (var ix = 0; ix < nx; ix++) {\n        let i = ix + iy * ny;\n        \n        let xx = ix / nx;\n        let yy = iy / ny;\n        \n        let x1 = 0;\n        let y1 = 0;\n        let z1 = 0;\n        \n        let x2 = 0;\n        let y2 = 0;\n        let z2 = 0;\n        \n        tempV3.set(x2, y2, z2);\n        temp2V3.set(0.0, 0.0, 1.0);\n        tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n        \n        x2 = tempV3.x\n        y2 = tempV3.y\n        z2 = tempV3.z\n        \n        let r1x = Math.random()\n        let r1y = Math.random()\n        let r1z = Math.random()\n        let r2x = 0\n        let r2y = 0\n        let r2z = 0\n        \n        let idx = i / n\n        \n        if (i % 2 === 0) {\n          uvValueVec2.push(xx, yy);\n      \n          headTailValueVec3.push(1.0, 1.0, 1.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r1x, r1y, r1z);\n          positionValueVec3.push(x1, y1, z1);\n          \n          uvValueVec2.push(xx, yy);\n        \n          headTailValueVec3.push(0.0, 0.0, 0.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r2x, r2y, r2z);\n          positionValueVec3.push(x2, y2, z2);\n        }\n        \n        // if (i % 2 === 0) {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(1.0, 1.0, 1.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r1x, r1y, r1z);\n        //   positionValueVec3.push(x1, y1, z1);\n          \n          \n        // } else {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(0.0, 0.0, 0.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r2x, r2y, r2z);\n        //   positionValueVec3.push(x2, y2, z2);\n        // }\n      }\n    }\n    \n    \n    \n    geometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvValueVec2), 2));\n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('htV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1);\n    \n    geometry = starLightGeo(WIDTH, WIDTH);\n    \n    var points = new THREE.LineSegments(geometry, material);\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0233},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c35236d2b601f001738f193","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9cmodule_223817724340","created_at":"2019-01-08T22:25:49.580Z","updated_at":"2019-01-08T22:25:49.580Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c37adf1d864b90e1719379f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769module_608635765892","created_at":"2019-01-10T20:41:21.283Z","updated_at":"2019-01-10T20:41:21.283Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c42585d61be0d267c5c73fb","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","created_at":"2019-01-18T22:51:09.846Z","updated_at":"2019-01-18T22:51:09.846Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","name":"Rainbow CSS Background","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += `linear-gradient(${(degree * 360) % 360}deg, `\n    //gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += `${getMeta('color')},`\n    gradBg += `${getMeta('color2')}`\n    // gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n","meta":[{"id":"_r313732479","label":"color","type":"color","value":"#00ffac"},{"id":"_r852764851","label":"color2","type":"color","value":"#00d8f9"}],"_id":"5c42831709fbab0ec72c4fa7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17module_794457425519","created_at":"2019-01-19T01:53:27.532Z","updated_at":"2019-01-19T01:53:27.532Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c4f7468226b990017249754","name":"Inst Whammy WebM Encoder ","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onClock', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f7494226b990017249756","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c4f6e9f226b990017249712module_291302930050","created_at":"2019-01-28T21:31:00.253Z","updated_at":"2019-01-28T21:31:00.253Z","__v":0}],"connectors":[{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_27453514535","to":""},"idx":1546381823618,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_27453514535","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_416771796454","to":""},"idx":1546381823621,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_416771796454","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_173129244229","to":""},"idx":1546381823622,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"uiControl","color":"#ffda00","_id":"5c2be9ff4a54460017ee57c6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_173129244229","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_81012179446","to":""},"idx":1546382973297,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline3","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_81012179446","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_99790552027","to":""},"idx":1546382477540,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5816","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_99790552027","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_645880341729","to":""},"idx":1546382455400,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize2","color":"#ff7cfa","_id":"5c2bec774a54460017ee5800","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_645880341729","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_612662920218","to":""},"idx":1546382470374,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_612662920218","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_996465585796","to":""},"idx":1546382455403,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee5802","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_996465585796","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_519663161578","to":""},"idx":1546382464830,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5805","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_519663161578","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_334622077167","to":""},"idx":1546382464834,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5807","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_334622077167","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_324063758928","to":""},"idx":1546382470372,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee580b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_324063758928","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_523859359836","to":""},"idx":1546382470376,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_523859359836","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_759892384697","to":""},"idx":1546382973305,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline7","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5833","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_759892384697","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_219566954042","to":""},"idx":1546382470379,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onTimeline","color":"#a8ceff","_id":"5c2bec864a54460017ee580f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_219566954042","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_978315655837","to":""},"idx":1546382477531,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5811","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_978315655837","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1002887713637","to":""},"idx":1546382470368,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee5809","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1002887713637","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_123487416285","to":""},"idx":1546382973299,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline4","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5830","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_123487416285","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_303554106652","to":""},"idx":1546382477536,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5813","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_303554106652","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_875441463206","to":""},"idx":1546382973294,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline1","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_875441463206","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_321012926786","to":""},"idx":1546382973301,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline5","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5831","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_321012926786","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_695713574221","to":""},"idx":1546382470377,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_695713574221","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_755527812656","to":""},"idx":1546382477534,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"uiControls","color":"#ffda00","_id":"5c2bec8d4a54460017ee5812","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_755527812656","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_451527354005","to":""},"idx":1546382455401,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize3","color":"#ff7cfa","_id":"5c2bec774a54460017ee5801","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_451527354005","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_584821513880","to":""},"idx":1546382973306,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"input","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onFrame","color":"#05f1de","_id":"5c2bee7d4a54460017ee5834","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_584821513880","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_995818899006","to":""},"idx":1546382470371,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onResize","color":"#ff7cfa","_id":"5c2bec864a54460017ee580a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_995818899006","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_693769435438","to":""},"idx":1546382464827,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5804","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_693769435438","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_248879527054","to":""},"idx":1546382973296,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline2","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_248879527054","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_738903359977","to":""},"idx":1546382455398,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize1","color":"#ff7cfa","_id":"5c2bec774a54460017ee57ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_738903359977","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1019523524659","to":""},"idx":1546382464832,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5806","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1019523524659","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_921698012366","to":""},"idx":1546382477541,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5817","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_921698012366","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_238584382434","to":""},"idx":1546382973303,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline6","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5832","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_238584382434","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_33359812855","to":""},"idx":1546382477539,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5815","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_33359812855","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_859459509584","to":""},"idx":1546382455395,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee57fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_859459509584","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_468455196847","to":""},"idx":1546382477538,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5814","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_468455196847","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_677938423842","to":""},"idx":1546392960238,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_677938423842","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_254873398863","to":""},"idx":1546400930296,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onFrame","color":"#05f1de","_id":"5c2c34a2efaf8e0017b43a14","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_254873398863","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_638419508312","to":""},"idx":1546392960240,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_638419508312","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_33801279554","to":""},"idx":1546400930288,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline3","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_33801279554","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_383438085145","to":""},"idx":1546400930289,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline4","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a10","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_383438085145","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_530059647969","to":""},"idx":1546400930282,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline1","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_530059647969","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_199945879640","to":""},"idx":1546400930293,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline6","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a12","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_199945879640","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_86253422236","to":""},"idx":1546400286714,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onClock","color":"#e9ca38","_id":"5c2c321eefaf8e0017b43a0a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_86253422236","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_939492560450","to":""},"idx":1546400286716,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onStart","color":"#e4e3e5","_id":"5c2c321fefaf8e0017b43a0b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_939492560450","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208648917120","to":""},"idx":1546400930285,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline2","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_208648917120","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_514979943166","to":""},"idx":1546400930292,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline5","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a11","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_514979943166","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_700031301423","to":""},"idx":1546400930294,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline7","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a13","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_700031301423","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","to":""},"idx":1546428436835,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onStart","color":"#e4e3e5","_id":"5c2ca015fed4f60017795c69","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","to":""},"idx":1546428436832,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onClock","color":"#e9ca38","_id":"5c2ca014fed4f60017795c68","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","to":""},"idx":1546552236044,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6140","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","to":""},"idx":1546548171246,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30f0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","to":""},"idx":1546552236037,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","to":""},"idx":1546552236041,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","to":""},"idx":1546552236046,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6141","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","to":""},"idx":1546552236043,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","to":""},"idx":1546552236039,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","to":""},"idx":1546548171228,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30ef","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","to":""},"idx":1546552236035,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","to":""},"idx":1546669001835,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30e8","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","name":"onClock","color":"#e9ca38","_id":"5c304bc90596a513ed715077","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","to":""},"idx":1546685310202,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117276","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","to":""},"idx":1546685310199,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117275","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_145251118083","to":""},"idx":1546986349763,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"input","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f194","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_145251118083","created_at":"2019-01-08T22:25:49.864Z","updated_at":"2019-01-08T22:25:49.864Z","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_402320691394","to":""},"idx":1546986349767,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"output","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f195","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_402320691394","created_at":"2019-01-08T22:25:49.886Z","updated_at":"2019-01-08T22:25:49.886Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_432682571310","to":""},"idx":1547152881556,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf1d864b90e171937a0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_432682571310","created_at":"2019-01-10T20:41:21.558Z","updated_at":"2019-01-10T20:41:21.558Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_951913996296","to":""},"idx":1547152881560,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_951913996296","created_at":"2019-01-10T20:41:22.014Z","updated_at":"2019-01-10T20:41:22.014Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_811060709425","to":""},"idx":1547152881561,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_811060709425","created_at":"2019-01-10T20:41:22.015Z","updated_at":"2019-01-10T20:41:22.015Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_298173305401","to":""},"idx":1547152881559,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a2","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_298173305401","created_at":"2019-01-10T20:41:22.013Z","updated_at":"2019-01-10T20:41:22.013Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_537577535677","to":""},"idx":1547152881563,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_537577535677","created_at":"2019-01-10T20:41:22.018Z","updated_at":"2019-01-10T20:41:22.018Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_999877641099","to":""},"idx":1547152881558,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a1","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_999877641099","created_at":"2019-01-10T20:41:22.011Z","updated_at":"2019-01-10T20:41:22.011Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_966742041419","to":""},"idx":1547152881565,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"input","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onClock","color":"#eaca38","_id":"5c37adf2d864b90e171937a7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_966742041419","created_at":"2019-01-10T20:41:22.023Z","updated_at":"2019-01-10T20:41:22.023Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_1020478642380","to":""},"idx":1547152881564,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_1020478642380","created_at":"2019-01-10T20:41:22.022Z","updated_at":"2019-01-10T20:41:22.022Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","to":""},"idx":1547851870081,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fc","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","created_at":"2019-01-18T22:51:10.077Z","updated_at":"2019-01-18T22:51:10.077Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","to":""},"idx":1547851870082,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","created_at":"2019-01-18T22:51:10.079Z","updated_at":"2019-01-18T22:51:10.079Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","to":""},"idx":1547851870084,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","created_at":"2019-01-18T22:51:10.084Z","updated_at":"2019-01-18T22:51:10.084Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","to":""},"idx":1547851870083,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","created_at":"2019-01-18T22:51:10.082Z","updated_at":"2019-01-18T22:51:10.082Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_937448995212","to":""},"idx":1547862807853,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa8","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_937448995212","created_at":"2019-01-19T01:53:27.856Z","updated_at":"2019-01-19T01:53:27.856Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_706467872897","to":""},"idx":1547862807855,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa9","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_706467872897","created_at":"2019-01-19T01:53:27.865Z","updated_at":"2019-01-19T01:53:27.865Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_586583895383","to":""},"idx":1547862807857,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faa","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_586583895383","created_at":"2019-01-19T01:53:27.869Z","updated_at":"2019-01-19T01:53:27.869Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_674479069285","to":""},"idx":1547862807859,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fac","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_674479069285","created_at":"2019-01-19T01:53:27.875Z","updated_at":"2019-01-19T01:53:27.875Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","to":""},"idx":1547862807858,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fab","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","created_at":"2019-01-19T01:53:27.872Z","updated_at":"2019-01-19T01:53:27.872Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_150219820209","to":""},"idx":1547862807860,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fad","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_150219820209","created_at":"2019-01-19T01:53:27.878Z","updated_at":"2019-01-19T01:53:27.878Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_303024987482","to":""},"idx":1547862807862,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faf","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_303024987482","created_at":"2019-01-19T01:53:27.883Z","updated_at":"2019-01-19T01:53:27.883Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_321473473110","to":""},"idx":1547862807861,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fae","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_321473473110","created_at":"2019-01-19T01:53:27.880Z","updated_at":"2019-01-19T01:53:27.880Z","__v":0}]}},"versions":[],"sessionID":"_0gpn6byej","projectID":"_0gpn6byej","userID":"_0gpn6byej"};

/***/ }),

/***/ "1ec9":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("f772");
var document = __webpack_require__("e53d").document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),

/***/ "20d6":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)
var $export = __webpack_require__("5ca1");
var $find = __webpack_require__("0a49")(6);
var KEY = 'findIndex';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  findIndex: function findIndex(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
__webpack_require__("9c6c")(KEY);


/***/ }),

/***/ "20fd":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $defineProperty = __webpack_require__("d9f6");
var createDesc = __webpack_require__("aebd");

module.exports = function (object, index, value) {
  if (index in object) $defineProperty.f(object, index, createDesc(0, value));
  else object[index] = value;
};


/***/ }),

/***/ "211d":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".handle.handle-br,.vdr{border:none!important}.handle.handle-br{background-image:linear-gradient(135deg,#72edf2 10%,#5151e5)!important;width:25px!important;height:25px!important;border-radius:50%!important;display:block!important;z-index:1000!important;opacity:0;-webkit-transition:opacity .35s;transition:opacity .35s}.handle.handle-br:hover{opacity:1}.handle.handle-bl{border:none!important;background-image:linear-gradient(135deg,#72edf2 10%,#5151e5)!important;width:25px!important;height:25px!important;border-radius:50%!important;display:block!important;z-index:1000!important;opacity:0;-webkit-transition:opacity .35s;transition:opacity .35s}.handle.handle-bl:hover{opacity:1}.handle.handle-tl{border:none!important;background-image:linear-gradient(135deg,#72edf2 10%,#5151e5)!important;width:25px!important;height:25px!important;border-radius:50%!important;display:block!important;z-index:1000!important;opacity:0;-webkit-transition:opacity .35s;transition:opacity .35s}.handle.handle-tl:hover{opacity:1}", ""]);

// exports


/***/ }),

/***/ "214f":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

__webpack_require__("b0c5");
var redefine = __webpack_require__("2aba");
var hide = __webpack_require__("32e9");
var fails = __webpack_require__("79e5");
var defined = __webpack_require__("be13");
var wks = __webpack_require__("2b4c");
var regexpExec = __webpack_require__("520a");

var SPECIES = wks('species');

var REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {
  // #replace needs built-in support for named groups.
  // #match works fine because it just return the exec results, even if it has
  // a "grops" property.
  var re = /./;
  re.exec = function () {
    var result = [];
    result.groups = { a: '7' };
    return result;
  };
  return ''.replace(re, '$<a>') !== '7';
});

var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {
  // Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec
  var re = /(?:)/;
  var originalExec = re.exec;
  re.exec = function () { return originalExec.apply(this, arguments); };
  var result = 'ab'.split(re);
  return result.length === 2 && result[0] === 'a' && result[1] === 'b';
})();

module.exports = function (KEY, length, exec) {
  var SYMBOL = wks(KEY);

  var DELEGATES_TO_SYMBOL = !fails(function () {
    // String methods call symbol-named RegEp methods
    var O = {};
    O[SYMBOL] = function () { return 7; };
    return ''[KEY](O) != 7;
  });

  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {
    // Symbol-named RegExp methods call .exec
    var execCalled = false;
    var re = /a/;
    re.exec = function () { execCalled = true; return null; };
    if (KEY === 'split') {
      // RegExp[@@split] doesn't call the regex's exec method, but first creates
      // a new one. We need to return the patched regex when creating the new one.
      re.constructor = {};
      re.constructor[SPECIES] = function () { return re; };
    }
    re[SYMBOL]('');
    return !execCalled;
  }) : undefined;

  if (
    !DELEGATES_TO_SYMBOL ||
    !DELEGATES_TO_EXEC ||
    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||
    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)
  ) {
    var nativeRegExpMethod = /./[SYMBOL];
    var fns = exec(
      defined,
      SYMBOL,
      ''[KEY],
      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {
        if (regexp.exec === regexpExec) {
          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
            // The native String method already delegates to @@method (this
            // polyfilled function), leasing to infinite recursion.
            // We avoid it by directly calling the native @@method method.
            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };
          }
          return { done: true, value: nativeMethod.call(str, regexp, arg2) };
        }
        return { done: false };
      }
    );
    var strfn = fns[0];
    var rxfn = fns[1];

    redefine(String.prototype, KEY, strfn);
    hide(RegExp.prototype, SYMBOL, length == 2
      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
      // 21.2.5.11 RegExp.prototype[@@split](string, limit)
      ? function (string, arg) { return rxfn.call(string, this, arg); }
      // 21.2.5.6 RegExp.prototype[@@match](string)
      // 21.2.5.9 RegExp.prototype[@@search](string)
      : function (string) { return rxfn.call(string, this); }
    );
  }
};


/***/ }),

/***/ "2213":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".linker[data-v-c33fec0a]{text-decoration:underline;cursor:pointer;margin-left:5px}.adders[data-v-c33fec0a]{height:30px}.values[data-v-c33fec0a]{width:50px}", ""]);

// exports


/***/ }),

/***/ "230e":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("d3f4");
var document = __webpack_require__("7726").document;
// typeof document.createElement is 'object' in old IE
var is = isObject(document) && isObject(document.createElement);
module.exports = function (it) {
  return is ? document.createElement(it) : {};
};


/***/ }),

/***/ "2318":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".zoomba-enter-active[data-v-3da3219b],.zoomba-leave-active[data-v-3da3219b]{-webkit-transition:all 1s;transition:all 1s}.zoomba-enter[data-v-3da3219b],.zoomba-leave-to[data-v-3da3219b]{opacity:0;-webkit-transform:scale(0);transform:scale(0)}", ""]);

// exports


/***/ }),

/***/ "2350":
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),

/***/ "237a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/PreviewFrame/PreviewFrame.vue?vue&type=template&id=798a9402&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.enabled)?_c('iframe',{staticClass:"iframer",attrs:{"src":_vm.link,"frameborder":"0"}}):_vm._e()}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/PreviewFrame/PreviewFrame.vue?vue&type=template&id=798a9402&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.function.name.js
var es6_function_name = __webpack_require__("7f7f");

// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js
var runtime = __webpack_require__("96cf");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("3b8d");

// EXTERNAL MODULE: ./src/enos/Compos/APIs/builder.js + 1 modules
var builder = __webpack_require__("6f9b");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/PreviewFrame/PreviewFrame.vue?vue&type=script&lang=js&



//
//
//
//
// import * as enAPI from '../APIs/effectnode.js'

/* harmony default export */ var PreviewFramevue_type_script_lang_js_ = ({
  props: {
    Doc: {}
  },
  data: function data() {
    return {
      html: '',
      link: false
    };
  },
  mounted: function mounted() {
    return this.renderHTML();
  },
  methods: {
    renderHTML: function () {
      var _renderHTML = Object(asyncToGenerator["a" /* default */])(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee() {
        var Doc, boxes, connections, html;
        return regeneratorRuntime.wrap(function _callee$(_context) {
          while (1) {
            switch (_context.prev = _context.next) {
              case 0:
                Doc = this.Doc;
                boxes = Doc.root.boxes;
                connections = Doc.root.connections;
                Doc.root.modules = boxes.filter(function (b) {
                  return b.name.toLowerCase().indexOf('video encoder') === -1;
                });
                Doc.root.connectors = connections;
                _context.next = 7;
                return builder["fromDocToHTMLProd"]({
                  Doc: Doc
                });

              case 7:
                html = _context.sent;
                this.html = html;
                this.link = builder["makeHTMLLink"]({
                  HTML: html
                });

              case 10:
              case "end":
                return _context.stop();
            }
          }
        }, _callee, this);
      }));

      function renderHTML() {
        return _renderHTML.apply(this, arguments);
      }

      return renderHTML;
    }()
  }
});
// CONCATENATED MODULE: ./src/enos/Compos/PreviewFrame/PreviewFrame.vue?vue&type=script&lang=js&
 /* harmony default export */ var PreviewFrame_PreviewFramevue_type_script_lang_js_ = (PreviewFramevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/PreviewFrame/PreviewFrame.vue?vue&type=style&index=0&id=798a9402&scoped=true&lang=css&
var PreviewFramevue_type_style_index_0_id_798a9402_scoped_true_lang_css_ = __webpack_require__("8b8a");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Compos/PreviewFrame/PreviewFrame.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  PreviewFrame_PreviewFramevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "798a9402",
  null
  
)

/* harmony default export */ var PreviewFrame = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "23c6":
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__("2d95");
var TAG = __webpack_require__("2b4c")('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),

/***/ "241e":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__("25eb");
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),

/***/ "24c5":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__("b8e3");
var global = __webpack_require__("e53d");
var ctx = __webpack_require__("d864");
var classof = __webpack_require__("40c3");
var $export = __webpack_require__("63b6");
var isObject = __webpack_require__("f772");
var aFunction = __webpack_require__("79aa");
var anInstance = __webpack_require__("1173");
var forOf = __webpack_require__("a22a");
var speciesConstructor = __webpack_require__("f201");
var task = __webpack_require__("4178").set;
var microtask = __webpack_require__("aba2")();
var newPromiseCapabilityModule = __webpack_require__("656e");
var perform = __webpack_require__("4439");
var userAgent = __webpack_require__("bc13");
var promiseResolve = __webpack_require__("cd78");
var PROMISE = 'Promise';
var TypeError = global.TypeError;
var process = global.process;
var versions = process && process.versions;
var v8 = versions && versions.v8 || '';
var $Promise = global[PROMISE];
var isNode = classof(process) == 'process';
var empty = function () { /* empty */ };
var Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;
var newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;

var USE_NATIVE = !!function () {
  try {
    // correct subclassing with @@species support
    var promise = $Promise.resolve(1);
    var FakePromise = (promise.constructor = {})[__webpack_require__("5168")('species')] = function (exec) {
      exec(empty, empty);
    };
    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
    return (isNode || typeof PromiseRejectionEvent == 'function')
      && promise.then(empty) instanceof FakePromise
      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables
      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565
      // we can't detect it synchronously, so just check versions
      && v8.indexOf('6.6') !== 0
      && userAgent.indexOf('Chrome/66') === -1;
  } catch (e) { /* empty */ }
}();

// helpers
var isThenable = function (it) {
  var then;
  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
};
var notify = function (promise, isReject) {
  if (promise._n) return;
  promise._n = true;
  var chain = promise._c;
  microtask(function () {
    var value = promise._v;
    var ok = promise._s == 1;
    var i = 0;
    var run = function (reaction) {
      var handler = ok ? reaction.ok : reaction.fail;
      var resolve = reaction.resolve;
      var reject = reaction.reject;
      var domain = reaction.domain;
      var result, then, exited;
      try {
        if (handler) {
          if (!ok) {
            if (promise._h == 2) onHandleUnhandled(promise);
            promise._h = 1;
          }
          if (handler === true) result = value;
          else {
            if (domain) domain.enter();
            result = handler(value); // may throw
            if (domain) {
              domain.exit();
              exited = true;
            }
          }
          if (result === reaction.promise) {
            reject(TypeError('Promise-chain cycle'));
          } else if (then = isThenable(result)) {
            then.call(result, resolve, reject);
          } else resolve(result);
        } else reject(value);
      } catch (e) {
        if (domain && !exited) domain.exit();
        reject(e);
      }
    };
    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach
    promise._c = [];
    promise._n = false;
    if (isReject && !promise._h) onUnhandled(promise);
  });
};
var onUnhandled = function (promise) {
  task.call(global, function () {
    var value = promise._v;
    var unhandled = isUnhandled(promise);
    var result, handler, console;
    if (unhandled) {
      result = perform(function () {
        if (isNode) {
          process.emit('unhandledRejection', value, promise);
        } else if (handler = global.onunhandledrejection) {
          handler({ promise: promise, reason: value });
        } else if ((console = global.console) && console.error) {
          console.error('Unhandled promise rejection', value);
        }
      });
      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
    } promise._a = undefined;
    if (unhandled && result.e) throw result.v;
  });
};
var isUnhandled = function (promise) {
  return promise._h !== 1 && (promise._a || promise._c).length === 0;
};
var onHandleUnhandled = function (promise) {
  task.call(global, function () {
    var handler;
    if (isNode) {
      process.emit('rejectionHandled', promise);
    } else if (handler = global.onrejectionhandled) {
      handler({ promise: promise, reason: promise._v });
    }
  });
};
var $reject = function (value) {
  var promise = this;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  promise._v = value;
  promise._s = 2;
  if (!promise._a) promise._a = promise._c.slice();
  notify(promise, true);
};
var $resolve = function (value) {
  var promise = this;
  var then;
  if (promise._d) return;
  promise._d = true;
  promise = promise._w || promise; // unwrap
  try {
    if (promise === value) throw TypeError("Promise can't be resolved itself");
    if (then = isThenable(value)) {
      microtask(function () {
        var wrapper = { _w: promise, _d: false }; // wrap
        try {
          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
        } catch (e) {
          $reject.call(wrapper, e);
        }
      });
    } else {
      promise._v = value;
      promise._s = 1;
      notify(promise, false);
    }
  } catch (e) {
    $reject.call({ _w: promise, _d: false }, e); // wrap
  }
};

// constructor polyfill
if (!USE_NATIVE) {
  // 25.4.3.1 Promise(executor)
  $Promise = function Promise(executor) {
    anInstance(this, $Promise, PROMISE, '_h');
    aFunction(executor);
    Internal.call(this);
    try {
      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
    } catch (err) {
      $reject.call(this, err);
    }
  };
  // eslint-disable-next-line no-unused-vars
  Internal = function Promise(executor) {
    this._c = [];             // <- awaiting reactions
    this._a = undefined;      // <- checked in isUnhandled reactions
    this._s = 0;              // <- state
    this._d = false;          // <- done
    this._v = undefined;      // <- value
    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
    this._n = false;          // <- notify
  };
  Internal.prototype = __webpack_require__("5c95")($Promise.prototype, {
    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
    then: function then(onFulfilled, onRejected) {
      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;
      reaction.fail = typeof onRejected == 'function' && onRejected;
      reaction.domain = isNode ? process.domain : undefined;
      this._c.push(reaction);
      if (this._a) this._a.push(reaction);
      if (this._s) notify(this, false);
      return reaction.promise;
    },
    // 25.4.5.1 Promise.prototype.catch(onRejected)
    'catch': function (onRejected) {
      return this.then(undefined, onRejected);
    }
  });
  OwnPromiseCapability = function () {
    var promise = new Internal();
    this.promise = promise;
    this.resolve = ctx($resolve, promise, 1);
    this.reject = ctx($reject, promise, 1);
  };
  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {
    return C === $Promise || C === Wrapper
      ? new OwnPromiseCapability(C)
      : newGenericPromiseCapability(C);
  };
}

$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });
__webpack_require__("45f2")($Promise, PROMISE);
__webpack_require__("4c95")(PROMISE);
Wrapper = __webpack_require__("584a")[PROMISE];

// statics
$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
  // 25.4.4.5 Promise.reject(r)
  reject: function reject(r) {
    var capability = newPromiseCapability(this);
    var $$reject = capability.reject;
    $$reject(r);
    return capability.promise;
  }
});
$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
  // 25.4.4.6 Promise.resolve(x)
  resolve: function resolve(x) {
    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);
  }
});
$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__("4ee1")(function (iter) {
  $Promise.all(iter)['catch'](empty);
})), PROMISE, {
  // 25.4.4.1 Promise.all(iterable)
  all: function all(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var resolve = capability.resolve;
    var reject = capability.reject;
    var result = perform(function () {
      var values = [];
      var index = 0;
      var remaining = 1;
      forOf(iterable, false, function (promise) {
        var $index = index++;
        var alreadyCalled = false;
        values.push(undefined);
        remaining++;
        C.resolve(promise).then(function (value) {
          if (alreadyCalled) return;
          alreadyCalled = true;
          values[$index] = value;
          --remaining || resolve(values);
        }, reject);
      });
      --remaining || resolve(values);
    });
    if (result.e) reject(result.v);
    return capability.promise;
  },
  // 25.4.4.4 Promise.race(iterable)
  race: function race(iterable) {
    var C = this;
    var capability = newPromiseCapability(C);
    var reject = capability.reject;
    var result = perform(function () {
      forOf(iterable, false, function (promise) {
        C.resolve(promise).then(capability.resolve, reject);
      });
    });
    if (result.e) reject(result.v);
    return capability.promise;
  }
});


/***/ }),

/***/ "25eb":
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),

/***/ "2631":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("aeef");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("380f7eb3", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "268f":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("fde4");

/***/ }),

/***/ "278f":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("7714");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("ca1d00f4", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "2877":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return normalizeComponent; });
/* globals __VUE_SSR_CONTEXT__ */

// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).
// This module is a runtime utility for cleaner component module output and will
// be included in the final webpack user bundle.

function normalizeComponent (
  scriptExports,
  render,
  staticRenderFns,
  functionalTemplate,
  injectStyles,
  scopeId,
  moduleIdentifier, /* server only */
  shadowMode /* vue-cli only */
) {
  // Vue.extend constructor export interop
  var options = typeof scriptExports === 'function'
    ? scriptExports.options
    : scriptExports

  // render functions
  if (render) {
    options.render = render
    options.staticRenderFns = staticRenderFns
    options._compiled = true
  }

  // functional template
  if (functionalTemplate) {
    options.functional = true
  }

  // scopedId
  if (scopeId) {
    options._scopeId = 'data-v-' + scopeId
  }

  var hook
  if (moduleIdentifier) { // server build
    hook = function (context) {
      // 2.3 injection
      context =
        context || // cached call
        (this.$vnode && this.$vnode.ssrContext) || // stateful
        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional
      // 2.2 with runInNewContext: true
      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {
        context = __VUE_SSR_CONTEXT__
      }
      // inject component styles
      if (injectStyles) {
        injectStyles.call(this, context)
      }
      // register component module identifier for async chunk inferrence
      if (context && context._registeredComponents) {
        context._registeredComponents.add(moduleIdentifier)
      }
    }
    // used by ssr in case component is cached and beforeCreate
    // never gets called
    options._ssrRegister = hook
  } else if (injectStyles) {
    hook = shadowMode
      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }
      : injectStyles
  }

  if (hook) {
    if (options.functional) {
      // for template-only hot-reload because in that case the render fn doesn't
      // go through the normalizer
      options._injectStyles = hook
      // register for functioal component in vue file
      var originalRender = options.render
      options.render = function renderWithStyleInjection (h, context) {
        hook.call(context)
        return originalRender(h, context)
      }
    } else {
      // inject component registration as beforeCreate hook
      var existing = options.beforeCreate
      options.beforeCreate = existing
        ? [].concat(existing, hook)
        : [hook]
    }
  }

  return {
    exports: scriptExports,
    options: options
  }
}


/***/ }),

/***/ "294c":
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),

/***/ "2aba":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("7726");
var hide = __webpack_require__("32e9");
var has = __webpack_require__("69a8");
var SRC = __webpack_require__("ca5a")('src');
var TO_STRING = 'toString';
var $toString = Function[TO_STRING];
var TPL = ('' + $toString).split(TO_STRING);

__webpack_require__("8378").inspectSource = function (it) {
  return $toString.call(it);
};

(module.exports = function (O, key, val, safe) {
  var isFunction = typeof val == 'function';
  if (isFunction) has(val, 'name') || hide(val, 'name', key);
  if (O[key] === val) return;
  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
  if (O === global) {
    O[key] = val;
  } else if (!safe) {
    delete O[key];
    hide(O, key, val);
  } else if (O[key]) {
    O[key] = val;
  } else {
    hide(O, key, val);
  }
// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
})(Function.prototype, TO_STRING, function toString() {
  return typeof this == 'function' && this[SRC] || $toString.call(this);
});


/***/ }),

/***/ "2aeb":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__("cb7c");
var dPs = __webpack_require__("1495");
var enumBugKeys = __webpack_require__("e11e");
var IE_PROTO = __webpack_require__("613b")('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__("230e")('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__("fab2").appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),

/***/ "2b4c":
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__("5537")('wks');
var uid = __webpack_require__("ca5a");
var Symbol = __webpack_require__("7726").Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),

/***/ "2cb0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_id_0c874d6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c9c7");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_id_0c874d6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_id_0c874d6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Projects_vue_vue_type_style_index_0_id_0c874d6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "2ce8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TimeTrack_vue_vue_type_style_index_0_id_ce3c328a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("a03e");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TimeTrack_vue_vue_type_style_index_0_id_ce3c328a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TimeTrack_vue_vue_type_style_index_0_id_ce3c328a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TimeTrack_vue_vue_type_style_index_0_id_ce3c328a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "2d00":
/***/ (function(module, exports) {

module.exports = false;


/***/ }),

/***/ "2d95":
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),

/***/ "2f21":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var fails = __webpack_require__("79e5");

module.exports = function (method, arg) {
  return !!method && fails(function () {
    // eslint-disable-next-line no-useless-call
    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);
  });
};


/***/ }),

/***/ "2f37":
/***/ (function(module, exports, __webpack_require__) {

// 20.3.3.1 / 15.9.4.4 Date.now()
var $export = __webpack_require__("63b6");

$export($export.S, 'Date', { now: function () { return new Date().getTime(); } });


/***/ }),

/***/ "2fdb":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// 21.1.3.7 String.prototype.includes(searchString, position = 0)

var $export = __webpack_require__("5ca1");
var context = __webpack_require__("d2c8");
var INCLUDES = 'includes';

$export($export.P + $export.F * __webpack_require__("5147")(INCLUDES), 'String', {
  includes: function includes(searchString /* , position = 0 */) {
    return !!~context(this, searchString, INCLUDES)
      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);
  }
});


/***/ }),

/***/ "3024":
/***/ (function(module, exports) {

// fast apply, http://jsperf.lnkit.com/fast-apply/5
module.exports = function (fn, args, that) {
  var un = that === undefined;
  switch (args.length) {
    case 0: return un ? fn()
                      : fn.call(that);
    case 1: return un ? fn(args[0])
                      : fn.call(that, args[0]);
    case 2: return un ? fn(args[0], args[1])
                      : fn.call(that, args[0], args[1]);
    case 3: return un ? fn(args[0], args[1], args[2])
                      : fn.call(that, args[0], args[1], args[2]);
    case 4: return un ? fn(args[0], args[1], args[2], args[3])
                      : fn.call(that, args[0], args[1], args[2], args[3]);
  } return fn.apply(that, args);
};


/***/ }),

/***/ "302a":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("a259");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("b153cf62", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "30c4":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, "", ""]);

// exports


/***/ }),

/***/ "30f1":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var LIBRARY = __webpack_require__("b8e3");
var $export = __webpack_require__("63b6");
var redefine = __webpack_require__("9138");
var hide = __webpack_require__("35e8");
var Iterators = __webpack_require__("481b");
var $iterCreate = __webpack_require__("8f60");
var setToStringTag = __webpack_require__("45f2");
var getPrototypeOf = __webpack_require__("53e2");
var ITERATOR = __webpack_require__("5168")('iterator');
var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
var FF_ITERATOR = '@@iterator';
var KEYS = 'keys';
var VALUES = 'values';

var returnThis = function () { return this; };

module.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
  $iterCreate(Constructor, NAME, next);
  var getMethod = function (kind) {
    if (!BUGGY && kind in proto) return proto[kind];
    switch (kind) {
      case KEYS: return function keys() { return new Constructor(this, kind); };
      case VALUES: return function values() { return new Constructor(this, kind); };
    } return function entries() { return new Constructor(this, kind); };
  };
  var TAG = NAME + ' Iterator';
  var DEF_VALUES = DEFAULT == VALUES;
  var VALUES_BUG = false;
  var proto = Base.prototype;
  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
  var $default = $native || getMethod(DEFAULT);
  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
  var methods, key, IteratorPrototype;
  // Fix native
  if ($anyNative) {
    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));
    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
      // Set @@toStringTag to native iterators
      setToStringTag(IteratorPrototype, TAG, true);
      // fix for some old engines
      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);
    }
  }
  // fix Array#{values, @@iterator}.name in V8 / FF
  if (DEF_VALUES && $native && $native.name !== VALUES) {
    VALUES_BUG = true;
    $default = function values() { return $native.call(this); };
  }
  // Define iterator
  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
    hide(proto, ITERATOR, $default);
  }
  // Plug for library
  Iterators[NAME] = $default;
  Iterators[TAG] = returnThis;
  if (DEFAULT) {
    methods = {
      values: DEF_VALUES ? $default : getMethod(VALUES),
      keys: IS_SET ? $default : getMethod(KEYS),
      entries: $entries
    };
    if (FORCED) for (key in methods) {
      if (!(key in proto)) redefine(proto, key, methods[key]);
    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
  }
  return methods;
};


/***/ }),

/***/ "313a":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("7a4c");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("ff462cc2", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "32a6":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 Object.keys(O)
var toObject = __webpack_require__("241e");
var $keys = __webpack_require__("c3a1");

__webpack_require__("ce7e")('keys', function () {
  return function keys(it) {
    return $keys(toObject(it));
  };
});


/***/ }),

/***/ "32e9":
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__("86cc");
var createDesc = __webpack_require__("4630");
module.exports = __webpack_require__("9e1e") ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ "32fc":
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__("e53d").document;
module.exports = document && document.documentElement;


/***/ }),

/***/ "335c":
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__("6b4c");
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),

/***/ "33c3":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".myDIV[data-v-65d1b551]{margin:0;padding:0;width:100%;height:100%}", ""]);

// exports


/***/ }),

/***/ "355d":
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),

/***/ "35e8":
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__("d9f6");
var createDesc = __webpack_require__("aebd");
module.exports = __webpack_require__("8e60") ? function (object, key, value) {
  return dP.f(object, key, createDesc(1, value));
} : function (object, key, value) {
  object[key] = value;
  return object;
};


/***/ }),

/***/ "36a7":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".grab[data-v-ce3c328a]{cursor:-webkit-grab;cursor:grab}.linker[data-v-ce3c328a],.point[data-v-ce3c328a]{cursor:pointer}.linker[data-v-ce3c328a]{text-decoration:underline}", ""]);

// exports


/***/ }),

/***/ "36c3":
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__("335c");
var defined = __webpack_require__("25eb");
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),

/***/ "3702":
/***/ (function(module, exports, __webpack_require__) {

// check on default Array iterator
var Iterators = __webpack_require__("481b");
var ITERATOR = __webpack_require__("5168")('iterator');
var ArrayProto = Array.prototype;

module.exports = function (it) {
  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
};


/***/ }),

/***/ "3742":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("d0b9");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("7b5206ef", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "3807":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixValues_vue_vue_type_style_index_0_id_bfdcb2ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c7f4");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixValues_vue_vue_type_style_index_0_id_bfdcb2ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixValues_vue_vue_type_style_index_0_id_bfdcb2ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixValues_vue_vue_type_style_index_0_id_bfdcb2ea_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "3846":
/***/ (function(module, exports, __webpack_require__) {

// 21.2.5.3 get RegExp.prototype.flags()
if (__webpack_require__("9e1e") && /./g.flags != 'g') __webpack_require__("86cc").f(RegExp.prototype, 'flags', {
  configurable: true,
  get: __webpack_require__("0bfb")
});


/***/ }),

/***/ "38d3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModuleBox_vue_vue_type_style_index_0_id_1d17a179_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3742");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModuleBox_vue_vue_type_style_index_0_id_1d17a179_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModuleBox_vue_vue_type_style_index_0_id_1d17a179_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ModuleBox_vue_vue_type_style_index_0_id_1d17a179_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "38fd":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__("69a8");
var toObject = __webpack_require__("4bf8");
var IE_PROTO = __webpack_require__("613b")('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),

/***/ "3a35":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".linker[data-v-17a0b84b]{text-decoration:underline;cursor:pointer;color:#000;margin-left:8px;background-color:#fff}.quotes-app[data-v-17a0b84b]{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:10px 10px 10px 10px;color:#fff;background-image:radial-gradient(circle farthest-corner at 100% 100%,#c1eaff 0,#fff 90.1%)}.content-div[data-v-17a0b84b]{position:relative;height:calc(100% - 30px)}.quotes-list[data-v-17a0b84b]{margin:20px}.buttons[data-v-17a0b84b]{position:absolute;bottom:0;left:0}.tools.top-left[data-v-17a0b84b]{position:absolute;top:0;left:0}", ""]);

// exports


/***/ }),

/***/ "3a38":
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),

/***/ "3a9e":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Animator_vue_vue_type_style_index_0_id_65d1b551_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("7b5b");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Animator_vue_vue_type_style_index_0_id_65d1b551_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Animator_vue_vue_type_style_index_0_id_65d1b551_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Animator_vue_vue_type_style_index_0_id_65d1b551_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "3b8d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return _asyncToGenerator; });
/* harmony import */ var _core_js_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("795b");
/* harmony import */ var _core_js_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_core_js_promise__WEBPACK_IMPORTED_MODULE_0__);


function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {
  try {
    var info = gen[key](arg);
    var value = info.value;
  } catch (error) {
    reject(error);
    return;
  }

  if (info.done) {
    resolve(value);
  } else {
    _core_js_promise__WEBPACK_IMPORTED_MODULE_0___default.a.resolve(value).then(_next, _throw);
  }
}

function _asyncToGenerator(fn) {
  return function () {
    var self = this,
        args = arguments;
    return new _core_js_promise__WEBPACK_IMPORTED_MODULE_0___default.a(function (resolve, reject) {
      var gen = fn.apply(self, args);

      function _next(value) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);
      }

      function _throw(err) {
        asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);
      }

      _next(undefined);
    });
  };
}

/***/ }),

/***/ "3c11":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
// https://github.com/tc39/proposal-promise-finally

var $export = __webpack_require__("63b6");
var core = __webpack_require__("584a");
var global = __webpack_require__("e53d");
var speciesConstructor = __webpack_require__("f201");
var promiseResolve = __webpack_require__("cd78");

$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {
  var C = speciesConstructor(this, core.Promise || global.Promise);
  var isFunction = typeof onFinally == 'function';
  return this.then(
    isFunction ? function (x) {
      return promiseResolve(C, onFinally()).then(function () { return x; });
    } : onFinally,
    isFunction ? function (e) {
      return promiseResolve(C, onFinally()).then(function () { throw e; });
    } : onFinally
  );
} });


/***/ }),

/***/ "3f75":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("788a");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("24edaaf6", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "3f8c":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, "body,html{margin:0}.full{width:100%;height:100%}#app{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50}", ""]);

// exports


/***/ }),

/***/ "40c3":
/***/ (function(module, exports, __webpack_require__) {

// getting tag from 19.1.3.6 Object.prototype.toString()
var cof = __webpack_require__("6b4c");
var TAG = __webpack_require__("5168")('toStringTag');
// ES3 wrong here
var ARG = cof(function () { return arguments; }()) == 'Arguments';

// fallback for IE11 Script Access Denied error
var tryGet = function (it, key) {
  try {
    return it[key];
  } catch (e) { /* empty */ }
};

module.exports = function (it) {
  var O, T, B;
  return it === undefined ? 'Undefined' : it === null ? 'Null'
    // @@toStringTag case
    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
    // builtinTag case
    : ARG ? cof(O)
    // ES3 arguments fallback
    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
};


/***/ }),

/***/ "4178":
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__("d864");
var invoke = __webpack_require__("3024");
var html = __webpack_require__("32fc");
var cel = __webpack_require__("1ec9");
var global = __webpack_require__("e53d");
var process = global.process;
var setTask = global.setImmediate;
var clearTask = global.clearImmediate;
var MessageChannel = global.MessageChannel;
var Dispatch = global.Dispatch;
var counter = 0;
var queue = {};
var ONREADYSTATECHANGE = 'onreadystatechange';
var defer, channel, port;
var run = function () {
  var id = +this;
  // eslint-disable-next-line no-prototype-builtins
  if (queue.hasOwnProperty(id)) {
    var fn = queue[id];
    delete queue[id];
    fn();
  }
};
var listener = function (event) {
  run.call(event.data);
};
// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
if (!setTask || !clearTask) {
  setTask = function setImmediate(fn) {
    var args = [];
    var i = 1;
    while (arguments.length > i) args.push(arguments[i++]);
    queue[++counter] = function () {
      // eslint-disable-next-line no-new-func
      invoke(typeof fn == 'function' ? fn : Function(fn), args);
    };
    defer(counter);
    return counter;
  };
  clearTask = function clearImmediate(id) {
    delete queue[id];
  };
  // Node.js 0.8-
  if (__webpack_require__("6b4c")(process) == 'process') {
    defer = function (id) {
      process.nextTick(ctx(run, id, 1));
    };
  // Sphere (JS game engine) Dispatch API
  } else if (Dispatch && Dispatch.now) {
    defer = function (id) {
      Dispatch.now(ctx(run, id, 1));
    };
  // Browsers with MessageChannel, includes WebWorkers
  } else if (MessageChannel) {
    channel = new MessageChannel();
    port = channel.port2;
    channel.port1.onmessage = listener;
    defer = ctx(port.postMessage, port, 1);
  // Browsers with postMessage, skip WebWorkers
  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {
    defer = function (id) {
      global.postMessage(id + '', '*');
    };
    global.addEventListener('message', listener, false);
  // IE8-
  } else if (ONREADYSTATECHANGE in cel('script')) {
    defer = function (id) {
      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {
        html.removeChild(this);
        run.call(id);
      };
    };
  // Rest old browsers
  } else {
    defer = function (id) {
      setTimeout(ctx(run, id, 1), 0);
    };
  }
}
module.exports = {
  set: setTask,
  clear: clearTask
};


/***/ }),

/***/ "41a0":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create = __webpack_require__("2aeb");
var descriptor = __webpack_require__("4630");
var setToStringTag = __webpack_require__("7f20");
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__("32e9")(IteratorPrototype, __webpack_require__("2b4c")('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),

/***/ "43fc":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/proposal-promise-try
var $export = __webpack_require__("63b6");
var newPromiseCapability = __webpack_require__("656e");
var perform = __webpack_require__("4439");

$export($export.S, 'Promise', { 'try': function (callbackfn) {
  var promiseCapability = newPromiseCapability.f(this);
  var result = perform(callbackfn);
  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);
  return promiseCapability.promise;
} });


/***/ }),

/***/ "4439":
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return { e: false, v: exec() };
  } catch (e) {
    return { e: true, v: e };
  }
};


/***/ }),

/***/ "454f":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("46a7");
var $Object = __webpack_require__("584a").Object;
module.exports = function defineProperty(it, key, desc) {
  return $Object.defineProperty(it, key, desc);
};


/***/ }),

/***/ "4588":
/***/ (function(module, exports) {

// 7.1.4 ToInteger
var ceil = Math.ceil;
var floor = Math.floor;
module.exports = function (it) {
  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
};


/***/ }),

/***/ "45f2":
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__("d9f6").f;
var has = __webpack_require__("07e3");
var TAG = __webpack_require__("5168")('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),

/***/ "4630":
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ "46a7":
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__("63b6");
// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
$export($export.S + $export.F * !__webpack_require__("8e60"), 'Object', { defineProperty: __webpack_require__("d9f6").f });


/***/ }),

/***/ "47ee":
/***/ (function(module, exports, __webpack_require__) {

// all enumerable object keys, includes symbols
var getKeys = __webpack_require__("c3a1");
var gOPS = __webpack_require__("9aa9");
var pIE = __webpack_require__("355d");
module.exports = function (it) {
  var result = getKeys(it);
  var getSymbols = gOPS.f;
  if (getSymbols) {
    var symbols = getSymbols(it);
    var isEnum = pIE.f;
    var i = 0;
    var key;
    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);
  } return result;
};


/***/ }),

/***/ "481b":
/***/ (function(module, exports) {

module.exports = {};


/***/ }),

/***/ "499e":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-style-loader/lib/listToStyles.js
/**
 * Translates the list format produced by css-loader into something
 * easier to manipulate.
 */
function listToStyles (parentId, list) {
  var styles = []
  var newStyles = {}
  for (var i = 0; i < list.length; i++) {
    var item = list[i]
    var id = item[0]
    var css = item[1]
    var media = item[2]
    var sourceMap = item[3]
    var part = {
      id: parentId + ':' + i,
      css: css,
      media: media,
      sourceMap: sourceMap
    }
    if (!newStyles[id]) {
      styles.push(newStyles[id] = { id: id, parts: [part] })
    } else {
      newStyles[id].parts.push(part)
    }
  }
  return styles
}

// CONCATENATED MODULE: ./node_modules/vue-style-loader/lib/addStylesClient.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return addStylesClient; });
/*
  MIT License http://www.opensource.org/licenses/mit-license.php
  Author Tobias Koppers @sokra
  Modified by Evan You @yyx990803
*/



var hasDocument = typeof document !== 'undefined'

if (typeof DEBUG !== 'undefined' && DEBUG) {
  if (!hasDocument) {
    throw new Error(
    'vue-style-loader cannot be used in a non-browser environment. ' +
    "Use { target: 'node' } in your Webpack config to indicate a server-rendering environment."
  ) }
}

/*
type StyleObject = {
  id: number;
  parts: Array<StyleObjectPart>
}

type StyleObjectPart = {
  css: string;
  media: string;
  sourceMap: ?string
}
*/

var stylesInDom = {/*
  [id: number]: {
    id: number,
    refs: number,
    parts: Array<(obj?: StyleObjectPart) => void>
  }
*/}

var head = hasDocument && (document.head || document.getElementsByTagName('head')[0])
var singletonElement = null
var singletonCounter = 0
var isProduction = false
var noop = function () {}
var options = null
var ssrIdKey = 'data-vue-ssr-id'

// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
// tags it will allow on a page
var isOldIE = typeof navigator !== 'undefined' && /msie [6-9]\b/.test(navigator.userAgent.toLowerCase())

function addStylesClient (parentId, list, _isProduction, _options) {
  isProduction = _isProduction

  options = _options || {}

  var styles = listToStyles(parentId, list)
  addStylesToDom(styles)

  return function update (newList) {
    var mayRemove = []
    for (var i = 0; i < styles.length; i++) {
      var item = styles[i]
      var domStyle = stylesInDom[item.id]
      domStyle.refs--
      mayRemove.push(domStyle)
    }
    if (newList) {
      styles = listToStyles(parentId, newList)
      addStylesToDom(styles)
    } else {
      styles = []
    }
    for (var i = 0; i < mayRemove.length; i++) {
      var domStyle = mayRemove[i]
      if (domStyle.refs === 0) {
        for (var j = 0; j < domStyle.parts.length; j++) {
          domStyle.parts[j]()
        }
        delete stylesInDom[domStyle.id]
      }
    }
  }
}

function addStylesToDom (styles /* Array<StyleObject> */) {
  for (var i = 0; i < styles.length; i++) {
    var item = styles[i]
    var domStyle = stylesInDom[item.id]
    if (domStyle) {
      domStyle.refs++
      for (var j = 0; j < domStyle.parts.length; j++) {
        domStyle.parts[j](item.parts[j])
      }
      for (; j < item.parts.length; j++) {
        domStyle.parts.push(addStyle(item.parts[j]))
      }
      if (domStyle.parts.length > item.parts.length) {
        domStyle.parts.length = item.parts.length
      }
    } else {
      var parts = []
      for (var j = 0; j < item.parts.length; j++) {
        parts.push(addStyle(item.parts[j]))
      }
      stylesInDom[item.id] = { id: item.id, refs: 1, parts: parts }
    }
  }
}

function createStyleElement () {
  var styleElement = document.createElement('style')
  styleElement.type = 'text/css'
  head.appendChild(styleElement)
  return styleElement
}

function addStyle (obj /* StyleObjectPart */) {
  var update, remove
  var styleElement = document.querySelector('style[' + ssrIdKey + '~="' + obj.id + '"]')

  if (styleElement) {
    if (isProduction) {
      // has SSR styles and in production mode.
      // simply do nothing.
      return noop
    } else {
      // has SSR styles but in dev mode.
      // for some reason Chrome can't handle source map in server-rendered
      // style tags - source maps in <style> only works if the style tag is
      // created and inserted dynamically. So we remove the server rendered
      // styles and inject new ones.
      styleElement.parentNode.removeChild(styleElement)
    }
  }

  if (isOldIE) {
    // use singleton mode for IE9.
    var styleIndex = singletonCounter++
    styleElement = singletonElement || (singletonElement = createStyleElement())
    update = applyToSingletonTag.bind(null, styleElement, styleIndex, false)
    remove = applyToSingletonTag.bind(null, styleElement, styleIndex, true)
  } else {
    // use multi-style-tag mode in all other cases
    styleElement = createStyleElement()
    update = applyToTag.bind(null, styleElement)
    remove = function () {
      styleElement.parentNode.removeChild(styleElement)
    }
  }

  update(obj)

  return function updateStyle (newObj /* StyleObjectPart */) {
    if (newObj) {
      if (newObj.css === obj.css &&
          newObj.media === obj.media &&
          newObj.sourceMap === obj.sourceMap) {
        return
      }
      update(obj = newObj)
    } else {
      remove()
    }
  }
}

var replaceText = (function () {
  var textStore = []

  return function (index, replacement) {
    textStore[index] = replacement
    return textStore.filter(Boolean).join('\n')
  }
})()

function applyToSingletonTag (styleElement, index, remove, obj) {
  var css = remove ? '' : obj.css

  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = replaceText(index, css)
  } else {
    var cssNode = document.createTextNode(css)
    var childNodes = styleElement.childNodes
    if (childNodes[index]) styleElement.removeChild(childNodes[index])
    if (childNodes.length) {
      styleElement.insertBefore(cssNode, childNodes[index])
    } else {
      styleElement.appendChild(cssNode)
    }
  }
}

function applyToTag (styleElement, obj) {
  var css = obj.css
  var media = obj.media
  var sourceMap = obj.sourceMap

  if (media) {
    styleElement.setAttribute('media', media)
  }
  if (options.ssrId) {
    styleElement.setAttribute(ssrIdKey, obj.id)
  }

  if (sourceMap) {
    // https://developer.chrome.com/devtools/docs/javascript-debugging
    // this makes source maps inside style tags work properly in Chrome
    css += '\n/*# sourceURL=' + sourceMap.sources[0] + ' */'
    // http://stackoverflow.com/a/26603875
    css += '\n/*# sourceMappingURL=data:application/json;base64,' + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + ' */'
  }

  if (styleElement.styleSheet) {
    styleElement.styleSheet.cssText = css
  } else {
    while (styleElement.firstChild) {
      styleElement.removeChild(styleElement.firstChild)
    }
    styleElement.appendChild(document.createTextNode(css))
  }
}


/***/ }),

/***/ "4bc5":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enEdit_vue_vue_type_style_index_0_id_17a0b84b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("65ab");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enEdit_vue_vue_type_style_index_0_id_17a0b84b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enEdit_vue_vue_type_style_index_0_id_17a0b84b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enEdit_vue_vue_type_style_index_0_id_17a0b84b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "4bf8":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.13 ToObject(argument)
var defined = __webpack_require__("be13");
module.exports = function (it) {
  return Object(defined(it));
};


/***/ }),

/***/ "4c7c":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".taskbar[data-v-123b442a]{position:absolute;bottom:0;left:0;width:100%;background-image:-webkit-gradient(linear,left bottom,left top,from(hsla(0,0%,100%,.0784313725490196)),to(hsla(0,0%,100%,.5215686274509804)));background-image:linear-gradient(0deg,hsla(0,0%,100%,.0784313725490196),hsla(0,0%,100%,.5215686274509804))}.taskbar.disconnected[data-v-123b442a]{background-image:-webkit-gradient(linear,left bottom,left top,from(rgba(255,101,101,.87)),to(#ffc5d3));background-image:linear-gradient(0deg,rgba(255,101,101,.87),#ffc5d3)}hr[data-v-123b442a]{margin-top:1rem;margin-bottom:1rem}.taskbar-content[data-v-123b442a]{margin-bottom:10px;margin-left:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.taskbar-icon[data-v-123b442a]{display:inline-block;padding:10px;border-radius:10px;margin:0 8px;margin-top:10px;font-size:13px;text-align:center;background-image:linear-gradient(9deg,#efd5ff,#515ada);color:#fff;background-size:200% 200%;background-position:0 100%;-webkit-transition:background-position .3s;transition:background-position .3s}.taskbar-icon.disconnected[data-v-123b442a]{background-color:#fc8e8e;background-image:linear-gradient(62deg,#fc8e8e,#fce5c3)}.app-icon[data-v-123b442a]{display:inline-block;padding:13px;border-radius:10px;margin:4px;width:80px;font-size:12px;text-align:center;background-image:linear-gradient(9deg,#efd5ff,#515ada);color:#555;background-position:0 100%;-webkit-transition:background-position .3s;transition:background-position .3s}.adder[data-v-123b442a],.app-icon[data-v-123b442a]{background-size:200% 200%}.adder[data-v-123b442a]{background-image:linear-gradient(45deg,#00c9ff,#92fe9d)}.button3d[data-v-123b442a],.home[data-v-123b442a]{background-color:#8ec5fc;background-image:linear-gradient(62deg,#8ec5fc,#e0c3fc)}.taskbar-icon.adder[data-v-123b442a]:hover,.taskbar-icon[data-v-123b442a]:hover{background-position:100% 0;cursor:pointer}.brand[data-v-123b442a]{cursor:pointer;position:absolute;bottom:50px;right:20px}.logo[data-v-123b442a]{display:inline-block;width:130px;height:35px;background-size:contain;background-image:url(https://www.wonglok.com/_acs/www.wonglok.com/images/header-logo.png)}.start-menu[data-v-123b442a]{position:absolute;bottom:90px;left:10px;width:400px;height:70%;background-color:#f7f7f7;-webkit-box-shadow:0 0 50px 0 #bdbdbd;box-shadow:0 0 50px 0 #bdbdbd;border-radius:18px}.start-menu-overlay[data-v-123b442a]{position:absolute;bottom:0;left:0;width:100%;height:100%;background-color:hsla(0,0%,100%,.336)}.start-title-bar[data-v-123b442a]{border-radius:18px 18px 0 0;background:-webkit-gradient(linear,left top,right top,from(#00c9ff),to(#92fe9d));background:linear-gradient(90deg,#00c9ff,#92fe9d);height:40px;line-height:40px;font-size:13px;text-align:center;font-family:Inconsolata,monospace;color:#4a4a4a}.start-content-div[data-v-123b442a]{height:calc(100% - 60px)}.start-content-div-margin[data-v-123b442a]{margin:20px}.is-on[data-v-123b442a]{position:relative}.is-on[data-v-123b442a]:after{content:\"\";position:absolute;bottom:-22px;left:calc(50% - 10px);width:20px;height:20px;background-color:#2431e4;-webkit-box-shadow:0 0 30px 0 #35d7ff;box-shadow:0 0 30px 0 #35d7ff;border-radius:50%;z-index:1000000;-webkit-animation:bg-color-data-v-123b442a 1s ease 0s infinite alternate both;animation:bg-color-data-v-123b442a 1s ease 0s infinite alternate both}@-webkit-keyframes bg-color-data-v-123b442a{0%{background-color:#0400ff}to{background-color:rgba(0,217,255,.986)}}@keyframes bg-color-data-v-123b442a{0%{background-color:#0400ff}to{background-color:rgba(0,217,255,.986)}}", ""]);

// exports


/***/ }),

/***/ "4c95":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__("e53d");
var core = __webpack_require__("584a");
var dP = __webpack_require__("d9f6");
var DESCRIPTORS = __webpack_require__("8e60");
var SPECIES = __webpack_require__("5168")('species');

module.exports = function (KEY) {
  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
    configurable: true,
    get: function () { return this; }
  });
};


/***/ }),

/***/ "4ee1":
/***/ (function(module, exports, __webpack_require__) {

var ITERATOR = __webpack_require__("5168")('iterator');
var SAFE_CLOSING = false;

try {
  var riter = [7][ITERATOR]();
  riter['return'] = function () { SAFE_CLOSING = true; };
  // eslint-disable-next-line no-throw-literal
  Array.from(riter, function () { throw 2; });
} catch (e) { /* empty */ }

module.exports = function (exec, skipClosing) {
  if (!skipClosing && !SAFE_CLOSING) return false;
  var safe = false;
  try {
    var arr = [7];
    var iter = arr[ITERATOR]();
    iter.next = function () { return { done: safe = true }; };
    arr[ITERATOR] = function () { return iter; };
    exec(arr);
  } catch (e) { /* empty */ }
  return safe;
};


/***/ }),

/***/ "50ed":
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),

/***/ "5147":
/***/ (function(module, exports, __webpack_require__) {

var MATCH = __webpack_require__("2b4c")('match');
module.exports = function (KEY) {
  var re = /./;
  try {
    '/./'[KEY](re);
  } catch (e) {
    try {
      re[MATCH] = false;
      return !'/./'[KEY](re);
    } catch (f) { /* empty */ }
  } return true;
};


/***/ }),

/***/ "5168":
/***/ (function(module, exports, __webpack_require__) {

var store = __webpack_require__("dbdb")('wks');
var uid = __webpack_require__("62a0");
var Symbol = __webpack_require__("e53d").Symbol;
var USE_SYMBOL = typeof Symbol == 'function';

var $exports = module.exports = function (name) {
  return store[name] || (store[name] =
    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
};

$exports.store = store;


/***/ }),

/***/ "520a":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var regexpFlags = __webpack_require__("0bfb");

var nativeExec = RegExp.prototype.exec;
// This always refers to the native implementation, because the
// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,
// which loads this file before patching the method.
var nativeReplace = String.prototype.replace;

var patchedExec = nativeExec;

var LAST_INDEX = 'lastIndex';

var UPDATES_LAST_INDEX_WRONG = (function () {
  var re1 = /a/,
      re2 = /b*/g;
  nativeExec.call(re1, 'a');
  nativeExec.call(re2, 'a');
  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;
})();

// nonparticipating capturing group, copied from es5-shim's String#split patch.
var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;

if (PATCH) {
  patchedExec = function exec(str) {
    var re = this;
    var lastIndex, reCopy, match, i;

    if (NPCG_INCLUDED) {
      reCopy = new RegExp('^' + re.source + '$(?!\\s)', regexpFlags.call(re));
    }
    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];

    match = nativeExec.call(re, str);

    if (UPDATES_LAST_INDEX_WRONG && match) {
      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;
    }
    if (NPCG_INCLUDED && match && match.length > 1) {
      // Fix browsers whose `exec` methods don't consistently return `undefined`
      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/
      // eslint-disable-next-line no-loop-func
      nativeReplace.call(match[0], reCopy, function () {
        for (i = 1; i < arguments.length - 2; i++) {
          if (arguments[i] === undefined) match[i] = undefined;
        }
      });
    }

    return match;
  };
}

module.exports = patchedExec;


/***/ }),

/***/ "52a7":
/***/ (function(module, exports) {

exports.f = {}.propertyIsEnumerable;


/***/ }),

/***/ "535c":
/***/ (function(module, exports) {

module.exports = "/* eslint-disable */\n/*!\n * Vue.js v2.5.21\n * (c) 2014-2018 Evan You\n * Released under the MIT License.\n */\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Vue=t()}(this,function(){\"use strict\";var e=Object.freeze({});function t(e){return null==e}function n(e){return null!=e}function r(e){return!0===e}function i(e){return\"string\"==typeof e||\"number\"==typeof e||\"symbol\"==typeof e||\"boolean\"==typeof e}function o(e){return null!==e&&\"object\"==typeof e}var a=Object.prototype.toString;function s(e){return\"[object Object]\"===a.call(e)}function c(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function u(e){return null==e?\"\":\"object\"==typeof e?JSON.stringify(e,null,2):String(e)}function l(e){var t=parseFloat(e);return isNaN(t)?e:t}function f(e,t){for(var n=Object.create(null),r=e.split(\",\"),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var p=f(\"slot,component\",!0),d=f(\"key,ref,slot,slot-scope,is\");function v(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}var h=Object.prototype.hasOwnProperty;function m(e,t){return h.call(e,t)}function y(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}}var g=/-(\\w)/g,_=y(function(e){return e.replace(g,function(e,t){return t?t.toUpperCase():\"\"})}),b=y(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),$=/\\B([A-Z])/g,w=y(function(e){return e.replace($,\"-$1\").toLowerCase()});var C=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function n(n){var r=arguments.length;return r?r>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n};function x(e,t){t=t||0;for(var n=e.length-t,r=new Array(n);n--;)r[n]=e[n+t];return r}function k(e,t){for(var n in t)e[n]=t[n];return e}function A(e){for(var t={},n=0;n<e.length;n++)e[n]&&k(t,e[n]);return t}function O(e,t,n){}var S=function(e,t,n){return!1},T=function(e){return e};function N(e,t){if(e===t)return!0;var n=o(e),r=o(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{var i=Array.isArray(e),a=Array.isArray(t);if(i&&a)return e.length===t.length&&e.every(function(e,n){return N(e,t[n])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||a)return!1;var s=Object.keys(e),c=Object.keys(t);return s.length===c.length&&s.every(function(n){return N(e[n],t[n])})}catch(e){return!1}}function j(e,t){for(var n=0;n<e.length;n++)if(N(e[n],t))return n;return-1}function E(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var I=\"data-server-rendered\",L=[\"component\",\"directive\",\"filter\"],M=[\"beforeCreate\",\"created\",\"beforeMount\",\"mounted\",\"beforeUpdate\",\"updated\",\"beforeDestroy\",\"destroyed\",\"activated\",\"deactivated\",\"errorCaptured\"],D={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:S,isReservedAttr:S,isUnknownElement:S,getTagNamespace:O,parsePlatformTagName:T,mustUseProp:S,async:!0,_lifecycleHooks:M};function P(e,t,n,r){Object.defineProperty(e,t,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var F=/[^\\w.$]/;var R,H=\"__proto__\"in{},B=\"undefined\"!=typeof window,U=\"undefined\"!=typeof WXEnvironment&&!!WXEnvironment.platform,V=U&&WXEnvironment.platform.toLowerCase(),z=B&&window.navigator.userAgent.toLowerCase(),K=z&&/msie|trident/.test(z),J=z&&z.indexOf(\"msie 9.0\")>0,q=z&&z.indexOf(\"edge/\")>0,W=(z&&z.indexOf(\"android\"),z&&/iphone|ipad|ipod|ios/.test(z)||\"ios\"===V),G=(z&&/chrome\\/\\d+/.test(z),{}.watch),Z=!1;if(B)try{var X={};Object.defineProperty(X,\"passive\",{get:function(){Z=!0}}),window.addEventListener(\"test-passive\",null,X)}catch(e){}var Y=function(){return void 0===R&&(R=!B&&!U&&\"undefined\"!=typeof global&&(global.process&&\"server\"===global.process.env.VUE_ENV)),R},Q=B&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ee(e){return\"function\"==typeof e&&/native code/.test(e.toString())}var te,ne=\"undefined\"!=typeof Symbol&&ee(Symbol)&&\"undefined\"!=typeof Reflect&&ee(Reflect.ownKeys);te=\"undefined\"!=typeof Set&&ee(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var re=O,ie=0,oe=function(){this.id=ie++,this.subs=[]};oe.prototype.addSub=function(e){this.subs.push(e)},oe.prototype.removeSub=function(e){v(this.subs,e)},oe.prototype.depend=function(){oe.target&&oe.target.addDep(this)},oe.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},oe.target=null;var ae=[];function se(e){ae.push(e),oe.target=e}function ce(){ae.pop(),oe.target=ae[ae.length-1]}var ue=function(e,t,n,r,i,o,a,s){this.tag=e,this.data=t,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},le={child:{configurable:!0}};le.child.get=function(){return this.componentInstance},Object.defineProperties(ue.prototype,le);var fe=function(e){void 0===e&&(e=\"\");var t=new ue;return t.text=e,t.isComment=!0,t};function pe(e){return new ue(void 0,void 0,void 0,String(e))}function de(e){var t=new ue(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var ve=Array.prototype,he=Object.create(ve);[\"push\",\"pop\",\"shift\",\"unshift\",\"splice\",\"sort\",\"reverse\"].forEach(function(e){var t=ve[e];P(he,e,function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,o=t.apply(this,n),a=this.__ob__;switch(e){case\"push\":case\"unshift\":i=n;break;case\"splice\":i=n.slice(2)}return i&&a.observeArray(i),a.dep.notify(),o})});var me=Object.getOwnPropertyNames(he),ye=!0;function ge(e){ye=e}var _e=function(e){var t;this.value=e,this.dep=new oe,this.vmCount=0,P(e,\"__ob__\",this),Array.isArray(e)?(H?(t=he,e.__proto__=t):function(e,t,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];P(e,o,t[o])}}(e,he,me),this.observeArray(e)):this.walk(e)};function be(e,t){var n;if(o(e)&&!(e instanceof ue))return m(e,\"__ob__\")&&e.__ob__ instanceof _e?n=e.__ob__:ye&&!Y()&&(Array.isArray(e)||s(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new _e(e)),t&&n&&n.vmCount++,n}function $e(e,t,n,r,i){var o=new oe,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(n=e[t]);var u=!i&&be(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):n;return oe.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&function e(t){for(var n=void 0,r=0,i=t.length;r<i;r++)(n=t[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&e(n)}(t))),t},set:function(t){var r=s?s.call(e):n;t===r||t!=t&&r!=r||s&&!c||(c?c.call(e,t):n=t,u=!i&&be(t),o.notify())}})}}function we(e,t,n){if(Array.isArray(e)&&c(t))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(t in e&&!(t in Object.prototype))return e[t]=n,n;var r=e.__ob__;return e._isVue||r&&r.vmCount?n:r?($e(r.value,t,n),r.dep.notify(),n):(e[t]=n,n)}function Ce(e,t){if(Array.isArray(e)&&c(t))e.splice(t,1);else{var n=e.__ob__;e._isVue||n&&n.vmCount||m(e,t)&&(delete e[t],n&&n.dep.notify())}}_e.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)$e(e,t[n])},_e.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)be(e[t])};var xe=D.optionMergeStrategies;function ke(e,t){if(!t)return e;for(var n,r,i,o=Object.keys(t),a=0;a<o.length;a++)r=e[n=o[a]],i=t[n],m(e,n)?r!==i&&s(r)&&s(i)&&ke(r,i):we(e,n,i);return e}function Ae(e,t,n){return n?function(){var r=\"function\"==typeof t?t.call(n,n):t,i=\"function\"==typeof e?e.call(n,n):e;return r?ke(r,i):i}:t?e?function(){return ke(\"function\"==typeof t?t.call(this,this):t,\"function\"==typeof e?e.call(this,this):e)}:t:e}function Oe(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function Se(e,t,n,r){var i=Object.create(e||null);return t?k(i,t):i}xe.data=function(e,t,n){return n?Ae(e,t,n):t&&\"function\"!=typeof t?e:Ae(e,t)},M.forEach(function(e){xe[e]=Oe}),L.forEach(function(e){xe[e+\"s\"]=Se}),xe.watch=function(e,t,n,r){if(e===G&&(e=void 0),t===G&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in k(i,e),t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},xe.props=xe.methods=xe.inject=xe.computed=function(e,t,n,r){if(!e)return t;var i=Object.create(null);return k(i,e),t&&k(i,t),i},xe.provide=Ae;var Te=function(e,t){return void 0===t?e:t};function Ne(e,t,n){if(\"function\"==typeof t&&(t=t.options),function(e,t){var n=e.props;if(n){var r,i,o={};if(Array.isArray(n))for(r=n.length;r--;)\"string\"==typeof(i=n[r])&&(o[_(i)]={type:null});else if(s(n))for(var a in n)i=n[a],o[_(a)]=s(i)?i:{type:i};e.props=o}}(t),function(e,t){var n=e.inject;if(n){var r=e.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(s(n))for(var o in n){var a=n[o];r[o]=s(a)?k({from:o},a):{from:a}}}}(t),function(e){var t=e.directives;if(t)for(var n in t){var r=t[n];\"function\"==typeof r&&(t[n]={bind:r,update:r})}}(t),!t._base&&(t.extends&&(e=Ne(e,t.extends,n)),t.mixins))for(var r=0,i=t.mixins.length;r<i;r++)e=Ne(e,t.mixins[r],n);var o,a={};for(o in e)c(o);for(o in t)m(e,o)||c(o);function c(r){var i=xe[r]||Te;a[r]=i(e[r],t[r],n,r)}return a}function je(e,t,n,r){if(\"string\"==typeof n){var i=e[t];if(m(i,n))return i[n];var o=_(n);if(m(i,o))return i[o];var a=b(o);return m(i,a)?i[a]:i[n]||i[o]||i[a]}}function Ee(e,t,n,r){var i=t[e],o=!m(n,e),a=n[e],s=Me(Boolean,i.type);if(s>-1)if(o&&!m(i,\"default\"))a=!1;else if(\"\"===a||a===w(e)){var c=Me(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=function(e,t,n){if(!m(t,\"default\"))return;var r=t.default;if(e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e._props[n])return e._props[n];return\"function\"==typeof r&&\"Function\"!==Ie(t.type)?r.call(e):r}(r,i,e);var u=ye;ge(!0),be(a),ge(u)}return a}function Ie(e){var t=e&&e.toString().match(/^\\s*function (\\w+)/);return t?t[1]:\"\"}function Le(e,t){return Ie(e)===Ie(t)}function Me(e,t){if(!Array.isArray(t))return Le(t,e)?0:-1;for(var n=0,r=t.length;n<r;n++)if(Le(t[n],e))return n;return-1}function De(e,t,n){if(t)for(var r=t;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{if(!1===i[o].call(r,e,t,n))return}catch(e){Pe(e,r,\"errorCaptured hook\")}}Pe(e,t,n)}function Pe(e,t,n){if(D.errorHandler)try{return D.errorHandler.call(null,e,t,n)}catch(e){Fe(e,null,\"config.errorHandler\")}Fe(e,t,n)}function Fe(e,t,n){if(!B&&!U||\"undefined\"==typeof console)throw e;console.error(e)}var Re,He,Be=[],Ue=!1;function Ve(){Ue=!1;var e=Be.slice(0);Be.length=0;for(var t=0;t<e.length;t++)e[t]()}var ze=!1;if(\"undefined\"!=typeof setImmediate&&ee(setImmediate))He=function(){setImmediate(Ve)};else if(\"undefined\"==typeof MessageChannel||!ee(MessageChannel)&&\"[object MessageChannelConstructor]\"!==MessageChannel.toString())He=function(){setTimeout(Ve,0)};else{var Ke=new MessageChannel,Je=Ke.port2;Ke.port1.onmessage=Ve,He=function(){Je.postMessage(1)}}if(\"undefined\"!=typeof Promise&&ee(Promise)){var qe=Promise.resolve();Re=function(){qe.then(Ve),W&&setTimeout(O)}}else Re=He;function We(e,t){var n;if(Be.push(function(){if(e)try{e.call(t)}catch(e){De(e,t,\"nextTick\")}else n&&n(t)}),Ue||(Ue=!0,ze?He():Re()),!e&&\"undefined\"!=typeof Promise)return new Promise(function(e){n=e})}var Ge=new te;function Ze(e){!function e(t,n){var r,i;var a=Array.isArray(t);if(!a&&!o(t)||Object.isFrozen(t)||t instanceof ue)return;if(t.__ob__){var s=t.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(a)for(r=t.length;r--;)e(t[r],n);else for(i=Object.keys(t),r=i.length;r--;)e(t[i[r]],n)}(e,Ge),Ge.clear()}var Xe,Ye=y(function(e){var t=\"&\"===e.charAt(0),n=\"~\"===(e=t?e.slice(1):e).charAt(0),r=\"!\"===(e=n?e.slice(1):e).charAt(0);return{name:e=r?e.slice(1):e,once:n,capture:r,passive:t}});function Qe(e){function t(){var e=arguments,n=t.fns;if(!Array.isArray(n))return n.apply(null,arguments);for(var r=n.slice(),i=0;i<r.length;i++)r[i].apply(null,e)}return t.fns=e,t}function et(e,n,i,o,a,s){var c,u,l,f;for(c in e)u=e[c],l=n[c],f=Ye(c),t(u)||(t(l)?(t(u.fns)&&(u=e[c]=Qe(u)),r(f.once)&&(u=e[c]=a(f.name,u,f.capture)),i(f.name,u,f.capture,f.passive,f.params)):u!==l&&(l.fns=u,e[c]=l));for(c in n)t(e[c])&&o((f=Ye(c)).name,n[c],f.capture)}function tt(e,i,o){var a;e instanceof ue&&(e=e.data.hook||(e.data.hook={}));var s=e[i];function c(){o.apply(this,arguments),v(a.fns,c)}t(s)?a=Qe([c]):n(s.fns)&&r(s.merged)?(a=s).fns.push(c):a=Qe([s,c]),a.merged=!0,e[i]=a}function nt(e,t,r,i,o){if(n(t)){if(m(t,r))return e[r]=t[r],o||delete t[r],!0;if(m(t,i))return e[r]=t[i],o||delete t[i],!0}return!1}function rt(e){return i(e)?[pe(e)]:Array.isArray(e)?function e(o,a){var s=[];var c,u,l,f;for(c=0;c<o.length;c++)t(u=o[c])||\"boolean\"==typeof u||(l=s.length-1,f=s[l],Array.isArray(u)?u.length>0&&(it((u=e(u,(a||\"\")+\"_\"+c))[0])&&it(f)&&(s[l]=pe(f.text+u[0].text),u.shift()),s.push.apply(s,u)):i(u)?it(f)?s[l]=pe(f.text+u):\"\"!==u&&s.push(pe(u)):it(u)&&it(f)?s[l]=pe(f.text+u.text):(r(o._isVList)&&n(u.tag)&&t(u.key)&&n(a)&&(u.key=\"__vlist\"+a+\"_\"+c+\"__\"),s.push(u)));return s}(e):void 0}function it(e){return n(e)&&n(e.text)&&!1===e.isComment}function ot(e,t){return(e.__esModule||ne&&\"Module\"===e[Symbol.toStringTag])&&(e=e.default),o(e)?t.extend(e):e}function at(e){return e.isComment&&e.asyncFactory}function st(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(n(r)&&(n(r.componentOptions)||at(r)))return r}}function ct(e,t){Xe.$on(e,t)}function ut(e,t){Xe.$off(e,t)}function lt(e,t){var n=Xe;return function r(){null!==t.apply(null,arguments)&&n.$off(e,r)}}function ft(e,t,n){Xe=e,et(t,n||{},ct,ut,lt),Xe=void 0}function pt(e,t){var n={};if(!e)return n;for(var r=0,i=e.length;r<i;r++){var o=e[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,c=n[s]||(n[s]=[]);\"template\"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in n)n[u].every(dt)&&delete n[u];return n}function dt(e){return e.isComment&&!e.asyncFactory||\" \"===e.text}function vt(e,t){t=t||{};for(var n=0;n<e.length;n++)Array.isArray(e[n])?vt(e[n],t):t[e[n].key]=e[n].fn;return t}var ht=null;function mt(e){var t=ht;return ht=e,function(){ht=t}}function yt(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function gt(e,t){if(t){if(e._directInactive=!1,yt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var n=0;n<e.$children.length;n++)gt(e.$children[n]);_t(e,\"activated\")}}function _t(e,t){se();var n=e.$options[t];if(n)for(var r=0,i=n.length;r<i;r++)try{n[r].call(e)}catch(n){De(n,e,t+\" hook\")}e._hasHookEvent&&e.$emit(\"hook:\"+t),ce()}var bt=[],$t=[],wt={},Ct=!1,xt=!1,kt=0;function At(){var e,t;for(xt=!0,bt.sort(function(e,t){return e.id-t.id}),kt=0;kt<bt.length;kt++)(e=bt[kt]).before&&e.before(),t=e.id,wt[t]=null,e.run();var n=$t.slice(),r=bt.slice();kt=bt.length=$t.length=0,wt={},Ct=xt=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,gt(e[t],!0)}(n),function(e){var t=e.length;for(;t--;){var n=e[t],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&_t(r,\"updated\")}}(r),Q&&D.devtools&&Q.emit(\"flush\")}var Ot=0,St=function(e,t,n,r,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Ot,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new te,this.newDepIds=new te,this.expression=\"\",\"function\"==typeof t?this.getter=t:(this.getter=function(e){if(!F.test(e)){var t=e.split(\".\");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}(t),this.getter||(this.getter=O)),this.value=this.lazy?void 0:this.get()};St.prototype.get=function(){var e;se(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;De(e,t,'getter for watcher \"'+this.expression+'\"')}finally{this.deep&&Ze(e),ce(),this.cleanupDeps()}return e},St.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},St.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},St.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(e){var t=e.id;if(null==wt[t]){if(wt[t]=!0,xt){for(var n=bt.length-1;n>kt&&bt[n].id>e.id;)n--;bt.splice(n+1,0,e)}else bt.push(e);Ct||(Ct=!0,We(At))}}(this)},St.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||o(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){De(e,this.vm,'callback for watcher \"'+this.expression+'\"')}else this.cb.call(this.vm,e,t)}}},St.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},St.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},St.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||v(this.vm._watchers,this);for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1}};var Tt={enumerable:!0,configurable:!0,get:O,set:O};function Nt(e,t,n){Tt.get=function(){return this[t][n]},Tt.set=function(e){this[t][n]=e},Object.defineProperty(e,n,Tt)}function jt(e){e._watchers=[];var t=e.$options;t.props&&function(e,t){var n=e.$options.propsData||{},r=e._props={},i=e.$options._propKeys=[];e.$parent&&ge(!1);var o=function(o){i.push(o);var a=Ee(o,t,n,e);$e(r,o,a),o in e||Nt(e,\"_props\",o)};for(var a in t)o(a);ge(!0)}(e,t.props),t.methods&&function(e,t){e.$options.props;for(var n in t)e[n]=\"function\"!=typeof t[n]?O:C(t[n],e)}(e,t.methods),t.data?function(e){var t=e.$options.data;s(t=e._data=\"function\"==typeof t?function(e,t){se();try{return e.call(t,t)}catch(e){return De(e,t,\"data()\"),{}}finally{ce()}}(t,e):t||{})||(t={});var n=Object.keys(t),r=e.$options.props,i=(e.$options.methods,n.length);for(;i--;){var o=n[i];r&&m(r,o)||(void 0,36!==(a=(o+\"\").charCodeAt(0))&&95!==a&&Nt(e,\"_data\",o))}var a;be(t,!0)}(e):be(e._data={},!0),t.computed&&function(e,t){var n=e._computedWatchers=Object.create(null),r=Y();for(var i in t){var o=t[i],a=\"function\"==typeof o?o:o.get;r||(n[i]=new St(e,a||O,O,Et)),i in e||It(e,i,o)}}(e,t.computed),t.watch&&t.watch!==G&&function(e,t){for(var n in t){var r=t[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)Dt(e,n,r[i]);else Dt(e,n,r)}}(e,t.watch)}var Et={lazy:!0};function It(e,t,n){var r=!Y();\"function\"==typeof n?(Tt.get=r?Lt(t):Mt(n),Tt.set=O):(Tt.get=n.get?r&&!1!==n.cache?Lt(t):Mt(n.get):O,Tt.set=n.set||O),Object.defineProperty(e,t,Tt)}function Lt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),oe.target&&t.depend(),t.value}}function Mt(e){return function(){return e.call(this,this)}}function Dt(e,t,n,r){return s(n)&&(r=n,n=n.handler),\"string\"==typeof n&&(n=e[n]),e.$watch(t,n,r)}function Pt(e,t){if(e){for(var n=Object.create(null),r=ne?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),i=0;i<r.length;i++){for(var o=r[i],a=e[o].from,s=t;s;){if(s._provided&&m(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s&&\"default\"in e[o]){var c=e[o].default;n[o]=\"function\"==typeof c?c.call(t):c}}return n}}function Ft(e,t){var r,i,a,s,c;if(Array.isArray(e)||\"string\"==typeof e)for(r=new Array(e.length),i=0,a=e.length;i<a;i++)r[i]=t(e[i],i);else if(\"number\"==typeof e)for(r=new Array(e),i=0;i<e;i++)r[i]=t(i+1,i);else if(o(e))for(s=Object.keys(e),r=new Array(s.length),i=0,a=s.length;i<a;i++)c=s[i],r[i]=t(e[c],c,i);return n(r)||(r=[]),r._isVList=!0,r}function Rt(e,t,n,r){var i,o=this.$scopedSlots[e];o?(n=n||{},r&&(n=k(k({},r),n)),i=o(n)||t):i=this.$slots[e]||t;var a=n&&n.slot;return a?this.$createElement(\"template\",{slot:a},i):i}function Ht(e){return je(this.$options,\"filters\",e)||T}function Bt(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Ut(e,t,n,r,i){var o=D.keyCodes[t]||n;return i&&r&&!D.keyCodes[t]?Bt(i,r):o?Bt(o,e):r?w(r)!==t:void 0}function Vt(e,t,n,r,i){if(n)if(o(n)){var a;Array.isArray(n)&&(n=A(n));var s=function(o){if(\"class\"===o||\"style\"===o||d(o))a=e;else{var s=e.attrs&&e.attrs.type;a=r||D.mustUseProp(t,s,o)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=_(o);o in a||c in a||(a[o]=n[o],i&&((e.on||(e.on={}))[\"update:\"+c]=function(e){n[o]=e}))};for(var c in n)s(c)}else;return e}function zt(e,t){var n=this._staticTrees||(this._staticTrees=[]),r=n[e];return r&&!t?r:(Jt(r=n[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),\"__static__\"+e,!1),r)}function Kt(e,t,n){return Jt(e,\"__once__\"+t+(n?\"_\"+n:\"\"),!0),e}function Jt(e,t,n){if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]&&\"string\"!=typeof e[r]&&qt(e[r],t+\"_\"+r,n);else qt(e,t,n)}function qt(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}function Wt(e,t){if(t)if(s(t)){var n=e.on=e.on?k({},e.on):{};for(var r in t){var i=n[r],o=t[r];n[r]=i?[].concat(i,o):o}}else;return e}function Gt(e){e._o=Kt,e._n=l,e._s=u,e._l=Ft,e._t=Rt,e._q=N,e._i=j,e._m=zt,e._f=Ht,e._k=Ut,e._b=Vt,e._v=pe,e._e=fe,e._u=vt,e._g=Wt}function Zt(t,n,i,o,a){var s,c=a.options;m(o,\"_uid\")?(s=Object.create(o))._original=o:(s=o,o=o._original);var u=r(c._compiled),l=!u;this.data=t,this.props=n,this.children=i,this.parent=o,this.listeners=t.on||e,this.injections=Pt(c.inject,o),this.slots=function(){return pt(i,o)},u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=t.scopedSlots||e),c._scopeId?this._c=function(e,t,n,r){var i=an(s,e,t,n,r,l);return i&&!Array.isArray(i)&&(i.fnScopeId=c._scopeId,i.fnContext=o),i}:this._c=function(e,t,n,r){return an(s,e,t,n,r,l)}}function Xt(e,t,n,r,i){var o=de(e);return o.fnContext=n,o.fnOptions=r,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Yt(e,t){for(var n in t)e[_(n)]=t[n]}Gt(Zt.prototype);var Qt={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;Qt.prepatch(r,r)}else{(e.componentInstance=function(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;n(i)&&(r.render=i.render,r.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(r)}(e,ht)).$mount(t?e.elm:void 0,t)}},prepatch:function(t,n){var r=n.componentOptions;!function(t,n,r,i,o){var a=!!(o||t.$options._renderChildren||i.data.scopedSlots||t.$scopedSlots!==e);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||e,t.$listeners=r||e,n&&t.$options.props){ge(!1);for(var s=t._props,c=t.$options._propKeys||[],u=0;u<c.length;u++){var l=c[u],f=t.$options.props;s[l]=Ee(l,f,n,t)}ge(!0),t.$options.propsData=n}r=r||e;var p=t.$options._parentListeners;t.$options._parentListeners=r,ft(t,r,p),a&&(t.$slots=pt(o,i.context),t.$forceUpdate())}(n.componentInstance=t.componentInstance,r.propsData,r.listeners,n,r.children)},insert:function(e){var t,n=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,_t(r,\"mounted\")),e.data.keepAlive&&(n._isMounted?((t=r)._inactive=!1,$t.push(t)):gt(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?function e(t,n){if(!(n&&(t._directInactive=!0,yt(t))||t._inactive)){t._inactive=!0;for(var r=0;r<t.$children.length;r++)e(t.$children[r]);_t(t,\"deactivated\")}}(t,!0):t.$destroy())}},en=Object.keys(Qt);function tn(i,a,s,c,u){if(!t(i)){var l=s.$options._base;if(o(i)&&(i=l.extend(i)),\"function\"==typeof i){var f;if(t(i.cid)&&void 0===(i=function(e,i,a){if(r(e.error)&&n(e.errorComp))return e.errorComp;if(n(e.resolved))return e.resolved;if(r(e.loading)&&n(e.loadingComp))return e.loadingComp;if(!n(e.contexts)){var s=e.contexts=[a],c=!0,u=function(e){for(var t=0,n=s.length;t<n;t++)s[t].$forceUpdate();e&&(s.length=0)},l=E(function(t){e.resolved=ot(t,i),c||u(!0)}),f=E(function(t){n(e.errorComp)&&(e.error=!0,u(!0))}),p=e(l,f);return o(p)&&(\"function\"==typeof p.then?t(e.resolved)&&p.then(l,f):n(p.component)&&\"function\"==typeof p.component.then&&(p.component.then(l,f),n(p.error)&&(e.errorComp=ot(p.error,i)),n(p.loading)&&(e.loadingComp=ot(p.loading,i),0===p.delay?e.loading=!0:setTimeout(function(){t(e.resolved)&&t(e.error)&&(e.loading=!0,u(!1))},p.delay||200)),n(p.timeout)&&setTimeout(function(){t(e.resolved)&&f(null)},p.timeout))),c=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(a)}(f=i,l,s)))return function(e,t,n,r,i){var o=fe();return o.asyncFactory=e,o.asyncMeta={data:t,context:n,children:r,tag:i},o}(f,a,s,c,u);a=a||{},cn(i),n(a.model)&&function(e,t){var r=e.model&&e.model.prop||\"value\",i=e.model&&e.model.event||\"input\";(t.props||(t.props={}))[r]=t.model.value;var o=t.on||(t.on={}),a=o[i],s=t.model.callback;n(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}(i.options,a);var p=function(e,r,i){var o=r.options.props;if(!t(o)){var a={},s=e.attrs,c=e.props;if(n(s)||n(c))for(var u in o){var l=w(u);nt(a,c,u,l,!0)||nt(a,s,u,l,!1)}return a}}(a,i);if(r(i.options.functional))return function(t,r,i,o,a){var s=t.options,c={},u=s.props;if(n(u))for(var l in u)c[l]=Ee(l,u,r||e);else n(i.attrs)&&Yt(c,i.attrs),n(i.props)&&Yt(c,i.props);var f=new Zt(i,c,a,o,t),p=s.render.call(null,f._c,f);if(p instanceof ue)return Xt(p,i,f.parent,s);if(Array.isArray(p)){for(var d=rt(p)||[],v=new Array(d.length),h=0;h<d.length;h++)v[h]=Xt(d[h],i,f.parent,s);return v}}(i,p,a,s,c);var d=a.on;if(a.on=a.nativeOn,r(i.options.abstract)){var v=a.slot;a={},v&&(a.slot=v)}!function(e){for(var t=e.hook||(e.hook={}),n=0;n<en.length;n++){var r=en[n],i=t[r],o=Qt[r];i===o||i&&i._merged||(t[r]=i?nn(o,i):o)}}(a);var h=i.options.name||u;return new ue(\"vue-component-\"+i.cid+(h?\"-\"+h:\"\"),a,void 0,void 0,void 0,s,{Ctor:i,propsData:p,listeners:d,tag:u,children:c},f)}}}function nn(e,t){var n=function(n,r){e(n,r),t(n,r)};return n._merged=!0,n}var rn=1,on=2;function an(e,a,s,c,u,l){return(Array.isArray(s)||i(s))&&(u=c,c=s,s=void 0),r(l)&&(u=on),function(e,i,a,s,c){if(n(a)&&n(a.__ob__))return fe();n(a)&&n(a.is)&&(i=a.is);if(!i)return fe();Array.isArray(s)&&\"function\"==typeof s[0]&&((a=a||{}).scopedSlots={default:s[0]},s.length=0);c===on?s=rt(s):c===rn&&(s=function(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}(s));var u,l;if(\"string\"==typeof i){var f;l=e.$vnode&&e.$vnode.ns||D.getTagNamespace(i),u=D.isReservedTag(i)?new ue(D.parsePlatformTagName(i),a,s,void 0,void 0,e):a&&a.pre||!n(f=je(e.$options,\"components\",i))?new ue(i,a,s,void 0,void 0,e):tn(f,a,e,s,i)}else u=tn(i,a,e,s);return Array.isArray(u)?u:n(u)?(n(l)&&function e(i,o,a){i.ns=o;\"foreignObject\"===i.tag&&(o=void 0,a=!0);if(n(i.children))for(var s=0,c=i.children.length;s<c;s++){var u=i.children[s];n(u.tag)&&(t(u.ns)||r(a)&&\"svg\"!==u.tag)&&e(u,o,a)}}(u,l),n(a)&&function(e){o(e.style)&&Ze(e.style);o(e.class)&&Ze(e.class)}(a),u):fe()}(e,a,s,c,u)}var sn=0;function cn(e){var t=e.options;if(e.super){var n=cn(e.super);if(n!==e.superOptions){e.superOptions=n;var r=function(e){var t,n=e.options,r=e.extendOptions,i=e.sealedOptions;for(var o in n)n[o]!==i[o]&&(t||(t={}),t[o]=un(n[o],r[o],i[o]));return t}(e);r&&k(e.extendOptions,r),(t=e.options=Ne(n,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function un(e,t,n){if(Array.isArray(e)){var r=[];n=Array.isArray(n)?n:[n],t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++)(t.indexOf(e[i])>=0||n.indexOf(e[i])<0)&&r.push(e[i]);return r}return e}function ln(e){this._init(e)}function fn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,r=n.cid,i=e._Ctor||(e._Ctor={});if(i[r])return i[r];var o=e.name||n.options.name,a=function(e){this._init(e)};return(a.prototype=Object.create(n.prototype)).constructor=a,a.cid=t++,a.options=Ne(n.options,e),a.super=n,a.options.props&&function(e){var t=e.options.props;for(var n in t)Nt(e.prototype,\"_props\",n)}(a),a.options.computed&&function(e){var t=e.options.computed;for(var n in t)It(e.prototype,n,t[n])}(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,L.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,a.sealedOptions=k({},a.options),i[r]=a,a}}function pn(e){return e&&(e.Ctor.options.name||e.tag)}function dn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:\"string\"==typeof e?e.split(\",\").indexOf(t)>-1:(n=e,\"[object RegExp]\"===a.call(n)&&e.test(t));var n}function vn(e,t){var n=e.cache,r=e.keys,i=e._vnode;for(var o in n){var a=n[o];if(a){var s=pn(a.componentOptions);s&&!t(s)&&hn(n,o,r,i)}}}function hn(e,t,n,r){var i=e[t];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),e[t]=null,v(n,t)}!function(t){t.prototype._init=function(t){var n=this;n._uid=sn++,n._isVue=!0,t&&t._isComponent?function(e,t){var n=e.$options=Object.create(e.constructor.options),r=t._parentVnode;n.parent=t.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}(n,t):n.$options=Ne(cn(n.constructor),t||{},n),n._renderProxy=n,n._self=n,function(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(n),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ft(e,t)}(n),function(t){t._vnode=null,t._staticTrees=null;var n=t.$options,r=t.$vnode=n._parentVnode,i=r&&r.context;t.$slots=pt(n._renderChildren,i),t.$scopedSlots=e,t._c=function(e,n,r,i){return an(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return an(t,e,n,r,i,!0)};var o=r&&r.data;$e(t,\"$attrs\",o&&o.attrs||e,null,!0),$e(t,\"$listeners\",n._parentListeners||e,null,!0)}(n),_t(n,\"beforeCreate\"),function(e){var t=Pt(e.$options.inject,e);t&&(ge(!1),Object.keys(t).forEach(function(n){$e(e,n,t[n])}),ge(!0))}(n),jt(n),function(e){var t=e.$options.provide;t&&(e._provided=\"function\"==typeof t?t.call(e):t)}(n),_t(n,\"created\"),n.$options.el&&n.$mount(n.$options.el)}}(ln),function(e){var t={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(e.prototype,\"$data\",t),Object.defineProperty(e.prototype,\"$props\",n),e.prototype.$set=we,e.prototype.$delete=Ce,e.prototype.$watch=function(e,t,n){if(s(t))return Dt(this,e,t,n);(n=n||{}).user=!0;var r=new St(this,e,t,n);if(n.immediate)try{t.call(this,r.value)}catch(e){De(e,this,'callback for immediate watcher \"'+r.expression+'\"')}return function(){r.teardown()}}}(ln),function(e){var t=/^hook:/;e.prototype.$on=function(e,n){var r=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)r.$on(e[i],n);else(r._events[e]||(r._events[e]=[])).push(n),t.test(e)&&(r._hasHookEvent=!0);return r},e.prototype.$once=function(e,t){var n=this;function r(){n.$off(e,r),t.apply(n,arguments)}return r.fn=t,n.$on(e,r),n},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(e)){for(var r=0,i=e.length;r<i;r++)n.$off(e[r],t);return n}var o=n._events[e];if(!o)return n;if(!t)return n._events[e]=null,n;if(t)for(var a,s=o.length;s--;)if((a=o[s])===t||a.fn===t){o.splice(s,1);break}return n},e.prototype.$emit=function(e){var t=this._events[e];if(t){t=t.length>1?x(t):t;for(var n=x(arguments,1),r=0,i=t.length;r<i;r++)try{t[r].apply(this,n)}catch(t){De(t,this,'event handler for \"'+e+'\"')}}return this}}(ln),function(e){e.prototype._update=function(e,t){var n=this,r=n.$el,i=n._vnode,o=mt(n);n._vnode=e,n.$el=i?n.__patch__(i,e):n.__patch__(n.$el,e,t,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){_t(e,\"beforeDestroy\"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||v(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),_t(e,\"destroyed\"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(ln),function(t){Gt(t.prototype),t.prototype.$nextTick=function(e){return We(e,this)},t.prototype._render=function(){var t,n=this,r=n.$options,i=r.render,o=r._parentVnode;o&&(n.$scopedSlots=o.data.scopedSlots||e),n.$vnode=o;try{t=i.call(n._renderProxy,n.$createElement)}catch(e){De(e,n,\"render\"),t=n._vnode}return t instanceof ue||(t=fe()),t.parent=o,t}}(ln);var mn=[String,RegExp,Array],yn={KeepAlive:{name:\"keep-alive\",abstract:!0,props:{include:mn,exclude:mn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)hn(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch(\"include\",function(t){vn(e,function(e){return dn(t,e)})}),this.$watch(\"exclude\",function(t){vn(e,function(e){return!dn(t,e)})})},render:function(){var e=this.$slots.default,t=st(e),n=t&&t.componentOptions;if(n){var r=pn(n),i=this.include,o=this.exclude;if(i&&(!r||!dn(i,r))||o&&r&&dn(o,r))return t;var a=this.cache,s=this.keys,c=null==t.key?n.Ctor.cid+(n.tag?\"::\"+n.tag:\"\"):t.key;a[c]?(t.componentInstance=a[c].componentInstance,v(s,c),s.push(c)):(a[c]=t,s.push(c),this.max&&s.length>parseInt(this.max)&&hn(a,s[0],s,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}}};!function(e){var t={get:function(){return D}};Object.defineProperty(e,\"config\",t),e.util={warn:re,extend:k,mergeOptions:Ne,defineReactive:$e},e.set=we,e.delete=Ce,e.nextTick=We,e.options=Object.create(null),L.forEach(function(t){e.options[t+\"s\"]=Object.create(null)}),e.options._base=e,k(e.options.components,yn),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var n=x(arguments,1);return n.unshift(this),\"function\"==typeof e.install?e.install.apply(e,n):\"function\"==typeof e&&e.apply(null,n),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Ne(this.options,e),this}}(e),fn(e),function(e){L.forEach(function(t){e[t]=function(e,n){return n?(\"component\"===t&&s(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),\"directive\"===t&&\"function\"==typeof n&&(n={bind:n,update:n}),this.options[t+\"s\"][e]=n,n):this.options[t+\"s\"][e]}})}(e)}(ln),Object.defineProperty(ln.prototype,\"$isServer\",{get:Y}),Object.defineProperty(ln.prototype,\"$ssrContext\",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ln,\"FunctionalRenderContext\",{value:Zt}),ln.version=\"2.5.21\";var gn=f(\"style,class\"),_n=f(\"input,textarea,option,select,progress\"),bn=function(e,t,n){return\"value\"===n&&_n(e)&&\"button\"!==t||\"selected\"===n&&\"option\"===e||\"checked\"===n&&\"input\"===e||\"muted\"===n&&\"video\"===e},$n=f(\"contenteditable,draggable,spellcheck\"),wn=f(\"allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible\"),Cn=\"http://www.w3.org/1999/xlink\",xn=function(e){return\":\"===e.charAt(5)&&\"xlink\"===e.slice(0,5)},kn=function(e){return xn(e)?e.slice(6,e.length):\"\"},An=function(e){return null==e||!1===e};function On(e){for(var t=e.data,r=e,i=e;n(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=Sn(i.data,t));for(;n(r=r.parent);)r&&r.data&&(t=Sn(t,r.data));return function(e,t){if(n(e)||n(t))return Tn(e,Nn(t));return\"\"}(t.staticClass,t.class)}function Sn(e,t){return{staticClass:Tn(e.staticClass,t.staticClass),class:n(e.class)?[e.class,t.class]:t.class}}function Tn(e,t){return e?t?e+\" \"+t:e:t||\"\"}function Nn(e){return Array.isArray(e)?function(e){for(var t,r=\"\",i=0,o=e.length;i<o;i++)n(t=Nn(e[i]))&&\"\"!==t&&(r&&(r+=\" \"),r+=t);return r}(e):o(e)?function(e){var t=\"\";for(var n in e)e[n]&&(t&&(t+=\" \"),t+=n);return t}(e):\"string\"==typeof e?e:\"\"}var jn={svg:\"http://www.w3.org/2000/svg\",math:\"http://www.w3.org/1998/Math/MathML\"},En=f(\"html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot\"),In=f(\"svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view\",!0),Ln=function(e){return En(e)||In(e)};function Mn(e){return In(e)?\"svg\":\"math\"===e?\"math\":void 0}var Dn=Object.create(null);var Pn=f(\"text,number,password,search,email,tel,url\");function Fn(e){if(\"string\"==typeof e){var t=document.querySelector(e);return t||document.createElement(\"div\")}return e}var Rn=Object.freeze({createElement:function(e,t){var n=document.createElement(e);return\"select\"!==e?n:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&n.setAttribute(\"multiple\",\"multiple\"),n)},createElementNS:function(e,t){return document.createElementNS(jn[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,n){e.insertBefore(t,n)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,\"\")}}),Hn={create:function(e,t){Bn(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Bn(e,!0),Bn(t))},destroy:function(e){Bn(e,!0)}};function Bn(e,t){var r=e.data.ref;if(n(r)){var i=e.context,o=e.componentInstance||e.elm,a=i.$refs;t?Array.isArray(a[r])?v(a[r],o):a[r]===o&&(a[r]=void 0):e.data.refInFor?Array.isArray(a[r])?a[r].indexOf(o)<0&&a[r].push(o):a[r]=[o]:a[r]=o}}var Un=new ue(\"\",{},[]),Vn=[\"create\",\"activate\",\"update\",\"remove\",\"destroy\"];function zn(e,i){return e.key===i.key&&(e.tag===i.tag&&e.isComment===i.isComment&&n(e.data)===n(i.data)&&function(e,t){if(\"input\"!==e.tag)return!0;var r,i=n(r=e.data)&&n(r=r.attrs)&&r.type,o=n(r=t.data)&&n(r=r.attrs)&&r.type;return i===o||Pn(i)&&Pn(o)}(e,i)||r(e.isAsyncPlaceholder)&&e.asyncFactory===i.asyncFactory&&t(i.asyncFactory.error))}function Kn(e,t,r){var i,o,a={};for(i=t;i<=r;++i)n(o=e[i].key)&&(a[o]=i);return a}var Jn={create:qn,update:qn,destroy:function(e){qn(e,Un)}};function qn(e,t){(e.data.directives||t.data.directives)&&function(e,t){var n,r,i,o=e===Un,a=t===Un,s=Gn(e.data.directives,e.context),c=Gn(t.data.directives,t.context),u=[],l=[];for(n in c)r=s[n],i=c[n],r?(i.oldValue=r.value,Xn(i,\"update\",t,e),i.def&&i.def.componentUpdated&&l.push(i)):(Xn(i,\"bind\",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var f=function(){for(var n=0;n<u.length;n++)Xn(u[n],\"inserted\",t,e)};o?tt(t,\"insert\",f):f()}l.length&&tt(t,\"postpatch\",function(){for(var n=0;n<l.length;n++)Xn(l[n],\"componentUpdated\",t,e)});if(!o)for(n in s)c[n]||Xn(s[n],\"unbind\",e,e,a)}(e,t)}var Wn=Object.create(null);function Gn(e,t){var n,r,i=Object.create(null);if(!e)return i;for(n=0;n<e.length;n++)(r=e[n]).modifiers||(r.modifiers=Wn),i[Zn(r)]=r,r.def=je(t.$options,\"directives\",r.name);return i}function Zn(e){return e.rawName||e.name+\".\"+Object.keys(e.modifiers||{}).join(\".\")}function Xn(e,t,n,r,i){var o=e.def&&e.def[t];if(o)try{o(n.elm,e,n,r,i)}catch(r){De(r,n.context,\"directive \"+e.name+\" \"+t+\" hook\")}}var Yn=[Hn,Jn];function Qn(e,r){var i=r.componentOptions;if(!(n(i)&&!1===i.Ctor.options.inheritAttrs||t(e.data.attrs)&&t(r.data.attrs))){var o,a,s=r.elm,c=e.data.attrs||{},u=r.data.attrs||{};for(o in n(u.__ob__)&&(u=r.data.attrs=k({},u)),u)a=u[o],c[o]!==a&&er(s,o,a);for(o in(K||q)&&u.value!==c.value&&er(s,\"value\",u.value),c)t(u[o])&&(xn(o)?s.removeAttributeNS(Cn,kn(o)):$n(o)||s.removeAttribute(o))}}function er(e,t,n){e.tagName.indexOf(\"-\")>-1?tr(e,t,n):wn(t)?An(n)?e.removeAttribute(t):(n=\"allowfullscreen\"===t&&\"EMBED\"===e.tagName?\"true\":t,e.setAttribute(t,n)):$n(t)?e.setAttribute(t,An(n)||\"false\"===n?\"false\":\"true\"):xn(t)?An(n)?e.removeAttributeNS(Cn,kn(t)):e.setAttributeNS(Cn,t,n):tr(e,t,n)}function tr(e,t,n){if(An(n))e.removeAttribute(t);else{if(K&&!J&&(\"TEXTAREA\"===e.tagName||\"INPUT\"===e.tagName)&&\"placeholder\"===t&&!e.__ieph){var r=function(t){t.stopImmediatePropagation(),e.removeEventListener(\"input\",r)};e.addEventListener(\"input\",r),e.__ieph=!0}e.setAttribute(t,n)}}var nr={create:Qn,update:Qn};function rr(e,r){var i=r.elm,o=r.data,a=e.data;if(!(t(o.staticClass)&&t(o.class)&&(t(a)||t(a.staticClass)&&t(a.class)))){var s=On(r),c=i._transitionClasses;n(c)&&(s=Tn(s,Nn(c))),s!==i._prevClass&&(i.setAttribute(\"class\",s),i._prevClass=s)}}var ir,or,ar,sr,cr,ur,lr={create:rr,update:rr},fr=/[\\w).+\\-_$\\]]/;function pr(e){var t,n,r,i,o,a=!1,s=!1,c=!1,u=!1,l=0,f=0,p=0,d=0;for(r=0;r<e.length;r++)if(n=t,t=e.charCodeAt(r),a)39===t&&92!==n&&(a=!1);else if(s)34===t&&92!==n&&(s=!1);else if(c)96===t&&92!==n&&(c=!1);else if(u)47===t&&92!==n&&(u=!1);else if(124!==t||124===e.charCodeAt(r+1)||124===e.charCodeAt(r-1)||l||f||p){switch(t){case 34:s=!0;break;case 39:a=!0;break;case 96:c=!0;break;case 40:p++;break;case 41:p--;break;case 91:f++;break;case 93:f--;break;case 123:l++;break;case 125:l--}if(47===t){for(var v=r-1,h=void 0;v>=0&&\" \"===(h=e.charAt(v));v--);h&&fr.test(h)||(u=!0)}}else void 0===i?(d=r+1,i=e.slice(0,r).trim()):m();function m(){(o||(o=[])).push(e.slice(d,r).trim()),d=r+1}if(void 0===i?i=e.slice(0,r).trim():0!==d&&m(),o)for(r=0;r<o.length;r++)i=dr(i,o[r]);return i}function dr(e,t){var n=t.indexOf(\"(\");if(n<0)return'_f(\"'+t+'\")('+e+\")\";var r=t.slice(0,n),i=t.slice(n+1);return'_f(\"'+r+'\")('+e+(\")\"!==i?\",\"+i:i)}function vr(e){console.error(\"[Vue compiler]: \"+e)}function hr(e,t){return e?e.map(function(e){return e[t]}).filter(function(e){return e}):[]}function mr(e,t,n){(e.props||(e.props=[])).push({name:t,value:n}),e.plain=!1}function yr(e,t,n){(e.attrs||(e.attrs=[])).push({name:t,value:n}),e.plain=!1}function gr(e,t,n){e.attrsMap[t]=n,e.attrsList.push({name:t,value:n})}function _r(e,t,n,r,i,o){(e.directives||(e.directives=[])).push({name:t,rawName:n,value:r,arg:i,modifiers:o}),e.plain=!1}function br(t,n,r,i,o,a){var s;i=i||e,\"click\"===n&&(i.right?(n=\"contextmenu\",delete i.right):i.middle&&(n=\"mouseup\")),i.capture&&(delete i.capture,n=\"!\"+n),i.once&&(delete i.once,n=\"~\"+n),i.passive&&(delete i.passive,n=\"&\"+n),i.native?(delete i.native,s=t.nativeEvents||(t.nativeEvents={})):s=t.events||(t.events={});var c={value:r.trim()};i!==e&&(c.modifiers=i);var u=s[n];Array.isArray(u)?o?u.unshift(c):u.push(c):s[n]=u?o?[c,u]:[u,c]:c,t.plain=!1}function $r(e,t,n){var r=wr(e,\":\"+t)||wr(e,\"v-bind:\"+t);if(null!=r)return pr(r);if(!1!==n){var i=wr(e,t);if(null!=i)return JSON.stringify(i)}}function wr(e,t,n){var r;if(null!=(r=e.attrsMap[t]))for(var i=e.attrsList,o=0,a=i.length;o<a;o++)if(i[o].name===t){i.splice(o,1);break}return n&&delete e.attrsMap[t],r}function Cr(e,t,n){var r=n||{},i=r.number,o=\"$$v\";r.trim&&(o=\"(typeof $$v === 'string'? $$v.trim(): $$v)\"),i&&(o=\"_n(\"+o+\")\");var a=xr(t,o);e.model={value:\"(\"+t+\")\",expression:JSON.stringify(t),callback:\"function ($$v) {\"+a+\"}\"}}function xr(e,t){var n=function(e){if(e=e.trim(),ir=e.length,e.indexOf(\"[\")<0||e.lastIndexOf(\"]\")<ir-1)return(sr=e.lastIndexOf(\".\"))>-1?{exp:e.slice(0,sr),key:'\"'+e.slice(sr+1)+'\"'}:{exp:e,key:null};or=e,sr=cr=ur=0;for(;!Ar();)Or(ar=kr())?Tr(ar):91===ar&&Sr(ar);return{exp:e.slice(0,cr),key:e.slice(cr+1,ur)}}(e);return null===n.key?e+\"=\"+t:\"$set(\"+n.exp+\", \"+n.key+\", \"+t+\")\"}function kr(){return or.charCodeAt(++sr)}function Ar(){return sr>=ir}function Or(e){return 34===e||39===e}function Sr(e){var t=1;for(cr=sr;!Ar();)if(Or(e=kr()))Tr(e);else if(91===e&&t++,93===e&&t--,0===t){ur=sr;break}}function Tr(e){for(var t=e;!Ar()&&(e=kr())!==t;);}var Nr,jr=\"__r\",Er=\"__c\";function Ir(e,t,n){var r=Nr;return function i(){null!==t.apply(null,arguments)&&Mr(e,i,n,r)}}function Lr(e,t,n,r){var i;t=(i=t)._withTask||(i._withTask=function(){ze=!0;try{return i.apply(null,arguments)}finally{ze=!1}}),Nr.addEventListener(e,t,Z?{capture:n,passive:r}:n)}function Mr(e,t,n,r){(r||Nr).removeEventListener(e,t._withTask||t,n)}function Dr(e,r){if(!t(e.data.on)||!t(r.data.on)){var i=r.data.on||{},o=e.data.on||{};Nr=r.elm,function(e){if(n(e[jr])){var t=K?\"change\":\"input\";e[t]=[].concat(e[jr],e[t]||[]),delete e[jr]}n(e[Er])&&(e.change=[].concat(e[Er],e.change||[]),delete e[Er])}(i),et(i,o,Lr,Mr,Ir,r.context),Nr=void 0}}var Pr={create:Dr,update:Dr};function Fr(e,r){if(!t(e.data.domProps)||!t(r.data.domProps)){var i,o,a=r.elm,s=e.data.domProps||{},c=r.data.domProps||{};for(i in n(c.__ob__)&&(c=r.data.domProps=k({},c)),s)t(c[i])&&(a[i]=\"\");for(i in c){if(o=c[i],\"textContent\"===i||\"innerHTML\"===i){if(r.children&&(r.children.length=0),o===s[i])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if(\"value\"===i){a._value=o;var u=t(o)?\"\":String(o);Rr(a,u)&&(a.value=u)}else a[i]=o}}}function Rr(e,t){return!e.composing&&(\"OPTION\"===e.tagName||function(e,t){var n=!0;try{n=document.activeElement!==e}catch(e){}return n&&e.value!==t}(e,t)||function(e,t){var r=e.value,i=e._vModifiers;if(n(i)){if(i.lazy)return!1;if(i.number)return l(r)!==l(t);if(i.trim)return r.trim()!==t.trim()}return r!==t}(e,t))}var Hr={create:Fr,update:Fr},Br=y(function(e){var t={},n=/:(.+)/;return e.split(/;(?![^(]*\\))/g).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function Ur(e){var t=Vr(e.style);return e.staticStyle?k(e.staticStyle,t):t}function Vr(e){return Array.isArray(e)?A(e):\"string\"==typeof e?Br(e):e}var zr,Kr=/^--/,Jr=/\\s*!important$/,qr=function(e,t,n){if(Kr.test(t))e.style.setProperty(t,n);else if(Jr.test(n))e.style.setProperty(t,n.replace(Jr,\"\"),\"important\");else{var r=Gr(t);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)e.style[r]=n[i];else e.style[r]=n}},Wr=[\"Webkit\",\"Moz\",\"ms\"],Gr=y(function(e){if(zr=zr||document.createElement(\"div\").style,\"filter\"!==(e=_(e))&&e in zr)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<Wr.length;n++){var r=Wr[n]+t;if(r in zr)return r}});function Zr(e,r){var i=r.data,o=e.data;if(!(t(i.staticStyle)&&t(i.style)&&t(o.staticStyle)&&t(o.style))){var a,s,c=r.elm,u=o.staticStyle,l=o.normalizedStyle||o.style||{},f=u||l,p=Vr(r.data.style)||{};r.data.normalizedStyle=n(p.__ob__)?k({},p):p;var d=function(e,t){var n,r={};if(t)for(var i=e;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=Ur(i.data))&&k(r,n);(n=Ur(e.data))&&k(r,n);for(var o=e;o=o.parent;)o.data&&(n=Ur(o.data))&&k(r,n);return r}(r,!0);for(s in f)t(d[s])&&qr(c,s,\"\");for(s in d)(a=d[s])!==f[s]&&qr(c,s,null==a?\"\":a)}}var Xr={create:Zr,update:Zr},Yr=/\\s+/;function Qr(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(\" \")>-1?t.split(Yr).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=\" \"+(e.getAttribute(\"class\")||\"\")+\" \";n.indexOf(\" \"+t+\" \")<0&&e.setAttribute(\"class\",(n+t).trim())}}function ei(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(\" \")>-1?t.split(Yr).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute(\"class\");else{for(var n=\" \"+(e.getAttribute(\"class\")||\"\")+\" \",r=\" \"+t+\" \";n.indexOf(r)>=0;)n=n.replace(r,\" \");(n=n.trim())?e.setAttribute(\"class\",n):e.removeAttribute(\"class\")}}function ti(e){if(e){if(\"object\"==typeof e){var t={};return!1!==e.css&&k(t,ni(e.name||\"v\")),k(t,e),t}return\"string\"==typeof e?ni(e):void 0}}var ni=y(function(e){return{enterClass:e+\"-enter\",enterToClass:e+\"-enter-to\",enterActiveClass:e+\"-enter-active\",leaveClass:e+\"-leave\",leaveToClass:e+\"-leave-to\",leaveActiveClass:e+\"-leave-active\"}}),ri=B&&!J,ii=\"transition\",oi=\"animation\",ai=\"transition\",si=\"transitionend\",ci=\"animation\",ui=\"animationend\";ri&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ai=\"WebkitTransition\",si=\"webkitTransitionEnd\"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ci=\"WebkitAnimation\",ui=\"webkitAnimationEnd\"));var li=B?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function fi(e){li(function(){li(e)})}function pi(e,t){var n=e._transitionClasses||(e._transitionClasses=[]);n.indexOf(t)<0&&(n.push(t),Qr(e,t))}function di(e,t){e._transitionClasses&&v(e._transitionClasses,t),ei(e,t)}function vi(e,t,n){var r=mi(e,t),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===ii?si:ui,c=0,u=function(){e.removeEventListener(s,l),n()},l=function(t){t.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,l)}var hi=/\\b(transform|all)(,|$)/;function mi(e,t){var n,r=window.getComputedStyle(e),i=(r[ai+\"Delay\"]||\"\").split(\", \"),o=(r[ai+\"Duration\"]||\"\").split(\", \"),a=yi(i,o),s=(r[ci+\"Delay\"]||\"\").split(\", \"),c=(r[ci+\"Duration\"]||\"\").split(\", \"),u=yi(s,c),l=0,f=0;return t===ii?a>0&&(n=ii,l=a,f=o.length):t===oi?u>0&&(n=oi,l=u,f=c.length):f=(n=(l=Math.max(a,u))>0?a>u?ii:oi:null)?n===ii?o.length:c.length:0,{type:n,timeout:l,propCount:f,hasTransform:n===ii&&hi.test(r[ai+\"Property\"])}}function yi(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return gi(t)+gi(e[n])}))}function gi(e){return 1e3*Number(e.slice(0,-1).replace(\",\",\".\"))}function _i(e,r){var i=e.elm;n(i._leaveCb)&&(i._leaveCb.cancelled=!0,i._leaveCb());var a=ti(e.data.transition);if(!t(a)&&!n(i._enterCb)&&1===i.nodeType){for(var s=a.css,c=a.type,u=a.enterClass,f=a.enterToClass,p=a.enterActiveClass,d=a.appearClass,v=a.appearToClass,h=a.appearActiveClass,m=a.beforeEnter,y=a.enter,g=a.afterEnter,_=a.enterCancelled,b=a.beforeAppear,$=a.appear,w=a.afterAppear,C=a.appearCancelled,x=a.duration,k=ht,A=ht.$vnode;A&&A.parent;)k=(A=A.parent).context;var O=!k._isMounted||!e.isRootInsert;if(!O||$||\"\"===$){var S=O&&d?d:u,T=O&&h?h:p,N=O&&v?v:f,j=O&&b||m,I=O&&\"function\"==typeof $?$:y,L=O&&w||g,M=O&&C||_,D=l(o(x)?x.enter:x),P=!1!==s&&!J,F=wi(I),R=i._enterCb=E(function(){P&&(di(i,N),di(i,T)),R.cancelled?(P&&di(i,S),M&&M(i)):L&&L(i),i._enterCb=null});e.data.show||tt(e,\"insert\",function(){var t=i.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),I&&I(i,R)}),j&&j(i),P&&(pi(i,S),pi(i,T),fi(function(){di(i,S),R.cancelled||(pi(i,N),F||($i(D)?setTimeout(R,D):vi(i,c,R)))})),e.data.show&&(r&&r(),I&&I(i,R)),P||F||R()}}}function bi(e,r){var i=e.elm;n(i._enterCb)&&(i._enterCb.cancelled=!0,i._enterCb());var a=ti(e.data.transition);if(t(a)||1!==i.nodeType)return r();if(!n(i._leaveCb)){var s=a.css,c=a.type,u=a.leaveClass,f=a.leaveToClass,p=a.leaveActiveClass,d=a.beforeLeave,v=a.leave,h=a.afterLeave,m=a.leaveCancelled,y=a.delayLeave,g=a.duration,_=!1!==s&&!J,b=wi(v),$=l(o(g)?g.leave:g),w=i._leaveCb=E(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),_&&(di(i,f),di(i,p)),w.cancelled?(_&&di(i,u),m&&m(i)):(r(),h&&h(i)),i._leaveCb=null});y?y(C):C()}function C(){w.cancelled||(!e.data.show&&i.parentNode&&((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),d&&d(i),_&&(pi(i,u),pi(i,p),fi(function(){di(i,u),w.cancelled||(pi(i,f),b||($i($)?setTimeout(w,$):vi(i,c,w)))})),v&&v(i,w),_||b||w())}}function $i(e){return\"number\"==typeof e&&!isNaN(e)}function wi(e){if(t(e))return!1;var r=e.fns;return n(r)?wi(Array.isArray(r)?r[0]:r):(e._length||e.length)>1}function Ci(e,t){!0!==t.data.show&&_i(t)}var xi=function(e){var o,a,s={},c=e.modules,u=e.nodeOps;for(o=0;o<Vn.length;++o)for(s[Vn[o]]=[],a=0;a<c.length;++a)n(c[a][Vn[o]])&&s[Vn[o]].push(c[a][Vn[o]]);function l(e){var t=u.parentNode(e);n(t)&&u.removeChild(t,e)}function p(e,t,i,o,a,c,l){if(n(e.elm)&&n(c)&&(e=c[l]=de(e)),e.isRootInsert=!a,!function(e,t,i,o){var a=e.data;if(n(a)){var c=n(e.componentInstance)&&a.keepAlive;if(n(a=a.hook)&&n(a=a.init)&&a(e,!1),n(e.componentInstance))return d(e,t),v(i,e.elm,o),r(c)&&function(e,t,r,i){for(var o,a=e;a.componentInstance;)if(a=a.componentInstance._vnode,n(o=a.data)&&n(o=o.transition)){for(o=0;o<s.activate.length;++o)s.activate[o](Un,a);t.push(a);break}v(r,e.elm,i)}(e,t,i,o),!0}}(e,t,i,o)){var f=e.data,p=e.children,m=e.tag;n(m)?(e.elm=e.ns?u.createElementNS(e.ns,m):u.createElement(m,e),g(e),h(e,p,t),n(f)&&y(e,t),v(i,e.elm,o)):r(e.isComment)?(e.elm=u.createComment(e.text),v(i,e.elm,o)):(e.elm=u.createTextNode(e.text),v(i,e.elm,o))}}function d(e,t){n(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,m(e)?(y(e,t),g(e)):(Bn(e),t.push(e))}function v(e,t,r){n(e)&&(n(r)?u.parentNode(r)===e&&u.insertBefore(e,t,r):u.appendChild(e,t))}function h(e,t,n){if(Array.isArray(t))for(var r=0;r<t.length;++r)p(t[r],n,e.elm,null,!0,t,r);else i(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function m(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return n(e.tag)}function y(e,t){for(var r=0;r<s.create.length;++r)s.create[r](Un,e);n(o=e.data.hook)&&(n(o.create)&&o.create(Un,e),n(o.insert)&&t.push(e))}function g(e){var t;if(n(t=e.fnScopeId))u.setStyleScope(e.elm,t);else for(var r=e;r;)n(t=r.context)&&n(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),r=r.parent;n(t=ht)&&t!==e.context&&t!==e.fnContext&&n(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function _(e,t,n,r,i,o){for(;r<=i;++r)p(n[r],o,e,t,!1,n,r)}function b(e){var t,r,i=e.data;if(n(i))for(n(t=i.hook)&&n(t=t.destroy)&&t(e),t=0;t<s.destroy.length;++t)s.destroy[t](e);if(n(t=e.children))for(r=0;r<e.children.length;++r)b(e.children[r])}function $(e,t,r,i){for(;r<=i;++r){var o=t[r];n(o)&&(n(o.tag)?(w(o),b(o)):l(o.elm))}}function w(e,t){if(n(t)||n(e.data)){var r,i=s.remove.length+1;for(n(t)?t.listeners+=i:t=function(e,t){function n(){0==--n.listeners&&l(e)}return n.listeners=t,n}(e.elm,i),n(r=e.componentInstance)&&n(r=r._vnode)&&n(r.data)&&w(r,t),r=0;r<s.remove.length;++r)s.remove[r](e,t);n(r=e.data.hook)&&n(r=r.remove)?r(e,t):t()}else l(e.elm)}function C(e,t,r,i){for(var o=r;o<i;o++){var a=t[o];if(n(a)&&zn(e,a))return o}}function x(e,i,o,a,c,l){if(e!==i){n(i.elm)&&n(a)&&(i=a[c]=de(i));var f=i.elm=e.elm;if(r(e.isAsyncPlaceholder))n(i.asyncFactory.resolved)?O(e.elm,i,o):i.isAsyncPlaceholder=!0;else if(r(i.isStatic)&&r(e.isStatic)&&i.key===e.key&&(r(i.isCloned)||r(i.isOnce)))i.componentInstance=e.componentInstance;else{var d,v=i.data;n(v)&&n(d=v.hook)&&n(d=d.prepatch)&&d(e,i);var h=e.children,y=i.children;if(n(v)&&m(i)){for(d=0;d<s.update.length;++d)s.update[d](e,i);n(d=v.hook)&&n(d=d.update)&&d(e,i)}t(i.text)?n(h)&&n(y)?h!==y&&function(e,r,i,o,a){for(var s,c,l,f=0,d=0,v=r.length-1,h=r[0],m=r[v],y=i.length-1,g=i[0],b=i[y],w=!a;f<=v&&d<=y;)t(h)?h=r[++f]:t(m)?m=r[--v]:zn(h,g)?(x(h,g,o,i,d),h=r[++f],g=i[++d]):zn(m,b)?(x(m,b,o,i,y),m=r[--v],b=i[--y]):zn(h,b)?(x(h,b,o,i,y),w&&u.insertBefore(e,h.elm,u.nextSibling(m.elm)),h=r[++f],b=i[--y]):zn(m,g)?(x(m,g,o,i,d),w&&u.insertBefore(e,m.elm,h.elm),m=r[--v],g=i[++d]):(t(s)&&(s=Kn(r,f,v)),t(c=n(g.key)?s[g.key]:C(g,r,f,v))?p(g,o,e,h.elm,!1,i,d):zn(l=r[c],g)?(x(l,g,o,i,d),r[c]=void 0,w&&u.insertBefore(e,l.elm,h.elm)):p(g,o,e,h.elm,!1,i,d),g=i[++d]);f>v?_(e,t(i[y+1])?null:i[y+1].elm,i,d,y,o):d>y&&$(0,r,f,v)}(f,h,y,o,l):n(y)?(n(e.text)&&u.setTextContent(f,\"\"),_(f,null,y,0,y.length-1,o)):n(h)?$(0,h,0,h.length-1):n(e.text)&&u.setTextContent(f,\"\"):e.text!==i.text&&u.setTextContent(f,i.text),n(v)&&n(d=v.hook)&&n(d=d.postpatch)&&d(e,i)}}}function k(e,t,i){if(r(i)&&n(e.parent))e.parent.data.pendingInsert=t;else for(var o=0;o<t.length;++o)t[o].data.hook.insert(t[o])}var A=f(\"attrs,class,staticClass,staticStyle,key\");function O(e,t,i,o){var a,s=t.tag,c=t.data,u=t.children;if(o=o||c&&c.pre,t.elm=e,r(t.isComment)&&n(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(n(c)&&(n(a=c.hook)&&n(a=a.init)&&a(t,!0),n(a=t.componentInstance)))return d(t,i),!0;if(n(s)){if(n(u))if(e.hasChildNodes())if(n(a=c)&&n(a=a.domProps)&&n(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var l=!0,f=e.firstChild,p=0;p<u.length;p++){if(!f||!O(f,u[p],i,o)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else h(t,u,i);if(n(c)){var v=!1;for(var m in c)if(!A(m)){v=!0,y(t,i);break}!v&&c.class&&Ze(c.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,i,o,a){if(!t(i)){var c,l=!1,f=[];if(t(e))l=!0,p(i,f);else{var d=n(e.nodeType);if(!d&&zn(e,i))x(e,i,f,null,null,a);else{if(d){if(1===e.nodeType&&e.hasAttribute(I)&&(e.removeAttribute(I),o=!0),r(o)&&O(e,i,f))return k(i,f,!0),e;c=e,e=new ue(u.tagName(c).toLowerCase(),{},[],void 0,c)}var v=e.elm,h=u.parentNode(v);if(p(i,f,v._leaveCb?null:h,u.nextSibling(v)),n(i.parent))for(var y=i.parent,g=m(i);y;){for(var _=0;_<s.destroy.length;++_)s.destroy[_](y);if(y.elm=i.elm,g){for(var w=0;w<s.create.length;++w)s.create[w](Un,y);var C=y.data.hook.insert;if(C.merged)for(var A=1;A<C.fns.length;A++)C.fns[A]()}else Bn(y);y=y.parent}n(h)?$(0,[e],0,0):n(e.tag)&&b(e)}}return k(i,f,l),i.elm}n(e)&&b(e)}}({nodeOps:Rn,modules:[nr,lr,Pr,Hr,Xr,B?{create:Ci,activate:Ci,remove:function(e,t){!0!==e.data.show?bi(e,t):t()}}:{}].concat(Yn)});J&&document.addEventListener(\"selectionchange\",function(){var e=document.activeElement;e&&e.vmodel&&Ei(e,\"input\")});var ki={inserted:function(e,t,n,r){\"select\"===n.tag?(r.elm&&!r.elm._vOptions?tt(n,\"postpatch\",function(){ki.componentUpdated(e,t,n)}):Ai(e,t,n.context),e._vOptions=[].map.call(e.options,Ti)):(\"textarea\"===n.tag||Pn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener(\"compositionstart\",Ni),e.addEventListener(\"compositionend\",ji),e.addEventListener(\"change\",ji),J&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if(\"select\"===n.tag){Ai(e,t,n.context);var r=e._vOptions,i=e._vOptions=[].map.call(e.options,Ti);if(i.some(function(e,t){return!N(e,r[t])}))(e.multiple?t.value.some(function(e){return Si(e,i)}):t.value!==t.oldValue&&Si(t.value,i))&&Ei(e,\"change\")}}};function Ai(e,t,n){Oi(e,t,n),(K||q)&&setTimeout(function(){Oi(e,t,n)},0)}function Oi(e,t,n){var r=t.value,i=e.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=j(r,Ti(a))>-1,a.selected!==o&&(a.selected=o);else if(N(Ti(a),r))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function Si(e,t){return t.every(function(t){return!N(t,e)})}function Ti(e){return\"_value\"in e?e._value:e.value}function Ni(e){e.target.composing=!0}function ji(e){e.target.composing&&(e.target.composing=!1,Ei(e.target,\"input\"))}function Ei(e,t){var n=document.createEvent(\"HTMLEvents\");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function Ii(e){return!e.componentInstance||e.data&&e.data.transition?e:Ii(e.componentInstance._vnode)}var Li={model:ki,show:{bind:function(e,t,n){var r=t.value,i=(n=Ii(n)).data&&n.data.transition,o=e.__vOriginalDisplay=\"none\"===e.style.display?\"\":e.style.display;r&&i?(n.data.show=!0,_i(n,function(){e.style.display=o})):e.style.display=r?o:\"none\"},update:function(e,t,n){var r=t.value;!r!=!t.oldValue&&((n=Ii(n)).data&&n.data.transition?(n.data.show=!0,r?_i(n,function(){e.style.display=e.__vOriginalDisplay}):bi(n,function(){e.style.display=\"none\"})):e.style.display=r?e.__vOriginalDisplay:\"none\")},unbind:function(e,t,n,r,i){i||(e.style.display=e.__vOriginalDisplay)}}},Mi={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Di(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Di(st(t.children)):e}function Pi(e){var t={},n=e.$options;for(var r in n.propsData)t[r]=e[r];var i=n._parentListeners;for(var o in i)t[_(o)]=i[o];return t}function Fi(e,t){if(/\\d-keep-alive$/.test(t.tag))return e(\"keep-alive\",{props:t.componentOptions.propsData})}var Ri=function(e){return e.tag||at(e)},Hi=function(e){return\"show\"===e.name},Bi={name:\"transition\",props:Mi,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(Ri)).length){var r=this.mode,o=n[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return o;var a=Di(o);if(!a)return o;if(this._leaving)return Fi(e,o);var s=\"__transition-\"+this._uid+\"-\";a.key=null==a.key?a.isComment?s+\"comment\":s+a.tag:i(a.key)?0===String(a.key).indexOf(s)?a.key:s+a.key:a.key;var c=(a.data||(a.data={})).transition=Pi(this),u=this._vnode,l=Di(u);if(a.data.directives&&a.data.directives.some(Hi)&&(a.data.show=!0),l&&l.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,l)&&!at(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=k({},c);if(\"out-in\"===r)return this._leaving=!0,tt(f,\"afterLeave\",function(){t._leaving=!1,t.$forceUpdate()}),Fi(e,o);if(\"in-out\"===r){if(at(a))return u;var p,d=function(){p()};tt(c,\"afterEnter\",d),tt(c,\"enterCancelled\",d),tt(f,\"delayLeave\",function(e){p=e})}}return o}}},Ui=k({tag:String,moveClass:String},Mi);function Vi(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function zi(e){e.data.newPos=e.elm.getBoundingClientRect()}function Ki(e){var t=e.data.pos,n=e.data.newPos,r=t.left-n.left,i=t.top-n.top;if(r||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform=\"translate(\"+r+\"px,\"+i+\"px)\",o.transitionDuration=\"0s\"}}delete Ui.mode;var Ji={Transition:Bi,TransitionGroup:{props:Ui,beforeMount:function(){var e=this,t=this._update;this._update=function(n,r){var i=mt(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,n,r)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||\"span\",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=Pi(this),s=0;s<i.length;s++){var c=i[s];c.tag&&null!=c.key&&0!==String(c.key).indexOf(\"__vlist\")&&(o.push(c),n[c.key]=c,(c.data||(c.data={})).transition=a)}if(r){for(var u=[],l=[],f=0;f<r.length;f++){var p=r[f];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?u.push(p):l.push(p)}this.kept=e(t,null,u),this.removed=l}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||\"v\")+\"-move\";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(Vi),e.forEach(zi),e.forEach(Ki),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var n=e.elm,r=n.style;pi(n,t),r.transform=r.WebkitTransform=r.transitionDuration=\"\",n.addEventListener(si,n._moveCb=function e(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(si,e),n._moveCb=null,di(n,t))})}}))},methods:{hasMove:function(e,t){if(!ri)return!1;if(this._hasMove)return this._hasMove;var n=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){ei(n,e)}),Qr(n,t),n.style.display=\"none\",this.$el.appendChild(n);var r=mi(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};ln.config.mustUseProp=bn,ln.config.isReservedTag=Ln,ln.config.isReservedAttr=gn,ln.config.getTagNamespace=Mn,ln.config.isUnknownElement=function(e){if(!B)return!0;if(Ln(e))return!1;if(e=e.toLowerCase(),null!=Dn[e])return Dn[e];var t=document.createElement(e);return e.indexOf(\"-\")>-1?Dn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Dn[e]=/HTMLUnknownElement/.test(t.toString())},k(ln.options.directives,Li),k(ln.options.components,Ji),ln.prototype.__patch__=B?xi:O,ln.prototype.$mount=function(e,t){return function(e,t,n){var r;return e.$el=t,e.$options.render||(e.$options.render=fe),_t(e,\"beforeMount\"),r=function(){e._update(e._render(),n)},new St(e,r,O,{before:function(){e._isMounted&&!e._isDestroyed&&_t(e,\"beforeUpdate\")}},!0),n=!1,null==e.$vnode&&(e._isMounted=!0,_t(e,\"mounted\")),e}(this,e=e&&B?Fn(e):void 0,t)},B&&setTimeout(function(){D.devtools&&Q&&Q.emit(\"init\",ln)},0);var qi=/\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g,Wi=/[-.*+?^${}()|[\\]\\/\\\\]/g,Gi=y(function(e){var t=e[0].replace(Wi,\"\\\\$&\"),n=e[1].replace(Wi,\"\\\\$&\");return new RegExp(t+\"((?:.|\\\\n)+?)\"+n,\"g\")});var Zi={staticKeys:[\"staticClass\"],transformNode:function(e,t){t.warn;var n=wr(e,\"class\");n&&(e.staticClass=JSON.stringify(n));var r=$r(e,\"class\",!1);r&&(e.classBinding=r)},genData:function(e){var t=\"\";return e.staticClass&&(t+=\"staticClass:\"+e.staticClass+\",\"),e.classBinding&&(t+=\"class:\"+e.classBinding+\",\"),t}};var Xi,Yi={staticKeys:[\"staticStyle\"],transformNode:function(e,t){t.warn;var n=wr(e,\"style\");n&&(e.staticStyle=JSON.stringify(Br(n)));var r=$r(e,\"style\",!1);r&&(e.styleBinding=r)},genData:function(e){var t=\"\";return e.staticStyle&&(t+=\"staticStyle:\"+e.staticStyle+\",\"),e.styleBinding&&(t+=\"style:(\"+e.styleBinding+\"),\"),t}},Qi=function(e){return(Xi=Xi||document.createElement(\"div\")).innerHTML=e,Xi.textContent},eo=f(\"area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr\"),to=f(\"colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source\"),no=f(\"address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track\"),ro=/^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/,io=\"[a-zA-Z_][\\\\w\\\\-\\\\.]*\",oo=\"((?:\"+io+\"\\\\:)?\"+io+\")\",ao=new RegExp(\"^<\"+oo),so=/^\\s*(\\/?)>/,co=new RegExp(\"^<\\\\/\"+oo+\"[^>]*>\"),uo=/^<!DOCTYPE [^>]+>/i,lo=/^<!\\--/,fo=/^<!\\[/,po=f(\"script,style,textarea\",!0),vo={},ho={\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&amp;\":\"&\",\"&#10;\":\"\\n\",\"&#9;\":\"\\t\"},mo=/&(?:lt|gt|quot|amp);/g,yo=/&(?:lt|gt|quot|amp|#10|#9);/g,go=f(\"pre,textarea\",!0),_o=function(e,t){return e&&go(e)&&\"\\n\"===t[0]};function bo(e,t){var n=t?yo:mo;return e.replace(n,function(e){return ho[e]})}var $o,wo,Co,xo,ko,Ao,Oo,So,To=/^@|^v-on:/,No=/^v-|^@|^:/,jo=/([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/,Eo=/,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/,Io=/^\\(|\\)$/g,Lo=/:(.*)$/,Mo=/^:|^v-bind:/,Do=/\\.[^.]+/g,Po=y(Qi);function Fo(e,t,n){return{type:1,tag:e,attrsList:t,attrsMap:function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n].name]=e[n].value;return t}(t),parent:n,children:[]}}function Ro(e,t){$o=t.warn||vr,Ao=t.isPreTag||S,Oo=t.mustUseProp||S,So=t.getTagNamespace||S,Co=hr(t.modules,\"transformNode\"),xo=hr(t.modules,\"preTransformNode\"),ko=hr(t.modules,\"postTransformNode\"),wo=t.delimiters;var n,r,i=[],o=!1!==t.preserveWhitespace,a=!1,s=!1;function c(e){e.pre&&(a=!1),Ao(e.tag)&&(s=!1);for(var n=0;n<ko.length;n++)ko[n](e,t)}return function(e,t){for(var n,r,i=[],o=t.expectHTML,a=t.isUnaryTag||S,s=t.canBeLeftOpenTag||S,c=0;e;){if(n=e,r&&po(r)){var u=0,l=r.toLowerCase(),f=vo[l]||(vo[l]=new RegExp(\"([\\\\s\\\\S]*?)(</\"+l+\"[^>]*>)\",\"i\")),p=e.replace(f,function(e,n,r){return u=r.length,po(l)||\"noscript\"===l||(n=n.replace(/<!\\--([\\s\\S]*?)-->/g,\"$1\").replace(/<!\\[CDATA\\[([\\s\\S]*?)]]>/g,\"$1\")),_o(l,n)&&(n=n.slice(1)),t.chars&&t.chars(n),\"\"});c+=e.length-p.length,e=p,A(l,c-u,c)}else{var d=e.indexOf(\"<\");if(0===d){if(lo.test(e)){var v=e.indexOf(\"--\\x3e\");if(v>=0){t.shouldKeepComment&&t.comment(e.substring(4,v)),C(v+3);continue}}if(fo.test(e)){var h=e.indexOf(\"]>\");if(h>=0){C(h+2);continue}}var m=e.match(uo);if(m){C(m[0].length);continue}var y=e.match(co);if(y){var g=c;C(y[0].length),A(y[1],g,c);continue}var _=x();if(_){k(_),_o(_.tagName,e)&&C(1);continue}}var b=void 0,$=void 0,w=void 0;if(d>=0){for($=e.slice(d);!(co.test($)||ao.test($)||lo.test($)||fo.test($)||(w=$.indexOf(\"<\",1))<0);)d+=w,$=e.slice(d);b=e.substring(0,d),C(d)}d<0&&(b=e,e=\"\"),t.chars&&b&&t.chars(b)}if(e===n){t.chars&&t.chars(e);break}}function C(t){c+=t,e=e.substring(t)}function x(){var t=e.match(ao);if(t){var n,r,i={tagName:t[1],attrs:[],start:c};for(C(t[0].length);!(n=e.match(so))&&(r=e.match(ro));)C(r[0].length),i.attrs.push(r);if(n)return i.unarySlash=n[1],C(n[0].length),i.end=c,i}}function k(e){var n=e.tagName,c=e.unarySlash;o&&(\"p\"===r&&no(n)&&A(r),s(n)&&r===n&&A(n));for(var u=a(n)||!!c,l=e.attrs.length,f=new Array(l),p=0;p<l;p++){var d=e.attrs[p],v=d[3]||d[4]||d[5]||\"\",h=\"a\"===n&&\"href\"===d[1]?t.shouldDecodeNewlinesForHref:t.shouldDecodeNewlines;f[p]={name:d[1],value:bo(v,h)}}u||(i.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:f}),r=n),t.start&&t.start(n,f,u,e.start,e.end)}function A(e,n,o){var a,s;if(null==n&&(n=c),null==o&&(o=c),e)for(s=e.toLowerCase(),a=i.length-1;a>=0&&i[a].lowerCasedTag!==s;a--);else a=0;if(a>=0){for(var u=i.length-1;u>=a;u--)t.end&&t.end(i[u].tag,n,o);i.length=a,r=a&&i[a-1].tag}else\"br\"===s?t.start&&t.start(e,[],!0,n,o):\"p\"===s&&(t.start&&t.start(e,[],!1,n,o),t.end&&t.end(e,n,o))}A()}(e,{warn:$o,expectHTML:t.expectHTML,isUnaryTag:t.isUnaryTag,canBeLeftOpenTag:t.canBeLeftOpenTag,shouldDecodeNewlines:t.shouldDecodeNewlines,shouldDecodeNewlinesForHref:t.shouldDecodeNewlinesForHref,shouldKeepComment:t.comments,start:function(e,o,u){var l=r&&r.ns||So(e);K&&\"svg\"===l&&(o=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];zo.test(r.name)||(r.name=r.name.replace(Ko,\"\"),t.push(r))}return t}(o));var f,p=Fo(e,o,r);l&&(p.ns=l),\"style\"!==(f=p).tag&&(\"script\"!==f.tag||f.attrsMap.type&&\"text/javascript\"!==f.attrsMap.type)||Y()||(p.forbidden=!0);for(var d=0;d<xo.length;d++)p=xo[d](p,t)||p;if(a||(!function(e){null!=wr(e,\"v-pre\")&&(e.pre=!0)}(p),p.pre&&(a=!0)),Ao(p.tag)&&(s=!0),a?function(e){var t=e.attrsList.length;if(t)for(var n=e.attrs=new Array(t),r=0;r<t;r++)n[r]={name:e.attrsList[r].name,value:JSON.stringify(e.attrsList[r].value)};else e.pre||(e.plain=!0)}(p):p.processed||(Bo(p),function(e){var t=wr(e,\"v-if\");if(t)e.if=t,Uo(e,{exp:t,block:e});else{null!=wr(e,\"v-else\")&&(e.else=!0);var n=wr(e,\"v-else-if\");n&&(e.elseif=n)}}(p),function(e){null!=wr(e,\"v-once\")&&(e.once=!0)}(p),Ho(p,t)),n?i.length||n.if&&(p.elseif||p.else)&&Uo(n,{exp:p.elseif,block:p}):n=p,r&&!p.forbidden)if(p.elseif||p.else)!function(e,t){var n=function(e){var t=e.length;for(;t--;){if(1===e[t].type)return e[t];e.pop()}}(t.children);n&&n.if&&Uo(n,{exp:e.elseif,block:e})}(p,r);else if(p.slotScope){r.plain=!1;var v=p.slotTarget||'\"default\"';(r.scopedSlots||(r.scopedSlots={}))[v]=p}else r.children.push(p),p.parent=r;u?c(p):(r=p,i.push(p))},end:function(){var e=i[i.length-1],t=e.children[e.children.length-1];t&&3===t.type&&\" \"===t.text&&!s&&e.children.pop(),i.length-=1,r=i[i.length-1],c(e)},chars:function(e){if(r&&(!K||\"textarea\"!==r.tag||r.attrsMap.placeholder!==e)){var t,n,i=r.children;if(e=s||e.trim()?\"script\"===(t=r).tag||\"style\"===t.tag?e:Po(e):o&&i.length?\" \":\"\")!a&&\" \"!==e&&(n=function(e,t){var n=t?Gi(t):qi;if(n.test(e)){for(var r,i,o,a=[],s=[],c=n.lastIndex=0;r=n.exec(e);){(i=r.index)>c&&(s.push(o=e.slice(c,i)),a.push(JSON.stringify(o)));var u=pr(r[1].trim());a.push(\"_s(\"+u+\")\"),s.push({\"@binding\":u}),c=i+r[0].length}return c<e.length&&(s.push(o=e.slice(c)),a.push(JSON.stringify(o))),{expression:a.join(\"+\"),tokens:s}}}(e,wo))?i.push({type:2,expression:n.expression,tokens:n.tokens,text:e}):\" \"===e&&i.length&&\" \"===i[i.length-1].text||i.push({type:3,text:e})}},comment:function(e){r.children.push({type:3,text:e,isComment:!0})}}),n}function Ho(e,t){var n,r;(r=$r(n=e,\"key\"))&&(n.key=r),e.plain=!e.key&&!e.attrsList.length,function(e){var t=$r(e,\"ref\");t&&(e.ref=t,e.refInFor=function(e){var t=e;for(;t;){if(void 0!==t.for)return!0;t=t.parent}return!1}(e))}(e),function(e){if(\"slot\"===e.tag)e.slotName=$r(e,\"name\");else{var t;\"template\"===e.tag?(t=wr(e,\"scope\"),e.slotScope=t||wr(e,\"slot-scope\")):(t=wr(e,\"slot-scope\"))&&(e.slotScope=t);var n=$r(e,\"slot\");n&&(e.slotTarget='\"\"'===n?'\"default\"':n,\"template\"===e.tag||e.slotScope||yr(e,\"slot\",n))}}(e),function(e){var t;(t=$r(e,\"is\"))&&(e.component=t);null!=wr(e,\"inline-template\")&&(e.inlineTemplate=!0)}(e);for(var i=0;i<Co.length;i++)e=Co[i](e,t)||e;!function(e){var t,n,r,i,o,a,s,c=e.attrsList;for(t=0,n=c.length;t<n;t++)if(r=i=c[t].name,o=c[t].value,No.test(r))if(e.hasBindings=!0,(a=Vo(r))&&(r=r.replace(Do,\"\")),Mo.test(r))r=r.replace(Mo,\"\"),o=pr(o),s=!1,a&&(a.prop&&(s=!0,\"innerHtml\"===(r=_(r))&&(r=\"innerHTML\")),a.camel&&(r=_(r)),a.sync&&br(e,\"update:\"+_(r),xr(o,\"$event\"))),s||!e.component&&Oo(e.tag,e.attrsMap.type,r)?mr(e,r,o):yr(e,r,o);else if(To.test(r))r=r.replace(To,\"\"),br(e,r,o,a,!1);else{var u=(r=r.replace(No,\"\")).match(Lo),l=u&&u[1];l&&(r=r.slice(0,-(l.length+1))),_r(e,r,i,o,l,a)}else yr(e,r,JSON.stringify(o)),!e.component&&\"muted\"===r&&Oo(e.tag,e.attrsMap.type,r)&&mr(e,r,\"true\")}(e)}function Bo(e){var t;if(t=wr(e,\"v-for\")){var n=function(e){var t=e.match(jo);if(!t)return;var n={};n.for=t[2].trim();var r=t[1].trim().replace(Io,\"\"),i=r.match(Eo);i?(n.alias=r.replace(Eo,\"\").trim(),n.iterator1=i[1].trim(),i[2]&&(n.iterator2=i[2].trim())):n.alias=r;return n}(t);n&&k(e,n)}}function Uo(e,t){e.ifConditions||(e.ifConditions=[]),e.ifConditions.push(t)}function Vo(e){var t=e.match(Do);if(t){var n={};return t.forEach(function(e){n[e.slice(1)]=!0}),n}}var zo=/^xmlns:NS\\d+/,Ko=/^NS\\d+:/;function Jo(e){return Fo(e.tag,e.attrsList.slice(),e.parent)}var qo=[Zi,Yi,{preTransformNode:function(e,t){if(\"input\"===e.tag){var n,r=e.attrsMap;if(!r[\"v-model\"])return;if((r[\":type\"]||r[\"v-bind:type\"])&&(n=$r(e,\"type\")),r.type||n||!r[\"v-bind\"]||(n=\"(\"+r[\"v-bind\"]+\").type\"),n){var i=wr(e,\"v-if\",!0),o=i?\"&&(\"+i+\")\":\"\",a=null!=wr(e,\"v-else\",!0),s=wr(e,\"v-else-if\",!0),c=Jo(e);Bo(c),gr(c,\"type\",\"checkbox\"),Ho(c,t),c.processed=!0,c.if=\"(\"+n+\")==='checkbox'\"+o,Uo(c,{exp:c.if,block:c});var u=Jo(e);wr(u,\"v-for\",!0),gr(u,\"type\",\"radio\"),Ho(u,t),Uo(c,{exp:\"(\"+n+\")==='radio'\"+o,block:u});var l=Jo(e);return wr(l,\"v-for\",!0),gr(l,\":type\",n),Ho(l,t),Uo(c,{exp:i,block:l}),a?c.else=!0:s&&(c.elseif=s),c}}}}];var Wo,Go,Zo={expectHTML:!0,modules:qo,directives:{model:function(e,t,n){var r=t.value,i=t.modifiers,o=e.tag,a=e.attrsMap.type;if(e.component)return Cr(e,r,i),!1;if(\"select\"===o)!function(e,t,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return '+(n&&n.number?\"_n(val)\":\"val\")+\"});\";r=r+\" \"+xr(t,\"$event.target.multiple ? $$selectedVal : $$selectedVal[0]\"),br(e,\"change\",r,null,!0)}(e,r,i);else if(\"input\"===o&&\"checkbox\"===a)!function(e,t,n){var r=n&&n.number,i=$r(e,\"value\")||\"null\",o=$r(e,\"true-value\")||\"true\",a=$r(e,\"false-value\")||\"false\";mr(e,\"checked\",\"Array.isArray(\"+t+\")?_i(\"+t+\",\"+i+\")>-1\"+(\"true\"===o?\":(\"+t+\")\":\":_q(\"+t+\",\"+o+\")\")),br(e,\"change\",\"var $$a=\"+t+\",$$el=$event.target,$$c=$$el.checked?(\"+o+\"):(\"+a+\");if(Array.isArray($$a)){var $$v=\"+(r?\"_n(\"+i+\")\":i)+\",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&(\"+xr(t,\"$$a.concat([$$v])\")+\")}else{$$i>-1&&(\"+xr(t,\"$$a.slice(0,$$i).concat($$a.slice($$i+1))\")+\")}}else{\"+xr(t,\"$$c\")+\"}\",null,!0)}(e,r,i);else if(\"input\"===o&&\"radio\"===a)!function(e,t,n){var r=n&&n.number,i=$r(e,\"value\")||\"null\";mr(e,\"checked\",\"_q(\"+t+\",\"+(i=r?\"_n(\"+i+\")\":i)+\")\"),br(e,\"change\",xr(t,i),null,!0)}(e,r,i);else if(\"input\"===o||\"textarea\"===o)!function(e,t,n){var r=e.attrsMap.type,i=n||{},o=i.lazy,a=i.number,s=i.trim,c=!o&&\"range\"!==r,u=o?\"change\":\"range\"===r?jr:\"input\",l=\"$event.target.value\";s&&(l=\"$event.target.value.trim()\"),a&&(l=\"_n(\"+l+\")\");var f=xr(t,l);c&&(f=\"if($event.target.composing)return;\"+f),mr(e,\"value\",\"(\"+t+\")\"),br(e,u,f,null,!0),(s||a)&&br(e,\"blur\",\"$forceUpdate()\")}(e,r,i);else if(!D.isReservedTag(o))return Cr(e,r,i),!1;return!0},text:function(e,t){t.value&&mr(e,\"textContent\",\"_s(\"+t.value+\")\")},html:function(e,t){t.value&&mr(e,\"innerHTML\",\"_s(\"+t.value+\")\")}},isPreTag:function(e){return\"pre\"===e},isUnaryTag:eo,mustUseProp:bn,canBeLeftOpenTag:to,isReservedTag:Ln,getTagNamespace:Mn,staticKeys:function(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(\",\")}(qo)},Xo=y(function(e){return f(\"type,tag,attrsList,attrsMap,plain,parent,children,attrs\"+(e?\",\"+e:\"\"))});function Yo(e,t){e&&(Wo=Xo(t.staticKeys||\"\"),Go=t.isReservedTag||S,function e(t){t.static=function(e){if(2===e.type)return!1;if(3===e.type)return!0;return!(!e.pre&&(e.hasBindings||e.if||e.for||p(e.tag)||!Go(e.tag)||function(e){for(;e.parent;){if(\"template\"!==(e=e.parent).tag)return!1;if(e.for)return!0}return!1}(e)||!Object.keys(e).every(Wo)))}(t);if(1===t.type){if(!Go(t.tag)&&\"slot\"!==t.tag&&null==t.attrsMap[\"inline-template\"])return;for(var n=0,r=t.children.length;n<r;n++){var i=t.children[n];e(i),i.static||(t.static=!1)}if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++){var s=t.ifConditions[o].block;e(s),s.static||(t.static=!1)}}}(e),function e(t,n){if(1===t.type){if((t.static||t.once)&&(t.staticInFor=n),t.static&&t.children.length&&(1!==t.children.length||3!==t.children[0].type))return void(t.staticRoot=!0);if(t.staticRoot=!1,t.children)for(var r=0,i=t.children.length;r<i;r++)e(t.children[r],n||!!t.for);if(t.ifConditions)for(var o=1,a=t.ifConditions.length;o<a;o++)e(t.ifConditions[o].block,n)}}(e,!1))}var Qo=/^([\\w$_]+|\\([^)]*?\\))\\s*=>|^function\\s*\\(/,ea=/^[A-Za-z_$][\\w$]*(?:\\.[A-Za-z_$][\\w$]*|\\['[^']*?']|\\[\"[^\"]*?\"]|\\[\\d+]|\\[[A-Za-z_$][\\w$]*])*$/,ta={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},na={esc:[\"Esc\",\"Escape\"],tab:\"Tab\",enter:\"Enter\",space:[\" \",\"Spacebar\"],up:[\"Up\",\"ArrowUp\"],left:[\"Left\",\"ArrowLeft\"],right:[\"Right\",\"ArrowRight\"],down:[\"Down\",\"ArrowDown\"],delete:[\"Backspace\",\"Delete\",\"Del\"]},ra=function(e){return\"if(\"+e+\")return null;\"},ia={stop:\"$event.stopPropagation();\",prevent:\"$event.preventDefault();\",self:ra(\"$event.target !== $event.currentTarget\"),ctrl:ra(\"!$event.ctrlKey\"),shift:ra(\"!$event.shiftKey\"),alt:ra(\"!$event.altKey\"),meta:ra(\"!$event.metaKey\"),left:ra(\"'button' in $event && $event.button !== 0\"),middle:ra(\"'button' in $event && $event.button !== 1\"),right:ra(\"'button' in $event && $event.button !== 2\")};function oa(e,t){var n=t?\"nativeOn:{\":\"on:{\";for(var r in e)n+='\"'+r+'\":'+aa(r,e[r])+\",\";return n.slice(0,-1)+\"}\"}function aa(e,t){if(!t)return\"function(){}\";if(Array.isArray(t))return\"[\"+t.map(function(t){return aa(e,t)}).join(\",\")+\"]\";var n=ea.test(t.value),r=Qo.test(t.value);if(t.modifiers){var i=\"\",o=\"\",a=[];for(var s in t.modifiers)if(ia[s])o+=ia[s],ta[s]&&a.push(s);else if(\"exact\"===s){var c=t.modifiers;o+=ra([\"ctrl\",\"shift\",\"alt\",\"meta\"].filter(function(e){return!c[e]}).map(function(e){return\"$event.\"+e+\"Key\"}).join(\"||\"))}else a.push(s);return a.length&&(i+=function(e){return\"if(!('button' in $event)&&\"+e.map(sa).join(\"&&\")+\")return null;\"}(a)),o&&(i+=o),\"function($event){\"+i+(n?\"return \"+t.value+\"($event)\":r?\"return (\"+t.value+\")($event)\":t.value)+\"}\"}return n||r?t.value:\"function($event){\"+t.value+\"}\"}function sa(e){var t=parseInt(e,10);if(t)return\"$event.keyCode!==\"+t;var n=ta[e],r=na[e];return\"_k($event.keyCode,\"+JSON.stringify(e)+\",\"+JSON.stringify(n)+\",$event.key,\"+JSON.stringify(r)+\")\"}var ca={on:function(e,t){e.wrapListeners=function(e){return\"_g(\"+e+\",\"+t.value+\")\"}},bind:function(e,t){e.wrapData=function(n){return\"_b(\"+n+\",'\"+e.tag+\"',\"+t.value+\",\"+(t.modifiers&&t.modifiers.prop?\"true\":\"false\")+(t.modifiers&&t.modifiers.sync?\",true\":\"\")+\")\"}},cloak:O},ua=function(e){this.options=e,this.warn=e.warn||vr,this.transforms=hr(e.modules,\"transformCode\"),this.dataGenFns=hr(e.modules,\"genData\"),this.directives=k(k({},ca),e.directives);var t=e.isReservedTag||S;this.maybeComponent=function(e){return!(t(e.tag)&&!e.component)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function la(e,t){var n=new ua(t);return{render:\"with(this){return \"+(e?fa(e,n):'_c(\"div\")')+\"}\",staticRenderFns:n.staticRenderFns}}function fa(e,t){if(e.parent&&(e.pre=e.pre||e.parent.pre),e.staticRoot&&!e.staticProcessed)return pa(e,t);if(e.once&&!e.onceProcessed)return da(e,t);if(e.for&&!e.forProcessed)return function(e,t,n,r){var i=e.for,o=e.alias,a=e.iterator1?\",\"+e.iterator1:\"\",s=e.iterator2?\",\"+e.iterator2:\"\";return e.forProcessed=!0,(r||\"_l\")+\"((\"+i+\"),function(\"+o+a+s+\"){return \"+(n||fa)(e,t)+\"})\"}(e,t);if(e.if&&!e.ifProcessed)return va(e,t);if(\"template\"!==e.tag||e.slotTarget||t.pre){if(\"slot\"===e.tag)return function(e,t){var n=e.slotName||'\"default\"',r=ya(e,t),i=\"_t(\"+n+(r?\",\"+r:\"\"),o=e.attrs&&\"{\"+e.attrs.map(function(e){return _(e.name)+\":\"+e.value}).join(\",\")+\"}\",a=e.attrsMap[\"v-bind\"];!o&&!a||r||(i+=\",null\");o&&(i+=\",\"+o);a&&(i+=(o?\"\":\",null\")+\",\"+a);return i+\")\"}(e,t);var n;if(e.component)n=function(e,t,n){var r=t.inlineTemplate?null:ya(t,n,!0);return\"_c(\"+e+\",\"+ha(t,n)+(r?\",\"+r:\"\")+\")\"}(e.component,e,t);else{var r;(!e.plain||e.pre&&t.maybeComponent(e))&&(r=ha(e,t));var i=e.inlineTemplate?null:ya(e,t,!0);n=\"_c('\"+e.tag+\"'\"+(r?\",\"+r:\"\")+(i?\",\"+i:\"\")+\")\"}for(var o=0;o<t.transforms.length;o++)n=t.transforms[o](e,n);return n}return ya(e,t)||\"void 0\"}function pa(e,t){e.staticProcessed=!0;var n=t.pre;return e.pre&&(t.pre=e.pre),t.staticRenderFns.push(\"with(this){return \"+fa(e,t)+\"}\"),t.pre=n,\"_m(\"+(t.staticRenderFns.length-1)+(e.staticInFor?\",true\":\"\")+\")\"}function da(e,t){if(e.onceProcessed=!0,e.if&&!e.ifProcessed)return va(e,t);if(e.staticInFor){for(var n=\"\",r=e.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?\"_o(\"+fa(e,t)+\",\"+t.onceId+++\",\"+n+\")\":fa(e,t)}return pa(e,t)}function va(e,t,n,r){return e.ifProcessed=!0,function e(t,n,r,i){if(!t.length)return i||\"_e()\";var o=t.shift();return o.exp?\"(\"+o.exp+\")?\"+a(o.block)+\":\"+e(t,n,r,i):\"\"+a(o.block);function a(e){return r?r(e,n):e.once?da(e,n):fa(e,n)}}(e.ifConditions.slice(),t,n,r)}function ha(e,t){var n=\"{\",r=function(e,t){var n=e.directives;if(!n)return;var r,i,o,a,s=\"directives:[\",c=!1;for(r=0,i=n.length;r<i;r++){o=n[r],a=!0;var u=t.directives[o.name];u&&(a=!!u(e,o,t.warn)),a&&(c=!0,s+='{name:\"'+o.name+'\",rawName:\"'+o.rawName+'\"'+(o.value?\",value:(\"+o.value+\"),expression:\"+JSON.stringify(o.value):\"\")+(o.arg?',arg:\"'+o.arg+'\"':\"\")+(o.modifiers?\",modifiers:\"+JSON.stringify(o.modifiers):\"\")+\"},\")}if(c)return s.slice(0,-1)+\"]\"}(e,t);r&&(n+=r+\",\"),e.key&&(n+=\"key:\"+e.key+\",\"),e.ref&&(n+=\"ref:\"+e.ref+\",\"),e.refInFor&&(n+=\"refInFor:true,\"),e.pre&&(n+=\"pre:true,\"),e.component&&(n+='tag:\"'+e.tag+'\",');for(var i=0;i<t.dataGenFns.length;i++)n+=t.dataGenFns[i](e);if(e.attrs&&(n+=\"attrs:{\"+ba(e.attrs)+\"},\"),e.props&&(n+=\"domProps:{\"+ba(e.props)+\"},\"),e.events&&(n+=oa(e.events,!1)+\",\"),e.nativeEvents&&(n+=oa(e.nativeEvents,!0)+\",\"),e.slotTarget&&!e.slotScope&&(n+=\"slot:\"+e.slotTarget+\",\"),e.scopedSlots&&(n+=function(e,t){return\"scopedSlots:_u([\"+Object.keys(e).map(function(n){return ma(n,e[n],t)}).join(\",\")+\"])\"}(e.scopedSlots,t)+\",\"),e.model&&(n+=\"model:{value:\"+e.model.value+\",callback:\"+e.model.callback+\",expression:\"+e.model.expression+\"},\"),e.inlineTemplate){var o=function(e,t){var n=e.children[0];if(1===n.type){var r=la(n,t.options);return\"inlineTemplate:{render:function(){\"+r.render+\"},staticRenderFns:[\"+r.staticRenderFns.map(function(e){return\"function(){\"+e+\"}\"}).join(\",\")+\"]}\"}}(e,t);o&&(n+=o+\",\")}return n=n.replace(/,$/,\"\")+\"}\",e.wrapData&&(n=e.wrapData(n)),e.wrapListeners&&(n=e.wrapListeners(n)),n}function ma(e,t,n){return t.for&&!t.forProcessed?function(e,t,n){var r=t.for,i=t.alias,o=t.iterator1?\",\"+t.iterator1:\"\",a=t.iterator2?\",\"+t.iterator2:\"\";return t.forProcessed=!0,\"_l((\"+r+\"),function(\"+i+o+a+\"){return \"+ma(e,t,n)+\"})\"}(e,t,n):\"{key:\"+e+\",fn:\"+(\"function(\"+String(t.slotScope)+\"){return \"+(\"template\"===t.tag?t.if?\"(\"+t.if+\")?\"+(ya(t,n)||\"undefined\")+\":undefined\":ya(t,n)||\"undefined\":fa(t,n))+\"}\")+\"}\"}function ya(e,t,n,r,i){var o=e.children;if(o.length){var a=o[0];if(1===o.length&&a.for&&\"template\"!==a.tag&&\"slot\"!==a.tag){var s=n?t.maybeComponent(a)?\",1\":\",0\":\"\";return\"\"+(r||fa)(a,t)+s}var c=n?function(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r];if(1===i.type){if(ga(i)||i.ifConditions&&i.ifConditions.some(function(e){return ga(e.block)})){n=2;break}(t(i)||i.ifConditions&&i.ifConditions.some(function(e){return t(e.block)}))&&(n=1)}}return n}(o,t.maybeComponent):0,u=i||_a;return\"[\"+o.map(function(e){return u(e,t)}).join(\",\")+\"]\"+(c?\",\"+c:\"\")}}function ga(e){return void 0!==e.for||\"template\"===e.tag||\"slot\"===e.tag}function _a(e,t){return 1===e.type?fa(e,t):3===e.type&&e.isComment?(r=e,\"_e(\"+JSON.stringify(r.text)+\")\"):\"_v(\"+(2===(n=e).type?n.expression:$a(JSON.stringify(n.text)))+\")\";var n,r}function ba(e){for(var t=\"\",n=0;n<e.length;n++){var r=e[n];t+='\"'+r.name+'\":'+$a(r.value)+\",\"}return t.slice(0,-1)}function $a(e){return e.replace(/\\u2028/g,\"\\\\u2028\").replace(/\\u2029/g,\"\\\\u2029\")}new RegExp(\"\\\\b\"+\"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments\".split(\",\").join(\"\\\\b|\\\\b\")+\"\\\\b\");function wa(e,t){try{return new Function(e)}catch(n){return t.push({err:n,code:e}),O}}var Ca,xa,ka=(Ca=function(e,t){var n=Ro(e.trim(),t);!1!==t.optimize&&Yo(n,t);var r=la(n,t);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(e){function t(t,n){var r=Object.create(e),i=[],o=[];if(r.warn=function(e,t){(t?o:i).push(e)},n)for(var a in n.modules&&(r.modules=(e.modules||[]).concat(n.modules)),n.directives&&(r.directives=k(Object.create(e.directives||null),n.directives)),n)\"modules\"!==a&&\"directives\"!==a&&(r[a]=n[a]);var s=Ca(t,r);return s.errors=i,s.tips=o,s}return{compile:t,compileToFunctions:function(e){var t=Object.create(null);return function(n,r,i){(r=k({},r)).warn,delete r.warn;var o=r.delimiters?String(r.delimiters)+n:n;if(t[o])return t[o];var a=e(n,r),s={},c=[];return s.render=wa(a.render,c),s.staticRenderFns=a.staticRenderFns.map(function(e){return wa(e,c)}),t[o]=s}}(t)}})(Zo),Aa=(ka.compile,ka.compileToFunctions);function Oa(e){return(xa=xa||document.createElement(\"div\")).innerHTML=e?'<a href=\"\\n\"/>':'<div a=\"\\n\"/>',xa.innerHTML.indexOf(\"&#10;\")>0}var Sa=!!B&&Oa(!1),Ta=!!B&&Oa(!0),Na=y(function(e){var t=Fn(e);return t&&t.innerHTML}),ja=ln.prototype.$mount;return ln.prototype.$mount=function(e,t){if((e=e&&Fn(e))===document.body||e===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if(\"string\"==typeof r)\"#\"===r.charAt(0)&&(r=Na(r));else{if(!r.nodeType)return this;r=r.innerHTML}else e&&(r=function(e){if(e.outerHTML)return e.outerHTML;var t=document.createElement(\"div\");return t.appendChild(e.cloneNode(!0)),t.innerHTML}(e));if(r){var i=Aa(r,{shouldDecodeNewlines:Sa,shouldDecodeNewlinesForHref:Ta,delimiters:n.delimiters,comments:n.comments},this),o=i.render,a=i.staticRenderFns;n.render=o,n.staticRenderFns=a}}return ja.call(this,e,t)},ln.compile=Aa,ln});"

/***/ }),

/***/ "53e2":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
var has = __webpack_require__("07e3");
var toObject = __webpack_require__("241e");
var IE_PROTO = __webpack_require__("5559")('IE_PROTO');
var ObjectProto = Object.prototype;

module.exports = Object.getPrototypeOf || function (O) {
  O = toObject(O);
  if (has(O, IE_PROTO)) return O[IE_PROTO];
  if (typeof O.constructor == 'function' && O instanceof O.constructor) {
    return O.constructor.prototype;
  } return O instanceof Object ? ObjectProto : null;
};


/***/ }),

/***/ "549b":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var ctx = __webpack_require__("d864");
var $export = __webpack_require__("63b6");
var toObject = __webpack_require__("241e");
var call = __webpack_require__("b0dc");
var isArrayIter = __webpack_require__("3702");
var toLength = __webpack_require__("b447");
var createProperty = __webpack_require__("20fd");
var getIterFn = __webpack_require__("7cd6");

$export($export.S + $export.F * !__webpack_require__("4ee1")(function (iter) { Array.from(iter); }), 'Array', {
  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
    var O = toObject(arrayLike);
    var C = typeof this == 'function' ? this : Array;
    var aLen = arguments.length;
    var mapfn = aLen > 1 ? arguments[1] : undefined;
    var mapping = mapfn !== undefined;
    var index = 0;
    var iterFn = getIterFn(O);
    var length, result, step, iterator;
    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
    // if object isn't iterable or it's array with default iterator - use simple case
    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);
      }
    } else {
      length = toLength(O.length);
      for (result = new C(length); length > index; index++) {
        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
      }
    }
    result.length = index;
    return result;
  }
});


/***/ }),

/***/ "54a1":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("6c1c");
__webpack_require__("1654");
module.exports = __webpack_require__("95d5");


/***/ }),

/***/ "5537":
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__("8378");
var global = __webpack_require__("7726");
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: __webpack_require__("2d00") ? 'pure' : 'global',
  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'
});


/***/ }),

/***/ "5559":
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__("dbdb")('keys');
var uid = __webpack_require__("62a0");
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),

/***/ "55dd":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $export = __webpack_require__("5ca1");
var aFunction = __webpack_require__("d8e8");
var toObject = __webpack_require__("4bf8");
var fails = __webpack_require__("79e5");
var $sort = [].sort;
var test = [1, 2, 3];

$export($export.P + $export.F * (fails(function () {
  // IE8-
  test.sort(undefined);
}) || !fails(function () {
  // V8 bug
  test.sort(null);
  // Old WebKit
}) || !__webpack_require__("2f21")($sort)), 'Array', {
  // 22.1.3.25 Array.prototype.sort(comparefn)
  sort: function sort(comparefn) {
    return comparefn === undefined
      ? $sort.call(toObject(this))
      : $sort.call(toObject(this), aFunction(comparefn));
  }
});


/***/ }),

/***/ "56e3":
/***/ (function(module, exports) {

ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"], function(acequire, exports, module) {
"use strict";

var dom = acequire("../lib/dom");
var lang = acequire("../lib/lang");
var event = acequire("../lib/event");
var searchboxCss = "\
.ace_search {\
background-color: #ddd;\
color: #666;\
border: 1px solid #cbcbcb;\
border-top: 0 none;\
overflow: hidden;\
margin: 0;\
padding: 4px 6px 0 4px;\
position: absolute;\
top: 0;\
z-index: 99;\
white-space: normal;\
}\
.ace_search.left {\
border-left: 0 none;\
border-radius: 0px 0px 5px 0px;\
left: 0;\
}\
.ace_search.right {\
border-radius: 0px 0px 0px 5px;\
border-right: 0 none;\
right: 0;\
}\
.ace_search_form, .ace_replace_form {\
margin: 0 20px 4px 0;\
overflow: hidden;\
line-height: 1.9;\
}\
.ace_replace_form {\
margin-right: 0;\
}\
.ace_search_form.ace_nomatch {\
outline: 1px solid red;\
}\
.ace_search_field {\
border-radius: 3px 0 0 3px;\
background-color: white;\
color: black;\
border: 1px solid #cbcbcb;\
border-right: 0 none;\
box-sizing: border-box!important;\
outline: 0;\
padding: 0;\
font-size: inherit;\
margin: 0;\
line-height: inherit;\
padding: 0 6px;\
min-width: 17em;\
vertical-align: top;\
}\
.ace_searchbtn {\
border: 1px solid #cbcbcb;\
line-height: inherit;\
display: inline-block;\
padding: 0 6px;\
background: #fff;\
border-right: 0 none;\
border-left: 1px solid #dcdcdc;\
cursor: pointer;\
margin: 0;\
position: relative;\
box-sizing: content-box!important;\
color: #666;\
}\
.ace_searchbtn:last-child {\
border-radius: 0 3px 3px 0;\
border-right: 1px solid #cbcbcb;\
}\
.ace_searchbtn:disabled {\
background: none;\
cursor: default;\
}\
.ace_searchbtn:hover {\
background-color: #eef1f6;\
}\
.ace_searchbtn.prev, .ace_searchbtn.next {\
padding: 0px 0.7em\
}\
.ace_searchbtn.prev:after, .ace_searchbtn.next:after {\
content: \"\";\
border: solid 2px #888;\
width: 0.5em;\
height: 0.5em;\
border-width:  2px 0 0 2px;\
display:inline-block;\
transform: rotate(-45deg);\
}\
.ace_searchbtn.next:after {\
border-width: 0 2px 2px 0 ;\
}\
.ace_searchbtn_close {\
background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;\
border-radius: 50%;\
border: 0 none;\
color: #656565;\
cursor: pointer;\
font: 16px/16px Arial;\
padding: 0;\
height: 14px;\
width: 14px;\
top: 9px;\
right: 7px;\
position: absolute;\
}\
.ace_searchbtn_close:hover {\
background-color: #656565;\
background-position: 50% 100%;\
color: white;\
}\
.ace_button {\
margin-left: 2px;\
cursor: pointer;\
-webkit-user-select: none;\
-moz-user-select: none;\
-o-user-select: none;\
-ms-user-select: none;\
user-select: none;\
overflow: hidden;\
opacity: 0.7;\
border: 1px solid rgba(100,100,100,0.23);\
padding: 1px;\
box-sizing:    border-box!important;\
color: black;\
}\
.ace_button:hover {\
background-color: #eee;\
opacity:1;\
}\
.ace_button:active {\
background-color: #ddd;\
}\
.ace_button.checked {\
border-color: #3399ff;\
opacity:1;\
}\
.ace_search_options{\
margin-bottom: 3px;\
text-align: right;\
-webkit-user-select: none;\
-moz-user-select: none;\
-o-user-select: none;\
-ms-user-select: none;\
user-select: none;\
clear: both;\
}\
.ace_search_counter {\
float: left;\
font-family: arial;\
padding: 0 8px;\
}";
var HashHandler = acequire("../keyboard/hash_handler").HashHandler;
var keyUtil = acequire("../lib/keys");

var MAX_COUNT = 999;

dom.importCssString(searchboxCss, "ace_searchbox");

var html = '<div class="ace_search right">\
    <span action="hide" class="ace_searchbtn_close"></span>\
    <div class="ace_search_form">\
        <input class="ace_search_field" placeholder="Search for" spellcheck="false"></input>\
        <span action="findPrev" class="ace_searchbtn prev"></span>\
        <span action="findNext" class="ace_searchbtn next"></span>\
        <span action="findAll" class="ace_searchbtn" title="Alt-Enter">All</span>\
    </div>\
    <div class="ace_replace_form">\
        <input class="ace_search_field" placeholder="Replace with" spellcheck="false"></input>\
        <span action="replaceAndFindNext" class="ace_searchbtn">Replace</span>\
        <span action="replaceAll" class="ace_searchbtn">All</span>\
    </div>\
    <div class="ace_search_options">\
        <span action="toggleReplace" class="ace_button" title="Toggel Replace mode"\
            style="float:left;margin-top:-2px;padding:0 5px;">+</span>\
        <span class="ace_search_counter"></span>\
        <span action="toggleRegexpMode" class="ace_button" title="RegExp Search">.*</span>\
        <span action="toggleCaseSensitive" class="ace_button" title="CaseSensitive Search">Aa</span>\
        <span action="toggleWholeWords" class="ace_button" title="Whole Word Search">\\b</span>\
        <span action="searchInSelection" class="ace_button" title="Search In Selection">S</span>\
    </div>\
</div>'.replace(/> +/g, ">");

var SearchBox = function(editor, range, showReplaceForm) {
    var div = dom.createElement("div");
    div.innerHTML = html;
    this.element = div.firstChild;

    this.setSession = this.setSession.bind(this);

    this.$init();
    this.setEditor(editor);
};

(function() {
    this.setEditor = function(editor) {
        editor.searchBox = this;
        editor.renderer.scroller.appendChild(this.element);
        this.editor = editor;
    };

    this.setSession = function(e) {
        this.searchRange = null;
        this.$syncOptions(true);
    };

    this.$initElements = function(sb) {
        this.searchBox = sb.querySelector(".ace_search_form");
        this.replaceBox = sb.querySelector(".ace_replace_form");
        this.searchOption = sb.querySelector("[action=searchInSelection]");
        this.replaceOption = sb.querySelector("[action=toggleReplace]");
        this.regExpOption = sb.querySelector("[action=toggleRegexpMode]");
        this.caseSensitiveOption = sb.querySelector("[action=toggleCaseSensitive]");
        this.wholeWordOption = sb.querySelector("[action=toggleWholeWords]");
        this.searchInput = this.searchBox.querySelector(".ace_search_field");
        this.replaceInput = this.replaceBox.querySelector(".ace_search_field");
        this.searchCounter = sb.querySelector(".ace_search_counter");
    };
    
    this.$init = function() {
        var sb = this.element;
        
        this.$initElements(sb);
        
        var _this = this;
        event.addListener(sb, "mousedown", function(e) {
            setTimeout(function(){
                _this.activeInput.focus();
            }, 0);
            event.stopPropagation(e);
        });
        event.addListener(sb, "click", function(e) {
            var t = e.target || e.srcElement;
            var action = t.getAttribute("action");
            if (action && _this[action])
                _this[action]();
            else if (_this.$searchBarKb.commands[action])
                _this.$searchBarKb.commands[action].exec(_this);
            event.stopPropagation(e);
        });

        event.addCommandKeyListener(sb, function(e, hashId, keyCode) {
            var keyString = keyUtil.keyCodeToString(keyCode);
            var command = _this.$searchBarKb.findKeyCommand(hashId, keyString);
            if (command && command.exec) {
                command.exec(_this);
                event.stopEvent(e);
            }
        });

        this.$onChange = lang.delayedCall(function() {
            _this.find(false, false);
        });

        event.addListener(this.searchInput, "input", function() {
            _this.$onChange.schedule(20);
        });
        event.addListener(this.searchInput, "focus", function() {
            _this.activeInput = _this.searchInput;
            _this.searchInput.value && _this.highlight();
        });
        event.addListener(this.replaceInput, "focus", function() {
            _this.activeInput = _this.replaceInput;
            _this.searchInput.value && _this.highlight();
        });
    };
    this.$closeSearchBarKb = new HashHandler([{
        bindKey: "Esc",
        name: "closeSearchBar",
        exec: function(editor) {
            editor.searchBox.hide();
        }
    }]);
    this.$searchBarKb = new HashHandler();
    this.$searchBarKb.bindKeys({
        "Ctrl-f|Command-f": function(sb) {
            var isReplace = sb.isReplace = !sb.isReplace;
            sb.replaceBox.style.display = isReplace ? "" : "none";
            sb.replaceOption.checked = false;
            sb.$syncOptions();
            sb.searchInput.focus();
        },
        "Ctrl-H|Command-Option-F": function(sb) {
            sb.replaceOption.checked = true;
            sb.$syncOptions();
            sb.replaceInput.focus();
        },
        "Ctrl-G|Command-G": function(sb) {
            sb.findNext();
        },
        "Ctrl-Shift-G|Command-Shift-G": function(sb) {
            sb.findPrev();
        },
        "esc": function(sb) {
            setTimeout(function() { sb.hide();});
        },
        "Return": function(sb) {
            if (sb.activeInput == sb.replaceInput)
                sb.replace();
            sb.findNext();
        },
        "Shift-Return": function(sb) {
            if (sb.activeInput == sb.replaceInput)
                sb.replace();
            sb.findPrev();
        },
        "Alt-Return": function(sb) {
            if (sb.activeInput == sb.replaceInput)
                sb.replaceAll();
            sb.findAll();
        },
        "Tab": function(sb) {
            (sb.activeInput == sb.replaceInput ? sb.searchInput : sb.replaceInput).focus();
        }
    });

    this.$searchBarKb.addCommands([{
        name: "toggleRegexpMode",
        bindKey: {win: "Alt-R|Alt-/", mac: "Ctrl-Alt-R|Ctrl-Alt-/"},
        exec: function(sb) {
            sb.regExpOption.checked = !sb.regExpOption.checked;
            sb.$syncOptions();
        }
    }, {
        name: "toggleCaseSensitive",
        bindKey: {win: "Alt-C|Alt-I", mac: "Ctrl-Alt-R|Ctrl-Alt-I"},
        exec: function(sb) {
            sb.caseSensitiveOption.checked = !sb.caseSensitiveOption.checked;
            sb.$syncOptions();
        }
    }, {
        name: "toggleWholeWords",
        bindKey: {win: "Alt-B|Alt-W", mac: "Ctrl-Alt-B|Ctrl-Alt-W"},
        exec: function(sb) {
            sb.wholeWordOption.checked = !sb.wholeWordOption.checked;
            sb.$syncOptions();
        }
    }, {
        name: "toggleReplace",
        exec: function(sb) {
            sb.replaceOption.checked = !sb.replaceOption.checked;
            sb.$syncOptions();
        }
    }, {
        name: "searchInSelection",
        exec: function(sb) {
            sb.searchOption.checked = !sb.searchRange;
            sb.setSearchRange(sb.searchOption.checked && sb.editor.getSelectionRange());
            sb.$syncOptions();
        }
    }]);

    this.setSearchRange = function(range) {
        this.searchRange = range;
        if (range) {
            this.searchRangeMarker = this.editor.session.addMarker(range, "ace_active-line");
        } else if (this.searchRangeMarker) {
            this.editor.session.removeMarker(this.searchRangeMarker);
            this.searchRangeMarker = null;
        }
    };

    this.$syncOptions = function(preventScroll) {
        dom.setCssClass(this.replaceOption, "checked", this.searchRange);
        dom.setCssClass(this.searchOption, "checked", this.searchOption.checked);
        this.replaceOption.textContent = this.replaceOption.checked ? "-" : "+";
        dom.setCssClass(this.regExpOption, "checked", this.regExpOption.checked);
        dom.setCssClass(this.wholeWordOption, "checked", this.wholeWordOption.checked);
        dom.setCssClass(this.caseSensitiveOption, "checked", this.caseSensitiveOption.checked);
        this.replaceBox.style.display = this.replaceOption.checked ? "" : "none";
        this.find(false, false, preventScroll);
    };

    this.highlight = function(re) {
        this.editor.session.highlight(re || this.editor.$search.$options.re);
        this.editor.renderer.updateBackMarkers();
    };
    this.find = function(skipCurrent, backwards, preventScroll) {
        var range = this.editor.find(this.searchInput.value, {
            skipCurrent: skipCurrent,
            backwards: backwards,
            wrap: true,
            regExp: this.regExpOption.checked,
            caseSensitive: this.caseSensitiveOption.checked,
            wholeWord: this.wholeWordOption.checked,
            preventScroll: preventScroll,
            range: this.searchRange
        });
        var noMatch = !range && this.searchInput.value;
        dom.setCssClass(this.searchBox, "ace_nomatch", noMatch);
        this.editor._emit("findSearchBox", { match: !noMatch });
        this.highlight();
        this.updateCounter();
    };
    this.updateCounter = function() {
        var editor = this.editor;
        var regex = editor.$search.$options.re;
        var all = 0;
        var before = 0;
        if (regex) {
            var value = this.searchRange
                ? editor.session.getTextRange(this.searchRange)
                : editor.getValue();

            var offset = editor.session.doc.positionToIndex(editor.selection.anchor);
            if (this.searchRange)
                offset -= editor.session.doc.positionToIndex(this.searchRange.start);

            var last = regex.lastIndex = 0;
            var m;
            while ((m = regex.exec(value))) {
                all++;
                last = m.index;
                if (last <= offset)
                    before++;
                if (all > MAX_COUNT)
                    break;
                if (!m[0]) {
                    regex.lastIndex = last += 1;
                    if (last >= value.length)
                        break;
                }
            }
        }
        this.searchCounter.textContent = before + " of " + (all > MAX_COUNT ? MAX_COUNT + "+" : all);
    };
    this.findNext = function() {
        this.find(true, false);
    };
    this.findPrev = function() {
        this.find(true, true);
    };
    this.findAll = function(){
        var range = this.editor.findAll(this.searchInput.value, {            
            regExp: this.regExpOption.checked,
            caseSensitive: this.caseSensitiveOption.checked,
            wholeWord: this.wholeWordOption.checked
        });
        var noMatch = !range && this.searchInput.value;
        dom.setCssClass(this.searchBox, "ace_nomatch", noMatch);
        this.editor._emit("findSearchBox", { match: !noMatch });
        this.highlight();
        this.hide();
    };
    this.replace = function() {
        if (!this.editor.getReadOnly())
            this.editor.replace(this.replaceInput.value);
    };    
    this.replaceAndFindNext = function() {
        if (!this.editor.getReadOnly()) {
            this.editor.replace(this.replaceInput.value);
            this.findNext();
        }
    };
    this.replaceAll = function() {
        if (!this.editor.getReadOnly())
            this.editor.replaceAll(this.replaceInput.value);
    };

    this.hide = function() {
        this.active = false;
        this.setSearchRange(null);
        this.editor.off("changeSession", this.setSession);

        this.element.style.display = "none";
        this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb);
        this.editor.focus();
    };
    this.show = function(value, isReplace) {
        this.active = true;
        this.editor.on("changeSession", this.setSession);
        this.element.style.display = "";
        this.replaceOption.checked = isReplace;

        if (value)
            this.searchInput.value = value;
        
        this.searchInput.focus();
        this.searchInput.select();

        this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb);

        this.$syncOptions(true);
    };

    this.isFocused = function() {
        var el = document.activeElement;
        return el == this.searchInput || el == this.replaceInput;
    };
}).call(SearchBox.prototype);

exports.SearchBox = SearchBox;

exports.Search = function(editor, isReplace) {
    var sb = editor.searchBox || new SearchBox(editor);
    sb.show(editor.session.getTextRange(), isReplace);
};

});
                (function() {
                    ace.acequire(["ace/ext/searchbox"], function() {});
                })();
            

/***/ }),

/***/ "584a":
/***/ (function(module, exports) {

var core = module.exports = { version: '2.6.3' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),

/***/ "5b4e":
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__("36c3");
var toLength = __webpack_require__("b447");
var toAbsoluteIndex = __webpack_require__("0fc9");
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),

/***/ "5b96":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("2213");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("33b15373", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "5c95":
/***/ (function(module, exports, __webpack_require__) {

var hide = __webpack_require__("35e8");
module.exports = function (target, src, safe) {
  for (var key in src) {
    if (safe && target[key]) target[key] = src[key];
    else hide(target, key, src[key]);
  } return target;
};


/***/ }),

/***/ "5ca1":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("7726");
var core = __webpack_require__("8378");
var hide = __webpack_require__("32e9");
var redefine = __webpack_require__("2aba");
var ctx = __webpack_require__("9b43");
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
  var key, own, out, exp;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    // export native or passed
    out = (own ? target : source)[key];
    // bind timers to global for call from export context
    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // extend global
    if (target) redefine(target, key, out, type & $export.U);
    // export
    if (exports[key] != out) hide(exports, key, exp);
    if (IS_PROTO && expProto[key] != out) expProto[key] = out;
  }
};
global.core = core;
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),

/***/ "5d58":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("d8d6");

/***/ }),

/***/ "5d6b":
/***/ (function(module, exports, __webpack_require__) {

var $parseInt = __webpack_require__("e53d").parseInt;
var $trim = __webpack_require__("a1ce").trim;
var ws = __webpack_require__("e692");
var hex = /^[-+]?0[xX]/;

module.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {
  var string = $trim(String(str), 3);
  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));
} : $parseInt;


/***/ }),

/***/ "5dbc":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("d3f4");
var setPrototypeOf = __webpack_require__("8b97").set;
module.exports = function (that, target, C) {
  var S = target.constructor;
  var P;
  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
    setPrototypeOf(that, P);
  } return that;
};


/***/ }),

/***/ "5df3":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $at = __webpack_require__("02f4")(true);

// 21.1.3.27 String.prototype[@@iterator]()
__webpack_require__("01f9")(String, 'String', function (iterated) {
  this._t = String(iterated); // target
  this._i = 0;                // next index
// 21.1.5.2.1 %StringIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var index = this._i;
  var point;
  if (index >= O.length) return { value: undefined, done: true };
  point = $at(O, index);
  this._i += point.length;
  return { value: point, done: false };
});


/***/ }),

/***/ "5e76":
/***/ (function(module, exports) {

module.exports = "/* eslint-disable */\n(function () {\n\nwindow.global = window;\n\t/*\n\t\tvar vid = new Whammy.Video();\n\t\tvid.add(canvas or data url)\n\t\tvid.compile()\n\t*/\n\n\twindow.Whammy = (function(){\n\t\t// in this case, frames has a very specific meaning, which will be\n\t\t// detailed once i finish writing the code\n\n\t\tfunction toWebM(frames, outputAsArray){\n\t\t\tvar info = checkFrames(frames);\n\n\t\t\t//max duration by cluster in milliseconds\n\t\t\tvar CLUSTER_MAX_DURATION = 30000;\n\n\t\t\tvar EBML = [\n\t\t\t\t{\n\t\t\t\t\t\"id\": 0x1a45dfa3, // EBML\n\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\"id\": 0x4286 // EBMLVersion\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\"id\": 0x42f7 // EBMLReadVersion\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 4,\n\t\t\t\t\t\t\t\"id\": 0x42f2 // EBMLMaxIDLength\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 8,\n\t\t\t\t\t\t\t\"id\": 0x42f3 // EBMLMaxSizeLength\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": \"webm\",\n\t\t\t\t\t\t\t\"id\": 0x4282 // DocType\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 2,\n\t\t\t\t\t\t\t\"id\": 0x4287 // DocTypeVersion\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"data\": 2,\n\t\t\t\t\t\t\t\"id\": 0x4285 // DocTypeReadVersion\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": 0x18538067, // Segment\n\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": 0x1549a966, // Info\n\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": 1e6, //do things in millisecs (num of nanosecs for duration scale)\n\t\t\t\t\t\t\t\t\t\"id\": 0x2ad7b1 // TimecodeScale\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": \"whammy\",\n\t\t\t\t\t\t\t\t\t\"id\": 0x4d80 // MuxingApp\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": \"whammy\",\n\t\t\t\t\t\t\t\t\t\"id\": 0x5741 // WritingApp\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"data\": doubleToString(info.duration),\n\t\t\t\t\t\t\t\t\t\"id\": 0x4489 // Duration\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": 0x1654ae6b, // Tracks\n\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\"id\": 0xae, // TrackEntry\n\t\t\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xd7 // TrackNumber\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x73c5 // TrackUID\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": 0,\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x9c // FlagLacing\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": \"und\",\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x22b59c // Language\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": \"V_VP8\",\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x86 // CodecID\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": \"VP8\",\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x258688 // CodecName\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0x83 // TrackType\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xe0,  // Video\n\t\t\t\t\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"data\": info.width,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xb0 // PixelWidth\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"data\": info.height,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"id\": 0xba // PixelHeight\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": 0x1c53bb6b, // Cues\n\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t//cue insertion point\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t//cluster insertion point\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t];\n\n\n\t\t\tvar segment = EBML[1];\n\t\t\tvar cues = segment.data[2];\n\n\t\t\t//Generate clusters (max duration)\n\t\t\tvar frameNumber = 0;\n\t\t\tvar clusterTimecode = 0;\n\t\t\twhile(frameNumber < frames.length){\n\n\t\t\t\tvar cuePoint = {\n\t\t\t\t\t\t\"id\": 0xbb, // CuePoint\n\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": Math.round(clusterTimecode),\n\t\t\t\t\t\t\t\t\"id\": 0xb3 // CueTime\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"id\": 0xb7, // CueTrackPositions\n\t\t\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 1,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0xf7 // CueTrack\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\"data\": 0, // to be filled in when we know it\n\t\t\t\t\t\t\t\t\t\t\"size\": 8,\n\t\t\t\t\t\t\t\t\t\t\"id\": 0xf1 // CueClusterPosition\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t};\n\n\t\t\t\tcues.data.push(cuePoint);\n\n\t\t\t\tvar clusterFrames = [];\n\t\t\t\tvar clusterDuration = 0;\n\t\t\t\tdo {\n\t\t\t\t\tclusterFrames.push(frames[frameNumber]);\n\t\t\t\t\tclusterDuration += frames[frameNumber].duration;\n\t\t\t\t\tframeNumber++;\n\t\t\t\t}while(frameNumber < frames.length && clusterDuration < CLUSTER_MAX_DURATION);\n\n\t\t\t\tvar clusterCounter = 0;\n\t\t\t\tvar cluster = {\n\t\t\t\t\t\t\"id\": 0x1f43b675, // Cluster\n\t\t\t\t\t\t\"data\": [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\"data\": Math.round(clusterTimecode),\n\t\t\t\t\t\t\t\t\"id\": 0xe7 // Timecode\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t].concat(clusterFrames.map(function(webp){\n\t\t\t\t\t\t\tvar block = makeSimpleBlock({\n\t\t\t\t\t\t\t\tdiscardable: 0,\n\t\t\t\t\t\t\t\tframe: webp.data.slice(4),\n\t\t\t\t\t\t\t\tinvisible: 0,\n\t\t\t\t\t\t\t\tkeyframe: 1,\n\t\t\t\t\t\t\t\tlacing: 0,\n\t\t\t\t\t\t\t\ttrackNum: 1,\n\t\t\t\t\t\t\t\ttimecode: Math.round(clusterCounter)\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tclusterCounter += webp.duration;\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tdata: block,\n\t\t\t\t\t\t\t\tid: 0xa3\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}))\n\t\t\t\t\t}\n\n\t\t\t\t//Add cluster to segment\n\t\t\t\tsegment.data.push(cluster);\n\t\t\t\tclusterTimecode += clusterDuration;\n\t\t\t}\n\n\t\t\t//First pass to compute cluster positions\n\t\t\tvar position = 0;\n\t\t\tfor(var i = 0; i < segment.data.length; i++){\n\t\t\t\tif (i >= 3) {\n\t\t\t\t\tcues.data[i-3].data[1].data[1].data = position;\n\t\t\t\t}\n\t\t\t\tvar data = generateEBML([segment.data[i]], outputAsArray);\n\t\t\t\tposition += data.size || data.byteLength || data.length;\n\t\t\t\tif (i != 2) { // not cues\n\t\t\t\t\t//Save results to avoid having to encode everything twice\n\t\t\t\t\tsegment.data[i] = data;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn generateEBML(EBML, outputAsArray)\n\t\t}\n\n\t\t// sums the lengths of all the frames and gets the duration, woo\n\n\t\tfunction checkFrames(frames){\n\t\t\tvar width = frames[0].width,\n\t\t\t\theight = frames[0].height,\n\t\t\t\tduration = frames[0].duration;\n\t\t\tfor(var i = 1; i < frames.length; i++){\n\t\t\t\tif(frames[i].width != width) throw \"Frame \" + (i + 1) + \" has a different width\";\n\t\t\t\tif(frames[i].height != height) throw \"Frame \" + (i + 1) + \" has a different height\";\n\t\t\t\tif(frames[i].duration < 0 || frames[i].duration > 0x7fff) throw \"Frame \" + (i + 1) + \" has a weird duration (must be between 0 and 32767)\";\n\t\t\t\tduration += frames[i].duration;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\tduration: duration,\n\t\t\t\twidth: width,\n\t\t\t\theight: height\n\t\t\t};\n\t\t}\n\n\n\t\tfunction numToBuffer(num){\n\t\t\tvar parts = [];\n\t\t\twhile(num > 0){\n\t\t\t\tparts.push(num & 0xff)\n\t\t\t\tnum = num >> 8\n\t\t\t}\n\t\t\treturn new Uint8Array(parts.reverse());\n\t\t}\n\n\t\tfunction numToFixedBuffer(num, size){\n\t\t\tvar parts = new Uint8Array(size);\n\t\t\tfor(var i = size - 1; i >= 0; i--){\n\t\t\t\tparts[i] = num & 0xff;\n\t\t\t\tnum = num >> 8;\n\t\t\t}\n\t\t\treturn parts;\n\t\t}\n\n\t\tfunction strToBuffer(str){\n\t\t\t// return new Blob([str]);\n\n\t\t\tvar arr = new Uint8Array(str.length);\n\t\t\tfor(var i = 0; i < str.length; i++){\n\t\t\t\tarr[i] = str.charCodeAt(i)\n\t\t\t}\n\t\t\treturn arr;\n\t\t\t// this is slower\n\t\t\t// return new Uint8Array(str.split('').map(function(e){\n\t\t\t// \treturn e.charCodeAt(0)\n\t\t\t// }))\n\t\t}\n\n\n\t\t//sorry this is ugly, and sort of hard to understand exactly why this was done\n\t\t// at all really, but the reason is that there's some code below that i dont really\n\t\t// feel like understanding, and this is easier than using my brain.\n\n\t\tfunction bitsToBuffer(bits){\n\t\t\tvar data = [];\n\t\t\tvar pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n\t\t\tbits = pad + bits;\n\t\t\tfor(var i = 0; i < bits.length; i+= 8){\n\t\t\t\tdata.push(parseInt(bits.substr(i,8),2))\n\t\t\t}\n\t\t\treturn new Uint8Array(data);\n\t\t}\n\n\t\tfunction generateEBML(json, outputAsArray){\n\t\t\tvar ebml = [];\n\t\t\tfor(var i = 0; i < json.length; i++){\n\t\t\t\tif (!('id' in json[i])){\n\t\t\t\t\t//already encoded blob or byteArray\n\t\t\t\t\tebml.push(json[i]);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tvar data = json[i].data;\n\t\t\t\tif(typeof data == 'object') data = generateEBML(data, outputAsArray);\n\t\t\t\tif(typeof data == 'number') data = ('size' in json[i]) ? numToFixedBuffer(data, json[i].size) : bitsToBuffer(data.toString(2));\n\t\t\t\tif(typeof data == 'string') data = strToBuffer(data);\n\n\t\t\t\tif(data.length){\n\t\t\t\t\tvar z = z;\n\t\t\t\t}\n\n\t\t\t\tvar len = data.size || data.byteLength || data.length;\n\t\t\t\tvar zeroes = Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);\n\t\t\t\tvar size_str = len.toString(2);\n\t\t\t\tvar padded = (new Array((zeroes * 7 + 7 + 1) - size_str.length)).join('0') + size_str;\n\t\t\t\tvar size = (new Array(zeroes)).join('0') + '1' + padded;\n\n\t\t\t\t//i actually dont quite understand what went on up there, so I'm not really\n\t\t\t\t//going to fix this, i'm probably just going to write some hacky thing which\n\t\t\t\t//converts that string into a buffer-esque thing\n\n\t\t\t\tebml.push(numToBuffer(json[i].id));\n\t\t\t\tebml.push(bitsToBuffer(size));\n\t\t\t\tebml.push(data)\n\n\n\t\t\t}\n\n\t\t\t//output as blob or byteArray\n\t\t\tif(outputAsArray){\n\t\t\t\t//convert ebml to an array\n\t\t\t\tvar buffer = toFlatArray(ebml)\n\t\t\t\treturn new Uint8Array(buffer);\n\t\t\t}else{\n\t\t\t\treturn new Blob(ebml, {type: \"video/webm\"});\n\t\t\t}\n\t\t}\n\n\t\tfunction toFlatArray(arr, outBuffer){\n\t\t\tif(outBuffer == null){\n\t\t\t\toutBuffer = [];\n\t\t\t}\n\t\t\tfor(var i = 0; i < arr.length; i++){\n\t\t\t\tif(typeof arr[i] == 'object'){\n\t\t\t\t\t//an array\n\t\t\t\t\ttoFlatArray(arr[i], outBuffer)\n\t\t\t\t}else{\n\t\t\t\t\t//a simple element\n\t\t\t\t\toutBuffer.push(arr[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn outBuffer;\n\t\t}\n\n\t\t//OKAY, so the following two functions are the string-based old stuff, the reason they're\n\t\t//still sort of in here, is that they're actually faster than the new blob stuff because\n\t\t//getAsFile isn't widely implemented, or at least, it doesn't work in chrome, which is the\n\t\t// only browser which supports get as webp\n\n\t\t//Converting between a string of 0010101001's and binary back and forth is probably inefficient\n\t\t//TODO: get rid of this function\n\t\tfunction toBinStr_old(bits){\n\t\t\tvar data = '';\n\t\t\tvar pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\n\t\t\tbits = pad + bits;\n\t\t\tfor(var i = 0; i < bits.length; i+= 8){\n\t\t\t\tdata += String.fromCharCode(parseInt(bits.substr(i,8),2))\n\t\t\t}\n\t\t\treturn data;\n\t\t}\n\n\t\tfunction generateEBML_old(json){\n\t\t\tvar ebml = '';\n\t\t\tfor(var i = 0; i < json.length; i++){\n\t\t\t\tvar data = json[i].data;\n\t\t\t\tif(typeof data == 'object') data = generateEBML_old(data);\n\t\t\t\tif(typeof data == 'number') data = toBinStr_old(data.toString(2));\n\n\t\t\t\tvar len = data.length;\n\t\t\t\tvar zeroes = Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8);\n\t\t\t\tvar size_str = len.toString(2);\n\t\t\t\tvar padded = (new Array((zeroes * 7 + 7 + 1) - size_str.length)).join('0') + size_str;\n\t\t\t\tvar size = (new Array(zeroes)).join('0') + '1' + padded;\n\n\t\t\t\tebml += toBinStr_old(json[i].id.toString(2)) + toBinStr_old(size) + data;\n\n\t\t\t}\n\t\t\treturn ebml;\n\t\t}\n\n\t\t//woot, a function that's actually written for this project!\n\t\t//this parses some json markup and makes it into that binary magic\n\t\t//which can then get shoved into the matroska comtainer (peaceably)\n\n\t\tfunction makeSimpleBlock(data){\n\t\t\tvar flags = 0;\n\t\t\tif (data.keyframe) flags |= 128;\n\t\t\tif (data.invisible) flags |= 8;\n\t\t\tif (data.lacing) flags |= (data.lacing << 1);\n\t\t\tif (data.discardable) flags |= 1;\n\t\t\tif (data.trackNum > 127) {\n\t\t\t\tthrow \"TrackNumber > 127 not supported\";\n\t\t\t}\n\t\t\tvar out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e){\n\t\t\t\treturn String.fromCharCode(e)\n\t\t\t}).join('') + data.frame;\n\n\t\t\treturn out;\n\t\t}\n\n\t\t// here's something else taken verbatim from weppy, awesome rite?\n\n\t\tfunction parseWebP(riff){\n\t\t\tvar VP8 = riff.RIFF[0].WEBP[0];\n\n\t\t\tvar frame_start = VP8.indexOf('\\x9d\\x01\\x2a'); //A VP8 keyframe starts with the 0x9d012a header\n\t\t\tfor(var i = 0, c = []; i < 4; i++) c[i] = VP8.charCodeAt(frame_start + 3 + i);\n\n\t\t\tvar width, horizontal_scale, height, vertical_scale, tmp;\n\n\t\t\t//the code below is literally copied verbatim from the bitstream spec\n\t\t\ttmp = (c[1] << 8) | c[0];\n\t\t\twidth = tmp & 0x3FFF;\n\t\t\thorizontal_scale = tmp >> 14;\n\t\t\ttmp = (c[3] << 8) | c[2];\n\t\t\theight = tmp & 0x3FFF;\n\t\t\tvertical_scale = tmp >> 14;\n\t\t\treturn {\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tdata: VP8,\n\t\t\t\triff: riff\n\t\t\t}\n\t\t}\n\n\t\t// i think i'm going off on a riff by pretending this is some known\n\t\t// idiom which i'm making a casual and brilliant pun about, but since\n\t\t// i can't find anything on google which conforms to this idiomatic\n\t\t// usage, I'm assuming this is just a consequence of some psychotic\n\t\t// break which makes me make up puns. well, enough riff-raff (aha a\n\t\t// rescue of sorts), this function was ripped wholesale from weppy\n\n\t\tfunction parseRIFF(string){\n\t\t\tvar offset = 0;\n\t\t\tvar chunks = {};\n\n\t\t\twhile (offset < string.length) {\n\t\t\t\tvar id = string.substr(offset, 4);\n\t\t\t\tchunks[id] = chunks[id] || [];\n\t\t\t\tif (id == 'RIFF' || id == 'LIST') {\n\t\t\t\t\tvar len = parseInt(string.substr(offset + 4, 4).split('').map(function(i){\n\t\t\t\t\t\tvar unpadded = i.charCodeAt(0).toString(2);\n\t\t\t\t\t\treturn (new Array(8 - unpadded.length + 1)).join('0') + unpadded\n\t\t\t\t\t}).join(''),2);\n\t\t\t\t\tvar data = string.substr(offset + 4 + 4, len);\n\t\t\t\t\toffset += 4 + 4 + len;\n\t\t\t\t\tchunks[id].push(parseRIFF(data));\n\t\t\t\t} else if (id == 'WEBP') {\n\t\t\t\t\t// Use (offset + 8) to skip past \"VP8 \"/\"VP8L\"/\"VP8X\" field after \"WEBP\"\n\t\t\t\t\tchunks[id].push(string.substr(offset + 8));\n\t\t\t\t\toffset = string.length;\n\t\t\t\t} else {\n\t\t\t\t\t// Unknown chunk type; push entire payload\n\t\t\t\t\tchunks[id].push(string.substr(offset + 4));\n\t\t\t\t\toffset = string.length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn chunks;\n\t\t}\n\n\t\t// here's a little utility function that acts as a utility for other functions\n\t\t// basically, the only purpose is for encoding \"Duration\", which is encoded as\n\t\t// a double (considerably more difficult to encode than an integer)\n\t\tfunction doubleToString(num){\n\t\t\treturn [].slice.call(\n\t\t\t\tnew Uint8Array(\n\t\t\t\t\t(\n\t\t\t\t\t\tnew Float64Array([num]) //create a float64 array\n\t\t\t\t\t).buffer) //extract the array buffer\n\t\t\t\t, 0) // convert the Uint8Array into a regular array\n\t\t\t\t.map(function(e){ //since it's a regular array, we can now use map\n\t\t\t\t\treturn String.fromCharCode(e) // encode all the bytes individually\n\t\t\t\t})\n\t\t\t\t.reverse() //correct the byte endianness (assume it's little endian for now)\n\t\t\t\t.join('') // join the bytes in holy matrimony as a string\n\t\t}\n\n\t\tfunction WhammyVideo(speed, quality){ // a more abstract-ish API\n\t\t\tthis.frames = [];\n\t\t\tthis.duration = 1000 / speed;\n\t\t\tthis.quality = quality || 0.8;\n\t\t}\n\n\t\tWhammyVideo.prototype.add = function(frame, duration){\n\t\t\tif(typeof duration != 'undefined' && this.duration) throw \"you can't pass a duration if the fps is set\";\n\t\t\tif(typeof duration == 'undefined' && !this.duration) throw \"if you don't have the fps set, you need to have durations here.\";\n\t\t\tif(frame.canvas){ //CanvasRenderingContext2D\n\t\t\t\tframe = frame.canvas;\n\t\t\t}\n\t\t\tif(frame.toDataURL){\n\t\t\t\t// frame = frame.toDataURL('image/webp', this.quality);\n\t\t\t\t// quickly store image data so we don't block cpu. encode in compile method.\n\t\t\t\tframe = frame.getContext('2d').getImageData(0, 0, frame.width, frame.height);\n\t\t\t}else if(typeof frame != \"string\"){\n\t\t\t\tthrow \"frame must be a a HTMLCanvasElement, a CanvasRenderingContext2D or a DataURI formatted string\"\n\t\t\t}\n\t\t\tif (typeof frame === \"string\" && !(/^data:image\\/webp;base64,/ig).test(frame)) {\n\t\t\t\tthrow \"Input must be formatted properly as a base64 encoded DataURI of type image/webp\";\n\t\t\t}\n\t\t\tthis.frames.push({\n\t\t\t\timage: frame,\n\t\t\t\tduration: duration || this.duration\n\t\t\t});\n\t\t};\n\n\t\t// deferred webp encoding. Draws image data to canvas, then encodes as dataUrl\n\t\tWhammyVideo.prototype.encodeFrames = function(callback){\n\n\t\t\tif(this.frames[0].image instanceof ImageData){\n\n\t\t\t\tvar frames = this.frames;\n\t\t\t\tvar tmpCanvas = document.createElement('canvas');\n\t\t\t\tvar tmpContext = tmpCanvas.getContext('2d');\n\t\t\t\ttmpCanvas.width = this.frames[0].image.width;\n\t\t\t\ttmpCanvas.height = this.frames[0].image.height;\n\n\t\t\t\tvar encodeFrame = function(index){\n\t\t\t\t\tconsole.log('encodeFrame', index);\n\t\t\t\t\tvar frame = frames[index];\n\t\t\t\t\ttmpContext.putImageData(frame.image, 0, 0);\n\t\t\t\t\tframe.image = tmpCanvas.toDataURL('image/webp', this.quality);\n\t\t\t\t\tif(index < frames.length-1){\n\t\t\t\t\t\tsetTimeout(function(){ encodeFrame(index + 1); }, 1);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcallback();\n\t\t\t\t\t}\n\t\t\t\t}.bind(this);\n\n\t\t\t\tencodeFrame(0);\n\t\t\t}else{\n\t\t\t\tcallback();\n\t\t\t}\n\t\t};\n\n\t\tWhammyVideo.prototype.compile = function(outputAsArray, callback){\n\n\t\t\tthis.encodeFrames(function(){\n\n\t\t\t\tvar webm = new toWebM(this.frames.map(function(frame){\n\t\t\t\t\tvar webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\n\t\t\t\t\twebp.duration = frame.duration;\n\t\t\t\t\treturn webp;\n\t\t\t\t}), outputAsArray);\n\t\t\t\tcallback(webm);\n\n\t\t\t}.bind(this));\n\t\t};\n\n\t\treturn {\n\t\t\tVideo: WhammyVideo,\n\t\t\tfromImageArray: function(images, fps, outputAsArray){\n\t\t\t\treturn toWebM(images.map(function(image){\n\t\t\t\t\tvar webp = parseWebP(parseRIFF(atob(image.slice(23))))\n\t\t\t\t\twebp.duration = 1000 / fps;\n\t\t\t\t\treturn webp;\n\t\t\t\t}), outputAsArray)\n\t\t\t},\n\t\t\ttoWebM: toWebM\n\t\t\t// expose methods of madness\n\t\t}\n\t})()\n}());\n"

/***/ }),

/***/ "5ee5":
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(global) {/*!
 * Vue.js v2.5.22
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */


/*  */

var emptyObject = Object.freeze({});

// These helpers produce better VM code in JS engines due to their
// explicitness and function inlining.
function isUndef (v) {
  return v === undefined || v === null
}

function isDef (v) {
  return v !== undefined && v !== null
}

function isTrue (v) {
  return v === true
}

function isFalse (v) {
  return v === false
}

/**
 * Check if value is primitive.
 */
function isPrimitive (value) {
  return (
    typeof value === 'string' ||
    typeof value === 'number' ||
    // $flow-disable-line
    typeof value === 'symbol' ||
    typeof value === 'boolean'
  )
}

/**
 * Quick object check - this is primarily used to tell
 * Objects from primitive values when we know the value
 * is a JSON-compliant type.
 */
function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

/**
 * Get the raw type string of a value, e.g., [object Object].
 */
var _toString = Object.prototype.toString;

function toRawType (value) {
  return _toString.call(value).slice(8, -1)
}

/**
 * Strict object type check. Only returns true
 * for plain JavaScript objects.
 */
function isPlainObject (obj) {
  return _toString.call(obj) === '[object Object]'
}

function isRegExp (v) {
  return _toString.call(v) === '[object RegExp]'
}

/**
 * Check if val is a valid array index.
 */
function isValidArrayIndex (val) {
  var n = parseFloat(String(val));
  return n >= 0 && Math.floor(n) === n && isFinite(val)
}

/**
 * Convert a value to a string that is actually rendered.
 */
function toString (val) {
  return val == null
    ? ''
    : typeof val === 'object'
      ? JSON.stringify(val, null, 2)
      : String(val)
}

/**
 * Convert an input value to a number for persistence.
 * If the conversion fails, return original string.
 */
function toNumber (val) {
  var n = parseFloat(val);
  return isNaN(n) ? val : n
}

/**
 * Make a map and return a function for checking if a key
 * is in that map.
 */
function makeMap (
  str,
  expectsLowerCase
) {
  var map = Object.create(null);
  var list = str.split(',');
  for (var i = 0; i < list.length; i++) {
    map[list[i]] = true;
  }
  return expectsLowerCase
    ? function (val) { return map[val.toLowerCase()]; }
    : function (val) { return map[val]; }
}

/**
 * Check if a tag is a built-in tag.
 */
var isBuiltInTag = makeMap('slot,component', true);

/**
 * Check if an attribute is a reserved attribute.
 */
var isReservedAttribute = makeMap('key,ref,slot,slot-scope,is');

/**
 * Remove an item from an array.
 */
function remove (arr, item) {
  if (arr.length) {
    var index = arr.indexOf(item);
    if (index > -1) {
      return arr.splice(index, 1)
    }
  }
}

/**
 * Check whether an object has the property.
 */
var hasOwnProperty = Object.prototype.hasOwnProperty;
function hasOwn (obj, key) {
  return hasOwnProperty.call(obj, key)
}

/**
 * Create a cached version of a pure function.
 */
function cached (fn) {
  var cache = Object.create(null);
  return (function cachedFn (str) {
    var hit = cache[str];
    return hit || (cache[str] = fn(str))
  })
}

/**
 * Camelize a hyphen-delimited string.
 */
var camelizeRE = /-(\w)/g;
var camelize = cached(function (str) {
  return str.replace(camelizeRE, function (_, c) { return c ? c.toUpperCase() : ''; })
});

/**
 * Capitalize a string.
 */
var capitalize = cached(function (str) {
  return str.charAt(0).toUpperCase() + str.slice(1)
});

/**
 * Hyphenate a camelCase string.
 */
var hyphenateRE = /\B([A-Z])/g;
var hyphenate = cached(function (str) {
  return str.replace(hyphenateRE, '-$1').toLowerCase()
});

/**
 * Simple bind polyfill for environments that do not support it,
 * e.g., PhantomJS 1.x. Technically, we don't need this anymore
 * since native bind is now performant enough in most browsers.
 * But removing it would mean breaking code that was able to run in
 * PhantomJS 1.x, so this must be kept for backward compatibility.
 */

/* istanbul ignore next */
function polyfillBind (fn, ctx) {
  function boundFn (a) {
    var l = arguments.length;
    return l
      ? l > 1
        ? fn.apply(ctx, arguments)
        : fn.call(ctx, a)
      : fn.call(ctx)
  }

  boundFn._length = fn.length;
  return boundFn
}

function nativeBind (fn, ctx) {
  return fn.bind(ctx)
}

var bind = Function.prototype.bind
  ? nativeBind
  : polyfillBind;

/**
 * Convert an Array-like object to a real Array.
 */
function toArray (list, start) {
  start = start || 0;
  var i = list.length - start;
  var ret = new Array(i);
  while (i--) {
    ret[i] = list[i + start];
  }
  return ret
}

/**
 * Mix properties into target object.
 */
function extend (to, _from) {
  for (var key in _from) {
    to[key] = _from[key];
  }
  return to
}

/**
 * Merge an Array of Objects into a single Object.
 */
function toObject (arr) {
  var res = {};
  for (var i = 0; i < arr.length; i++) {
    if (arr[i]) {
      extend(res, arr[i]);
    }
  }
  return res
}

/* eslint-disable no-unused-vars */

/**
 * Perform no operation.
 * Stubbing args to make Flow happy without leaving useless transpiled code
 * with ...rest (https://flow.org/blog/2017/05/07/Strict-Function-Call-Arity/).
 */
function noop (a, b, c) {}

/**
 * Always return false.
 */
var no = function (a, b, c) { return false; };

/* eslint-enable no-unused-vars */

/**
 * Return the same value.
 */
var identity = function (_) { return _; };

/**
 * Generate a string containing static keys from compiler modules.
 */
function genStaticKeys (modules) {
  return modules.reduce(function (keys, m) {
    return keys.concat(m.staticKeys || [])
  }, []).join(',')
}

/**
 * Check if two values are loosely equal - that is,
 * if they are plain objects, do they have the same shape?
 */
function looseEqual (a, b) {
  if (a === b) { return true }
  var isObjectA = isObject(a);
  var isObjectB = isObject(b);
  if (isObjectA && isObjectB) {
    try {
      var isArrayA = Array.isArray(a);
      var isArrayB = Array.isArray(b);
      if (isArrayA && isArrayB) {
        return a.length === b.length && a.every(function (e, i) {
          return looseEqual(e, b[i])
        })
      } else if (a instanceof Date && b instanceof Date) {
        return a.getTime() === b.getTime()
      } else if (!isArrayA && !isArrayB) {
        var keysA = Object.keys(a);
        var keysB = Object.keys(b);
        return keysA.length === keysB.length && keysA.every(function (key) {
          return looseEqual(a[key], b[key])
        })
      } else {
        /* istanbul ignore next */
        return false
      }
    } catch (e) {
      /* istanbul ignore next */
      return false
    }
  } else if (!isObjectA && !isObjectB) {
    return String(a) === String(b)
  } else {
    return false
  }
}

/**
 * Return the first index at which a loosely equal value can be
 * found in the array (if value is a plain object, the array must
 * contain an object of the same shape), or -1 if it is not present.
 */
function looseIndexOf (arr, val) {
  for (var i = 0; i < arr.length; i++) {
    if (looseEqual(arr[i], val)) { return i }
  }
  return -1
}

/**
 * Ensure a function is called only once.
 */
function once (fn) {
  var called = false;
  return function () {
    if (!called) {
      called = true;
      fn.apply(this, arguments);
    }
  }
}

var SSR_ATTR = 'data-server-rendered';

var ASSET_TYPES = [
  'component',
  'directive',
  'filter'
];

var LIFECYCLE_HOOKS = [
  'beforeCreate',
  'created',
  'beforeMount',
  'mounted',
  'beforeUpdate',
  'updated',
  'beforeDestroy',
  'destroyed',
  'activated',
  'deactivated',
  'errorCaptured'
];

/*  */



var config = ({
  /**
   * Option merge strategies (used in core/util/options)
   */
  // $flow-disable-line
  optionMergeStrategies: Object.create(null),

  /**
   * Whether to suppress warnings.
   */
  silent: false,

  /**
   * Show production mode tip message on boot?
   */
  productionTip: "production" !== 'production',

  /**
   * Whether to enable devtools
   */
  devtools: "production" !== 'production',

  /**
   * Whether to record perf
   */
  performance: false,

  /**
   * Error handler for watcher errors
   */
  errorHandler: null,

  /**
   * Warn handler for watcher warns
   */
  warnHandler: null,

  /**
   * Ignore certain custom elements
   */
  ignoredElements: [],

  /**
   * Custom user key aliases for v-on
   */
  // $flow-disable-line
  keyCodes: Object.create(null),

  /**
   * Check if a tag is reserved so that it cannot be registered as a
   * component. This is platform-dependent and may be overwritten.
   */
  isReservedTag: no,

  /**
   * Check if an attribute is reserved so that it cannot be used as a component
   * prop. This is platform-dependent and may be overwritten.
   */
  isReservedAttr: no,

  /**
   * Check if a tag is an unknown element.
   * Platform-dependent.
   */
  isUnknownElement: no,

  /**
   * Get the namespace of an element
   */
  getTagNamespace: noop,

  /**
   * Parse the real tag name for the specific platform.
   */
  parsePlatformTagName: identity,

  /**
   * Check if an attribute must be bound using property, e.g. value
   * Platform-dependent.
   */
  mustUseProp: no,

  /**
   * Perform updates asynchronously. Intended to be used by Vue Test Utils
   * This will significantly reduce performance if set to false.
   */
  async: true,

  /**
   * Exposed for legacy reasons
   */
  _lifecycleHooks: LIFECYCLE_HOOKS
});

/*  */

/**
 * Check if a string starts with $ or _
 */
function isReserved (str) {
  var c = (str + '').charCodeAt(0);
  return c === 0x24 || c === 0x5F
}

/**
 * Define a property.
 */
function def (obj, key, val, enumerable) {
  Object.defineProperty(obj, key, {
    value: val,
    enumerable: !!enumerable,
    writable: true,
    configurable: true
  });
}

/**
 * Parse simple path.
 */
var bailRE = /[^\w.$]/;
function parsePath (path) {
  if (bailRE.test(path)) {
    return
  }
  var segments = path.split('.');
  return function (obj) {
    for (var i = 0; i < segments.length; i++) {
      if (!obj) { return }
      obj = obj[segments[i]];
    }
    return obj
  }
}

/*  */

// can we use __proto__?
var hasProto = '__proto__' in {};

// Browser environment sniffing
var inBrowser = typeof window !== 'undefined';
var inWeex = typeof WXEnvironment !== 'undefined' && !!WXEnvironment.platform;
var weexPlatform = inWeex && WXEnvironment.platform.toLowerCase();
var UA = inBrowser && window.navigator.userAgent.toLowerCase();
var isIE = UA && /msie|trident/.test(UA);
var isIE9 = UA && UA.indexOf('msie 9.0') > 0;
var isEdge = UA && UA.indexOf('edge/') > 0;
var isAndroid = (UA && UA.indexOf('android') > 0) || (weexPlatform === 'android');
var isIOS = (UA && /iphone|ipad|ipod|ios/.test(UA)) || (weexPlatform === 'ios');
var isChrome = UA && /chrome\/\d+/.test(UA) && !isEdge;

// Firefox has a "watch" function on Object.prototype...
var nativeWatch = ({}).watch;

var supportsPassive = false;
if (inBrowser) {
  try {
    var opts = {};
    Object.defineProperty(opts, 'passive', ({
      get: function get () {
        /* istanbul ignore next */
        supportsPassive = true;
      }
    })); // https://github.com/facebook/flow/issues/285
    window.addEventListener('test-passive', null, opts);
  } catch (e) {}
}

// this needs to be lazy-evaled because vue may be required before
// vue-server-renderer can set VUE_ENV
var _isServer;
var isServerRendering = function () {
  if (_isServer === undefined) {
    /* istanbul ignore if */
    if (!inBrowser && !inWeex && typeof global !== 'undefined') {
      // detect presence of vue-server-renderer and avoid
      // Webpack shimming the process
      _isServer = global['process'] && global['process'].env.VUE_ENV === 'server';
    } else {
      _isServer = false;
    }
  }
  return _isServer
};

// detect devtools
var devtools = inBrowser && window.__VUE_DEVTOOLS_GLOBAL_HOOK__;

/* istanbul ignore next */
function isNative (Ctor) {
  return typeof Ctor === 'function' && /native code/.test(Ctor.toString())
}

var hasSymbol =
  typeof Symbol !== 'undefined' && isNative(Symbol) &&
  typeof Reflect !== 'undefined' && isNative(Reflect.ownKeys);

var _Set;
/* istanbul ignore if */ // $flow-disable-line
if (typeof Set !== 'undefined' && isNative(Set)) {
  // use native Set when available.
  _Set = Set;
} else {
  // a non-standard Set polyfill that only works with primitive keys.
  _Set = /*@__PURE__*/(function () {
    function Set () {
      this.set = Object.create(null);
    }
    Set.prototype.has = function has (key) {
      return this.set[key] === true
    };
    Set.prototype.add = function add (key) {
      this.set[key] = true;
    };
    Set.prototype.clear = function clear () {
      this.set = Object.create(null);
    };

    return Set;
  }());
}

/*  */

var warn = noop;
var tip = noop;
var generateComponentTrace = (noop); // work around flow check
var formatComponentName = (noop);

if (false) { var repeat, classify, classifyRE, hasConsole; }

/*  */

var uid = 0;

/**
 * A dep is an observable that can have multiple
 * directives subscribing to it.
 */
var Dep = function Dep () {
  this.id = uid++;
  this.subs = [];
};

Dep.prototype.addSub = function addSub (sub) {
  this.subs.push(sub);
};

Dep.prototype.removeSub = function removeSub (sub) {
  remove(this.subs, sub);
};

Dep.prototype.depend = function depend () {
  if (Dep.target) {
    Dep.target.addDep(this);
  }
};

Dep.prototype.notify = function notify () {
  // stabilize the subscriber list first
  var subs = this.subs.slice();
  if (false) {}
  for (var i = 0, l = subs.length; i < l; i++) {
    subs[i].update();
  }
};

// The current target watcher being evaluated.
// This is globally unique because only one watcher
// can be evaluated at a time.
Dep.target = null;
var targetStack = [];

function pushTarget (target) {
  targetStack.push(target);
  Dep.target = target;
}

function popTarget () {
  targetStack.pop();
  Dep.target = targetStack[targetStack.length - 1];
}

/*  */

var VNode = function VNode (
  tag,
  data,
  children,
  text,
  elm,
  context,
  componentOptions,
  asyncFactory
) {
  this.tag = tag;
  this.data = data;
  this.children = children;
  this.text = text;
  this.elm = elm;
  this.ns = undefined;
  this.context = context;
  this.fnContext = undefined;
  this.fnOptions = undefined;
  this.fnScopeId = undefined;
  this.key = data && data.key;
  this.componentOptions = componentOptions;
  this.componentInstance = undefined;
  this.parent = undefined;
  this.raw = false;
  this.isStatic = false;
  this.isRootInsert = true;
  this.isComment = false;
  this.isCloned = false;
  this.isOnce = false;
  this.asyncFactory = asyncFactory;
  this.asyncMeta = undefined;
  this.isAsyncPlaceholder = false;
};

var prototypeAccessors = { child: { configurable: true } };

// DEPRECATED: alias for componentInstance for backwards compat.
/* istanbul ignore next */
prototypeAccessors.child.get = function () {
  return this.componentInstance
};

Object.defineProperties( VNode.prototype, prototypeAccessors );

var createEmptyVNode = function (text) {
  if ( text === void 0 ) text = '';

  var node = new VNode();
  node.text = text;
  node.isComment = true;
  return node
};

function createTextVNode (val) {
  return new VNode(undefined, undefined, undefined, String(val))
}

// optimized shallow clone
// used for static nodes and slot nodes because they may be reused across
// multiple renders, cloning them avoids errors when DOM manipulations rely
// on their elm reference.
function cloneVNode (vnode) {
  var cloned = new VNode(
    vnode.tag,
    vnode.data,
    // #7975
    // clone children array to avoid mutating original in case of cloning
    // a child.
    vnode.children && vnode.children.slice(),
    vnode.text,
    vnode.elm,
    vnode.context,
    vnode.componentOptions,
    vnode.asyncFactory
  );
  cloned.ns = vnode.ns;
  cloned.isStatic = vnode.isStatic;
  cloned.key = vnode.key;
  cloned.isComment = vnode.isComment;
  cloned.fnContext = vnode.fnContext;
  cloned.fnOptions = vnode.fnOptions;
  cloned.fnScopeId = vnode.fnScopeId;
  cloned.asyncMeta = vnode.asyncMeta;
  cloned.isCloned = true;
  return cloned
}

/*
 * not type checking this file because flow doesn't play well with
 * dynamically accessing methods on Array prototype
 */

var arrayProto = Array.prototype;
var arrayMethods = Object.create(arrayProto);

var methodsToPatch = [
  'push',
  'pop',
  'shift',
  'unshift',
  'splice',
  'sort',
  'reverse'
];

/**
 * Intercept mutating methods and emit events
 */
methodsToPatch.forEach(function (method) {
  // cache original method
  var original = arrayProto[method];
  def(arrayMethods, method, function mutator () {
    var args = [], len = arguments.length;
    while ( len-- ) args[ len ] = arguments[ len ];

    var result = original.apply(this, args);
    var ob = this.__ob__;
    var inserted;
    switch (method) {
      case 'push':
      case 'unshift':
        inserted = args;
        break
      case 'splice':
        inserted = args.slice(2);
        break
    }
    if (inserted) { ob.observeArray(inserted); }
    // notify change
    ob.dep.notify();
    return result
  });
});

/*  */

var arrayKeys = Object.getOwnPropertyNames(arrayMethods);

/**
 * In some cases we may want to disable observation inside a component's
 * update computation.
 */
var shouldObserve = true;

function toggleObserving (value) {
  shouldObserve = value;
}

/**
 * Observer class that is attached to each observed
 * object. Once attached, the observer converts the target
 * object's property keys into getter/setters that
 * collect dependencies and dispatch updates.
 */
var Observer = function Observer (value) {
  this.value = value;
  this.dep = new Dep();
  this.vmCount = 0;
  def(value, '__ob__', this);
  if (Array.isArray(value)) {
    if (hasProto) {
      protoAugment(value, arrayMethods);
    } else {
      copyAugment(value, arrayMethods, arrayKeys);
    }
    this.observeArray(value);
  } else {
    this.walk(value);
  }
};

/**
 * Walk through all properties and convert them into
 * getter/setters. This method should only be called when
 * value type is Object.
 */
Observer.prototype.walk = function walk (obj) {
  var keys = Object.keys(obj);
  for (var i = 0; i < keys.length; i++) {
    defineReactive$$1(obj, keys[i]);
  }
};

/**
 * Observe a list of Array items.
 */
Observer.prototype.observeArray = function observeArray (items) {
  for (var i = 0, l = items.length; i < l; i++) {
    observe(items[i]);
  }
};

// helpers

/**
 * Augment a target Object or Array by intercepting
 * the prototype chain using __proto__
 */
function protoAugment (target, src) {
  /* eslint-disable no-proto */
  target.__proto__ = src;
  /* eslint-enable no-proto */
}

/**
 * Augment a target Object or Array by defining
 * hidden properties.
 */
/* istanbul ignore next */
function copyAugment (target, src, keys) {
  for (var i = 0, l = keys.length; i < l; i++) {
    var key = keys[i];
    def(target, key, src[key]);
  }
}

/**
 * Attempt to create an observer instance for a value,
 * returns the new observer if successfully observed,
 * or the existing observer if the value already has one.
 */
function observe (value, asRootData) {
  if (!isObject(value) || value instanceof VNode) {
    return
  }
  var ob;
  if (hasOwn(value, '__ob__') && value.__ob__ instanceof Observer) {
    ob = value.__ob__;
  } else if (
    shouldObserve &&
    !isServerRendering() &&
    (Array.isArray(value) || isPlainObject(value)) &&
    Object.isExtensible(value) &&
    !value._isVue
  ) {
    ob = new Observer(value);
  }
  if (asRootData && ob) {
    ob.vmCount++;
  }
  return ob
}

/**
 * Define a reactive property on an Object.
 */
function defineReactive$$1 (
  obj,
  key,
  val,
  customSetter,
  shallow
) {
  var dep = new Dep();

  var property = Object.getOwnPropertyDescriptor(obj, key);
  if (property && property.configurable === false) {
    return
  }

  // cater for pre-defined getter/setters
  var getter = property && property.get;
  var setter = property && property.set;
  if ((!getter || setter) && arguments.length === 2) {
    val = obj[key];
  }

  var childOb = !shallow && observe(val);
  Object.defineProperty(obj, key, {
    enumerable: true,
    configurable: true,
    get: function reactiveGetter () {
      var value = getter ? getter.call(obj) : val;
      if (Dep.target) {
        dep.depend();
        if (childOb) {
          childOb.dep.depend();
          if (Array.isArray(value)) {
            dependArray(value);
          }
        }
      }
      return value
    },
    set: function reactiveSetter (newVal) {
      var value = getter ? getter.call(obj) : val;
      /* eslint-disable no-self-compare */
      if (newVal === value || (newVal !== newVal && value !== value)) {
        return
      }
      /* eslint-enable no-self-compare */
      if (false) {}
      // #7981: for accessor properties without setter
      if (getter && !setter) { return }
      if (setter) {
        setter.call(obj, newVal);
      } else {
        val = newVal;
      }
      childOb = !shallow && observe(newVal);
      dep.notify();
    }
  });
}

/**
 * Set a property on an object. Adds the new property and
 * triggers change notification if the property doesn't
 * already exist.
 */
function set (target, key, val) {
  if (false
  ) {}
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.length = Math.max(target.length, key);
    target.splice(key, 1, val);
    return val
  }
  if (key in target && !(key in Object.prototype)) {
    target[key] = val;
    return val
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     false && false;
    return val
  }
  if (!ob) {
    target[key] = val;
    return val
  }
  defineReactive$$1(ob.value, key, val);
  ob.dep.notify();
  return val
}

/**
 * Delete a property and trigger change if necessary.
 */
function del (target, key) {
  if (false
  ) {}
  if (Array.isArray(target) && isValidArrayIndex(key)) {
    target.splice(key, 1);
    return
  }
  var ob = (target).__ob__;
  if (target._isVue || (ob && ob.vmCount)) {
     false && false;
    return
  }
  if (!hasOwn(target, key)) {
    return
  }
  delete target[key];
  if (!ob) {
    return
  }
  ob.dep.notify();
}

/**
 * Collect dependencies on array elements when the array is touched, since
 * we cannot intercept array element access like property getters.
 */
function dependArray (value) {
  for (var e = (void 0), i = 0, l = value.length; i < l; i++) {
    e = value[i];
    e && e.__ob__ && e.__ob__.dep.depend();
    if (Array.isArray(e)) {
      dependArray(e);
    }
  }
}

/*  */

/**
 * Option overwriting strategies are functions that handle
 * how to merge a parent option value and a child option
 * value into the final value.
 */
var strats = config.optionMergeStrategies;

/**
 * Options with restrictions
 */
if (false) {}

/**
 * Helper that recursively merges two data objects together.
 */
function mergeData (to, from) {
  if (!from) { return to }
  var key, toVal, fromVal;
  var keys = Object.keys(from);
  for (var i = 0; i < keys.length; i++) {
    key = keys[i];
    toVal = to[key];
    fromVal = from[key];
    if (!hasOwn(to, key)) {
      set(to, key, fromVal);
    } else if (
      toVal !== fromVal &&
      isPlainObject(toVal) &&
      isPlainObject(fromVal)
    ) {
      mergeData(toVal, fromVal);
    }
  }
  return to
}

/**
 * Data
 */
function mergeDataOrFn (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    // in a Vue.extend merge, both should be functions
    if (!childVal) {
      return parentVal
    }
    if (!parentVal) {
      return childVal
    }
    // when parentVal & childVal are both present,
    // we need to return a function that returns the
    // merged result of both functions... no need to
    // check if parentVal is a function here because
    // it has to be a function to pass previous merges.
    return function mergedDataFn () {
      return mergeData(
        typeof childVal === 'function' ? childVal.call(this, this) : childVal,
        typeof parentVal === 'function' ? parentVal.call(this, this) : parentVal
      )
    }
  } else {
    return function mergedInstanceDataFn () {
      // instance merge
      var instanceData = typeof childVal === 'function'
        ? childVal.call(vm, vm)
        : childVal;
      var defaultData = typeof parentVal === 'function'
        ? parentVal.call(vm, vm)
        : parentVal;
      if (instanceData) {
        return mergeData(instanceData, defaultData)
      } else {
        return defaultData
      }
    }
  }
}

strats.data = function (
  parentVal,
  childVal,
  vm
) {
  if (!vm) {
    if (childVal && typeof childVal !== 'function') {
       false && false;

      return parentVal
    }
    return mergeDataOrFn(parentVal, childVal)
  }

  return mergeDataOrFn(parentVal, childVal, vm)
};

/**
 * Hooks and props are merged as arrays.
 */
function mergeHook (
  parentVal,
  childVal
) {
  var res = childVal
    ? parentVal
      ? parentVal.concat(childVal)
      : Array.isArray(childVal)
        ? childVal
        : [childVal]
    : parentVal;
  return res
    ? dedupeHooks(res)
    : res
}

function dedupeHooks (hooks) {
  var res = [];
  for (var i = 0; i < hooks.length; i++) {
    if (res.indexOf(hooks[i]) === -1) {
      res.push(hooks[i]);
    }
  }
  return res
}

LIFECYCLE_HOOKS.forEach(function (hook) {
  strats[hook] = mergeHook;
});

/**
 * Assets
 *
 * When a vm is present (instance creation), we need to do
 * a three-way merge between constructor options, instance
 * options and parent options.
 */
function mergeAssets (
  parentVal,
  childVal,
  vm,
  key
) {
  var res = Object.create(parentVal || null);
  if (childVal) {
     false && false;
    return extend(res, childVal)
  } else {
    return res
  }
}

ASSET_TYPES.forEach(function (type) {
  strats[type + 's'] = mergeAssets;
});

/**
 * Watchers.
 *
 * Watchers hashes should not overwrite one
 * another, so we merge them as arrays.
 */
strats.watch = function (
  parentVal,
  childVal,
  vm,
  key
) {
  // work around Firefox's Object.prototype.watch...
  if (parentVal === nativeWatch) { parentVal = undefined; }
  if (childVal === nativeWatch) { childVal = undefined; }
  /* istanbul ignore if */
  if (!childVal) { return Object.create(parentVal || null) }
  if (false) {}
  if (!parentVal) { return childVal }
  var ret = {};
  extend(ret, parentVal);
  for (var key$1 in childVal) {
    var parent = ret[key$1];
    var child = childVal[key$1];
    if (parent && !Array.isArray(parent)) {
      parent = [parent];
    }
    ret[key$1] = parent
      ? parent.concat(child)
      : Array.isArray(child) ? child : [child];
  }
  return ret
};

/**
 * Other object hashes.
 */
strats.props =
strats.methods =
strats.inject =
strats.computed = function (
  parentVal,
  childVal,
  vm,
  key
) {
  if (childVal && "production" !== 'production') {
    assertObjectType(key, childVal, vm);
  }
  if (!parentVal) { return childVal }
  var ret = Object.create(null);
  extend(ret, parentVal);
  if (childVal) { extend(ret, childVal); }
  return ret
};
strats.provide = mergeDataOrFn;

/**
 * Default strategy.
 */
var defaultStrat = function (parentVal, childVal) {
  return childVal === undefined
    ? parentVal
    : childVal
};

/**
 * Validate component names
 */
function checkComponents (options) {
  for (var key in options.components) {
    validateComponentName(key);
  }
}

function validateComponentName (name) {
  if (!/^[a-zA-Z][\w-]*$/.test(name)) {
    warn(
      'Invalid component name: "' + name + '". Component names ' +
      'can only contain alphanumeric characters and the hyphen, ' +
      'and must start with a letter.'
    );
  }
  if (isBuiltInTag(name) || config.isReservedTag(name)) {
    warn(
      'Do not use built-in or reserved HTML elements as component ' +
      'id: ' + name
    );
  }
}

/**
 * Ensure all props option syntax are normalized into the
 * Object-based format.
 */
function normalizeProps (options, vm) {
  var props = options.props;
  if (!props) { return }
  var res = {};
  var i, val, name;
  if (Array.isArray(props)) {
    i = props.length;
    while (i--) {
      val = props[i];
      if (typeof val === 'string') {
        name = camelize(val);
        res[name] = { type: null };
      } else if (false) {}
    }
  } else if (isPlainObject(props)) {
    for (var key in props) {
      val = props[key];
      name = camelize(key);
      res[name] = isPlainObject(val)
        ? val
        : { type: val };
    }
  } else if (false) {}
  options.props = res;
}

/**
 * Normalize all injections into Object-based format
 */
function normalizeInject (options, vm) {
  var inject = options.inject;
  if (!inject) { return }
  var normalized = options.inject = {};
  if (Array.isArray(inject)) {
    for (var i = 0; i < inject.length; i++) {
      normalized[inject[i]] = { from: inject[i] };
    }
  } else if (isPlainObject(inject)) {
    for (var key in inject) {
      var val = inject[key];
      normalized[key] = isPlainObject(val)
        ? extend({ from: key }, val)
        : { from: val };
    }
  } else if (false) {}
}

/**
 * Normalize raw function directives into object format.
 */
function normalizeDirectives (options) {
  var dirs = options.directives;
  if (dirs) {
    for (var key in dirs) {
      var def = dirs[key];
      if (typeof def === 'function') {
        dirs[key] = { bind: def, update: def };
      }
    }
  }
}

function assertObjectType (name, value, vm) {
  if (!isPlainObject(value)) {
    warn(
      "Invalid value for option \"" + name + "\": expected an Object, " +
      "but got " + (toRawType(value)) + ".",
      vm
    );
  }
}

/**
 * Merge two option objects into a new one.
 * Core utility used in both instantiation and inheritance.
 */
function mergeOptions (
  parent,
  child,
  vm
) {
  if (false) {}

  if (typeof child === 'function') {
    child = child.options;
  }

  normalizeProps(child, vm);
  normalizeInject(child, vm);
  normalizeDirectives(child);

  // Apply extends and mixins on the child options,
  // but only if it is a raw options object that isn't
  // the result of another mergeOptions call.
  // Only merged options has the _base property.
  if (!child._base) {
    if (child.extends) {
      parent = mergeOptions(parent, child.extends, vm);
    }
    if (child.mixins) {
      for (var i = 0, l = child.mixins.length; i < l; i++) {
        parent = mergeOptions(parent, child.mixins[i], vm);
      }
    }
  }

  var options = {};
  var key;
  for (key in parent) {
    mergeField(key);
  }
  for (key in child) {
    if (!hasOwn(parent, key)) {
      mergeField(key);
    }
  }
  function mergeField (key) {
    var strat = strats[key] || defaultStrat;
    options[key] = strat(parent[key], child[key], vm, key);
  }
  return options
}

/**
 * Resolve an asset.
 * This function is used because child instances need access
 * to assets defined in its ancestor chain.
 */
function resolveAsset (
  options,
  type,
  id,
  warnMissing
) {
  /* istanbul ignore if */
  if (typeof id !== 'string') {
    return
  }
  var assets = options[type];
  // check local registration variations first
  if (hasOwn(assets, id)) { return assets[id] }
  var camelizedId = camelize(id);
  if (hasOwn(assets, camelizedId)) { return assets[camelizedId] }
  var PascalCaseId = capitalize(camelizedId);
  if (hasOwn(assets, PascalCaseId)) { return assets[PascalCaseId] }
  // fallback to prototype chain
  var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];
  if (false) {}
  return res
}

/*  */



function validateProp (
  key,
  propOptions,
  propsData,
  vm
) {
  var prop = propOptions[key];
  var absent = !hasOwn(propsData, key);
  var value = propsData[key];
  // boolean casting
  var booleanIndex = getTypeIndex(Boolean, prop.type);
  if (booleanIndex > -1) {
    if (absent && !hasOwn(prop, 'default')) {
      value = false;
    } else if (value === '' || value === hyphenate(key)) {
      // only cast empty string / same name to boolean if
      // boolean has higher priority
      var stringIndex = getTypeIndex(String, prop.type);
      if (stringIndex < 0 || booleanIndex < stringIndex) {
        value = true;
      }
    }
  }
  // check default value
  if (value === undefined) {
    value = getPropDefaultValue(vm, prop, key);
    // since the default value is a fresh copy,
    // make sure to observe it.
    var prevShouldObserve = shouldObserve;
    toggleObserving(true);
    observe(value);
    toggleObserving(prevShouldObserve);
  }
  if (
    false
  ) {}
  return value
}

/**
 * Get the default value of a prop.
 */
function getPropDefaultValue (vm, prop, key) {
  // no default, return undefined
  if (!hasOwn(prop, 'default')) {
    return undefined
  }
  var def = prop.default;
  // warn against non-factory defaults for Object & Array
  if (false) {}
  // the raw prop value was also undefined from previous render,
  // return previous default value to avoid unnecessary watcher trigger
  if (vm && vm.$options.propsData &&
    vm.$options.propsData[key] === undefined &&
    vm._props[key] !== undefined
  ) {
    return vm._props[key]
  }
  // call factory function for non-Function types
  // a value is Function if its prototype is function even across different execution context
  return typeof def === 'function' && getType(prop.type) !== 'Function'
    ? def.call(vm)
    : def
}

/**
 * Assert whether a prop is valid.
 */
function assertProp (
  prop,
  name,
  value,
  vm,
  absent
) {
  if (prop.required && absent) {
    warn(
      'Missing required prop: "' + name + '"',
      vm
    );
    return
  }
  if (value == null && !prop.required) {
    return
  }
  var type = prop.type;
  var valid = !type || type === true;
  var expectedTypes = [];
  if (type) {
    if (!Array.isArray(type)) {
      type = [type];
    }
    for (var i = 0; i < type.length && !valid; i++) {
      var assertedType = assertType(value, type[i]);
      expectedTypes.push(assertedType.expectedType || '');
      valid = assertedType.valid;
    }
  }

  if (!valid) {
    warn(
      getInvalidTypeMessage(name, value, expectedTypes),
      vm
    );
    return
  }
  var validator = prop.validator;
  if (validator) {
    if (!validator(value)) {
      warn(
        'Invalid prop: custom validator check failed for prop "' + name + '".',
        vm
      );
    }
  }
}

var simpleCheckRE = /^(String|Number|Boolean|Function|Symbol)$/;

function assertType (value, type) {
  var valid;
  var expectedType = getType(type);
  if (simpleCheckRE.test(expectedType)) {
    var t = typeof value;
    valid = t === expectedType.toLowerCase();
    // for primitive wrapper objects
    if (!valid && t === 'object') {
      valid = value instanceof type;
    }
  } else if (expectedType === 'Object') {
    valid = isPlainObject(value);
  } else if (expectedType === 'Array') {
    valid = Array.isArray(value);
  } else {
    valid = value instanceof type;
  }
  return {
    valid: valid,
    expectedType: expectedType
  }
}

/**
 * Use function string name to check built-in types,
 * because a simple equality check will fail when running
 * across different vms / iframes.
 */
function getType (fn) {
  var match = fn && fn.toString().match(/^\s*function (\w+)/);
  return match ? match[1] : ''
}

function isSameType (a, b) {
  return getType(a) === getType(b)
}

function getTypeIndex (type, expectedTypes) {
  if (!Array.isArray(expectedTypes)) {
    return isSameType(expectedTypes, type) ? 0 : -1
  }
  for (var i = 0, len = expectedTypes.length; i < len; i++) {
    if (isSameType(expectedTypes[i], type)) {
      return i
    }
  }
  return -1
}

function getInvalidTypeMessage (name, value, expectedTypes) {
  var message = "Invalid prop: type check failed for prop \"" + name + "\"." +
    " Expected " + (expectedTypes.map(capitalize).join(', '));
  var expectedType = expectedTypes[0];
  var receivedType = toRawType(value);
  var expectedValue = styleValue(value, expectedType);
  var receivedValue = styleValue(value, receivedType);
  // check if we need to specify expected value
  if (expectedTypes.length === 1 &&
      isExplicable(expectedType) &&
      !isBoolean(expectedType, receivedType)) {
    message += " with value " + expectedValue;
  }
  message += ", got " + receivedType + " ";
  // check if we need to specify received value
  if (isExplicable(receivedType)) {
    message += "with value " + receivedValue + ".";
  }
  return message
}

function styleValue (value, type) {
  if (type === 'String') {
    return ("\"" + value + "\"")
  } else if (type === 'Number') {
    return ("" + (Number(value)))
  } else {
    return ("" + value)
  }
}

function isExplicable (value) {
  var explicitTypes = ['string', 'number', 'boolean'];
  return explicitTypes.some(function (elem) { return value.toLowerCase() === elem; })
}

function isBoolean () {
  var args = [], len = arguments.length;
  while ( len-- ) args[ len ] = arguments[ len ];

  return args.some(function (elem) { return elem.toLowerCase() === 'boolean'; })
}

/*  */

function handleError (err, vm, info) {
  if (vm) {
    var cur = vm;
    while ((cur = cur.$parent)) {
      var hooks = cur.$options.errorCaptured;
      if (hooks) {
        for (var i = 0; i < hooks.length; i++) {
          try {
            var capture = hooks[i].call(cur, err, vm, info) === false;
            if (capture) { return }
          } catch (e) {
            globalHandleError(e, cur, 'errorCaptured hook');
          }
        }
      }
    }
  }
  globalHandleError(err, vm, info);
}

function globalHandleError (err, vm, info) {
  if (config.errorHandler) {
    try {
      return config.errorHandler.call(null, err, vm, info)
    } catch (e) {
      logError(e, null, 'config.errorHandler');
    }
  }
  logError(err, vm, info);
}

function logError (err, vm, info) {
  if (false) {}
  /* istanbul ignore else */
  if ((inBrowser || inWeex) && typeof console !== 'undefined') {
    console.error(err);
  } else {
    throw err
  }
}

/*  */

var callbacks = [];
var pending = false;

function flushCallbacks () {
  pending = false;
  var copies = callbacks.slice(0);
  callbacks.length = 0;
  for (var i = 0; i < copies.length; i++) {
    copies[i]();
  }
}

// Here we have async deferring wrappers using both microtasks and (macro) tasks.
// In < 2.4 we used microtasks everywhere, but there are some scenarios where
// microtasks have too high a priority and fire in between supposedly
// sequential events (e.g. #4521, #6690) or even between bubbling of the same
// event (#6566). However, using (macro) tasks everywhere also has subtle problems
// when state is changed right before repaint (e.g. #6813, out-in transitions).
// Here we use microtask by default, but expose a way to force (macro) task when
// needed (e.g. in event handlers attached by v-on).
var microTimerFunc;
var macroTimerFunc;
var useMacroTask = false;

// Determine (macro) task defer implementation.
// Technically setImmediate should be the ideal choice, but it's only available
// in IE. The only polyfill that consistently queues the callback after all DOM
// events triggered in the same loop is by using MessageChannel.
/* istanbul ignore if */
if (typeof setImmediate !== 'undefined' && isNative(setImmediate)) {
  macroTimerFunc = function () {
    setImmediate(flushCallbacks);
  };
} else if (typeof MessageChannel !== 'undefined' && (
  isNative(MessageChannel) ||
  // PhantomJS
  MessageChannel.toString() === '[object MessageChannelConstructor]'
)) {
  var channel = new MessageChannel();
  var port = channel.port2;
  channel.port1.onmessage = flushCallbacks;
  macroTimerFunc = function () {
    port.postMessage(1);
  };
} else {
  /* istanbul ignore next */
  macroTimerFunc = function () {
    setTimeout(flushCallbacks, 0);
  };
}

// Determine microtask defer implementation.
/* istanbul ignore next, $flow-disable-line */
if (typeof Promise !== 'undefined' && isNative(Promise)) {
  var p = Promise.resolve();
  microTimerFunc = function () {
    p.then(flushCallbacks);
    // in problematic UIWebViews, Promise.then doesn't completely break, but
    // it can get stuck in a weird state where callbacks are pushed into the
    // microtask queue but the queue isn't being flushed, until the browser
    // needs to do some other work, e.g. handle a timer. Therefore we can
    // "force" the microtask queue to be flushed by adding an empty timer.
    if (isIOS) { setTimeout(noop); }
  };
} else {
  // fallback to macro
  microTimerFunc = macroTimerFunc;
}

/**
 * Wrap a function so that if any code inside triggers state change,
 * the changes are queued using a (macro) task instead of a microtask.
 */
function withMacroTask (fn) {
  return fn._withTask || (fn._withTask = function () {
    useMacroTask = true;
    try {
      return fn.apply(null, arguments)
    } finally {
      useMacroTask = false;    
    }
  })
}

function nextTick (cb, ctx) {
  var _resolve;
  callbacks.push(function () {
    if (cb) {
      try {
        cb.call(ctx);
      } catch (e) {
        handleError(e, ctx, 'nextTick');
      }
    } else if (_resolve) {
      _resolve(ctx);
    }
  });
  if (!pending) {
    pending = true;
    if (useMacroTask) {
      macroTimerFunc();
    } else {
      microTimerFunc();
    }
  }
  // $flow-disable-line
  if (!cb && typeof Promise !== 'undefined') {
    return new Promise(function (resolve) {
      _resolve = resolve;
    })
  }
}

/*  */

var mark;
var measure;

if (false) { var perf; }

/* not type checking this file because flow doesn't play well with Proxy */

var initProxy;

if (false) { var getHandler, hasHandler, isBuiltInModifier, hasProxy, warnReservedPrefix, warnNonPresent, allowedGlobals; }

/*  */

var seenObjects = new _Set();

/**
 * Recursively traverse an object to evoke all converted
 * getters, so that every nested property inside the object
 * is collected as a "deep" dependency.
 */
function traverse (val) {
  _traverse(val, seenObjects);
  seenObjects.clear();
}

function _traverse (val, seen) {
  var i, keys;
  var isA = Array.isArray(val);
  if ((!isA && !isObject(val)) || Object.isFrozen(val) || val instanceof VNode) {
    return
  }
  if (val.__ob__) {
    var depId = val.__ob__.dep.id;
    if (seen.has(depId)) {
      return
    }
    seen.add(depId);
  }
  if (isA) {
    i = val.length;
    while (i--) { _traverse(val[i], seen); }
  } else {
    keys = Object.keys(val);
    i = keys.length;
    while (i--) { _traverse(val[keys[i]], seen); }
  }
}

/*  */

var normalizeEvent = cached(function (name) {
  var passive = name.charAt(0) === '&';
  name = passive ? name.slice(1) : name;
  var once$$1 = name.charAt(0) === '~'; // Prefixed last, checked first
  name = once$$1 ? name.slice(1) : name;
  var capture = name.charAt(0) === '!';
  name = capture ? name.slice(1) : name;
  return {
    name: name,
    once: once$$1,
    capture: capture,
    passive: passive
  }
});

function createFnInvoker (fns) {
  function invoker () {
    var arguments$1 = arguments;

    var fns = invoker.fns;
    if (Array.isArray(fns)) {
      var cloned = fns.slice();
      for (var i = 0; i < cloned.length; i++) {
        cloned[i].apply(null, arguments$1);
      }
    } else {
      // return handler return value for single handlers
      return fns.apply(null, arguments)
    }
  }
  invoker.fns = fns;
  return invoker
}

function updateListeners (
  on,
  oldOn,
  add,
  remove$$1,
  createOnceHandler,
  vm
) {
  var name, def$$1, cur, old, event;
  for (name in on) {
    def$$1 = cur = on[name];
    old = oldOn[name];
    event = normalizeEvent(name);
    if (isUndef(cur)) {
       false && false;
    } else if (isUndef(old)) {
      if (isUndef(cur.fns)) {
        cur = on[name] = createFnInvoker(cur);
      }
      if (isTrue(event.once)) {
        cur = on[name] = createOnceHandler(event.name, cur, event.capture);
      }
      add(event.name, cur, event.capture, event.passive, event.params);
    } else if (cur !== old) {
      old.fns = cur;
      on[name] = old;
    }
  }
  for (name in oldOn) {
    if (isUndef(on[name])) {
      event = normalizeEvent(name);
      remove$$1(event.name, oldOn[name], event.capture);
    }
  }
}

/*  */

function mergeVNodeHook (def, hookKey, hook) {
  if (def instanceof VNode) {
    def = def.data.hook || (def.data.hook = {});
  }
  var invoker;
  var oldHook = def[hookKey];

  function wrappedHook () {
    hook.apply(this, arguments);
    // important: remove merged hook to ensure it's called only once
    // and prevent memory leak
    remove(invoker.fns, wrappedHook);
  }

  if (isUndef(oldHook)) {
    // no existing hook
    invoker = createFnInvoker([wrappedHook]);
  } else {
    /* istanbul ignore if */
    if (isDef(oldHook.fns) && isTrue(oldHook.merged)) {
      // already a merged invoker
      invoker = oldHook;
      invoker.fns.push(wrappedHook);
    } else {
      // existing plain hook
      invoker = createFnInvoker([oldHook, wrappedHook]);
    }
  }

  invoker.merged = true;
  def[hookKey] = invoker;
}

/*  */

function extractPropsFromVNodeData (
  data,
  Ctor,
  tag
) {
  // we are only extracting raw values here.
  // validation and default values are handled in the child
  // component itself.
  var propOptions = Ctor.options.props;
  if (isUndef(propOptions)) {
    return
  }
  var res = {};
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) {
    for (var key in propOptions) {
      var altKey = hyphenate(key);
      if (false) { var keyInLowerCase; }
      checkProp(res, props, key, altKey, true) ||
      checkProp(res, attrs, key, altKey, false);
    }
  }
  return res
}

function checkProp (
  res,
  hash,
  key,
  altKey,
  preserve
) {
  if (isDef(hash)) {
    if (hasOwn(hash, key)) {
      res[key] = hash[key];
      if (!preserve) {
        delete hash[key];
      }
      return true
    } else if (hasOwn(hash, altKey)) {
      res[key] = hash[altKey];
      if (!preserve) {
        delete hash[altKey];
      }
      return true
    }
  }
  return false
}

/*  */

// The template compiler attempts to minimize the need for normalization by
// statically analyzing the template at compile time.
//
// For plain HTML markup, normalization can be completely skipped because the
// generated render function is guaranteed to return Array<VNode>. There are
// two cases where extra normalization is needed:

// 1. When the children contains components - because a functional component
// may return an Array instead of a single root. In this case, just a simple
// normalization is needed - if any child is an Array, we flatten the whole
// thing with Array.prototype.concat. It is guaranteed to be only 1-level deep
// because functional components already normalize their own children.
function simpleNormalizeChildren (children) {
  for (var i = 0; i < children.length; i++) {
    if (Array.isArray(children[i])) {
      return Array.prototype.concat.apply([], children)
    }
  }
  return children
}

// 2. When the children contains constructs that always generated nested Arrays,
// e.g. <template>, <slot>, v-for, or when the children is provided by user
// with hand-written render functions / JSX. In such cases a full normalization
// is needed to cater to all possible types of children values.
function normalizeChildren (children) {
  return isPrimitive(children)
    ? [createTextVNode(children)]
    : Array.isArray(children)
      ? normalizeArrayChildren(children)
      : undefined
}

function isTextNode (node) {
  return isDef(node) && isDef(node.text) && isFalse(node.isComment)
}

function normalizeArrayChildren (children, nestedIndex) {
  var res = [];
  var i, c, lastIndex, last;
  for (i = 0; i < children.length; i++) {
    c = children[i];
    if (isUndef(c) || typeof c === 'boolean') { continue }
    lastIndex = res.length - 1;
    last = res[lastIndex];
    //  nested
    if (Array.isArray(c)) {
      if (c.length > 0) {
        c = normalizeArrayChildren(c, ((nestedIndex || '') + "_" + i));
        // merge adjacent text nodes
        if (isTextNode(c[0]) && isTextNode(last)) {
          res[lastIndex] = createTextVNode(last.text + (c[0]).text);
          c.shift();
        }
        res.push.apply(res, c);
      }
    } else if (isPrimitive(c)) {
      if (isTextNode(last)) {
        // merge adjacent text nodes
        // this is necessary for SSR hydration because text nodes are
        // essentially merged when rendered to HTML strings
        res[lastIndex] = createTextVNode(last.text + c);
      } else if (c !== '') {
        // convert primitive to vnode
        res.push(createTextVNode(c));
      }
    } else {
      if (isTextNode(c) && isTextNode(last)) {
        // merge adjacent text nodes
        res[lastIndex] = createTextVNode(last.text + c.text);
      } else {
        // default key for nested array children (likely generated by v-for)
        if (isTrue(children._isVList) &&
          isDef(c.tag) &&
          isUndef(c.key) &&
          isDef(nestedIndex)) {
          c.key = "__vlist" + nestedIndex + "_" + i + "__";
        }
        res.push(c);
      }
    }
  }
  return res
}

/*  */

function ensureCtor (comp, base) {
  if (
    comp.__esModule ||
    (hasSymbol && comp[Symbol.toStringTag] === 'Module')
  ) {
    comp = comp.default;
  }
  return isObject(comp)
    ? base.extend(comp)
    : comp
}

function createAsyncPlaceholder (
  factory,
  data,
  context,
  children,
  tag
) {
  var node = createEmptyVNode();
  node.asyncFactory = factory;
  node.asyncMeta = { data: data, context: context, children: children, tag: tag };
  return node
}

function resolveAsyncComponent (
  factory,
  baseCtor,
  context
) {
  if (isTrue(factory.error) && isDef(factory.errorComp)) {
    return factory.errorComp
  }

  if (isDef(factory.resolved)) {
    return factory.resolved
  }

  if (isTrue(factory.loading) && isDef(factory.loadingComp)) {
    return factory.loadingComp
  }

  if (isDef(factory.contexts)) {
    // already pending
    factory.contexts.push(context);
  } else {
    var contexts = factory.contexts = [context];
    var sync = true;

    var forceRender = function (renderCompleted) {
      for (var i = 0, l = contexts.length; i < l; i++) {
        contexts[i].$forceUpdate();
      }

      if (renderCompleted) {
        contexts.length = 0;
      }
    };

    var resolve = once(function (res) {
      // cache resolved
      factory.resolved = ensureCtor(res, baseCtor);
      // invoke callbacks only if this is not a synchronous resolve
      // (async resolves are shimmed as synchronous during SSR)
      if (!sync) {
        forceRender(true);
      } else {
        contexts.length = 0;
      }
    });

    var reject = once(function (reason) {
       false && false;
      if (isDef(factory.errorComp)) {
        factory.error = true;
        forceRender(true);
      }
    });

    var res = factory(resolve, reject);

    if (isObject(res)) {
      if (typeof res.then === 'function') {
        // () => Promise
        if (isUndef(factory.resolved)) {
          res.then(resolve, reject);
        }
      } else if (isDef(res.component) && typeof res.component.then === 'function') {
        res.component.then(resolve, reject);

        if (isDef(res.error)) {
          factory.errorComp = ensureCtor(res.error, baseCtor);
        }

        if (isDef(res.loading)) {
          factory.loadingComp = ensureCtor(res.loading, baseCtor);
          if (res.delay === 0) {
            factory.loading = true;
          } else {
            setTimeout(function () {
              if (isUndef(factory.resolved) && isUndef(factory.error)) {
                factory.loading = true;
                forceRender(false);
              }
            }, res.delay || 200);
          }
        }

        if (isDef(res.timeout)) {
          setTimeout(function () {
            if (isUndef(factory.resolved)) {
              reject(
                 false
                  ? (undefined)
                  : null
              );
            }
          }, res.timeout);
        }
      }
    }

    sync = false;
    // return in case resolved synchronously
    return factory.loading
      ? factory.loadingComp
      : factory.resolved
  }
}

/*  */

function isAsyncPlaceholder (node) {
  return node.isComment && node.asyncFactory
}

/*  */

function getFirstComponentChild (children) {
  if (Array.isArray(children)) {
    for (var i = 0; i < children.length; i++) {
      var c = children[i];
      if (isDef(c) && (isDef(c.componentOptions) || isAsyncPlaceholder(c))) {
        return c
      }
    }
  }
}

/*  */

/*  */

function initEvents (vm) {
  vm._events = Object.create(null);
  vm._hasHookEvent = false;
  // init parent attached events
  var listeners = vm.$options._parentListeners;
  if (listeners) {
    updateComponentListeners(vm, listeners);
  }
}

var target;

function add (event, fn) {
  target.$on(event, fn);
}

function remove$1 (event, fn) {
  target.$off(event, fn);
}

function createOnceHandler (event, fn) {
  var _target = target;
  return function onceHandler () {
    var res = fn.apply(null, arguments);
    if (res !== null) {
      _target.$off(event, onceHandler);
    }
  }
}

function updateComponentListeners (
  vm,
  listeners,
  oldListeners
) {
  target = vm;
  updateListeners(listeners, oldListeners || {}, add, remove$1, createOnceHandler, vm);
  target = undefined;
}

function eventsMixin (Vue) {
  var hookRE = /^hook:/;
  Vue.prototype.$on = function (event, fn) {
    var vm = this;
    if (Array.isArray(event)) {
      for (var i = 0, l = event.length; i < l; i++) {
        vm.$on(event[i], fn);
      }
    } else {
      (vm._events[event] || (vm._events[event] = [])).push(fn);
      // optimize hook:event cost by using a boolean flag marked at registration
      // instead of a hash lookup
      if (hookRE.test(event)) {
        vm._hasHookEvent = true;
      }
    }
    return vm
  };

  Vue.prototype.$once = function (event, fn) {
    var vm = this;
    function on () {
      vm.$off(event, on);
      fn.apply(vm, arguments);
    }
    on.fn = fn;
    vm.$on(event, on);
    return vm
  };

  Vue.prototype.$off = function (event, fn) {
    var vm = this;
    // all
    if (!arguments.length) {
      vm._events = Object.create(null);
      return vm
    }
    // array of events
    if (Array.isArray(event)) {
      for (var i$1 = 0, l = event.length; i$1 < l; i$1++) {
        vm.$off(event[i$1], fn);
      }
      return vm
    }
    // specific event
    var cbs = vm._events[event];
    if (!cbs) {
      return vm
    }
    if (!fn) {
      vm._events[event] = null;
      return vm
    }
    // specific handler
    var cb;
    var i = cbs.length;
    while (i--) {
      cb = cbs[i];
      if (cb === fn || cb.fn === fn) {
        cbs.splice(i, 1);
        break
      }
    }
    return vm
  };

  Vue.prototype.$emit = function (event) {
    var vm = this;
    if (false) { var lowerCaseEvent; }
    var cbs = vm._events[event];
    if (cbs) {
      cbs = cbs.length > 1 ? toArray(cbs) : cbs;
      var args = toArray(arguments, 1);
      for (var i = 0, l = cbs.length; i < l; i++) {
        try {
          cbs[i].apply(vm, args);
        } catch (e) {
          handleError(e, vm, ("event handler for \"" + event + "\""));
        }
      }
    }
    return vm
  };
}

/*  */



/**
 * Runtime helper for resolving raw children VNodes into a slot object.
 */
function resolveSlots (
  children,
  context
) {
  var slots = {};
  if (!children) {
    return slots
  }
  for (var i = 0, l = children.length; i < l; i++) {
    var child = children[i];
    var data = child.data;
    // remove slot attribute if the node is resolved as a Vue slot node
    if (data && data.attrs && data.attrs.slot) {
      delete data.attrs.slot;
    }
    // named slots should only be respected if the vnode was rendered in the
    // same context.
    if ((child.context === context || child.fnContext === context) &&
      data && data.slot != null
    ) {
      var name = data.slot;
      var slot = (slots[name] || (slots[name] = []));
      if (child.tag === 'template') {
        slot.push.apply(slot, child.children || []);
      } else {
        slot.push(child);
      }
    } else {
      (slots.default || (slots.default = [])).push(child);
    }
  }
  // ignore slots that contains only whitespace
  for (var name$1 in slots) {
    if (slots[name$1].every(isWhitespace)) {
      delete slots[name$1];
    }
  }
  return slots
}

function isWhitespace (node) {
  return (node.isComment && !node.asyncFactory) || node.text === ' '
}

function resolveScopedSlots (
  fns, // see flow/vnode
  res
) {
  res = res || {};
  for (var i = 0; i < fns.length; i++) {
    if (Array.isArray(fns[i])) {
      resolveScopedSlots(fns[i], res);
    } else {
      res[fns[i].key] = fns[i].fn;
    }
  }
  return res
}

/*  */

var activeInstance = null;
var isUpdatingChildComponent = false;

function setActiveInstance(vm) {
  var prevActiveInstance = activeInstance;
  activeInstance = vm;
  return function () {
    activeInstance = prevActiveInstance;
  }
}

function initLifecycle (vm) {
  var options = vm.$options;

  // locate first non-abstract parent
  var parent = options.parent;
  if (parent && !options.abstract) {
    while (parent.$options.abstract && parent.$parent) {
      parent = parent.$parent;
    }
    parent.$children.push(vm);
  }

  vm.$parent = parent;
  vm.$root = parent ? parent.$root : vm;

  vm.$children = [];
  vm.$refs = {};

  vm._watcher = null;
  vm._inactive = null;
  vm._directInactive = false;
  vm._isMounted = false;
  vm._isDestroyed = false;
  vm._isBeingDestroyed = false;
}

function lifecycleMixin (Vue) {
  Vue.prototype._update = function (vnode, hydrating) {
    var vm = this;
    var prevEl = vm.$el;
    var prevVnode = vm._vnode;
    var restoreActiveInstance = setActiveInstance(vm);
    vm._vnode = vnode;
    // Vue.prototype.__patch__ is injected in entry points
    // based on the rendering backend used.
    if (!prevVnode) {
      // initial render
      vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false /* removeOnly */);
    } else {
      // updates
      vm.$el = vm.__patch__(prevVnode, vnode);
    }
    restoreActiveInstance();
    // update __vue__ reference
    if (prevEl) {
      prevEl.__vue__ = null;
    }
    if (vm.$el) {
      vm.$el.__vue__ = vm;
    }
    // if parent is an HOC, update its $el as well
    if (vm.$vnode && vm.$parent && vm.$vnode === vm.$parent._vnode) {
      vm.$parent.$el = vm.$el;
    }
    // updated hook is called by the scheduler to ensure that children are
    // updated in a parent's updated hook.
  };

  Vue.prototype.$forceUpdate = function () {
    var vm = this;
    if (vm._watcher) {
      vm._watcher.update();
    }
  };

  Vue.prototype.$destroy = function () {
    var vm = this;
    if (vm._isBeingDestroyed) {
      return
    }
    callHook(vm, 'beforeDestroy');
    vm._isBeingDestroyed = true;
    // remove self from parent
    var parent = vm.$parent;
    if (parent && !parent._isBeingDestroyed && !vm.$options.abstract) {
      remove(parent.$children, vm);
    }
    // teardown watchers
    if (vm._watcher) {
      vm._watcher.teardown();
    }
    var i = vm._watchers.length;
    while (i--) {
      vm._watchers[i].teardown();
    }
    // remove reference from data ob
    // frozen object may not have observer.
    if (vm._data.__ob__) {
      vm._data.__ob__.vmCount--;
    }
    // call the last hook...
    vm._isDestroyed = true;
    // invoke destroy hooks on current rendered tree
    vm.__patch__(vm._vnode, null);
    // fire destroyed hook
    callHook(vm, 'destroyed');
    // turn off all instance listeners.
    vm.$off();
    // remove __vue__ reference
    if (vm.$el) {
      vm.$el.__vue__ = null;
    }
    // release circular reference (#6759)
    if (vm.$vnode) {
      vm.$vnode.parent = null;
    }
  };
}

function mountComponent (
  vm,
  el,
  hydrating
) {
  vm.$el = el;
  if (!vm.$options.render) {
    vm.$options.render = createEmptyVNode;
    if (false) {}
  }
  callHook(vm, 'beforeMount');

  var updateComponent;
  /* istanbul ignore if */
  if (false) {} else {
    updateComponent = function () {
      vm._update(vm._render(), hydrating);
    };
  }

  // we set this to vm._watcher inside the watcher's constructor
  // since the watcher's initial patch may call $forceUpdate (e.g. inside child
  // component's mounted hook), which relies on vm._watcher being already defined
  new Watcher(vm, updateComponent, noop, {
    before: function before () {
      if (vm._isMounted && !vm._isDestroyed) {
        callHook(vm, 'beforeUpdate');
      }
    }
  }, true /* isRenderWatcher */);
  hydrating = false;

  // manually mounted instance, call mounted on self
  // mounted is called for render-created child components in its inserted hook
  if (vm.$vnode == null) {
    vm._isMounted = true;
    callHook(vm, 'mounted');
  }
  return vm
}

function updateChildComponent (
  vm,
  propsData,
  listeners,
  parentVnode,
  renderChildren
) {
  if (false) {}

  // determine whether component has slot children
  // we need to do this before overwriting $options._renderChildren
  var hasChildren = !!(
    renderChildren ||               // has new static slots
    vm.$options._renderChildren ||  // has old static slots
    parentVnode.data.scopedSlots || // has new scoped slots
    vm.$scopedSlots !== emptyObject // has old scoped slots
  );

  vm.$options._parentVnode = parentVnode;
  vm.$vnode = parentVnode; // update vm's placeholder node without re-render

  if (vm._vnode) { // update child tree's parent
    vm._vnode.parent = parentVnode;
  }
  vm.$options._renderChildren = renderChildren;

  // update $attrs and $listeners hash
  // these are also reactive so they may trigger child update if the child
  // used them during render
  vm.$attrs = parentVnode.data.attrs || emptyObject;
  vm.$listeners = listeners || emptyObject;

  // update props
  if (propsData && vm.$options.props) {
    toggleObserving(false);
    var props = vm._props;
    var propKeys = vm.$options._propKeys || [];
    for (var i = 0; i < propKeys.length; i++) {
      var key = propKeys[i];
      var propOptions = vm.$options.props; // wtf flow?
      props[key] = validateProp(key, propOptions, propsData, vm);
    }
    toggleObserving(true);
    // keep a copy of raw propsData
    vm.$options.propsData = propsData;
  }

  // update listeners
  listeners = listeners || emptyObject;
  var oldListeners = vm.$options._parentListeners;
  vm.$options._parentListeners = listeners;
  updateComponentListeners(vm, listeners, oldListeners);

  // resolve slots + force update if has children
  if (hasChildren) {
    vm.$slots = resolveSlots(renderChildren, parentVnode.context);
    vm.$forceUpdate();
  }

  if (false) {}
}

function isInInactiveTree (vm) {
  while (vm && (vm = vm.$parent)) {
    if (vm._inactive) { return true }
  }
  return false
}

function activateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = false;
    if (isInInactiveTree(vm)) {
      return
    }
  } else if (vm._directInactive) {
    return
  }
  if (vm._inactive || vm._inactive === null) {
    vm._inactive = false;
    for (var i = 0; i < vm.$children.length; i++) {
      activateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'activated');
  }
}

function deactivateChildComponent (vm, direct) {
  if (direct) {
    vm._directInactive = true;
    if (isInInactiveTree(vm)) {
      return
    }
  }
  if (!vm._inactive) {
    vm._inactive = true;
    for (var i = 0; i < vm.$children.length; i++) {
      deactivateChildComponent(vm.$children[i]);
    }
    callHook(vm, 'deactivated');
  }
}

function callHook (vm, hook) {
  // #7573 disable dep collection when invoking lifecycle hooks
  pushTarget();
  var handlers = vm.$options[hook];
  if (handlers) {
    for (var i = 0, j = handlers.length; i < j; i++) {
      try {
        handlers[i].call(vm);
      } catch (e) {
        handleError(e, vm, (hook + " hook"));
      }
    }
  }
  if (vm._hasHookEvent) {
    vm.$emit('hook:' + hook);
  }
  popTarget();
}

/*  */

var MAX_UPDATE_COUNT = 100;

var queue = [];
var activatedChildren = [];
var has = {};
var circular = {};
var waiting = false;
var flushing = false;
var index = 0;

/**
 * Reset the scheduler's state.
 */
function resetSchedulerState () {
  index = queue.length = activatedChildren.length = 0;
  has = {};
  if (false) {}
  waiting = flushing = false;
}

/**
 * Flush both queues and run the watchers.
 */
function flushSchedulerQueue () {
  flushing = true;
  var watcher, id;

  // Sort queue before flush.
  // This ensures that:
  // 1. Components are updated from parent to child. (because parent is always
  //    created before the child)
  // 2. A component's user watchers are run before its render watcher (because
  //    user watchers are created before the render watcher)
  // 3. If a component is destroyed during a parent component's watcher run,
  //    its watchers can be skipped.
  queue.sort(function (a, b) { return a.id - b.id; });

  // do not cache length because more watchers might be pushed
  // as we run existing watchers
  for (index = 0; index < queue.length; index++) {
    watcher = queue[index];
    if (watcher.before) {
      watcher.before();
    }
    id = watcher.id;
    has[id] = null;
    watcher.run();
    // in dev build, check and stop circular updates.
    if (false) {}
  }

  // keep copies of post queues before resetting state
  var activatedQueue = activatedChildren.slice();
  var updatedQueue = queue.slice();

  resetSchedulerState();

  // call component updated and activated hooks
  callActivatedHooks(activatedQueue);
  callUpdatedHooks(updatedQueue);

  // devtool hook
  /* istanbul ignore if */
  if (devtools && config.devtools) {
    devtools.emit('flush');
  }
}

function callUpdatedHooks (queue) {
  var i = queue.length;
  while (i--) {
    var watcher = queue[i];
    var vm = watcher.vm;
    if (vm._watcher === watcher && vm._isMounted && !vm._isDestroyed) {
      callHook(vm, 'updated');
    }
  }
}

/**
 * Queue a kept-alive component that was activated during patch.
 * The queue will be processed after the entire tree has been patched.
 */
function queueActivatedComponent (vm) {
  // setting _inactive to false here so that a render function can
  // rely on checking whether it's in an inactive tree (e.g. router-view)
  vm._inactive = false;
  activatedChildren.push(vm);
}

function callActivatedHooks (queue) {
  for (var i = 0; i < queue.length; i++) {
    queue[i]._inactive = true;
    activateChildComponent(queue[i], true /* true */);
  }
}

/**
 * Push a watcher into the watcher queue.
 * Jobs with duplicate IDs will be skipped unless it's
 * pushed when the queue is being flushed.
 */
function queueWatcher (watcher) {
  var id = watcher.id;
  if (has[id] == null) {
    has[id] = true;
    if (!flushing) {
      queue.push(watcher);
    } else {
      // if already flushing, splice the watcher based on its id
      // if already past its id, it will be run next immediately.
      var i = queue.length - 1;
      while (i > index && queue[i].id > watcher.id) {
        i--;
      }
      queue.splice(i + 1, 0, watcher);
    }
    // queue the flush
    if (!waiting) {
      waiting = true;

      if (false) {}
      nextTick(flushSchedulerQueue);
    }
  }
}

/*  */



var uid$1 = 0;

/**
 * A watcher parses an expression, collects dependencies,
 * and fires callback when the expression value changes.
 * This is used for both the $watch() api and directives.
 */
var Watcher = function Watcher (
  vm,
  expOrFn,
  cb,
  options,
  isRenderWatcher
) {
  this.vm = vm;
  if (isRenderWatcher) {
    vm._watcher = this;
  }
  vm._watchers.push(this);
  // options
  if (options) {
    this.deep = !!options.deep;
    this.user = !!options.user;
    this.lazy = !!options.lazy;
    this.sync = !!options.sync;
    this.before = options.before;
  } else {
    this.deep = this.user = this.lazy = this.sync = false;
  }
  this.cb = cb;
  this.id = ++uid$1; // uid for batching
  this.active = true;
  this.dirty = this.lazy; // for lazy watchers
  this.deps = [];
  this.newDeps = [];
  this.depIds = new _Set();
  this.newDepIds = new _Set();
  this.expression =  false
    ? undefined
    : '';
  // parse expression for getter
  if (typeof expOrFn === 'function') {
    this.getter = expOrFn;
  } else {
    this.getter = parsePath(expOrFn);
    if (!this.getter) {
      this.getter = noop;
       false && false;
    }
  }
  this.value = this.lazy
    ? undefined
    : this.get();
};

/**
 * Evaluate the getter, and re-collect dependencies.
 */
Watcher.prototype.get = function get () {
  pushTarget(this);
  var value;
  var vm = this.vm;
  try {
    value = this.getter.call(vm, vm);
  } catch (e) {
    if (this.user) {
      handleError(e, vm, ("getter for watcher \"" + (this.expression) + "\""));
    } else {
      throw e
    }
  } finally {
    // "touch" every property so they are all tracked as
    // dependencies for deep watching
    if (this.deep) {
      traverse(value);
    }
    popTarget();
    this.cleanupDeps();
  }
  return value
};

/**
 * Add a dependency to this directive.
 */
Watcher.prototype.addDep = function addDep (dep) {
  var id = dep.id;
  if (!this.newDepIds.has(id)) {
    this.newDepIds.add(id);
    this.newDeps.push(dep);
    if (!this.depIds.has(id)) {
      dep.addSub(this);
    }
  }
};

/**
 * Clean up for dependency collection.
 */
Watcher.prototype.cleanupDeps = function cleanupDeps () {
  var i = this.deps.length;
  while (i--) {
    var dep = this.deps[i];
    if (!this.newDepIds.has(dep.id)) {
      dep.removeSub(this);
    }
  }
  var tmp = this.depIds;
  this.depIds = this.newDepIds;
  this.newDepIds = tmp;
  this.newDepIds.clear();
  tmp = this.deps;
  this.deps = this.newDeps;
  this.newDeps = tmp;
  this.newDeps.length = 0;
};

/**
 * Subscriber interface.
 * Will be called when a dependency changes.
 */
Watcher.prototype.update = function update () {
  /* istanbul ignore else */
  if (this.lazy) {
    this.dirty = true;
  } else if (this.sync) {
    this.run();
  } else {
    queueWatcher(this);
  }
};

/**
 * Scheduler job interface.
 * Will be called by the scheduler.
 */
Watcher.prototype.run = function run () {
  if (this.active) {
    var value = this.get();
    if (
      value !== this.value ||
      // Deep watchers and watchers on Object/Arrays should fire even
      // when the value is the same, because the value may
      // have mutated.
      isObject(value) ||
      this.deep
    ) {
      // set new value
      var oldValue = this.value;
      this.value = value;
      if (this.user) {
        try {
          this.cb.call(this.vm, value, oldValue);
        } catch (e) {
          handleError(e, this.vm, ("callback for watcher \"" + (this.expression) + "\""));
        }
      } else {
        this.cb.call(this.vm, value, oldValue);
      }
    }
  }
};

/**
 * Evaluate the value of the watcher.
 * This only gets called for lazy watchers.
 */
Watcher.prototype.evaluate = function evaluate () {
  this.value = this.get();
  this.dirty = false;
};

/**
 * Depend on all deps collected by this watcher.
 */
Watcher.prototype.depend = function depend () {
  var i = this.deps.length;
  while (i--) {
    this.deps[i].depend();
  }
};

/**
 * Remove self from all dependencies' subscriber list.
 */
Watcher.prototype.teardown = function teardown () {
  if (this.active) {
    // remove self from vm's watcher list
    // this is a somewhat expensive operation so we skip it
    // if the vm is being destroyed.
    if (!this.vm._isBeingDestroyed) {
      remove(this.vm._watchers, this);
    }
    var i = this.deps.length;
    while (i--) {
      this.deps[i].removeSub(this);
    }
    this.active = false;
  }
};

/*  */

var sharedPropertyDefinition = {
  enumerable: true,
  configurable: true,
  get: noop,
  set: noop
};

function proxy (target, sourceKey, key) {
  sharedPropertyDefinition.get = function proxyGetter () {
    return this[sourceKey][key]
  };
  sharedPropertyDefinition.set = function proxySetter (val) {
    this[sourceKey][key] = val;
  };
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function initState (vm) {
  vm._watchers = [];
  var opts = vm.$options;
  if (opts.props) { initProps(vm, opts.props); }
  if (opts.methods) { initMethods(vm, opts.methods); }
  if (opts.data) {
    initData(vm);
  } else {
    observe(vm._data = {}, true /* asRootData */);
  }
  if (opts.computed) { initComputed(vm, opts.computed); }
  if (opts.watch && opts.watch !== nativeWatch) {
    initWatch(vm, opts.watch);
  }
}

function initProps (vm, propsOptions) {
  var propsData = vm.$options.propsData || {};
  var props = vm._props = {};
  // cache prop keys so that future props updates can iterate using Array
  // instead of dynamic object key enumeration.
  var keys = vm.$options._propKeys = [];
  var isRoot = !vm.$parent;
  // root instance props should be converted
  if (!isRoot) {
    toggleObserving(false);
  }
  var loop = function ( key ) {
    keys.push(key);
    var value = validateProp(key, propsOptions, propsData, vm);
    /* istanbul ignore else */
    if (false) { var hyphenatedKey; } else {
      defineReactive$$1(props, key, value);
    }
    // static props are already proxied on the component's prototype
    // during Vue.extend(). We only need to proxy props defined at
    // instantiation here.
    if (!(key in vm)) {
      proxy(vm, "_props", key);
    }
  };

  for (var key in propsOptions) loop( key );
  toggleObserving(true);
}

function initData (vm) {
  var data = vm.$options.data;
  data = vm._data = typeof data === 'function'
    ? getData(data, vm)
    : data || {};
  if (!isPlainObject(data)) {
    data = {};
     false && false;
  }
  // proxy data on instance
  var keys = Object.keys(data);
  var props = vm.$options.props;
  var methods = vm.$options.methods;
  var i = keys.length;
  while (i--) {
    var key = keys[i];
    if (false) {}
    if (props && hasOwn(props, key)) {
       false && false;
    } else if (!isReserved(key)) {
      proxy(vm, "_data", key);
    }
  }
  // observe data
  observe(data, true /* asRootData */);
}

function getData (data, vm) {
  // #7573 disable dep collection when invoking data getters
  pushTarget();
  try {
    return data.call(vm, vm)
  } catch (e) {
    handleError(e, vm, "data()");
    return {}
  } finally {
    popTarget();
  }
}

var computedWatcherOptions = { lazy: true };

function initComputed (vm, computed) {
  // $flow-disable-line
  var watchers = vm._computedWatchers = Object.create(null);
  // computed properties are just getters during SSR
  var isSSR = isServerRendering();

  for (var key in computed) {
    var userDef = computed[key];
    var getter = typeof userDef === 'function' ? userDef : userDef.get;
    if (false) {}

    if (!isSSR) {
      // create internal watcher for the computed property.
      watchers[key] = new Watcher(
        vm,
        getter || noop,
        noop,
        computedWatcherOptions
      );
    }

    // component-defined computed properties are already defined on the
    // component prototype. We only need to define computed properties defined
    // at instantiation here.
    if (!(key in vm)) {
      defineComputed(vm, key, userDef);
    } else if (false) {}
  }
}

function defineComputed (
  target,
  key,
  userDef
) {
  var shouldCache = !isServerRendering();
  if (typeof userDef === 'function') {
    sharedPropertyDefinition.get = shouldCache
      ? createComputedGetter(key)
      : createGetterInvoker(userDef);
    sharedPropertyDefinition.set = noop;
  } else {
    sharedPropertyDefinition.get = userDef.get
      ? shouldCache && userDef.cache !== false
        ? createComputedGetter(key)
        : createGetterInvoker(userDef.get)
      : noop;
    sharedPropertyDefinition.set = userDef.set || noop;
  }
  if (false) {}
  Object.defineProperty(target, key, sharedPropertyDefinition);
}

function createComputedGetter (key) {
  return function computedGetter () {
    var watcher = this._computedWatchers && this._computedWatchers[key];
    if (watcher) {
      if (watcher.dirty) {
        watcher.evaluate();
      }
      if (Dep.target) {
        watcher.depend();
      }
      return watcher.value
    }
  }
}

function createGetterInvoker(fn) {
  return function computedGetter () {
    return fn.call(this, this)
  }
}

function initMethods (vm, methods) {
  var props = vm.$options.props;
  for (var key in methods) {
    if (false) {}
    vm[key] = typeof methods[key] !== 'function' ? noop : bind(methods[key], vm);
  }
}

function initWatch (vm, watch) {
  for (var key in watch) {
    var handler = watch[key];
    if (Array.isArray(handler)) {
      for (var i = 0; i < handler.length; i++) {
        createWatcher(vm, key, handler[i]);
      }
    } else {
      createWatcher(vm, key, handler);
    }
  }
}

function createWatcher (
  vm,
  expOrFn,
  handler,
  options
) {
  if (isPlainObject(handler)) {
    options = handler;
    handler = handler.handler;
  }
  if (typeof handler === 'string') {
    handler = vm[handler];
  }
  return vm.$watch(expOrFn, handler, options)
}

function stateMixin (Vue) {
  // flow somehow has problems with directly declared definition object
  // when using Object.defineProperty, so we have to procedurally build up
  // the object here.
  var dataDef = {};
  dataDef.get = function () { return this._data };
  var propsDef = {};
  propsDef.get = function () { return this._props };
  if (false) {}
  Object.defineProperty(Vue.prototype, '$data', dataDef);
  Object.defineProperty(Vue.prototype, '$props', propsDef);

  Vue.prototype.$set = set;
  Vue.prototype.$delete = del;

  Vue.prototype.$watch = function (
    expOrFn,
    cb,
    options
  ) {
    var vm = this;
    if (isPlainObject(cb)) {
      return createWatcher(vm, expOrFn, cb, options)
    }
    options = options || {};
    options.user = true;
    var watcher = new Watcher(vm, expOrFn, cb, options);
    if (options.immediate) {
      try {
        cb.call(vm, watcher.value);
      } catch (error) {
        handleError(error, vm, ("callback for immediate watcher \"" + (watcher.expression) + "\""));
      }
    }
    return function unwatchFn () {
      watcher.teardown();
    }
  };
}

/*  */

function initProvide (vm) {
  var provide = vm.$options.provide;
  if (provide) {
    vm._provided = typeof provide === 'function'
      ? provide.call(vm)
      : provide;
  }
}

function initInjections (vm) {
  var result = resolveInject(vm.$options.inject, vm);
  if (result) {
    toggleObserving(false);
    Object.keys(result).forEach(function (key) {
      /* istanbul ignore else */
      if (false) {} else {
        defineReactive$$1(vm, key, result[key]);
      }
    });
    toggleObserving(true);
  }
}

function resolveInject (inject, vm) {
  if (inject) {
    // inject is :any because flow is not smart enough to figure out cached
    var result = Object.create(null);
    var keys = hasSymbol
      ? Reflect.ownKeys(inject).filter(function (key) {
        /* istanbul ignore next */
        return Object.getOwnPropertyDescriptor(inject, key).enumerable
      })
      : Object.keys(inject);

    for (var i = 0; i < keys.length; i++) {
      var key = keys[i];
      var provideKey = inject[key].from;
      var source = vm;
      while (source) {
        if (source._provided && hasOwn(source._provided, provideKey)) {
          result[key] = source._provided[provideKey];
          break
        }
        source = source.$parent;
      }
      if (!source) {
        if ('default' in inject[key]) {
          var provideDefault = inject[key].default;
          result[key] = typeof provideDefault === 'function'
            ? provideDefault.call(vm)
            : provideDefault;
        } else if (false) {}
      }
    }
    return result
  }
}

/*  */

/**
 * Runtime helper for rendering v-for lists.
 */
function renderList (
  val,
  render
) {
  var ret, i, l, keys, key;
  if (Array.isArray(val) || typeof val === 'string') {
    ret = new Array(val.length);
    for (i = 0, l = val.length; i < l; i++) {
      ret[i] = render(val[i], i);
    }
  } else if (typeof val === 'number') {
    ret = new Array(val);
    for (i = 0; i < val; i++) {
      ret[i] = render(i + 1, i);
    }
  } else if (isObject(val)) {
    keys = Object.keys(val);
    ret = new Array(keys.length);
    for (i = 0, l = keys.length; i < l; i++) {
      key = keys[i];
      ret[i] = render(val[key], key, i);
    }
  }
  if (!isDef(ret)) {
    ret = [];
  }
  (ret)._isVList = true;
  return ret
}

/*  */

/**
 * Runtime helper for rendering <slot>
 */
function renderSlot (
  name,
  fallback,
  props,
  bindObject
) {
  var scopedSlotFn = this.$scopedSlots[name];
  var nodes;
  if (scopedSlotFn) { // scoped slot
    props = props || {};
    if (bindObject) {
      if (false) {}
      props = extend(extend({}, bindObject), props);
    }
    nodes = scopedSlotFn(props) || fallback;
  } else {
    nodes = this.$slots[name] || fallback;
  }

  var target = props && props.slot;
  if (target) {
    return this.$createElement('template', { slot: target }, nodes)
  } else {
    return nodes
  }
}

/*  */

/**
 * Runtime helper for resolving filters
 */
function resolveFilter (id) {
  return resolveAsset(this.$options, 'filters', id, true) || identity
}

/*  */

function isKeyNotMatch (expect, actual) {
  if (Array.isArray(expect)) {
    return expect.indexOf(actual) === -1
  } else {
    return expect !== actual
  }
}

/**
 * Runtime helper for checking keyCodes from config.
 * exposed as Vue.prototype._k
 * passing in eventKeyName as last argument separately for backwards compat
 */
function checkKeyCodes (
  eventKeyCode,
  key,
  builtInKeyCode,
  eventKeyName,
  builtInKeyName
) {
  var mappedKeyCode = config.keyCodes[key] || builtInKeyCode;
  if (builtInKeyName && eventKeyName && !config.keyCodes[key]) {
    return isKeyNotMatch(builtInKeyName, eventKeyName)
  } else if (mappedKeyCode) {
    return isKeyNotMatch(mappedKeyCode, eventKeyCode)
  } else if (eventKeyName) {
    return hyphenate(eventKeyName) !== key
  }
}

/*  */

/**
 * Runtime helper for merging v-bind="object" into a VNode's data.
 */
function bindObjectProps (
  data,
  tag,
  value,
  asProp,
  isSync
) {
  if (value) {
    if (!isObject(value)) {
       false && false;
    } else {
      if (Array.isArray(value)) {
        value = toObject(value);
      }
      var hash;
      var loop = function ( key ) {
        if (
          key === 'class' ||
          key === 'style' ||
          isReservedAttribute(key)
        ) {
          hash = data;
        } else {
          var type = data.attrs && data.attrs.type;
          hash = asProp || config.mustUseProp(tag, type, key)
            ? data.domProps || (data.domProps = {})
            : data.attrs || (data.attrs = {});
        }
        var camelizedKey = camelize(key);
        if (!(key in hash) && !(camelizedKey in hash)) {
          hash[key] = value[key];

          if (isSync) {
            var on = data.on || (data.on = {});
            on[("update:" + camelizedKey)] = function ($event) {
              value[key] = $event;
            };
          }
        }
      };

      for (var key in value) loop( key );
    }
  }
  return data
}

/*  */

/**
 * Runtime helper for rendering static trees.
 */
function renderStatic (
  index,
  isInFor
) {
  var cached = this._staticTrees || (this._staticTrees = []);
  var tree = cached[index];
  // if has already-rendered static tree and not inside v-for,
  // we can reuse the same tree.
  if (tree && !isInFor) {
    return tree
  }
  // otherwise, render a fresh tree.
  tree = cached[index] = this.$options.staticRenderFns[index].call(
    this._renderProxy,
    null,
    this // for render fns generated for functional component templates
  );
  markStatic(tree, ("__static__" + index), false);
  return tree
}

/**
 * Runtime helper for v-once.
 * Effectively it means marking the node as static with a unique key.
 */
function markOnce (
  tree,
  index,
  key
) {
  markStatic(tree, ("__once__" + index + (key ? ("_" + key) : "")), true);
  return tree
}

function markStatic (
  tree,
  key,
  isOnce
) {
  if (Array.isArray(tree)) {
    for (var i = 0; i < tree.length; i++) {
      if (tree[i] && typeof tree[i] !== 'string') {
        markStaticNode(tree[i], (key + "_" + i), isOnce);
      }
    }
  } else {
    markStaticNode(tree, key, isOnce);
  }
}

function markStaticNode (node, key, isOnce) {
  node.isStatic = true;
  node.key = key;
  node.isOnce = isOnce;
}

/*  */

function bindObjectListeners (data, value) {
  if (value) {
    if (!isPlainObject(value)) {
       false && false;
    } else {
      var on = data.on = data.on ? extend({}, data.on) : {};
      for (var key in value) {
        var existing = on[key];
        var ours = value[key];
        on[key] = existing ? [].concat(existing, ours) : ours;
      }
    }
  }
  return data
}

/*  */

function installRenderHelpers (target) {
  target._o = markOnce;
  target._n = toNumber;
  target._s = toString;
  target._l = renderList;
  target._t = renderSlot;
  target._q = looseEqual;
  target._i = looseIndexOf;
  target._m = renderStatic;
  target._f = resolveFilter;
  target._k = checkKeyCodes;
  target._b = bindObjectProps;
  target._v = createTextVNode;
  target._e = createEmptyVNode;
  target._u = resolveScopedSlots;
  target._g = bindObjectListeners;
}

/*  */

function FunctionalRenderContext (
  data,
  props,
  children,
  parent,
  Ctor
) {
  var options = Ctor.options;
  // ensure the createElement function in functional components
  // gets a unique context - this is necessary for correct named slot check
  var contextVm;
  if (hasOwn(parent, '_uid')) {
    contextVm = Object.create(parent);
    // $flow-disable-line
    contextVm._original = parent;
  } else {
    // the context vm passed in is a functional context as well.
    // in this case we want to make sure we are able to get a hold to the
    // real context instance.
    contextVm = parent;
    // $flow-disable-line
    parent = parent._original;
  }
  var isCompiled = isTrue(options._compiled);
  var needNormalization = !isCompiled;

  this.data = data;
  this.props = props;
  this.children = children;
  this.parent = parent;
  this.listeners = data.on || emptyObject;
  this.injections = resolveInject(options.inject, parent);
  this.slots = function () { return resolveSlots(children, parent); };

  // support for compiled functional template
  if (isCompiled) {
    // exposing $options for renderStatic()
    this.$options = options;
    // pre-resolve slots for renderSlot()
    this.$slots = this.slots();
    this.$scopedSlots = data.scopedSlots || emptyObject;
  }

  if (options._scopeId) {
    this._c = function (a, b, c, d) {
      var vnode = createElement(contextVm, a, b, c, d, needNormalization);
      if (vnode && !Array.isArray(vnode)) {
        vnode.fnScopeId = options._scopeId;
        vnode.fnContext = parent;
      }
      return vnode
    };
  } else {
    this._c = function (a, b, c, d) { return createElement(contextVm, a, b, c, d, needNormalization); };
  }
}

installRenderHelpers(FunctionalRenderContext.prototype);

function createFunctionalComponent (
  Ctor,
  propsData,
  data,
  contextVm,
  children
) {
  var options = Ctor.options;
  var props = {};
  var propOptions = options.props;
  if (isDef(propOptions)) {
    for (var key in propOptions) {
      props[key] = validateProp(key, propOptions, propsData || emptyObject);
    }
  } else {
    if (isDef(data.attrs)) { mergeProps(props, data.attrs); }
    if (isDef(data.props)) { mergeProps(props, data.props); }
  }

  var renderContext = new FunctionalRenderContext(
    data,
    props,
    children,
    contextVm,
    Ctor
  );

  var vnode = options.render.call(null, renderContext._c, renderContext);

  if (vnode instanceof VNode) {
    return cloneAndMarkFunctionalResult(vnode, data, renderContext.parent, options, renderContext)
  } else if (Array.isArray(vnode)) {
    var vnodes = normalizeChildren(vnode) || [];
    var res = new Array(vnodes.length);
    for (var i = 0; i < vnodes.length; i++) {
      res[i] = cloneAndMarkFunctionalResult(vnodes[i], data, renderContext.parent, options, renderContext);
    }
    return res
  }
}

function cloneAndMarkFunctionalResult (vnode, data, contextVm, options, renderContext) {
  // #7817 clone node before setting fnContext, otherwise if the node is reused
  // (e.g. it was from a cached normal slot) the fnContext causes named slots
  // that should not be matched to match.
  var clone = cloneVNode(vnode);
  clone.fnContext = contextVm;
  clone.fnOptions = options;
  if (false) {}
  if (data.slot) {
    (clone.data || (clone.data = {})).slot = data.slot;
  }
  return clone
}

function mergeProps (to, from) {
  for (var key in from) {
    to[camelize(key)] = from[key];
  }
}

/*  */

/*  */

/*  */

/*  */

// inline hooks to be invoked on component VNodes during patch
var componentVNodeHooks = {
  init: function init (vnode, hydrating) {
    if (
      vnode.componentInstance &&
      !vnode.componentInstance._isDestroyed &&
      vnode.data.keepAlive
    ) {
      // kept-alive components, treat as a patch
      var mountedNode = vnode; // work around flow
      componentVNodeHooks.prepatch(mountedNode, mountedNode);
    } else {
      var child = vnode.componentInstance = createComponentInstanceForVnode(
        vnode,
        activeInstance
      );
      child.$mount(hydrating ? vnode.elm : undefined, hydrating);
    }
  },

  prepatch: function prepatch (oldVnode, vnode) {
    var options = vnode.componentOptions;
    var child = vnode.componentInstance = oldVnode.componentInstance;
    updateChildComponent(
      child,
      options.propsData, // updated props
      options.listeners, // updated listeners
      vnode, // new parent vnode
      options.children // new children
    );
  },

  insert: function insert (vnode) {
    var context = vnode.context;
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isMounted) {
      componentInstance._isMounted = true;
      callHook(componentInstance, 'mounted');
    }
    if (vnode.data.keepAlive) {
      if (context._isMounted) {
        // vue-router#1212
        // During updates, a kept-alive component's child components may
        // change, so directly walking the tree here may call activated hooks
        // on incorrect children. Instead we push them into a queue which will
        // be processed after the whole patch process ended.
        queueActivatedComponent(componentInstance);
      } else {
        activateChildComponent(componentInstance, true /* direct */);
      }
    }
  },

  destroy: function destroy (vnode) {
    var componentInstance = vnode.componentInstance;
    if (!componentInstance._isDestroyed) {
      if (!vnode.data.keepAlive) {
        componentInstance.$destroy();
      } else {
        deactivateChildComponent(componentInstance, true /* direct */);
      }
    }
  }
};

var hooksToMerge = Object.keys(componentVNodeHooks);

function createComponent (
  Ctor,
  data,
  context,
  children,
  tag
) {
  if (isUndef(Ctor)) {
    return
  }

  var baseCtor = context.$options._base;

  // plain options object: turn it into a constructor
  if (isObject(Ctor)) {
    Ctor = baseCtor.extend(Ctor);
  }

  // if at this stage it's not a constructor or an async component factory,
  // reject.
  if (typeof Ctor !== 'function') {
    if (false) {}
    return
  }

  // async component
  var asyncFactory;
  if (isUndef(Ctor.cid)) {
    asyncFactory = Ctor;
    Ctor = resolveAsyncComponent(asyncFactory, baseCtor, context);
    if (Ctor === undefined) {
      // return a placeholder node for async component, which is rendered
      // as a comment node but preserves all the raw information for the node.
      // the information will be used for async server-rendering and hydration.
      return createAsyncPlaceholder(
        asyncFactory,
        data,
        context,
        children,
        tag
      )
    }
  }

  data = data || {};

  // resolve constructor options in case global mixins are applied after
  // component constructor creation
  resolveConstructorOptions(Ctor);

  // transform component v-model data into props & events
  if (isDef(data.model)) {
    transformModel(Ctor.options, data);
  }

  // extract props
  var propsData = extractPropsFromVNodeData(data, Ctor, tag);

  // functional component
  if (isTrue(Ctor.options.functional)) {
    return createFunctionalComponent(Ctor, propsData, data, context, children)
  }

  // extract listeners, since these needs to be treated as
  // child component listeners instead of DOM listeners
  var listeners = data.on;
  // replace with listeners with .native modifier
  // so it gets processed during parent component patch.
  data.on = data.nativeOn;

  if (isTrue(Ctor.options.abstract)) {
    // abstract components do not keep anything
    // other than props & listeners & slot

    // work around flow
    var slot = data.slot;
    data = {};
    if (slot) {
      data.slot = slot;
    }
  }

  // install component management hooks onto the placeholder node
  installComponentHooks(data);

  // return a placeholder vnode
  var name = Ctor.options.name || tag;
  var vnode = new VNode(
    ("vue-component-" + (Ctor.cid) + (name ? ("-" + name) : '')),
    data, undefined, undefined, undefined, context,
    { Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children },
    asyncFactory
  );

  return vnode
}

function createComponentInstanceForVnode (
  vnode, // we know it's MountedComponentVNode but flow doesn't
  parent // activeInstance in lifecycle state
) {
  var options = {
    _isComponent: true,
    _parentVnode: vnode,
    parent: parent
  };
  // check inline-template render functions
  var inlineTemplate = vnode.data.inlineTemplate;
  if (isDef(inlineTemplate)) {
    options.render = inlineTemplate.render;
    options.staticRenderFns = inlineTemplate.staticRenderFns;
  }
  return new vnode.componentOptions.Ctor(options)
}

function installComponentHooks (data) {
  var hooks = data.hook || (data.hook = {});
  for (var i = 0; i < hooksToMerge.length; i++) {
    var key = hooksToMerge[i];
    var existing = hooks[key];
    var toMerge = componentVNodeHooks[key];
    if (existing !== toMerge && !(existing && existing._merged)) {
      hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;
    }
  }
}

function mergeHook$1 (f1, f2) {
  var merged = function (a, b) {
    // flow complains about extra args which is why we use any
    f1(a, b);
    f2(a, b);
  };
  merged._merged = true;
  return merged
}

// transform component v-model info (value and callback) into
// prop and event handler respectively.
function transformModel (options, data) {
  var prop = (options.model && options.model.prop) || 'value';
  var event = (options.model && options.model.event) || 'input'
  ;(data.props || (data.props = {}))[prop] = data.model.value;
  var on = data.on || (data.on = {});
  var existing = on[event];
  var callback = data.model.callback;
  if (isDef(existing)) {
    if (
      Array.isArray(existing)
        ? existing.indexOf(callback) === -1
        : existing !== callback
    ) {
      on[event] = [callback].concat(existing);
    }
  } else {
    on[event] = callback;
  }
}

/*  */

var SIMPLE_NORMALIZE = 1;
var ALWAYS_NORMALIZE = 2;

// wrapper function for providing a more flexible interface
// without getting yelled at by flow
function createElement (
  context,
  tag,
  data,
  children,
  normalizationType,
  alwaysNormalize
) {
  if (Array.isArray(data) || isPrimitive(data)) {
    normalizationType = children;
    children = data;
    data = undefined;
  }
  if (isTrue(alwaysNormalize)) {
    normalizationType = ALWAYS_NORMALIZE;
  }
  return _createElement(context, tag, data, children, normalizationType)
}

function _createElement (
  context,
  tag,
  data,
  children,
  normalizationType
) {
  if (isDef(data) && isDef((data).__ob__)) {
     false && false;
    return createEmptyVNode()
  }
  // object syntax in v-bind
  if (isDef(data) && isDef(data.is)) {
    tag = data.is;
  }
  if (!tag) {
    // in case of component :is set to falsy value
    return createEmptyVNode()
  }
  // warn against non-primitive key
  if (false
  ) {}
  // support single function children as default scoped slot
  if (Array.isArray(children) &&
    typeof children[0] === 'function'
  ) {
    data = data || {};
    data.scopedSlots = { default: children[0] };
    children.length = 0;
  }
  if (normalizationType === ALWAYS_NORMALIZE) {
    children = normalizeChildren(children);
  } else if (normalizationType === SIMPLE_NORMALIZE) {
    children = simpleNormalizeChildren(children);
  }
  var vnode, ns;
  if (typeof tag === 'string') {
    var Ctor;
    ns = (context.$vnode && context.$vnode.ns) || config.getTagNamespace(tag);
    if (config.isReservedTag(tag)) {
      // platform built-in elements
      vnode = new VNode(
        config.parsePlatformTagName(tag), data, children,
        undefined, undefined, context
      );
    } else if ((!data || !data.pre) && isDef(Ctor = resolveAsset(context.$options, 'components', tag))) {
      // component
      vnode = createComponent(Ctor, data, context, children, tag);
    } else {
      // unknown or unlisted namespaced elements
      // check at runtime because it may get assigned a namespace when its
      // parent normalizes children
      vnode = new VNode(
        tag, data, children,
        undefined, undefined, context
      );
    }
  } else {
    // direct component options / constructor
    vnode = createComponent(tag, data, context, children);
  }
  if (Array.isArray(vnode)) {
    return vnode
  } else if (isDef(vnode)) {
    if (isDef(ns)) { applyNS(vnode, ns); }
    if (isDef(data)) { registerDeepBindings(data); }
    return vnode
  } else {
    return createEmptyVNode()
  }
}

function applyNS (vnode, ns, force) {
  vnode.ns = ns;
  if (vnode.tag === 'foreignObject') {
    // use default namespace inside foreignObject
    ns = undefined;
    force = true;
  }
  if (isDef(vnode.children)) {
    for (var i = 0, l = vnode.children.length; i < l; i++) {
      var child = vnode.children[i];
      if (isDef(child.tag) && (
        isUndef(child.ns) || (isTrue(force) && child.tag !== 'svg'))) {
        applyNS(child, ns, force);
      }
    }
  }
}

// ref #5318
// necessary to ensure parent re-render when deep bindings like :style and
// :class are used on slot nodes
function registerDeepBindings (data) {
  if (isObject(data.style)) {
    traverse(data.style);
  }
  if (isObject(data.class)) {
    traverse(data.class);
  }
}

/*  */

function initRender (vm) {
  vm._vnode = null; // the root of the child tree
  vm._staticTrees = null; // v-once cached trees
  var options = vm.$options;
  var parentVnode = vm.$vnode = options._parentVnode; // the placeholder node in parent tree
  var renderContext = parentVnode && parentVnode.context;
  vm.$slots = resolveSlots(options._renderChildren, renderContext);
  vm.$scopedSlots = emptyObject;
  // bind the createElement fn to this instance
  // so that we get proper render context inside it.
  // args order: tag, data, children, normalizationType, alwaysNormalize
  // internal version is used by render functions compiled from templates
  vm._c = function (a, b, c, d) { return createElement(vm, a, b, c, d, false); };
  // normalization is always applied for the public version, used in
  // user-written render functions.
  vm.$createElement = function (a, b, c, d) { return createElement(vm, a, b, c, d, true); };

  // $attrs & $listeners are exposed for easier HOC creation.
  // they need to be reactive so that HOCs using them are always updated
  var parentData = parentVnode && parentVnode.data;

  /* istanbul ignore else */
  if (false) {} else {
    defineReactive$$1(vm, '$attrs', parentData && parentData.attrs || emptyObject, null, true);
    defineReactive$$1(vm, '$listeners', options._parentListeners || emptyObject, null, true);
  }
}

function renderMixin (Vue) {
  // install runtime convenience helpers
  installRenderHelpers(Vue.prototype);

  Vue.prototype.$nextTick = function (fn) {
    return nextTick(fn, this)
  };

  Vue.prototype._render = function () {
    var vm = this;
    var ref = vm.$options;
    var render = ref.render;
    var _parentVnode = ref._parentVnode;

    if (_parentVnode) {
      vm.$scopedSlots = _parentVnode.data.scopedSlots || emptyObject;
    }

    // set parent vnode. this allows render functions to have access
    // to the data on the placeholder node.
    vm.$vnode = _parentVnode;
    // render self
    var vnode;
    try {
      vnode = render.call(vm._renderProxy, vm.$createElement);
    } catch (e) {
      handleError(e, vm, "render");
      // return error render result,
      // or previous vnode to prevent render error causing blank component
      /* istanbul ignore else */
      if (false) {} else {
        vnode = vm._vnode;
      }
    }
    // return empty vnode in case the render function errored out
    if (!(vnode instanceof VNode)) {
      if (false) {}
      vnode = createEmptyVNode();
    }
    // set parent
    vnode.parent = _parentVnode;
    return vnode
  };
}

/*  */

var uid$3 = 0;

function initMixin (Vue) {
  Vue.prototype._init = function (options) {
    var vm = this;
    // a uid
    vm._uid = uid$3++;

    var startTag, endTag;
    /* istanbul ignore if */
    if (false) {}

    // a flag to avoid this being observed
    vm._isVue = true;
    // merge options
    if (options && options._isComponent) {
      // optimize internal component instantiation
      // since dynamic options merging is pretty slow, and none of the
      // internal component options needs special treatment.
      initInternalComponent(vm, options);
    } else {
      vm.$options = mergeOptions(
        resolveConstructorOptions(vm.constructor),
        options || {},
        vm
      );
    }
    /* istanbul ignore else */
    if (false) {} else {
      vm._renderProxy = vm;
    }
    // expose real self
    vm._self = vm;
    initLifecycle(vm);
    initEvents(vm);
    initRender(vm);
    callHook(vm, 'beforeCreate');
    initInjections(vm); // resolve injections before data/props
    initState(vm);
    initProvide(vm); // resolve provide after data/props
    callHook(vm, 'created');

    /* istanbul ignore if */
    if (false) {}

    if (vm.$options.el) {
      vm.$mount(vm.$options.el);
    }
  };
}

function initInternalComponent (vm, options) {
  var opts = vm.$options = Object.create(vm.constructor.options);
  // doing this because it's faster than dynamic enumeration.
  var parentVnode = options._parentVnode;
  opts.parent = options.parent;
  opts._parentVnode = parentVnode;

  var vnodeComponentOptions = parentVnode.componentOptions;
  opts.propsData = vnodeComponentOptions.propsData;
  opts._parentListeners = vnodeComponentOptions.listeners;
  opts._renderChildren = vnodeComponentOptions.children;
  opts._componentTag = vnodeComponentOptions.tag;

  if (options.render) {
    opts.render = options.render;
    opts.staticRenderFns = options.staticRenderFns;
  }
}

function resolveConstructorOptions (Ctor) {
  var options = Ctor.options;
  if (Ctor.super) {
    var superOptions = resolveConstructorOptions(Ctor.super);
    var cachedSuperOptions = Ctor.superOptions;
    if (superOptions !== cachedSuperOptions) {
      // super option changed,
      // need to resolve new options.
      Ctor.superOptions = superOptions;
      // check if there are any late-modified/attached options (#4976)
      var modifiedOptions = resolveModifiedOptions(Ctor);
      // update base extend options
      if (modifiedOptions) {
        extend(Ctor.extendOptions, modifiedOptions);
      }
      options = Ctor.options = mergeOptions(superOptions, Ctor.extendOptions);
      if (options.name) {
        options.components[options.name] = Ctor;
      }
    }
  }
  return options
}

function resolveModifiedOptions (Ctor) {
  var modified;
  var latest = Ctor.options;
  var sealed = Ctor.sealedOptions;
  for (var key in latest) {
    if (latest[key] !== sealed[key]) {
      if (!modified) { modified = {}; }
      modified[key] = latest[key];
    }
  }
  return modified
}

function Vue (options) {
  if (false
  ) {}
  this._init(options);
}

initMixin(Vue);
stateMixin(Vue);
eventsMixin(Vue);
lifecycleMixin(Vue);
renderMixin(Vue);

/*  */

function initUse (Vue) {
  Vue.use = function (plugin) {
    var installedPlugins = (this._installedPlugins || (this._installedPlugins = []));
    if (installedPlugins.indexOf(plugin) > -1) {
      return this
    }

    // additional parameters
    var args = toArray(arguments, 1);
    args.unshift(this);
    if (typeof plugin.install === 'function') {
      plugin.install.apply(plugin, args);
    } else if (typeof plugin === 'function') {
      plugin.apply(null, args);
    }
    installedPlugins.push(plugin);
    return this
  };
}

/*  */

function initMixin$1 (Vue) {
  Vue.mixin = function (mixin) {
    this.options = mergeOptions(this.options, mixin);
    return this
  };
}

/*  */

function initExtend (Vue) {
  /**
   * Each instance constructor, including Vue, has a unique
   * cid. This enables us to create wrapped "child
   * constructors" for prototypal inheritance and cache them.
   */
  Vue.cid = 0;
  var cid = 1;

  /**
   * Class inheritance
   */
  Vue.extend = function (extendOptions) {
    extendOptions = extendOptions || {};
    var Super = this;
    var SuperId = Super.cid;
    var cachedCtors = extendOptions._Ctor || (extendOptions._Ctor = {});
    if (cachedCtors[SuperId]) {
      return cachedCtors[SuperId]
    }

    var name = extendOptions.name || Super.options.name;
    if (false) {}

    var Sub = function VueComponent (options) {
      this._init(options);
    };
    Sub.prototype = Object.create(Super.prototype);
    Sub.prototype.constructor = Sub;
    Sub.cid = cid++;
    Sub.options = mergeOptions(
      Super.options,
      extendOptions
    );
    Sub['super'] = Super;

    // For props and computed properties, we define the proxy getters on
    // the Vue instances at extension time, on the extended prototype. This
    // avoids Object.defineProperty calls for each instance created.
    if (Sub.options.props) {
      initProps$1(Sub);
    }
    if (Sub.options.computed) {
      initComputed$1(Sub);
    }

    // allow further extension/mixin/plugin usage
    Sub.extend = Super.extend;
    Sub.mixin = Super.mixin;
    Sub.use = Super.use;

    // create asset registers, so extended classes
    // can have their private assets too.
    ASSET_TYPES.forEach(function (type) {
      Sub[type] = Super[type];
    });
    // enable recursive self-lookup
    if (name) {
      Sub.options.components[name] = Sub;
    }

    // keep a reference to the super options at extension time.
    // later at instantiation we can check if Super's options have
    // been updated.
    Sub.superOptions = Super.options;
    Sub.extendOptions = extendOptions;
    Sub.sealedOptions = extend({}, Sub.options);

    // cache constructor
    cachedCtors[SuperId] = Sub;
    return Sub
  };
}

function initProps$1 (Comp) {
  var props = Comp.options.props;
  for (var key in props) {
    proxy(Comp.prototype, "_props", key);
  }
}

function initComputed$1 (Comp) {
  var computed = Comp.options.computed;
  for (var key in computed) {
    defineComputed(Comp.prototype, key, computed[key]);
  }
}

/*  */

function initAssetRegisters (Vue) {
  /**
   * Create asset registration methods.
   */
  ASSET_TYPES.forEach(function (type) {
    Vue[type] = function (
      id,
      definition
    ) {
      if (!definition) {
        return this.options[type + 's'][id]
      } else {
        /* istanbul ignore if */
        if (false) {}
        if (type === 'component' && isPlainObject(definition)) {
          definition.name = definition.name || id;
          definition = this.options._base.extend(definition);
        }
        if (type === 'directive' && typeof definition === 'function') {
          definition = { bind: definition, update: definition };
        }
        this.options[type + 's'][id] = definition;
        return definition
      }
    };
  });
}

/*  */



function getComponentName (opts) {
  return opts && (opts.Ctor.options.name || opts.tag)
}

function matches (pattern, name) {
  if (Array.isArray(pattern)) {
    return pattern.indexOf(name) > -1
  } else if (typeof pattern === 'string') {
    return pattern.split(',').indexOf(name) > -1
  } else if (isRegExp(pattern)) {
    return pattern.test(name)
  }
  /* istanbul ignore next */
  return false
}

function pruneCache (keepAliveInstance, filter) {
  var cache = keepAliveInstance.cache;
  var keys = keepAliveInstance.keys;
  var _vnode = keepAliveInstance._vnode;
  for (var key in cache) {
    var cachedNode = cache[key];
    if (cachedNode) {
      var name = getComponentName(cachedNode.componentOptions);
      if (name && !filter(name)) {
        pruneCacheEntry(cache, key, keys, _vnode);
      }
    }
  }
}

function pruneCacheEntry (
  cache,
  key,
  keys,
  current
) {
  var cached$$1 = cache[key];
  if (cached$$1 && (!current || cached$$1.tag !== current.tag)) {
    cached$$1.componentInstance.$destroy();
  }
  cache[key] = null;
  remove(keys, key);
}

var patternTypes = [String, RegExp, Array];

var KeepAlive = {
  name: 'keep-alive',
  abstract: true,

  props: {
    include: patternTypes,
    exclude: patternTypes,
    max: [String, Number]
  },

  created: function created () {
    this.cache = Object.create(null);
    this.keys = [];
  },

  destroyed: function destroyed () {
    for (var key in this.cache) {
      pruneCacheEntry(this.cache, key, this.keys);
    }
  },

  mounted: function mounted () {
    var this$1 = this;

    this.$watch('include', function (val) {
      pruneCache(this$1, function (name) { return matches(val, name); });
    });
    this.$watch('exclude', function (val) {
      pruneCache(this$1, function (name) { return !matches(val, name); });
    });
  },

  render: function render () {
    var slot = this.$slots.default;
    var vnode = getFirstComponentChild(slot);
    var componentOptions = vnode && vnode.componentOptions;
    if (componentOptions) {
      // check pattern
      var name = getComponentName(componentOptions);
      var ref = this;
      var include = ref.include;
      var exclude = ref.exclude;
      if (
        // not included
        (include && (!name || !matches(include, name))) ||
        // excluded
        (exclude && name && matches(exclude, name))
      ) {
        return vnode
      }

      var ref$1 = this;
      var cache = ref$1.cache;
      var keys = ref$1.keys;
      var key = vnode.key == null
        // same constructor may get registered as different local components
        // so cid alone is not enough (#3269)
        ? componentOptions.Ctor.cid + (componentOptions.tag ? ("::" + (componentOptions.tag)) : '')
        : vnode.key;
      if (cache[key]) {
        vnode.componentInstance = cache[key].componentInstance;
        // make current key freshest
        remove(keys, key);
        keys.push(key);
      } else {
        cache[key] = vnode;
        keys.push(key);
        // prune oldest entry
        if (this.max && keys.length > parseInt(this.max)) {
          pruneCacheEntry(cache, keys[0], keys, this._vnode);
        }
      }

      vnode.data.keepAlive = true;
    }
    return vnode || (slot && slot[0])
  }
};

var builtInComponents = {
  KeepAlive: KeepAlive
};

/*  */

function initGlobalAPI (Vue) {
  // config
  var configDef = {};
  configDef.get = function () { return config; };
  if (false) {}
  Object.defineProperty(Vue, 'config', configDef);

  // exposed util methods.
  // NOTE: these are not considered part of the public API - avoid relying on
  // them unless you are aware of the risk.
  Vue.util = {
    warn: warn,
    extend: extend,
    mergeOptions: mergeOptions,
    defineReactive: defineReactive$$1
  };

  Vue.set = set;
  Vue.delete = del;
  Vue.nextTick = nextTick;

  Vue.options = Object.create(null);
  ASSET_TYPES.forEach(function (type) {
    Vue.options[type + 's'] = Object.create(null);
  });

  // this is used to identify the "base" constructor to extend all plain-object
  // components with in Weex's multi-instance scenarios.
  Vue.options._base = Vue;

  extend(Vue.options.components, builtInComponents);

  initUse(Vue);
  initMixin$1(Vue);
  initExtend(Vue);
  initAssetRegisters(Vue);
}

initGlobalAPI(Vue);

Object.defineProperty(Vue.prototype, '$isServer', {
  get: isServerRendering
});

Object.defineProperty(Vue.prototype, '$ssrContext', {
  get: function get () {
    /* istanbul ignore next */
    return this.$vnode && this.$vnode.ssrContext
  }
});

// expose FunctionalRenderContext for ssr runtime helper installation
Object.defineProperty(Vue, 'FunctionalRenderContext', {
  value: FunctionalRenderContext
});

Vue.version = '2.5.22';

/*  */

// these are reserved for web because they are directly compiled away
// during template compilation
var isReservedAttr = makeMap('style,class');

// attributes that should be using props for binding
var acceptValue = makeMap('input,textarea,option,select,progress');
var mustUseProp = function (tag, type, attr) {
  return (
    (attr === 'value' && acceptValue(tag)) && type !== 'button' ||
    (attr === 'selected' && tag === 'option') ||
    (attr === 'checked' && tag === 'input') ||
    (attr === 'muted' && tag === 'video')
  )
};

var isEnumeratedAttr = makeMap('contenteditable,draggable,spellcheck');

var isBooleanAttr = makeMap(
  'allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,' +
  'default,defaultchecked,defaultmuted,defaultselected,defer,disabled,' +
  'enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,' +
  'muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,' +
  'required,reversed,scoped,seamless,selected,sortable,translate,' +
  'truespeed,typemustmatch,visible'
);

var xlinkNS = 'http://www.w3.org/1999/xlink';

var isXlink = function (name) {
  return name.charAt(5) === ':' && name.slice(0, 5) === 'xlink'
};

var getXlinkProp = function (name) {
  return isXlink(name) ? name.slice(6, name.length) : ''
};

var isFalsyAttrValue = function (val) {
  return val == null || val === false
};

/*  */

function genClassForVnode (vnode) {
  var data = vnode.data;
  var parentNode = vnode;
  var childNode = vnode;
  while (isDef(childNode.componentInstance)) {
    childNode = childNode.componentInstance._vnode;
    if (childNode && childNode.data) {
      data = mergeClassData(childNode.data, data);
    }
  }
  while (isDef(parentNode = parentNode.parent)) {
    if (parentNode && parentNode.data) {
      data = mergeClassData(data, parentNode.data);
    }
  }
  return renderClass(data.staticClass, data.class)
}

function mergeClassData (child, parent) {
  return {
    staticClass: concat(child.staticClass, parent.staticClass),
    class: isDef(child.class)
      ? [child.class, parent.class]
      : parent.class
  }
}

function renderClass (
  staticClass,
  dynamicClass
) {
  if (isDef(staticClass) || isDef(dynamicClass)) {
    return concat(staticClass, stringifyClass(dynamicClass))
  }
  /* istanbul ignore next */
  return ''
}

function concat (a, b) {
  return a ? b ? (a + ' ' + b) : a : (b || '')
}

function stringifyClass (value) {
  if (Array.isArray(value)) {
    return stringifyArray(value)
  }
  if (isObject(value)) {
    return stringifyObject(value)
  }
  if (typeof value === 'string') {
    return value
  }
  /* istanbul ignore next */
  return ''
}

function stringifyArray (value) {
  var res = '';
  var stringified;
  for (var i = 0, l = value.length; i < l; i++) {
    if (isDef(stringified = stringifyClass(value[i])) && stringified !== '') {
      if (res) { res += ' '; }
      res += stringified;
    }
  }
  return res
}

function stringifyObject (value) {
  var res = '';
  for (var key in value) {
    if (value[key]) {
      if (res) { res += ' '; }
      res += key;
    }
  }
  return res
}

/*  */

var namespaceMap = {
  svg: 'http://www.w3.org/2000/svg',
  math: 'http://www.w3.org/1998/Math/MathML'
};

var isHTMLTag = makeMap(
  'html,body,base,head,link,meta,style,title,' +
  'address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,' +
  'div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,' +
  'a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,' +
  's,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,' +
  'embed,object,param,source,canvas,script,noscript,del,ins,' +
  'caption,col,colgroup,table,thead,tbody,td,th,tr,' +
  'button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,' +
  'output,progress,select,textarea,' +
  'details,dialog,menu,menuitem,summary,' +
  'content,element,shadow,template,blockquote,iframe,tfoot'
);

// this map is intentionally selective, only covering SVG elements that may
// contain child elements.
var isSVG = makeMap(
  'svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,' +
  'foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,' +
  'polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view',
  true
);

var isPreTag = function (tag) { return tag === 'pre'; };

var isReservedTag = function (tag) {
  return isHTMLTag(tag) || isSVG(tag)
};

function getTagNamespace (tag) {
  if (isSVG(tag)) {
    return 'svg'
  }
  // basic support for MathML
  // note it doesn't support other MathML elements being component roots
  if (tag === 'math') {
    return 'math'
  }
}

var unknownElementCache = Object.create(null);
function isUnknownElement (tag) {
  /* istanbul ignore if */
  if (!inBrowser) {
    return true
  }
  if (isReservedTag(tag)) {
    return false
  }
  tag = tag.toLowerCase();
  /* istanbul ignore if */
  if (unknownElementCache[tag] != null) {
    return unknownElementCache[tag]
  }
  var el = document.createElement(tag);
  if (tag.indexOf('-') > -1) {
    // http://stackoverflow.com/a/28210364/1070244
    return (unknownElementCache[tag] = (
      el.constructor === window.HTMLUnknownElement ||
      el.constructor === window.HTMLElement
    ))
  } else {
    return (unknownElementCache[tag] = /HTMLUnknownElement/.test(el.toString()))
  }
}

var isTextInputType = makeMap('text,number,password,search,email,tel,url');

/*  */

/**
 * Query an element selector if it's not an element already.
 */
function query (el) {
  if (typeof el === 'string') {
    var selected = document.querySelector(el);
    if (!selected) {
       false && false;
      return document.createElement('div')
    }
    return selected
  } else {
    return el
  }
}

/*  */

function createElement$1 (tagName, vnode) {
  var elm = document.createElement(tagName);
  if (tagName !== 'select') {
    return elm
  }
  // false or null will remove the attribute but undefined will not
  if (vnode.data && vnode.data.attrs && vnode.data.attrs.multiple !== undefined) {
    elm.setAttribute('multiple', 'multiple');
  }
  return elm
}

function createElementNS (namespace, tagName) {
  return document.createElementNS(namespaceMap[namespace], tagName)
}

function createTextNode (text) {
  return document.createTextNode(text)
}

function createComment (text) {
  return document.createComment(text)
}

function insertBefore (parentNode, newNode, referenceNode) {
  parentNode.insertBefore(newNode, referenceNode);
}

function removeChild (node, child) {
  node.removeChild(child);
}

function appendChild (node, child) {
  node.appendChild(child);
}

function parentNode (node) {
  return node.parentNode
}

function nextSibling (node) {
  return node.nextSibling
}

function tagName (node) {
  return node.tagName
}

function setTextContent (node, text) {
  node.textContent = text;
}

function setStyleScope (node, scopeId) {
  node.setAttribute(scopeId, '');
}

var nodeOps = /*#__PURE__*/Object.freeze({
  createElement: createElement$1,
  createElementNS: createElementNS,
  createTextNode: createTextNode,
  createComment: createComment,
  insertBefore: insertBefore,
  removeChild: removeChild,
  appendChild: appendChild,
  parentNode: parentNode,
  nextSibling: nextSibling,
  tagName: tagName,
  setTextContent: setTextContent,
  setStyleScope: setStyleScope
});

/*  */

var ref = {
  create: function create (_, vnode) {
    registerRef(vnode);
  },
  update: function update (oldVnode, vnode) {
    if (oldVnode.data.ref !== vnode.data.ref) {
      registerRef(oldVnode, true);
      registerRef(vnode);
    }
  },
  destroy: function destroy (vnode) {
    registerRef(vnode, true);
  }
};

function registerRef (vnode, isRemoval) {
  var key = vnode.data.ref;
  if (!isDef(key)) { return }

  var vm = vnode.context;
  var ref = vnode.componentInstance || vnode.elm;
  var refs = vm.$refs;
  if (isRemoval) {
    if (Array.isArray(refs[key])) {
      remove(refs[key], ref);
    } else if (refs[key] === ref) {
      refs[key] = undefined;
    }
  } else {
    if (vnode.data.refInFor) {
      if (!Array.isArray(refs[key])) {
        refs[key] = [ref];
      } else if (refs[key].indexOf(ref) < 0) {
        // $flow-disable-line
        refs[key].push(ref);
      }
    } else {
      refs[key] = ref;
    }
  }
}

/**
 * Virtual DOM patching algorithm based on Snabbdom by
 * Simon Friis Vindum (@paldepind)
 * Licensed under the MIT License
 * https://github.com/paldepind/snabbdom/blob/master/LICENSE
 *
 * modified by Evan You (@yyx990803)
 *
 * Not type-checking this because this file is perf-critical and the cost
 * of making flow understand it is not worth it.
 */

var emptyNode = new VNode('', {}, []);

var hooks = ['create', 'activate', 'update', 'remove', 'destroy'];

function sameVnode (a, b) {
  return (
    a.key === b.key && (
      (
        a.tag === b.tag &&
        a.isComment === b.isComment &&
        isDef(a.data) === isDef(b.data) &&
        sameInputType(a, b)
      ) || (
        isTrue(a.isAsyncPlaceholder) &&
        a.asyncFactory === b.asyncFactory &&
        isUndef(b.asyncFactory.error)
      )
    )
  )
}

function sameInputType (a, b) {
  if (a.tag !== 'input') { return true }
  var i;
  var typeA = isDef(i = a.data) && isDef(i = i.attrs) && i.type;
  var typeB = isDef(i = b.data) && isDef(i = i.attrs) && i.type;
  return typeA === typeB || isTextInputType(typeA) && isTextInputType(typeB)
}

function createKeyToOldIdx (children, beginIdx, endIdx) {
  var i, key;
  var map = {};
  for (i = beginIdx; i <= endIdx; ++i) {
    key = children[i].key;
    if (isDef(key)) { map[key] = i; }
  }
  return map
}

function createPatchFunction (backend) {
  var i, j;
  var cbs = {};

  var modules = backend.modules;
  var nodeOps = backend.nodeOps;

  for (i = 0; i < hooks.length; ++i) {
    cbs[hooks[i]] = [];
    for (j = 0; j < modules.length; ++j) {
      if (isDef(modules[j][hooks[i]])) {
        cbs[hooks[i]].push(modules[j][hooks[i]]);
      }
    }
  }

  function emptyNodeAt (elm) {
    return new VNode(nodeOps.tagName(elm).toLowerCase(), {}, [], undefined, elm)
  }

  function createRmCb (childElm, listeners) {
    function remove$$1 () {
      if (--remove$$1.listeners === 0) {
        removeNode(childElm);
      }
    }
    remove$$1.listeners = listeners;
    return remove$$1
  }

  function removeNode (el) {
    var parent = nodeOps.parentNode(el);
    // element may have already been removed due to v-html / v-text
    if (isDef(parent)) {
      nodeOps.removeChild(parent, el);
    }
  }

  function isUnknownElement$$1 (vnode, inVPre) {
    return (
      !inVPre &&
      !vnode.ns &&
      !(
        config.ignoredElements.length &&
        config.ignoredElements.some(function (ignore) {
          return isRegExp(ignore)
            ? ignore.test(vnode.tag)
            : ignore === vnode.tag
        })
      ) &&
      config.isUnknownElement(vnode.tag)
    )
  }

  var creatingElmInVPre = 0;

  function createElm (
    vnode,
    insertedVnodeQueue,
    parentElm,
    refElm,
    nested,
    ownerArray,
    index
  ) {
    if (isDef(vnode.elm) && isDef(ownerArray)) {
      // This vnode was used in a previous render!
      // now it's used as a new node, overwriting its elm would cause
      // potential patch errors down the road when it's used as an insertion
      // reference node. Instead, we clone the node on-demand before creating
      // associated DOM element for it.
      vnode = ownerArray[index] = cloneVNode(vnode);
    }

    vnode.isRootInsert = !nested; // for transition enter check
    if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) {
      return
    }

    var data = vnode.data;
    var children = vnode.children;
    var tag = vnode.tag;
    if (isDef(tag)) {
      if (false) {}

      vnode.elm = vnode.ns
        ? nodeOps.createElementNS(vnode.ns, tag)
        : nodeOps.createElement(tag, vnode);
      setScope(vnode);

      /* istanbul ignore if */
      {
        createChildren(vnode, children, insertedVnodeQueue);
        if (isDef(data)) {
          invokeCreateHooks(vnode, insertedVnodeQueue);
        }
        insert(parentElm, vnode.elm, refElm);
      }

      if (false) {}
    } else if (isTrue(vnode.isComment)) {
      vnode.elm = nodeOps.createComment(vnode.text);
      insert(parentElm, vnode.elm, refElm);
    } else {
      vnode.elm = nodeOps.createTextNode(vnode.text);
      insert(parentElm, vnode.elm, refElm);
    }
  }

  function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) {
    var i = vnode.data;
    if (isDef(i)) {
      var isReactivated = isDef(vnode.componentInstance) && i.keepAlive;
      if (isDef(i = i.hook) && isDef(i = i.init)) {
        i(vnode, false /* hydrating */);
      }
      // after calling the init hook, if the vnode is a child component
      // it should've created a child instance and mounted it. the child
      // component also has set the placeholder vnode's elm.
      // in that case we can just return the element and be done.
      if (isDef(vnode.componentInstance)) {
        initComponent(vnode, insertedVnodeQueue);
        insert(parentElm, vnode.elm, refElm);
        if (isTrue(isReactivated)) {
          reactivateComponent(vnode, insertedVnodeQueue, parentElm, refElm);
        }
        return true
      }
    }
  }

  function initComponent (vnode, insertedVnodeQueue) {
    if (isDef(vnode.data.pendingInsert)) {
      insertedVnodeQueue.push.apply(insertedVnodeQueue, vnode.data.pendingInsert);
      vnode.data.pendingInsert = null;
    }
    vnode.elm = vnode.componentInstance.$el;
    if (isPatchable(vnode)) {
      invokeCreateHooks(vnode, insertedVnodeQueue);
      setScope(vnode);
    } else {
      // empty component root.
      // skip all element-related modules except for ref (#3455)
      registerRef(vnode);
      // make sure to invoke the insert hook
      insertedVnodeQueue.push(vnode);
    }
  }

  function reactivateComponent (vnode, insertedVnodeQueue, parentElm, refElm) {
    var i;
    // hack for #4339: a reactivated component with inner transition
    // does not trigger because the inner node's created hooks are not called
    // again. It's not ideal to involve module-specific logic in here but
    // there doesn't seem to be a better way to do it.
    var innerNode = vnode;
    while (innerNode.componentInstance) {
      innerNode = innerNode.componentInstance._vnode;
      if (isDef(i = innerNode.data) && isDef(i = i.transition)) {
        for (i = 0; i < cbs.activate.length; ++i) {
          cbs.activate[i](emptyNode, innerNode);
        }
        insertedVnodeQueue.push(innerNode);
        break
      }
    }
    // unlike a newly created component,
    // a reactivated keep-alive component doesn't insert itself
    insert(parentElm, vnode.elm, refElm);
  }

  function insert (parent, elm, ref$$1) {
    if (isDef(parent)) {
      if (isDef(ref$$1)) {
        if (nodeOps.parentNode(ref$$1) === parent) {
          nodeOps.insertBefore(parent, elm, ref$$1);
        }
      } else {
        nodeOps.appendChild(parent, elm);
      }
    }
  }

  function createChildren (vnode, children, insertedVnodeQueue) {
    if (Array.isArray(children)) {
      if (false) {}
      for (var i = 0; i < children.length; ++i) {
        createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);
      }
    } else if (isPrimitive(vnode.text)) {
      nodeOps.appendChild(vnode.elm, nodeOps.createTextNode(String(vnode.text)));
    }
  }

  function isPatchable (vnode) {
    while (vnode.componentInstance) {
      vnode = vnode.componentInstance._vnode;
    }
    return isDef(vnode.tag)
  }

  function invokeCreateHooks (vnode, insertedVnodeQueue) {
    for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {
      cbs.create[i$1](emptyNode, vnode);
    }
    i = vnode.data.hook; // Reuse variable
    if (isDef(i)) {
      if (isDef(i.create)) { i.create(emptyNode, vnode); }
      if (isDef(i.insert)) { insertedVnodeQueue.push(vnode); }
    }
  }

  // set scope id attribute for scoped CSS.
  // this is implemented as a special case to avoid the overhead
  // of going through the normal attribute patching process.
  function setScope (vnode) {
    var i;
    if (isDef(i = vnode.fnScopeId)) {
      nodeOps.setStyleScope(vnode.elm, i);
    } else {
      var ancestor = vnode;
      while (ancestor) {
        if (isDef(i = ancestor.context) && isDef(i = i.$options._scopeId)) {
          nodeOps.setStyleScope(vnode.elm, i);
        }
        ancestor = ancestor.parent;
      }
    }
    // for slot content they should also get the scopeId from the host instance.
    if (isDef(i = activeInstance) &&
      i !== vnode.context &&
      i !== vnode.fnContext &&
      isDef(i = i.$options._scopeId)
    ) {
      nodeOps.setStyleScope(vnode.elm, i);
    }
  }

  function addVnodes (parentElm, refElm, vnodes, startIdx, endIdx, insertedVnodeQueue) {
    for (; startIdx <= endIdx; ++startIdx) {
      createElm(vnodes[startIdx], insertedVnodeQueue, parentElm, refElm, false, vnodes, startIdx);
    }
  }

  function invokeDestroyHook (vnode) {
    var i, j;
    var data = vnode.data;
    if (isDef(data)) {
      if (isDef(i = data.hook) && isDef(i = i.destroy)) { i(vnode); }
      for (i = 0; i < cbs.destroy.length; ++i) { cbs.destroy[i](vnode); }
    }
    if (isDef(i = vnode.children)) {
      for (j = 0; j < vnode.children.length; ++j) {
        invokeDestroyHook(vnode.children[j]);
      }
    }
  }

  function removeVnodes (parentElm, vnodes, startIdx, endIdx) {
    for (; startIdx <= endIdx; ++startIdx) {
      var ch = vnodes[startIdx];
      if (isDef(ch)) {
        if (isDef(ch.tag)) {
          removeAndInvokeRemoveHook(ch);
          invokeDestroyHook(ch);
        } else { // Text node
          removeNode(ch.elm);
        }
      }
    }
  }

  function removeAndInvokeRemoveHook (vnode, rm) {
    if (isDef(rm) || isDef(vnode.data)) {
      var i;
      var listeners = cbs.remove.length + 1;
      if (isDef(rm)) {
        // we have a recursively passed down rm callback
        // increase the listeners count
        rm.listeners += listeners;
      } else {
        // directly removing
        rm = createRmCb(vnode.elm, listeners);
      }
      // recursively invoke hooks on child component root node
      if (isDef(i = vnode.componentInstance) && isDef(i = i._vnode) && isDef(i.data)) {
        removeAndInvokeRemoveHook(i, rm);
      }
      for (i = 0; i < cbs.remove.length; ++i) {
        cbs.remove[i](vnode, rm);
      }
      if (isDef(i = vnode.data.hook) && isDef(i = i.remove)) {
        i(vnode, rm);
      } else {
        rm();
      }
    } else {
      removeNode(vnode.elm);
    }
  }

  function updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) {
    var oldStartIdx = 0;
    var newStartIdx = 0;
    var oldEndIdx = oldCh.length - 1;
    var oldStartVnode = oldCh[0];
    var oldEndVnode = oldCh[oldEndIdx];
    var newEndIdx = newCh.length - 1;
    var newStartVnode = newCh[0];
    var newEndVnode = newCh[newEndIdx];
    var oldKeyToIdx, idxInOld, vnodeToMove, refElm;

    // removeOnly is a special flag used only by <transition-group>
    // to ensure removed elements stay in correct relative positions
    // during leaving transitions
    var canMove = !removeOnly;

    if (false) {}

    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {
      if (isUndef(oldStartVnode)) {
        oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left
      } else if (isUndef(oldEndVnode)) {
        oldEndVnode = oldCh[--oldEndIdx];
      } else if (sameVnode(oldStartVnode, newStartVnode)) {
        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
        oldStartVnode = oldCh[++oldStartIdx];
        newStartVnode = newCh[++newStartIdx];
      } else if (sameVnode(oldEndVnode, newEndVnode)) {
        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);
        oldEndVnode = oldCh[--oldEndIdx];
        newEndVnode = newCh[--newEndIdx];
      } else if (sameVnode(oldStartVnode, newEndVnode)) { // Vnode moved right
        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx);
        canMove && nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm));
        oldStartVnode = oldCh[++oldStartIdx];
        newEndVnode = newCh[--newEndIdx];
      } else if (sameVnode(oldEndVnode, newStartVnode)) { // Vnode moved left
        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
        canMove && nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm);
        oldEndVnode = oldCh[--oldEndIdx];
        newStartVnode = newCh[++newStartIdx];
      } else {
        if (isUndef(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }
        idxInOld = isDef(newStartVnode.key)
          ? oldKeyToIdx[newStartVnode.key]
          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx);
        if (isUndef(idxInOld)) { // New element
          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);
        } else {
          vnodeToMove = oldCh[idxInOld];
          if (sameVnode(vnodeToMove, newStartVnode)) {
            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx);
            oldCh[idxInOld] = undefined;
            canMove && nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm);
          } else {
            // same key but different element. treat as new element
            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, false, newCh, newStartIdx);
          }
        }
        newStartVnode = newCh[++newStartIdx];
      }
    }
    if (oldStartIdx > oldEndIdx) {
      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm;
      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue);
    } else if (newStartIdx > newEndIdx) {
      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx);
    }
  }

  function checkDuplicateKeys (children) {
    var seenKeys = {};
    for (var i = 0; i < children.length; i++) {
      var vnode = children[i];
      var key = vnode.key;
      if (isDef(key)) {
        if (seenKeys[key]) {
          warn(
            ("Duplicate keys detected: '" + key + "'. This may cause an update error."),
            vnode.context
          );
        } else {
          seenKeys[key] = true;
        }
      }
    }
  }

  function findIdxInOld (node, oldCh, start, end) {
    for (var i = start; i < end; i++) {
      var c = oldCh[i];
      if (isDef(c) && sameVnode(node, c)) { return i }
    }
  }

  function patchVnode (
    oldVnode,
    vnode,
    insertedVnodeQueue,
    ownerArray,
    index,
    removeOnly
  ) {
    if (oldVnode === vnode) {
      return
    }

    if (isDef(vnode.elm) && isDef(ownerArray)) {
      // clone reused vnode
      vnode = ownerArray[index] = cloneVNode(vnode);
    }

    var elm = vnode.elm = oldVnode.elm;

    if (isTrue(oldVnode.isAsyncPlaceholder)) {
      if (isDef(vnode.asyncFactory.resolved)) {
        hydrate(oldVnode.elm, vnode, insertedVnodeQueue);
      } else {
        vnode.isAsyncPlaceholder = true;
      }
      return
    }

    // reuse element for static trees.
    // note we only do this if the vnode is cloned -
    // if the new node is not cloned it means the render functions have been
    // reset by the hot-reload-api and we need to do a proper re-render.
    if (isTrue(vnode.isStatic) &&
      isTrue(oldVnode.isStatic) &&
      vnode.key === oldVnode.key &&
      (isTrue(vnode.isCloned) || isTrue(vnode.isOnce))
    ) {
      vnode.componentInstance = oldVnode.componentInstance;
      return
    }

    var i;
    var data = vnode.data;
    if (isDef(data) && isDef(i = data.hook) && isDef(i = i.prepatch)) {
      i(oldVnode, vnode);
    }

    var oldCh = oldVnode.children;
    var ch = vnode.children;
    if (isDef(data) && isPatchable(vnode)) {
      for (i = 0; i < cbs.update.length; ++i) { cbs.update[i](oldVnode, vnode); }
      if (isDef(i = data.hook) && isDef(i = i.update)) { i(oldVnode, vnode); }
    }
    if (isUndef(vnode.text)) {
      if (isDef(oldCh) && isDef(ch)) {
        if (oldCh !== ch) { updateChildren(elm, oldCh, ch, insertedVnodeQueue, removeOnly); }
      } else if (isDef(ch)) {
        if (false) {}
        if (isDef(oldVnode.text)) { nodeOps.setTextContent(elm, ''); }
        addVnodes(elm, null, ch, 0, ch.length - 1, insertedVnodeQueue);
      } else if (isDef(oldCh)) {
        removeVnodes(elm, oldCh, 0, oldCh.length - 1);
      } else if (isDef(oldVnode.text)) {
        nodeOps.setTextContent(elm, '');
      }
    } else if (oldVnode.text !== vnode.text) {
      nodeOps.setTextContent(elm, vnode.text);
    }
    if (isDef(data)) {
      if (isDef(i = data.hook) && isDef(i = i.postpatch)) { i(oldVnode, vnode); }
    }
  }

  function invokeInsertHook (vnode, queue, initial) {
    // delay insert hooks for component root nodes, invoke them after the
    // element is really inserted
    if (isTrue(initial) && isDef(vnode.parent)) {
      vnode.parent.data.pendingInsert = queue;
    } else {
      for (var i = 0; i < queue.length; ++i) {
        queue[i].data.hook.insert(queue[i]);
      }
    }
  }

  var hydrationBailed = false;
  // list of modules that can skip create hook during hydration because they
  // are already rendered on the client or has no need for initialization
  // Note: style is excluded because it relies on initial clone for future
  // deep updates (#7063).
  var isRenderedModule = makeMap('attrs,class,staticClass,staticStyle,key');

  // Note: this is a browser-only function so we can assume elms are DOM nodes.
  function hydrate (elm, vnode, insertedVnodeQueue, inVPre) {
    var i;
    var tag = vnode.tag;
    var data = vnode.data;
    var children = vnode.children;
    inVPre = inVPre || (data && data.pre);
    vnode.elm = elm;

    if (isTrue(vnode.isComment) && isDef(vnode.asyncFactory)) {
      vnode.isAsyncPlaceholder = true;
      return true
    }
    // assert node match
    if (false) {}
    if (isDef(data)) {
      if (isDef(i = data.hook) && isDef(i = i.init)) { i(vnode, true /* hydrating */); }
      if (isDef(i = vnode.componentInstance)) {
        // child component. it should have hydrated its own tree.
        initComponent(vnode, insertedVnodeQueue);
        return true
      }
    }
    if (isDef(tag)) {
      if (isDef(children)) {
        // empty element, allow client to pick up and populate children
        if (!elm.hasChildNodes()) {
          createChildren(vnode, children, insertedVnodeQueue);
        } else {
          // v-html and domProps: innerHTML
          if (isDef(i = data) && isDef(i = i.domProps) && isDef(i = i.innerHTML)) {
            if (i !== elm.innerHTML) {
              /* istanbul ignore if */
              if (false
              ) {}
              return false
            }
          } else {
            // iterate and compare children lists
            var childrenMatch = true;
            var childNode = elm.firstChild;
            for (var i$1 = 0; i$1 < children.length; i$1++) {
              if (!childNode || !hydrate(childNode, children[i$1], insertedVnodeQueue, inVPre)) {
                childrenMatch = false;
                break
              }
              childNode = childNode.nextSibling;
            }
            // if childNode is not null, it means the actual childNodes list is
            // longer than the virtual children list.
            if (!childrenMatch || childNode) {
              /* istanbul ignore if */
              if (false
              ) {}
              return false
            }
          }
        }
      }
      if (isDef(data)) {
        var fullInvoke = false;
        for (var key in data) {
          if (!isRenderedModule(key)) {
            fullInvoke = true;
            invokeCreateHooks(vnode, insertedVnodeQueue);
            break
          }
        }
        if (!fullInvoke && data['class']) {
          // ensure collecting deps for deep class bindings for future updates
          traverse(data['class']);
        }
      }
    } else if (elm.data !== vnode.text) {
      elm.data = vnode.text;
    }
    return true
  }

  function assertNodeMatch (node, vnode, inVPre) {
    if (isDef(vnode.tag)) {
      return vnode.tag.indexOf('vue-component') === 0 || (
        !isUnknownElement$$1(vnode, inVPre) &&
        vnode.tag.toLowerCase() === (node.tagName && node.tagName.toLowerCase())
      )
    } else {
      return node.nodeType === (vnode.isComment ? 8 : 3)
    }
  }

  return function patch (oldVnode, vnode, hydrating, removeOnly) {
    if (isUndef(vnode)) {
      if (isDef(oldVnode)) { invokeDestroyHook(oldVnode); }
      return
    }

    var isInitialPatch = false;
    var insertedVnodeQueue = [];

    if (isUndef(oldVnode)) {
      // empty mount (likely as component), create new root element
      isInitialPatch = true;
      createElm(vnode, insertedVnodeQueue);
    } else {
      var isRealElement = isDef(oldVnode.nodeType);
      if (!isRealElement && sameVnode(oldVnode, vnode)) {
        // patch existing root node
        patchVnode(oldVnode, vnode, insertedVnodeQueue, null, null, removeOnly);
      } else {
        if (isRealElement) {
          // mounting to a real element
          // check if this is server-rendered content and if we can perform
          // a successful hydration.
          if (oldVnode.nodeType === 1 && oldVnode.hasAttribute(SSR_ATTR)) {
            oldVnode.removeAttribute(SSR_ATTR);
            hydrating = true;
          }
          if (isTrue(hydrating)) {
            if (hydrate(oldVnode, vnode, insertedVnodeQueue)) {
              invokeInsertHook(vnode, insertedVnodeQueue, true);
              return oldVnode
            } else if (false) {}
          }
          // either not server-rendered, or hydration failed.
          // create an empty node and replace it
          oldVnode = emptyNodeAt(oldVnode);
        }

        // replacing existing element
        var oldElm = oldVnode.elm;
        var parentElm = nodeOps.parentNode(oldElm);

        // create new node
        createElm(
          vnode,
          insertedVnodeQueue,
          // extremely rare edge case: do not insert if old element is in a
          // leaving transition. Only happens when combining transition +
          // keep-alive + HOCs. (#4590)
          oldElm._leaveCb ? null : parentElm,
          nodeOps.nextSibling(oldElm)
        );

        // update parent placeholder node element, recursively
        if (isDef(vnode.parent)) {
          var ancestor = vnode.parent;
          var patchable = isPatchable(vnode);
          while (ancestor) {
            for (var i = 0; i < cbs.destroy.length; ++i) {
              cbs.destroy[i](ancestor);
            }
            ancestor.elm = vnode.elm;
            if (patchable) {
              for (var i$1 = 0; i$1 < cbs.create.length; ++i$1) {
                cbs.create[i$1](emptyNode, ancestor);
              }
              // #6513
              // invoke insert hooks that may have been merged by create hooks.
              // e.g. for directives that uses the "inserted" hook.
              var insert = ancestor.data.hook.insert;
              if (insert.merged) {
                // start at index 1 to avoid re-invoking component mounted hook
                for (var i$2 = 1; i$2 < insert.fns.length; i$2++) {
                  insert.fns[i$2]();
                }
              }
            } else {
              registerRef(ancestor);
            }
            ancestor = ancestor.parent;
          }
        }

        // destroy old node
        if (isDef(parentElm)) {
          removeVnodes(parentElm, [oldVnode], 0, 0);
        } else if (isDef(oldVnode.tag)) {
          invokeDestroyHook(oldVnode);
        }
      }
    }

    invokeInsertHook(vnode, insertedVnodeQueue, isInitialPatch);
    return vnode.elm
  }
}

/*  */

var directives = {
  create: updateDirectives,
  update: updateDirectives,
  destroy: function unbindDirectives (vnode) {
    updateDirectives(vnode, emptyNode);
  }
};

function updateDirectives (oldVnode, vnode) {
  if (oldVnode.data.directives || vnode.data.directives) {
    _update(oldVnode, vnode);
  }
}

function _update (oldVnode, vnode) {
  var isCreate = oldVnode === emptyNode;
  var isDestroy = vnode === emptyNode;
  var oldDirs = normalizeDirectives$1(oldVnode.data.directives, oldVnode.context);
  var newDirs = normalizeDirectives$1(vnode.data.directives, vnode.context);

  var dirsWithInsert = [];
  var dirsWithPostpatch = [];

  var key, oldDir, dir;
  for (key in newDirs) {
    oldDir = oldDirs[key];
    dir = newDirs[key];
    if (!oldDir) {
      // new directive, bind
      callHook$1(dir, 'bind', vnode, oldVnode);
      if (dir.def && dir.def.inserted) {
        dirsWithInsert.push(dir);
      }
    } else {
      // existing directive, update
      dir.oldValue = oldDir.value;
      callHook$1(dir, 'update', vnode, oldVnode);
      if (dir.def && dir.def.componentUpdated) {
        dirsWithPostpatch.push(dir);
      }
    }
  }

  if (dirsWithInsert.length) {
    var callInsert = function () {
      for (var i = 0; i < dirsWithInsert.length; i++) {
        callHook$1(dirsWithInsert[i], 'inserted', vnode, oldVnode);
      }
    };
    if (isCreate) {
      mergeVNodeHook(vnode, 'insert', callInsert);
    } else {
      callInsert();
    }
  }

  if (dirsWithPostpatch.length) {
    mergeVNodeHook(vnode, 'postpatch', function () {
      for (var i = 0; i < dirsWithPostpatch.length; i++) {
        callHook$1(dirsWithPostpatch[i], 'componentUpdated', vnode, oldVnode);
      }
    });
  }

  if (!isCreate) {
    for (key in oldDirs) {
      if (!newDirs[key]) {
        // no longer present, unbind
        callHook$1(oldDirs[key], 'unbind', oldVnode, oldVnode, isDestroy);
      }
    }
  }
}

var emptyModifiers = Object.create(null);

function normalizeDirectives$1 (
  dirs,
  vm
) {
  var res = Object.create(null);
  if (!dirs) {
    // $flow-disable-line
    return res
  }
  var i, dir;
  for (i = 0; i < dirs.length; i++) {
    dir = dirs[i];
    if (!dir.modifiers) {
      // $flow-disable-line
      dir.modifiers = emptyModifiers;
    }
    res[getRawDirName(dir)] = dir;
    dir.def = resolveAsset(vm.$options, 'directives', dir.name, true);
  }
  // $flow-disable-line
  return res
}

function getRawDirName (dir) {
  return dir.rawName || ((dir.name) + "." + (Object.keys(dir.modifiers || {}).join('.')))
}

function callHook$1 (dir, hook, vnode, oldVnode, isDestroy) {
  var fn = dir.def && dir.def[hook];
  if (fn) {
    try {
      fn(vnode.elm, dir, vnode, oldVnode, isDestroy);
    } catch (e) {
      handleError(e, vnode.context, ("directive " + (dir.name) + " " + hook + " hook"));
    }
  }
}

var baseModules = [
  ref,
  directives
];

/*  */

function updateAttrs (oldVnode, vnode) {
  var opts = vnode.componentOptions;
  if (isDef(opts) && opts.Ctor.options.inheritAttrs === false) {
    return
  }
  if (isUndef(oldVnode.data.attrs) && isUndef(vnode.data.attrs)) {
    return
  }
  var key, cur, old;
  var elm = vnode.elm;
  var oldAttrs = oldVnode.data.attrs || {};
  var attrs = vnode.data.attrs || {};
  // clone observed objects, as the user probably wants to mutate it
  if (isDef(attrs.__ob__)) {
    attrs = vnode.data.attrs = extend({}, attrs);
  }

  for (key in attrs) {
    cur = attrs[key];
    old = oldAttrs[key];
    if (old !== cur) {
      setAttr(elm, key, cur);
    }
  }
  // #4391: in IE9, setting type can reset value for input[type=radio]
  // #6666: IE/Edge forces progress value down to 1 before setting a max
  /* istanbul ignore if */
  if ((isIE || isEdge) && attrs.value !== oldAttrs.value) {
    setAttr(elm, 'value', attrs.value);
  }
  for (key in oldAttrs) {
    if (isUndef(attrs[key])) {
      if (isXlink(key)) {
        elm.removeAttributeNS(xlinkNS, getXlinkProp(key));
      } else if (!isEnumeratedAttr(key)) {
        elm.removeAttribute(key);
      }
    }
  }
}

function setAttr (el, key, value) {
  if (el.tagName.indexOf('-') > -1) {
    baseSetAttr(el, key, value);
  } else if (isBooleanAttr(key)) {
    // set attribute for blank value
    // e.g. <option disabled>Select one</option>
    if (isFalsyAttrValue(value)) {
      el.removeAttribute(key);
    } else {
      // technically allowfullscreen is a boolean attribute for <iframe>,
      // but Flash expects a value of "true" when used on <embed> tag
      value = key === 'allowfullscreen' && el.tagName === 'EMBED'
        ? 'true'
        : key;
      el.setAttribute(key, value);
    }
  } else if (isEnumeratedAttr(key)) {
    el.setAttribute(key, isFalsyAttrValue(value) || value === 'false' ? 'false' : 'true');
  } else if (isXlink(key)) {
    if (isFalsyAttrValue(value)) {
      el.removeAttributeNS(xlinkNS, getXlinkProp(key));
    } else {
      el.setAttributeNS(xlinkNS, key, value);
    }
  } else {
    baseSetAttr(el, key, value);
  }
}

function baseSetAttr (el, key, value) {
  if (isFalsyAttrValue(value)) {
    el.removeAttribute(key);
  } else {
    // #7138: IE10 & 11 fires input event when setting placeholder on
    // <textarea>... block the first input event and remove the blocker
    // immediately.
    /* istanbul ignore if */
    if (
      isIE && !isIE9 &&
      (el.tagName === 'TEXTAREA' || el.tagName === 'INPUT') &&
      key === 'placeholder' && !el.__ieph
    ) {
      var blocker = function (e) {
        e.stopImmediatePropagation();
        el.removeEventListener('input', blocker);
      };
      el.addEventListener('input', blocker);
      // $flow-disable-line
      el.__ieph = true; /* IE placeholder patched */
    }
    el.setAttribute(key, value);
  }
}

var attrs = {
  create: updateAttrs,
  update: updateAttrs
};

/*  */

function updateClass (oldVnode, vnode) {
  var el = vnode.elm;
  var data = vnode.data;
  var oldData = oldVnode.data;
  if (
    isUndef(data.staticClass) &&
    isUndef(data.class) && (
      isUndef(oldData) || (
        isUndef(oldData.staticClass) &&
        isUndef(oldData.class)
      )
    )
  ) {
    return
  }

  var cls = genClassForVnode(vnode);

  // handle transition classes
  var transitionClass = el._transitionClasses;
  if (isDef(transitionClass)) {
    cls = concat(cls, stringifyClass(transitionClass));
  }

  // set the class
  if (cls !== el._prevClass) {
    el.setAttribute('class', cls);
    el._prevClass = cls;
  }
}

var klass = {
  create: updateClass,
  update: updateClass
};

/*  */

var validDivisionCharRE = /[\w).+\-_$\]]/;

function parseFilters (exp) {
  var inSingle = false;
  var inDouble = false;
  var inTemplateString = false;
  var inRegex = false;
  var curly = 0;
  var square = 0;
  var paren = 0;
  var lastFilterIndex = 0;
  var c, prev, i, expression, filters;

  for (i = 0; i < exp.length; i++) {
    prev = c;
    c = exp.charCodeAt(i);
    if (inSingle) {
      if (c === 0x27 && prev !== 0x5C) { inSingle = false; }
    } else if (inDouble) {
      if (c === 0x22 && prev !== 0x5C) { inDouble = false; }
    } else if (inTemplateString) {
      if (c === 0x60 && prev !== 0x5C) { inTemplateString = false; }
    } else if (inRegex) {
      if (c === 0x2f && prev !== 0x5C) { inRegex = false; }
    } else if (
      c === 0x7C && // pipe
      exp.charCodeAt(i + 1) !== 0x7C &&
      exp.charCodeAt(i - 1) !== 0x7C &&
      !curly && !square && !paren
    ) {
      if (expression === undefined) {
        // first filter, end of expression
        lastFilterIndex = i + 1;
        expression = exp.slice(0, i).trim();
      } else {
        pushFilter();
      }
    } else {
      switch (c) {
        case 0x22: inDouble = true; break         // "
        case 0x27: inSingle = true; break         // '
        case 0x60: inTemplateString = true; break // `
        case 0x28: paren++; break                 // (
        case 0x29: paren--; break                 // )
        case 0x5B: square++; break                // [
        case 0x5D: square--; break                // ]
        case 0x7B: curly++; break                 // {
        case 0x7D: curly--; break                 // }
      }
      if (c === 0x2f) { // /
        var j = i - 1;
        var p = (void 0);
        // find first non-whitespace prev char
        for (; j >= 0; j--) {
          p = exp.charAt(j);
          if (p !== ' ') { break }
        }
        if (!p || !validDivisionCharRE.test(p)) {
          inRegex = true;
        }
      }
    }
  }

  if (expression === undefined) {
    expression = exp.slice(0, i).trim();
  } else if (lastFilterIndex !== 0) {
    pushFilter();
  }

  function pushFilter () {
    (filters || (filters = [])).push(exp.slice(lastFilterIndex, i).trim());
    lastFilterIndex = i + 1;
  }

  if (filters) {
    for (i = 0; i < filters.length; i++) {
      expression = wrapFilter(expression, filters[i]);
    }
  }

  return expression
}

function wrapFilter (exp, filter) {
  var i = filter.indexOf('(');
  if (i < 0) {
    // _f: resolveFilter
    return ("_f(\"" + filter + "\")(" + exp + ")")
  } else {
    var name = filter.slice(0, i);
    var args = filter.slice(i + 1);
    return ("_f(\"" + name + "\")(" + exp + (args !== ')' ? ',' + args : args))
  }
}

/*  */

function baseWarn (msg) {
  console.error(("[Vue compiler]: " + msg));
}

function pluckModuleFunction (
  modules,
  key
) {
  return modules
    ? modules.map(function (m) { return m[key]; }).filter(function (_) { return _; })
    : []
}

function addProp (el, name, value) {
  (el.props || (el.props = [])).push({ name: name, value: value });
  el.plain = false;
}

function addAttr (el, name, value) {
  (el.attrs || (el.attrs = [])).push({ name: name, value: value });
  el.plain = false;
}

// add a raw attr (use this in preTransforms)
function addRawAttr (el, name, value) {
  el.attrsMap[name] = value;
  el.attrsList.push({ name: name, value: value });
}

function addDirective (
  el,
  name,
  rawName,
  value,
  arg,
  modifiers
) {
  (el.directives || (el.directives = [])).push({ name: name, rawName: rawName, value: value, arg: arg, modifiers: modifiers });
  el.plain = false;
}

function addHandler (
  el,
  name,
  value,
  modifiers,
  important,
  warn
) {
  modifiers = modifiers || emptyObject;
  // warn prevent and passive modifier
  /* istanbul ignore if */
  if (
    false
  ) {}

  // normalize click.right and click.middle since they don't actually fire
  // this is technically browser-specific, but at least for now browsers are
  // the only target envs that have right/middle clicks.
  if (name === 'click') {
    if (modifiers.right) {
      name = 'contextmenu';
      delete modifiers.right;
    } else if (modifiers.middle) {
      name = 'mouseup';
    }
  }

  // check capture modifier
  if (modifiers.capture) {
    delete modifiers.capture;
    name = '!' + name; // mark the event as captured
  }
  if (modifiers.once) {
    delete modifiers.once;
    name = '~' + name; // mark the event as once
  }
  /* istanbul ignore if */
  if (modifiers.passive) {
    delete modifiers.passive;
    name = '&' + name; // mark the event as passive
  }

  var events;
  if (modifiers.native) {
    delete modifiers.native;
    events = el.nativeEvents || (el.nativeEvents = {});
  } else {
    events = el.events || (el.events = {});
  }

  var newHandler = {
    value: value.trim()
  };
  if (modifiers !== emptyObject) {
    newHandler.modifiers = modifiers;
  }

  var handlers = events[name];
  /* istanbul ignore if */
  if (Array.isArray(handlers)) {
    important ? handlers.unshift(newHandler) : handlers.push(newHandler);
  } else if (handlers) {
    events[name] = important ? [newHandler, handlers] : [handlers, newHandler];
  } else {
    events[name] = newHandler;
  }

  el.plain = false;
}

function getBindingAttr (
  el,
  name,
  getStatic
) {
  var dynamicValue =
    getAndRemoveAttr(el, ':' + name) ||
    getAndRemoveAttr(el, 'v-bind:' + name);
  if (dynamicValue != null) {
    return parseFilters(dynamicValue)
  } else if (getStatic !== false) {
    var staticValue = getAndRemoveAttr(el, name);
    if (staticValue != null) {
      return JSON.stringify(staticValue)
    }
  }
}

// note: this only removes the attr from the Array (attrsList) so that it
// doesn't get processed by processAttrs.
// By default it does NOT remove it from the map (attrsMap) because the map is
// needed during codegen.
function getAndRemoveAttr (
  el,
  name,
  removeFromMap
) {
  var val;
  if ((val = el.attrsMap[name]) != null) {
    var list = el.attrsList;
    for (var i = 0, l = list.length; i < l; i++) {
      if (list[i].name === name) {
        list.splice(i, 1);
        break
      }
    }
  }
  if (removeFromMap) {
    delete el.attrsMap[name];
  }
  return val
}

/*  */

/**
 * Cross-platform code generation for component v-model
 */
function genComponentModel (
  el,
  value,
  modifiers
) {
  var ref = modifiers || {};
  var number = ref.number;
  var trim = ref.trim;

  var baseValueExpression = '$$v';
  var valueExpression = baseValueExpression;
  if (trim) {
    valueExpression =
      "(typeof " + baseValueExpression + " === 'string'" +
      "? " + baseValueExpression + ".trim()" +
      ": " + baseValueExpression + ")";
  }
  if (number) {
    valueExpression = "_n(" + valueExpression + ")";
  }
  var assignment = genAssignmentCode(value, valueExpression);

  el.model = {
    value: ("(" + value + ")"),
    expression: JSON.stringify(value),
    callback: ("function (" + baseValueExpression + ") {" + assignment + "}")
  };
}

/**
 * Cross-platform codegen helper for generating v-model value assignment code.
 */
function genAssignmentCode (
  value,
  assignment
) {
  var res = parseModel(value);
  if (res.key === null) {
    return (value + "=" + assignment)
  } else {
    return ("$set(" + (res.exp) + ", " + (res.key) + ", " + assignment + ")")
  }
}

/**
 * Parse a v-model expression into a base path and a final key segment.
 * Handles both dot-path and possible square brackets.
 *
 * Possible cases:
 *
 * - test
 * - test[key]
 * - test[test1[key]]
 * - test["a"][key]
 * - xxx.test[a[a].test1[key]]
 * - test.xxx.a["asa"][test1[key]]
 *
 */

var len, str, chr, index$1, expressionPos, expressionEndPos;



function parseModel (val) {
  // Fix https://github.com/vuejs/vue/pull/7730
  // allow v-model="obj.val " (trailing whitespace)
  val = val.trim();
  len = val.length;

  if (val.indexOf('[') < 0 || val.lastIndexOf(']') < len - 1) {
    index$1 = val.lastIndexOf('.');
    if (index$1 > -1) {
      return {
        exp: val.slice(0, index$1),
        key: '"' + val.slice(index$1 + 1) + '"'
      }
    } else {
      return {
        exp: val,
        key: null
      }
    }
  }

  str = val;
  index$1 = expressionPos = expressionEndPos = 0;

  while (!eof()) {
    chr = next();
    /* istanbul ignore if */
    if (isStringStart(chr)) {
      parseString(chr);
    } else if (chr === 0x5B) {
      parseBracket(chr);
    }
  }

  return {
    exp: val.slice(0, expressionPos),
    key: val.slice(expressionPos + 1, expressionEndPos)
  }
}

function next () {
  return str.charCodeAt(++index$1)
}

function eof () {
  return index$1 >= len
}

function isStringStart (chr) {
  return chr === 0x22 || chr === 0x27
}

function parseBracket (chr) {
  var inBracket = 1;
  expressionPos = index$1;
  while (!eof()) {
    chr = next();
    if (isStringStart(chr)) {
      parseString(chr);
      continue
    }
    if (chr === 0x5B) { inBracket++; }
    if (chr === 0x5D) { inBracket--; }
    if (inBracket === 0) {
      expressionEndPos = index$1;
      break
    }
  }
}

function parseString (chr) {
  var stringQuote = chr;
  while (!eof()) {
    chr = next();
    if (chr === stringQuote) {
      break
    }
  }
}

/*  */

var warn$1;

// in some cases, the event used has to be determined at runtime
// so we used some reserved tokens during compile.
var RANGE_TOKEN = '__r';
var CHECKBOX_RADIO_TOKEN = '__c';

function model (
  el,
  dir,
  _warn
) {
  warn$1 = _warn;
  var value = dir.value;
  var modifiers = dir.modifiers;
  var tag = el.tag;
  var type = el.attrsMap.type;

  if (false) {}

  if (el.component) {
    genComponentModel(el, value, modifiers);
    // component v-model doesn't need extra runtime
    return false
  } else if (tag === 'select') {
    genSelect(el, value, modifiers);
  } else if (tag === 'input' && type === 'checkbox') {
    genCheckboxModel(el, value, modifiers);
  } else if (tag === 'input' && type === 'radio') {
    genRadioModel(el, value, modifiers);
  } else if (tag === 'input' || tag === 'textarea') {
    genDefaultModel(el, value, modifiers);
  } else if (!config.isReservedTag(tag)) {
    genComponentModel(el, value, modifiers);
    // component v-model doesn't need extra runtime
    return false
  } else if (false) {}

  // ensure runtime directive metadata
  return true
}

function genCheckboxModel (
  el,
  value,
  modifiers
) {
  var number = modifiers && modifiers.number;
  var valueBinding = getBindingAttr(el, 'value') || 'null';
  var trueValueBinding = getBindingAttr(el, 'true-value') || 'true';
  var falseValueBinding = getBindingAttr(el, 'false-value') || 'false';
  addProp(el, 'checked',
    "Array.isArray(" + value + ")" +
    "?_i(" + value + "," + valueBinding + ")>-1" + (
      trueValueBinding === 'true'
        ? (":(" + value + ")")
        : (":_q(" + value + "," + trueValueBinding + ")")
    )
  );
  addHandler(el, 'change',
    "var $$a=" + value + "," +
        '$$el=$event.target,' +
        "$$c=$$el.checked?(" + trueValueBinding + "):(" + falseValueBinding + ");" +
    'if(Array.isArray($$a)){' +
      "var $$v=" + (number ? '_n(' + valueBinding + ')' : valueBinding) + "," +
          '$$i=_i($$a,$$v);' +
      "if($$el.checked){$$i<0&&(" + (genAssignmentCode(value, '$$a.concat([$$v])')) + ")}" +
      "else{$$i>-1&&(" + (genAssignmentCode(value, '$$a.slice(0,$$i).concat($$a.slice($$i+1))')) + ")}" +
    "}else{" + (genAssignmentCode(value, '$$c')) + "}",
    null, true
  );
}

function genRadioModel (
  el,
  value,
  modifiers
) {
  var number = modifiers && modifiers.number;
  var valueBinding = getBindingAttr(el, 'value') || 'null';
  valueBinding = number ? ("_n(" + valueBinding + ")") : valueBinding;
  addProp(el, 'checked', ("_q(" + value + "," + valueBinding + ")"));
  addHandler(el, 'change', genAssignmentCode(value, valueBinding), null, true);
}

function genSelect (
  el,
  value,
  modifiers
) {
  var number = modifiers && modifiers.number;
  var selectedVal = "Array.prototype.filter" +
    ".call($event.target.options,function(o){return o.selected})" +
    ".map(function(o){var val = \"_value\" in o ? o._value : o.value;" +
    "return " + (number ? '_n(val)' : 'val') + "})";

  var assignment = '$event.target.multiple ? $$selectedVal : $$selectedVal[0]';
  var code = "var $$selectedVal = " + selectedVal + ";";
  code = code + " " + (genAssignmentCode(value, assignment));
  addHandler(el, 'change', code, null, true);
}

function genDefaultModel (
  el,
  value,
  modifiers
) {
  var type = el.attrsMap.type;

  // warn if v-bind:value conflicts with v-model
  // except for inputs with v-bind:type
  if (false) { var binding, typeBinding, value$1; }

  var ref = modifiers || {};
  var lazy = ref.lazy;
  var number = ref.number;
  var trim = ref.trim;
  var needCompositionGuard = !lazy && type !== 'range';
  var event = lazy
    ? 'change'
    : type === 'range'
      ? RANGE_TOKEN
      : 'input';

  var valueExpression = '$event.target.value';
  if (trim) {
    valueExpression = "$event.target.value.trim()";
  }
  if (number) {
    valueExpression = "_n(" + valueExpression + ")";
  }

  var code = genAssignmentCode(value, valueExpression);
  if (needCompositionGuard) {
    code = "if($event.target.composing)return;" + code;
  }

  addProp(el, 'value', ("(" + value + ")"));
  addHandler(el, event, code, null, true);
  if (trim || number) {
    addHandler(el, 'blur', '$forceUpdate()');
  }
}

/*  */

// normalize v-model event tokens that can only be determined at runtime.
// it's important to place the event as the first in the array because
// the whole point is ensuring the v-model callback gets called before
// user-attached handlers.
function normalizeEvents (on) {
  /* istanbul ignore if */
  if (isDef(on[RANGE_TOKEN])) {
    // IE input[type=range] only supports `change` event
    var event = isIE ? 'change' : 'input';
    on[event] = [].concat(on[RANGE_TOKEN], on[event] || []);
    delete on[RANGE_TOKEN];
  }
  // This was originally intended to fix #4521 but no longer necessary
  // after 2.5. Keeping it for backwards compat with generated code from < 2.4
  /* istanbul ignore if */
  if (isDef(on[CHECKBOX_RADIO_TOKEN])) {
    on.change = [].concat(on[CHECKBOX_RADIO_TOKEN], on.change || []);
    delete on[CHECKBOX_RADIO_TOKEN];
  }
}

var target$1;

function createOnceHandler$1 (event, handler, capture) {
  var _target = target$1; // save current target element in closure
  return function onceHandler () {
    var res = handler.apply(null, arguments);
    if (res !== null) {
      remove$2(event, onceHandler, capture, _target);
    }
  }
}

function add$1 (
  event,
  handler,
  capture,
  passive
) {
  handler = withMacroTask(handler);
  target$1.addEventListener(
    event,
    handler,
    supportsPassive
      ? { capture: capture, passive: passive }
      : capture
  );
}

function remove$2 (
  event,
  handler,
  capture,
  _target
) {
  (_target || target$1).removeEventListener(
    event,
    handler._withTask || handler,
    capture
  );
}

function updateDOMListeners (oldVnode, vnode) {
  if (isUndef(oldVnode.data.on) && isUndef(vnode.data.on)) {
    return
  }
  var on = vnode.data.on || {};
  var oldOn = oldVnode.data.on || {};
  target$1 = vnode.elm;
  normalizeEvents(on);
  updateListeners(on, oldOn, add$1, remove$2, createOnceHandler$1, vnode.context);
  target$1 = undefined;
}

var events = {
  create: updateDOMListeners,
  update: updateDOMListeners
};

/*  */

function updateDOMProps (oldVnode, vnode) {
  if (isUndef(oldVnode.data.domProps) && isUndef(vnode.data.domProps)) {
    return
  }
  var key, cur;
  var elm = vnode.elm;
  var oldProps = oldVnode.data.domProps || {};
  var props = vnode.data.domProps || {};
  // clone observed objects, as the user probably wants to mutate it
  if (isDef(props.__ob__)) {
    props = vnode.data.domProps = extend({}, props);
  }

  for (key in oldProps) {
    if (isUndef(props[key])) {
      elm[key] = '';
    }
  }
  for (key in props) {
    cur = props[key];
    // ignore children if the node has textContent or innerHTML,
    // as these will throw away existing DOM nodes and cause removal errors
    // on subsequent patches (#3360)
    if (key === 'textContent' || key === 'innerHTML') {
      if (vnode.children) { vnode.children.length = 0; }
      if (cur === oldProps[key]) { continue }
      // #6601 work around Chrome version <= 55 bug where single textNode
      // replaced by innerHTML/textContent retains its parentNode property
      if (elm.childNodes.length === 1) {
        elm.removeChild(elm.childNodes[0]);
      }
    }

    if (key === 'value') {
      // store value as _value as well since
      // non-string values will be stringified
      elm._value = cur;
      // avoid resetting cursor position when value is the same
      var strCur = isUndef(cur) ? '' : String(cur);
      if (shouldUpdateValue(elm, strCur)) {
        elm.value = strCur;
      }
    } else {
      elm[key] = cur;
    }
  }
}

// check platforms/web/util/attrs.js acceptValue


function shouldUpdateValue (elm, checkVal) {
  return (!elm.composing && (
    elm.tagName === 'OPTION' ||
    isNotInFocusAndDirty(elm, checkVal) ||
    isDirtyWithModifiers(elm, checkVal)
  ))
}

function isNotInFocusAndDirty (elm, checkVal) {
  // return true when textbox (.number and .trim) loses focus and its value is
  // not equal to the updated value
  var notInFocus = true;
  // #6157
  // work around IE bug when accessing document.activeElement in an iframe
  try { notInFocus = document.activeElement !== elm; } catch (e) {}
  return notInFocus && elm.value !== checkVal
}

function isDirtyWithModifiers (elm, newVal) {
  var value = elm.value;
  var modifiers = elm._vModifiers; // injected by v-model runtime
  if (isDef(modifiers)) {
    if (modifiers.lazy) {
      // inputs with lazy should only be updated when not in focus
      return false
    }
    if (modifiers.number) {
      return toNumber(value) !== toNumber(newVal)
    }
    if (modifiers.trim) {
      return value.trim() !== newVal.trim()
    }
  }
  return value !== newVal
}

var domProps = {
  create: updateDOMProps,
  update: updateDOMProps
};

/*  */

var parseStyleText = cached(function (cssText) {
  var res = {};
  var listDelimiter = /;(?![^(]*\))/g;
  var propertyDelimiter = /:(.+)/;
  cssText.split(listDelimiter).forEach(function (item) {
    if (item) {
      var tmp = item.split(propertyDelimiter);
      tmp.length > 1 && (res[tmp[0].trim()] = tmp[1].trim());
    }
  });
  return res
});

// merge static and dynamic style data on the same vnode
function normalizeStyleData (data) {
  var style = normalizeStyleBinding(data.style);
  // static style is pre-processed into an object during compilation
  // and is always a fresh object, so it's safe to merge into it
  return data.staticStyle
    ? extend(data.staticStyle, style)
    : style
}

// normalize possible array / string values into Object
function normalizeStyleBinding (bindingStyle) {
  if (Array.isArray(bindingStyle)) {
    return toObject(bindingStyle)
  }
  if (typeof bindingStyle === 'string') {
    return parseStyleText(bindingStyle)
  }
  return bindingStyle
}

/**
 * parent component style should be after child's
 * so that parent component's style could override it
 */
function getStyle (vnode, checkChild) {
  var res = {};
  var styleData;

  if (checkChild) {
    var childNode = vnode;
    while (childNode.componentInstance) {
      childNode = childNode.componentInstance._vnode;
      if (
        childNode && childNode.data &&
        (styleData = normalizeStyleData(childNode.data))
      ) {
        extend(res, styleData);
      }
    }
  }

  if ((styleData = normalizeStyleData(vnode.data))) {
    extend(res, styleData);
  }

  var parentNode = vnode;
  while ((parentNode = parentNode.parent)) {
    if (parentNode.data && (styleData = normalizeStyleData(parentNode.data))) {
      extend(res, styleData);
    }
  }
  return res
}

/*  */

var cssVarRE = /^--/;
var importantRE = /\s*!important$/;
var setProp = function (el, name, val) {
  /* istanbul ignore if */
  if (cssVarRE.test(name)) {
    el.style.setProperty(name, val);
  } else if (importantRE.test(val)) {
    el.style.setProperty(name, val.replace(importantRE, ''), 'important');
  } else {
    var normalizedName = normalize(name);
    if (Array.isArray(val)) {
      // Support values array created by autoprefixer, e.g.
      // {display: ["-webkit-box", "-ms-flexbox", "flex"]}
      // Set them one by one, and the browser will only set those it can recognize
      for (var i = 0, len = val.length; i < len; i++) {
        el.style[normalizedName] = val[i];
      }
    } else {
      el.style[normalizedName] = val;
    }
  }
};

var vendorNames = ['Webkit', 'Moz', 'ms'];

var emptyStyle;
var normalize = cached(function (prop) {
  emptyStyle = emptyStyle || document.createElement('div').style;
  prop = camelize(prop);
  if (prop !== 'filter' && (prop in emptyStyle)) {
    return prop
  }
  var capName = prop.charAt(0).toUpperCase() + prop.slice(1);
  for (var i = 0; i < vendorNames.length; i++) {
    var name = vendorNames[i] + capName;
    if (name in emptyStyle) {
      return name
    }
  }
});

function updateStyle (oldVnode, vnode) {
  var data = vnode.data;
  var oldData = oldVnode.data;

  if (isUndef(data.staticStyle) && isUndef(data.style) &&
    isUndef(oldData.staticStyle) && isUndef(oldData.style)
  ) {
    return
  }

  var cur, name;
  var el = vnode.elm;
  var oldStaticStyle = oldData.staticStyle;
  var oldStyleBinding = oldData.normalizedStyle || oldData.style || {};

  // if static style exists, stylebinding already merged into it when doing normalizeStyleData
  var oldStyle = oldStaticStyle || oldStyleBinding;

  var style = normalizeStyleBinding(vnode.data.style) || {};

  // store normalized style under a different key for next diff
  // make sure to clone it if it's reactive, since the user likely wants
  // to mutate it.
  vnode.data.normalizedStyle = isDef(style.__ob__)
    ? extend({}, style)
    : style;

  var newStyle = getStyle(vnode, true);

  for (name in oldStyle) {
    if (isUndef(newStyle[name])) {
      setProp(el, name, '');
    }
  }
  for (name in newStyle) {
    cur = newStyle[name];
    if (cur !== oldStyle[name]) {
      // ie9 setting to null has no effect, must use empty string
      setProp(el, name, cur == null ? '' : cur);
    }
  }
}

var style = {
  create: updateStyle,
  update: updateStyle
};

/*  */

var whitespaceRE = /\s+/;

/**
 * Add class with compatibility for SVG since classList is not supported on
 * SVG elements in IE
 */
function addClass (el, cls) {
  /* istanbul ignore if */
  if (!cls || !(cls = cls.trim())) {
    return
  }

  /* istanbul ignore else */
  if (el.classList) {
    if (cls.indexOf(' ') > -1) {
      cls.split(whitespaceRE).forEach(function (c) { return el.classList.add(c); });
    } else {
      el.classList.add(cls);
    }
  } else {
    var cur = " " + (el.getAttribute('class') || '') + " ";
    if (cur.indexOf(' ' + cls + ' ') < 0) {
      el.setAttribute('class', (cur + cls).trim());
    }
  }
}

/**
 * Remove class with compatibility for SVG since classList is not supported on
 * SVG elements in IE
 */
function removeClass (el, cls) {
  /* istanbul ignore if */
  if (!cls || !(cls = cls.trim())) {
    return
  }

  /* istanbul ignore else */
  if (el.classList) {
    if (cls.indexOf(' ') > -1) {
      cls.split(whitespaceRE).forEach(function (c) { return el.classList.remove(c); });
    } else {
      el.classList.remove(cls);
    }
    if (!el.classList.length) {
      el.removeAttribute('class');
    }
  } else {
    var cur = " " + (el.getAttribute('class') || '') + " ";
    var tar = ' ' + cls + ' ';
    while (cur.indexOf(tar) >= 0) {
      cur = cur.replace(tar, ' ');
    }
    cur = cur.trim();
    if (cur) {
      el.setAttribute('class', cur);
    } else {
      el.removeAttribute('class');
    }
  }
}

/*  */

function resolveTransition (def$$1) {
  if (!def$$1) {
    return
  }
  /* istanbul ignore else */
  if (typeof def$$1 === 'object') {
    var res = {};
    if (def$$1.css !== false) {
      extend(res, autoCssTransition(def$$1.name || 'v'));
    }
    extend(res, def$$1);
    return res
  } else if (typeof def$$1 === 'string') {
    return autoCssTransition(def$$1)
  }
}

var autoCssTransition = cached(function (name) {
  return {
    enterClass: (name + "-enter"),
    enterToClass: (name + "-enter-to"),
    enterActiveClass: (name + "-enter-active"),
    leaveClass: (name + "-leave"),
    leaveToClass: (name + "-leave-to"),
    leaveActiveClass: (name + "-leave-active")
  }
});

var hasTransition = inBrowser && !isIE9;
var TRANSITION = 'transition';
var ANIMATION = 'animation';

// Transition property/event sniffing
var transitionProp = 'transition';
var transitionEndEvent = 'transitionend';
var animationProp = 'animation';
var animationEndEvent = 'animationend';
if (hasTransition) {
  /* istanbul ignore if */
  if (window.ontransitionend === undefined &&
    window.onwebkittransitionend !== undefined
  ) {
    transitionProp = 'WebkitTransition';
    transitionEndEvent = 'webkitTransitionEnd';
  }
  if (window.onanimationend === undefined &&
    window.onwebkitanimationend !== undefined
  ) {
    animationProp = 'WebkitAnimation';
    animationEndEvent = 'webkitAnimationEnd';
  }
}

// binding to window is necessary to make hot reload work in IE in strict mode
var raf = inBrowser
  ? window.requestAnimationFrame
    ? window.requestAnimationFrame.bind(window)
    : setTimeout
  : /* istanbul ignore next */ function (fn) { return fn(); };

function nextFrame (fn) {
  raf(function () {
    raf(fn);
  });
}

function addTransitionClass (el, cls) {
  var transitionClasses = el._transitionClasses || (el._transitionClasses = []);
  if (transitionClasses.indexOf(cls) < 0) {
    transitionClasses.push(cls);
    addClass(el, cls);
  }
}

function removeTransitionClass (el, cls) {
  if (el._transitionClasses) {
    remove(el._transitionClasses, cls);
  }
  removeClass(el, cls);
}

function whenTransitionEnds (
  el,
  expectedType,
  cb
) {
  var ref = getTransitionInfo(el, expectedType);
  var type = ref.type;
  var timeout = ref.timeout;
  var propCount = ref.propCount;
  if (!type) { return cb() }
  var event = type === TRANSITION ? transitionEndEvent : animationEndEvent;
  var ended = 0;
  var end = function () {
    el.removeEventListener(event, onEnd);
    cb();
  };
  var onEnd = function (e) {
    if (e.target === el) {
      if (++ended >= propCount) {
        end();
      }
    }
  };
  setTimeout(function () {
    if (ended < propCount) {
      end();
    }
  }, timeout + 1);
  el.addEventListener(event, onEnd);
}

var transformRE = /\b(transform|all)(,|$)/;

function getTransitionInfo (el, expectedType) {
  var styles = window.getComputedStyle(el);
  // JSDOM may return undefined for transition properties
  var transitionDelays = (styles[transitionProp + 'Delay'] || '').split(', ');
  var transitionDurations = (styles[transitionProp + 'Duration'] || '').split(', ');
  var transitionTimeout = getTimeout(transitionDelays, transitionDurations);
  var animationDelays = (styles[animationProp + 'Delay'] || '').split(', ');
  var animationDurations = (styles[animationProp + 'Duration'] || '').split(', ');
  var animationTimeout = getTimeout(animationDelays, animationDurations);

  var type;
  var timeout = 0;
  var propCount = 0;
  /* istanbul ignore if */
  if (expectedType === TRANSITION) {
    if (transitionTimeout > 0) {
      type = TRANSITION;
      timeout = transitionTimeout;
      propCount = transitionDurations.length;
    }
  } else if (expectedType === ANIMATION) {
    if (animationTimeout > 0) {
      type = ANIMATION;
      timeout = animationTimeout;
      propCount = animationDurations.length;
    }
  } else {
    timeout = Math.max(transitionTimeout, animationTimeout);
    type = timeout > 0
      ? transitionTimeout > animationTimeout
        ? TRANSITION
        : ANIMATION
      : null;
    propCount = type
      ? type === TRANSITION
        ? transitionDurations.length
        : animationDurations.length
      : 0;
  }
  var hasTransform =
    type === TRANSITION &&
    transformRE.test(styles[transitionProp + 'Property']);
  return {
    type: type,
    timeout: timeout,
    propCount: propCount,
    hasTransform: hasTransform
  }
}

function getTimeout (delays, durations) {
  /* istanbul ignore next */
  while (delays.length < durations.length) {
    delays = delays.concat(delays);
  }

  return Math.max.apply(null, durations.map(function (d, i) {
    return toMs(d) + toMs(delays[i])
  }))
}

// Old versions of Chromium (below 61.0.3163.100) formats floating pointer numbers
// in a locale-dependent way, using a comma instead of a dot.
// If comma is not replaced with a dot, the input will be rounded down (i.e. acting
// as a floor function) causing unexpected behaviors
function toMs (s) {
  return Number(s.slice(0, -1).replace(',', '.')) * 1000
}

/*  */

function enter (vnode, toggleDisplay) {
  var el = vnode.elm;

  // call leave callback now
  if (isDef(el._leaveCb)) {
    el._leaveCb.cancelled = true;
    el._leaveCb();
  }

  var data = resolveTransition(vnode.data.transition);
  if (isUndef(data)) {
    return
  }

  /* istanbul ignore if */
  if (isDef(el._enterCb) || el.nodeType !== 1) {
    return
  }

  var css = data.css;
  var type = data.type;
  var enterClass = data.enterClass;
  var enterToClass = data.enterToClass;
  var enterActiveClass = data.enterActiveClass;
  var appearClass = data.appearClass;
  var appearToClass = data.appearToClass;
  var appearActiveClass = data.appearActiveClass;
  var beforeEnter = data.beforeEnter;
  var enter = data.enter;
  var afterEnter = data.afterEnter;
  var enterCancelled = data.enterCancelled;
  var beforeAppear = data.beforeAppear;
  var appear = data.appear;
  var afterAppear = data.afterAppear;
  var appearCancelled = data.appearCancelled;
  var duration = data.duration;

  // activeInstance will always be the <transition> component managing this
  // transition. One edge case to check is when the <transition> is placed
  // as the root node of a child component. In that case we need to check
  // <transition>'s parent for appear check.
  var context = activeInstance;
  var transitionNode = activeInstance.$vnode;
  while (transitionNode && transitionNode.parent) {
    transitionNode = transitionNode.parent;
    context = transitionNode.context;
  }

  var isAppear = !context._isMounted || !vnode.isRootInsert;

  if (isAppear && !appear && appear !== '') {
    return
  }

  var startClass = isAppear && appearClass
    ? appearClass
    : enterClass;
  var activeClass = isAppear && appearActiveClass
    ? appearActiveClass
    : enterActiveClass;
  var toClass = isAppear && appearToClass
    ? appearToClass
    : enterToClass;

  var beforeEnterHook = isAppear
    ? (beforeAppear || beforeEnter)
    : beforeEnter;
  var enterHook = isAppear
    ? (typeof appear === 'function' ? appear : enter)
    : enter;
  var afterEnterHook = isAppear
    ? (afterAppear || afterEnter)
    : afterEnter;
  var enterCancelledHook = isAppear
    ? (appearCancelled || enterCancelled)
    : enterCancelled;

  var explicitEnterDuration = toNumber(
    isObject(duration)
      ? duration.enter
      : duration
  );

  if (false) {}

  var expectsCSS = css !== false && !isIE9;
  var userWantsControl = getHookArgumentsLength(enterHook);

  var cb = el._enterCb = once(function () {
    if (expectsCSS) {
      removeTransitionClass(el, toClass);
      removeTransitionClass(el, activeClass);
    }
    if (cb.cancelled) {
      if (expectsCSS) {
        removeTransitionClass(el, startClass);
      }
      enterCancelledHook && enterCancelledHook(el);
    } else {
      afterEnterHook && afterEnterHook(el);
    }
    el._enterCb = null;
  });

  if (!vnode.data.show) {
    // remove pending leave element on enter by injecting an insert hook
    mergeVNodeHook(vnode, 'insert', function () {
      var parent = el.parentNode;
      var pendingNode = parent && parent._pending && parent._pending[vnode.key];
      if (pendingNode &&
        pendingNode.tag === vnode.tag &&
        pendingNode.elm._leaveCb
      ) {
        pendingNode.elm._leaveCb();
      }
      enterHook && enterHook(el, cb);
    });
  }

  // start enter transition
  beforeEnterHook && beforeEnterHook(el);
  if (expectsCSS) {
    addTransitionClass(el, startClass);
    addTransitionClass(el, activeClass);
    nextFrame(function () {
      removeTransitionClass(el, startClass);
      if (!cb.cancelled) {
        addTransitionClass(el, toClass);
        if (!userWantsControl) {
          if (isValidDuration(explicitEnterDuration)) {
            setTimeout(cb, explicitEnterDuration);
          } else {
            whenTransitionEnds(el, type, cb);
          }
        }
      }
    });
  }

  if (vnode.data.show) {
    toggleDisplay && toggleDisplay();
    enterHook && enterHook(el, cb);
  }

  if (!expectsCSS && !userWantsControl) {
    cb();
  }
}

function leave (vnode, rm) {
  var el = vnode.elm;

  // call enter callback now
  if (isDef(el._enterCb)) {
    el._enterCb.cancelled = true;
    el._enterCb();
  }

  var data = resolveTransition(vnode.data.transition);
  if (isUndef(data) || el.nodeType !== 1) {
    return rm()
  }

  /* istanbul ignore if */
  if (isDef(el._leaveCb)) {
    return
  }

  var css = data.css;
  var type = data.type;
  var leaveClass = data.leaveClass;
  var leaveToClass = data.leaveToClass;
  var leaveActiveClass = data.leaveActiveClass;
  var beforeLeave = data.beforeLeave;
  var leave = data.leave;
  var afterLeave = data.afterLeave;
  var leaveCancelled = data.leaveCancelled;
  var delayLeave = data.delayLeave;
  var duration = data.duration;

  var expectsCSS = css !== false && !isIE9;
  var userWantsControl = getHookArgumentsLength(leave);

  var explicitLeaveDuration = toNumber(
    isObject(duration)
      ? duration.leave
      : duration
  );

  if (false) {}

  var cb = el._leaveCb = once(function () {
    if (el.parentNode && el.parentNode._pending) {
      el.parentNode._pending[vnode.key] = null;
    }
    if (expectsCSS) {
      removeTransitionClass(el, leaveToClass);
      removeTransitionClass(el, leaveActiveClass);
    }
    if (cb.cancelled) {
      if (expectsCSS) {
        removeTransitionClass(el, leaveClass);
      }
      leaveCancelled && leaveCancelled(el);
    } else {
      rm();
      afterLeave && afterLeave(el);
    }
    el._leaveCb = null;
  });

  if (delayLeave) {
    delayLeave(performLeave);
  } else {
    performLeave();
  }

  function performLeave () {
    // the delayed leave may have already been cancelled
    if (cb.cancelled) {
      return
    }
    // record leaving element
    if (!vnode.data.show && el.parentNode) {
      (el.parentNode._pending || (el.parentNode._pending = {}))[(vnode.key)] = vnode;
    }
    beforeLeave && beforeLeave(el);
    if (expectsCSS) {
      addTransitionClass(el, leaveClass);
      addTransitionClass(el, leaveActiveClass);
      nextFrame(function () {
        removeTransitionClass(el, leaveClass);
        if (!cb.cancelled) {
          addTransitionClass(el, leaveToClass);
          if (!userWantsControl) {
            if (isValidDuration(explicitLeaveDuration)) {
              setTimeout(cb, explicitLeaveDuration);
            } else {
              whenTransitionEnds(el, type, cb);
            }
          }
        }
      });
    }
    leave && leave(el, cb);
    if (!expectsCSS && !userWantsControl) {
      cb();
    }
  }
}

// only used in dev mode
function checkDuration (val, name, vnode) {
  if (typeof val !== 'number') {
    warn(
      "<transition> explicit " + name + " duration is not a valid number - " +
      "got " + (JSON.stringify(val)) + ".",
      vnode.context
    );
  } else if (isNaN(val)) {
    warn(
      "<transition> explicit " + name + " duration is NaN - " +
      'the duration expression might be incorrect.',
      vnode.context
    );
  }
}

function isValidDuration (val) {
  return typeof val === 'number' && !isNaN(val)
}

/**
 * Normalize a transition hook's argument length. The hook may be:
 * - a merged hook (invoker) with the original in .fns
 * - a wrapped component method (check ._length)
 * - a plain function (.length)
 */
function getHookArgumentsLength (fn) {
  if (isUndef(fn)) {
    return false
  }
  var invokerFns = fn.fns;
  if (isDef(invokerFns)) {
    // invoker
    return getHookArgumentsLength(
      Array.isArray(invokerFns)
        ? invokerFns[0]
        : invokerFns
    )
  } else {
    return (fn._length || fn.length) > 1
  }
}

function _enter (_, vnode) {
  if (vnode.data.show !== true) {
    enter(vnode);
  }
}

var transition = inBrowser ? {
  create: _enter,
  activate: _enter,
  remove: function remove$$1 (vnode, rm) {
    /* istanbul ignore else */
    if (vnode.data.show !== true) {
      leave(vnode, rm);
    } else {
      rm();
    }
  }
} : {};

var platformModules = [
  attrs,
  klass,
  events,
  domProps,
  style,
  transition
];

/*  */

// the directive module should be applied last, after all
// built-in modules have been applied.
var modules = platformModules.concat(baseModules);

var patch = createPatchFunction({ nodeOps: nodeOps, modules: modules });

/**
 * Not type checking this file because flow doesn't like attaching
 * properties to Elements.
 */

/* istanbul ignore if */
if (isIE9) {
  // http://www.matts411.com/post/internet-explorer-9-oninput/
  document.addEventListener('selectionchange', function () {
    var el = document.activeElement;
    if (el && el.vmodel) {
      trigger(el, 'input');
    }
  });
}

var directive = {
  inserted: function inserted (el, binding, vnode, oldVnode) {
    if (vnode.tag === 'select') {
      // #6903
      if (oldVnode.elm && !oldVnode.elm._vOptions) {
        mergeVNodeHook(vnode, 'postpatch', function () {
          directive.componentUpdated(el, binding, vnode);
        });
      } else {
        setSelected(el, binding, vnode.context);
      }
      el._vOptions = [].map.call(el.options, getValue);
    } else if (vnode.tag === 'textarea' || isTextInputType(el.type)) {
      el._vModifiers = binding.modifiers;
      if (!binding.modifiers.lazy) {
        el.addEventListener('compositionstart', onCompositionStart);
        el.addEventListener('compositionend', onCompositionEnd);
        // Safari < 10.2 & UIWebView doesn't fire compositionend when
        // switching focus before confirming composition choice
        // this also fixes the issue where some browsers e.g. iOS Chrome
        // fires "change" instead of "input" on autocomplete.
        el.addEventListener('change', onCompositionEnd);
        /* istanbul ignore if */
        if (isIE9) {
          el.vmodel = true;
        }
      }
    }
  },

  componentUpdated: function componentUpdated (el, binding, vnode) {
    if (vnode.tag === 'select') {
      setSelected(el, binding, vnode.context);
      // in case the options rendered by v-for have changed,
      // it's possible that the value is out-of-sync with the rendered options.
      // detect such cases and filter out values that no longer has a matching
      // option in the DOM.
      var prevOptions = el._vOptions;
      var curOptions = el._vOptions = [].map.call(el.options, getValue);
      if (curOptions.some(function (o, i) { return !looseEqual(o, prevOptions[i]); })) {
        // trigger change event if
        // no matching option found for at least one value
        var needReset = el.multiple
          ? binding.value.some(function (v) { return hasNoMatchingOption(v, curOptions); })
          : binding.value !== binding.oldValue && hasNoMatchingOption(binding.value, curOptions);
        if (needReset) {
          trigger(el, 'change');
        }
      }
    }
  }
};

function setSelected (el, binding, vm) {
  actuallySetSelected(el, binding, vm);
  /* istanbul ignore if */
  if (isIE || isEdge) {
    setTimeout(function () {
      actuallySetSelected(el, binding, vm);
    }, 0);
  }
}

function actuallySetSelected (el, binding, vm) {
  var value = binding.value;
  var isMultiple = el.multiple;
  if (isMultiple && !Array.isArray(value)) {
     false && false;
    return
  }
  var selected, option;
  for (var i = 0, l = el.options.length; i < l; i++) {
    option = el.options[i];
    if (isMultiple) {
      selected = looseIndexOf(value, getValue(option)) > -1;
      if (option.selected !== selected) {
        option.selected = selected;
      }
    } else {
      if (looseEqual(getValue(option), value)) {
        if (el.selectedIndex !== i) {
          el.selectedIndex = i;
        }
        return
      }
    }
  }
  if (!isMultiple) {
    el.selectedIndex = -1;
  }
}

function hasNoMatchingOption (value, options) {
  return options.every(function (o) { return !looseEqual(o, value); })
}

function getValue (option) {
  return '_value' in option
    ? option._value
    : option.value
}

function onCompositionStart (e) {
  e.target.composing = true;
}

function onCompositionEnd (e) {
  // prevent triggering an input event for no reason
  if (!e.target.composing) { return }
  e.target.composing = false;
  trigger(e.target, 'input');
}

function trigger (el, type) {
  var e = document.createEvent('HTMLEvents');
  e.initEvent(type, true, true);
  el.dispatchEvent(e);
}

/*  */

// recursively search for possible transition defined inside the component root
function locateNode (vnode) {
  return vnode.componentInstance && (!vnode.data || !vnode.data.transition)
    ? locateNode(vnode.componentInstance._vnode)
    : vnode
}

var show = {
  bind: function bind (el, ref, vnode) {
    var value = ref.value;

    vnode = locateNode(vnode);
    var transition$$1 = vnode.data && vnode.data.transition;
    var originalDisplay = el.__vOriginalDisplay =
      el.style.display === 'none' ? '' : el.style.display;
    if (value && transition$$1) {
      vnode.data.show = true;
      enter(vnode, function () {
        el.style.display = originalDisplay;
      });
    } else {
      el.style.display = value ? originalDisplay : 'none';
    }
  },

  update: function update (el, ref, vnode) {
    var value = ref.value;
    var oldValue = ref.oldValue;

    /* istanbul ignore if */
    if (!value === !oldValue) { return }
    vnode = locateNode(vnode);
    var transition$$1 = vnode.data && vnode.data.transition;
    if (transition$$1) {
      vnode.data.show = true;
      if (value) {
        enter(vnode, function () {
          el.style.display = el.__vOriginalDisplay;
        });
      } else {
        leave(vnode, function () {
          el.style.display = 'none';
        });
      }
    } else {
      el.style.display = value ? el.__vOriginalDisplay : 'none';
    }
  },

  unbind: function unbind (
    el,
    binding,
    vnode,
    oldVnode,
    isDestroy
  ) {
    if (!isDestroy) {
      el.style.display = el.__vOriginalDisplay;
    }
  }
};

var platformDirectives = {
  model: directive,
  show: show
};

/*  */

var transitionProps = {
  name: String,
  appear: Boolean,
  css: Boolean,
  mode: String,
  type: String,
  enterClass: String,
  leaveClass: String,
  enterToClass: String,
  leaveToClass: String,
  enterActiveClass: String,
  leaveActiveClass: String,
  appearClass: String,
  appearActiveClass: String,
  appearToClass: String,
  duration: [Number, String, Object]
};

// in case the child is also an abstract component, e.g. <keep-alive>
// we want to recursively retrieve the real component to be rendered
function getRealChild (vnode) {
  var compOptions = vnode && vnode.componentOptions;
  if (compOptions && compOptions.Ctor.options.abstract) {
    return getRealChild(getFirstComponentChild(compOptions.children))
  } else {
    return vnode
  }
}

function extractTransitionData (comp) {
  var data = {};
  var options = comp.$options;
  // props
  for (var key in options.propsData) {
    data[key] = comp[key];
  }
  // events.
  // extract listeners and pass them directly to the transition methods
  var listeners = options._parentListeners;
  for (var key$1 in listeners) {
    data[camelize(key$1)] = listeners[key$1];
  }
  return data
}

function placeholder (h, rawChild) {
  if (/\d-keep-alive$/.test(rawChild.tag)) {
    return h('keep-alive', {
      props: rawChild.componentOptions.propsData
    })
  }
}

function hasParentTransition (vnode) {
  while ((vnode = vnode.parent)) {
    if (vnode.data.transition) {
      return true
    }
  }
}

function isSameChild (child, oldChild) {
  return oldChild.key === child.key && oldChild.tag === child.tag
}

var isNotTextNode = function (c) { return c.tag || isAsyncPlaceholder(c); };

var isVShowDirective = function (d) { return d.name === 'show'; };

var Transition = {
  name: 'transition',
  props: transitionProps,
  abstract: true,

  render: function render (h) {
    var this$1 = this;

    var children = this.$slots.default;
    if (!children) {
      return
    }

    // filter out text nodes (possible whitespaces)
    children = children.filter(isNotTextNode);
    /* istanbul ignore if */
    if (!children.length) {
      return
    }

    // warn multiple elements
    if (false) {}

    var mode = this.mode;

    // warn invalid mode
    if (false
    ) {}

    var rawChild = children[0];

    // if this is a component root node and the component's
    // parent container node also has transition, skip.
    if (hasParentTransition(this.$vnode)) {
      return rawChild
    }

    // apply transition data to child
    // use getRealChild() to ignore abstract components e.g. keep-alive
    var child = getRealChild(rawChild);
    /* istanbul ignore if */
    if (!child) {
      return rawChild
    }

    if (this._leaving) {
      return placeholder(h, rawChild)
    }

    // ensure a key that is unique to the vnode type and to this transition
    // component instance. This key will be used to remove pending leaving nodes
    // during entering.
    var id = "__transition-" + (this._uid) + "-";
    child.key = child.key == null
      ? child.isComment
        ? id + 'comment'
        : id + child.tag
      : isPrimitive(child.key)
        ? (String(child.key).indexOf(id) === 0 ? child.key : id + child.key)
        : child.key;

    var data = (child.data || (child.data = {})).transition = extractTransitionData(this);
    var oldRawChild = this._vnode;
    var oldChild = getRealChild(oldRawChild);

    // mark v-show
    // so that the transition module can hand over the control to the directive
    if (child.data.directives && child.data.directives.some(isVShowDirective)) {
      child.data.show = true;
    }

    if (
      oldChild &&
      oldChild.data &&
      !isSameChild(child, oldChild) &&
      !isAsyncPlaceholder(oldChild) &&
      // #6687 component root is a comment node
      !(oldChild.componentInstance && oldChild.componentInstance._vnode.isComment)
    ) {
      // replace old child transition data with fresh one
      // important for dynamic transitions!
      var oldData = oldChild.data.transition = extend({}, data);
      // handle transition mode
      if (mode === 'out-in') {
        // return placeholder node and queue update when leave finishes
        this._leaving = true;
        mergeVNodeHook(oldData, 'afterLeave', function () {
          this$1._leaving = false;
          this$1.$forceUpdate();
        });
        return placeholder(h, rawChild)
      } else if (mode === 'in-out') {
        if (isAsyncPlaceholder(child)) {
          return oldRawChild
        }
        var delayedLeave;
        var performLeave = function () { delayedLeave(); };
        mergeVNodeHook(data, 'afterEnter', performLeave);
        mergeVNodeHook(data, 'enterCancelled', performLeave);
        mergeVNodeHook(oldData, 'delayLeave', function (leave) { delayedLeave = leave; });
      }
    }

    return rawChild
  }
};

/*  */

var props = extend({
  tag: String,
  moveClass: String
}, transitionProps);

delete props.mode;

var TransitionGroup = {
  props: props,

  beforeMount: function beforeMount () {
    var this$1 = this;

    var update = this._update;
    this._update = function (vnode, hydrating) {
      var restoreActiveInstance = setActiveInstance(this$1);
      // force removing pass
      this$1.__patch__(
        this$1._vnode,
        this$1.kept,
        false, // hydrating
        true // removeOnly (!important, avoids unnecessary moves)
      );
      this$1._vnode = this$1.kept;
      restoreActiveInstance();
      update.call(this$1, vnode, hydrating);
    };
  },

  render: function render (h) {
    var tag = this.tag || this.$vnode.data.tag || 'span';
    var map = Object.create(null);
    var prevChildren = this.prevChildren = this.children;
    var rawChildren = this.$slots.default || [];
    var children = this.children = [];
    var transitionData = extractTransitionData(this);

    for (var i = 0; i < rawChildren.length; i++) {
      var c = rawChildren[i];
      if (c.tag) {
        if (c.key != null && String(c.key).indexOf('__vlist') !== 0) {
          children.push(c);
          map[c.key] = c
          ;(c.data || (c.data = {})).transition = transitionData;
        } else if (false) { var name, opts; }
      }
    }

    if (prevChildren) {
      var kept = [];
      var removed = [];
      for (var i$1 = 0; i$1 < prevChildren.length; i$1++) {
        var c$1 = prevChildren[i$1];
        c$1.data.transition = transitionData;
        c$1.data.pos = c$1.elm.getBoundingClientRect();
        if (map[c$1.key]) {
          kept.push(c$1);
        } else {
          removed.push(c$1);
        }
      }
      this.kept = h(tag, null, kept);
      this.removed = removed;
    }

    return h(tag, null, children)
  },

  updated: function updated () {
    var children = this.prevChildren;
    var moveClass = this.moveClass || ((this.name || 'v') + '-move');
    if (!children.length || !this.hasMove(children[0].elm, moveClass)) {
      return
    }

    // we divide the work into three loops to avoid mixing DOM reads and writes
    // in each iteration - which helps prevent layout thrashing.
    children.forEach(callPendingCbs);
    children.forEach(recordPosition);
    children.forEach(applyTranslation);

    // force reflow to put everything in position
    // assign to this to avoid being removed in tree-shaking
    // $flow-disable-line
    this._reflow = document.body.offsetHeight;

    children.forEach(function (c) {
      if (c.data.moved) {
        var el = c.elm;
        var s = el.style;
        addTransitionClass(el, moveClass);
        s.transform = s.WebkitTransform = s.transitionDuration = '';
        el.addEventListener(transitionEndEvent, el._moveCb = function cb (e) {
          if (e && e.target !== el) {
            return
          }
          if (!e || /transform$/.test(e.propertyName)) {
            el.removeEventListener(transitionEndEvent, cb);
            el._moveCb = null;
            removeTransitionClass(el, moveClass);
          }
        });
      }
    });
  },

  methods: {
    hasMove: function hasMove (el, moveClass) {
      /* istanbul ignore if */
      if (!hasTransition) {
        return false
      }
      /* istanbul ignore if */
      if (this._hasMove) {
        return this._hasMove
      }
      // Detect whether an element with the move class applied has
      // CSS transitions. Since the element may be inside an entering
      // transition at this very moment, we make a clone of it and remove
      // all other transition classes applied to ensure only the move class
      // is applied.
      var clone = el.cloneNode();
      if (el._transitionClasses) {
        el._transitionClasses.forEach(function (cls) { removeClass(clone, cls); });
      }
      addClass(clone, moveClass);
      clone.style.display = 'none';
      this.$el.appendChild(clone);
      var info = getTransitionInfo(clone);
      this.$el.removeChild(clone);
      return (this._hasMove = info.hasTransform)
    }
  }
};

function callPendingCbs (c) {
  /* istanbul ignore if */
  if (c.elm._moveCb) {
    c.elm._moveCb();
  }
  /* istanbul ignore if */
  if (c.elm._enterCb) {
    c.elm._enterCb();
  }
}

function recordPosition (c) {
  c.data.newPos = c.elm.getBoundingClientRect();
}

function applyTranslation (c) {
  var oldPos = c.data.pos;
  var newPos = c.data.newPos;
  var dx = oldPos.left - newPos.left;
  var dy = oldPos.top - newPos.top;
  if (dx || dy) {
    c.data.moved = true;
    var s = c.elm.style;
    s.transform = s.WebkitTransform = "translate(" + dx + "px," + dy + "px)";
    s.transitionDuration = '0s';
  }
}

var platformComponents = {
  Transition: Transition,
  TransitionGroup: TransitionGroup
};

/*  */

// install platform specific utils
Vue.config.mustUseProp = mustUseProp;
Vue.config.isReservedTag = isReservedTag;
Vue.config.isReservedAttr = isReservedAttr;
Vue.config.getTagNamespace = getTagNamespace;
Vue.config.isUnknownElement = isUnknownElement;

// install platform runtime directives & components
extend(Vue.options.directives, platformDirectives);
extend(Vue.options.components, platformComponents);

// install platform patch function
Vue.prototype.__patch__ = inBrowser ? patch : noop;

// public mount method
Vue.prototype.$mount = function (
  el,
  hydrating
) {
  el = el && inBrowser ? query(el) : undefined;
  return mountComponent(this, el, hydrating)
};

// devtools global hook
/* istanbul ignore next */
if (inBrowser) {
  setTimeout(function () {
    if (config.devtools) {
      if (devtools) {
        devtools.emit('init', Vue);
      } else if (
        false
      ) {}
    }
    if (false
    ) {}
  }, 0);
}

/*  */

var defaultTagRE = /\{\{((?:.|\r?\n)+?)\}\}/g;
var regexEscapeRE = /[-.*+?^${}()|[\]\/\\]/g;

var buildRegex = cached(function (delimiters) {
  var open = delimiters[0].replace(regexEscapeRE, '\\$&');
  var close = delimiters[1].replace(regexEscapeRE, '\\$&');
  return new RegExp(open + '((?:.|\\n)+?)' + close, 'g')
});



function parseText (
  text,
  delimiters
) {
  var tagRE = delimiters ? buildRegex(delimiters) : defaultTagRE;
  if (!tagRE.test(text)) {
    return
  }
  var tokens = [];
  var rawTokens = [];
  var lastIndex = tagRE.lastIndex = 0;
  var match, index, tokenValue;
  while ((match = tagRE.exec(text))) {
    index = match.index;
    // push text token
    if (index > lastIndex) {
      rawTokens.push(tokenValue = text.slice(lastIndex, index));
      tokens.push(JSON.stringify(tokenValue));
    }
    // tag token
    var exp = parseFilters(match[1].trim());
    tokens.push(("_s(" + exp + ")"));
    rawTokens.push({ '@binding': exp });
    lastIndex = index + match[0].length;
  }
  if (lastIndex < text.length) {
    rawTokens.push(tokenValue = text.slice(lastIndex));
    tokens.push(JSON.stringify(tokenValue));
  }
  return {
    expression: tokens.join('+'),
    tokens: rawTokens
  }
}

/*  */

function transformNode (el, options) {
  var warn = options.warn || baseWarn;
  var staticClass = getAndRemoveAttr(el, 'class');
  if (false) { var res; }
  if (staticClass) {
    el.staticClass = JSON.stringify(staticClass);
  }
  var classBinding = getBindingAttr(el, 'class', false /* getStatic */);
  if (classBinding) {
    el.classBinding = classBinding;
  }
}

function genData (el) {
  var data = '';
  if (el.staticClass) {
    data += "staticClass:" + (el.staticClass) + ",";
  }
  if (el.classBinding) {
    data += "class:" + (el.classBinding) + ",";
  }
  return data
}

var klass$1 = {
  staticKeys: ['staticClass'],
  transformNode: transformNode,
  genData: genData
};

/*  */

function transformNode$1 (el, options) {
  var warn = options.warn || baseWarn;
  var staticStyle = getAndRemoveAttr(el, 'style');
  if (staticStyle) {
    /* istanbul ignore if */
    if (false) { var res; }
    el.staticStyle = JSON.stringify(parseStyleText(staticStyle));
  }

  var styleBinding = getBindingAttr(el, 'style', false /* getStatic */);
  if (styleBinding) {
    el.styleBinding = styleBinding;
  }
}

function genData$1 (el) {
  var data = '';
  if (el.staticStyle) {
    data += "staticStyle:" + (el.staticStyle) + ",";
  }
  if (el.styleBinding) {
    data += "style:(" + (el.styleBinding) + "),";
  }
  return data
}

var style$1 = {
  staticKeys: ['staticStyle'],
  transformNode: transformNode$1,
  genData: genData$1
};

/*  */

var decoder;

var he = {
  decode: function decode (html) {
    decoder = decoder || document.createElement('div');
    decoder.innerHTML = html;
    return decoder.textContent
  }
};

/*  */

var isUnaryTag = makeMap(
  'area,base,br,col,embed,frame,hr,img,input,isindex,keygen,' +
  'link,meta,param,source,track,wbr'
);

// Elements that you can, intentionally, leave open
// (and which close themselves)
var canBeLeftOpenTag = makeMap(
  'colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source'
);

// HTML5 tags https://html.spec.whatwg.org/multipage/indices.html#elements-3
// Phrasing Content https://html.spec.whatwg.org/multipage/dom.html#phrasing-content
var isNonPhrasingTag = makeMap(
  'address,article,aside,base,blockquote,body,caption,col,colgroup,dd,' +
  'details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,' +
  'h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,' +
  'optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,' +
  'title,tr,track'
);

/**
 * Not type-checking this file because it's mostly vendor code.
 */

// Regular Expressions for parsing tags and attributes
var attribute = /^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/;
// could use https://www.w3.org/TR/1999/REC-xml-names-19990114/#NT-QName
// but for Vue templates we can enforce a simple charset
var ncname = '[a-zA-Z_][\\w\\-\\.]*';
var qnameCapture = "((?:" + ncname + "\\:)?" + ncname + ")";
var startTagOpen = new RegExp(("^<" + qnameCapture));
var startTagClose = /^\s*(\/?)>/;
var endTag = new RegExp(("^<\\/" + qnameCapture + "[^>]*>"));
var doctype = /^<!DOCTYPE [^>]+>/i;
// #7298: escape - to avoid being pased as HTML comment when inlined in page
var comment = /^<!\--/;
var conditionalComment = /^<!\[/;

// Special Elements (can contain anything)
var isPlainTextElement = makeMap('script,style,textarea', true);
var reCache = {};

var decodingMap = {
  '&lt;': '<',
  '&gt;': '>',
  '&quot;': '"',
  '&amp;': '&',
  '&#10;': '\n',
  '&#9;': '\t'
};
var encodedAttr = /&(?:lt|gt|quot|amp);/g;
var encodedAttrWithNewLines = /&(?:lt|gt|quot|amp|#10|#9);/g;

// #5992
var isIgnoreNewlineTag = makeMap('pre,textarea', true);
var shouldIgnoreFirstNewline = function (tag, html) { return tag && isIgnoreNewlineTag(tag) && html[0] === '\n'; };

function decodeAttr (value, shouldDecodeNewlines) {
  var re = shouldDecodeNewlines ? encodedAttrWithNewLines : encodedAttr;
  return value.replace(re, function (match) { return decodingMap[match]; })
}

function parseHTML (html, options) {
  var stack = [];
  var expectHTML = options.expectHTML;
  var isUnaryTag$$1 = options.isUnaryTag || no;
  var canBeLeftOpenTag$$1 = options.canBeLeftOpenTag || no;
  var index = 0;
  var last, lastTag;
  while (html) {
    last = html;
    // Make sure we're not in a plaintext content element like script/style
    if (!lastTag || !isPlainTextElement(lastTag)) {
      var textEnd = html.indexOf('<');
      if (textEnd === 0) {
        // Comment:
        if (comment.test(html)) {
          var commentEnd = html.indexOf('-->');

          if (commentEnd >= 0) {
            if (options.shouldKeepComment) {
              options.comment(html.substring(4, commentEnd));
            }
            advance(commentEnd + 3);
            continue
          }
        }

        // http://en.wikipedia.org/wiki/Conditional_comment#Downlevel-revealed_conditional_comment
        if (conditionalComment.test(html)) {
          var conditionalEnd = html.indexOf(']>');

          if (conditionalEnd >= 0) {
            advance(conditionalEnd + 2);
            continue
          }
        }

        // Doctype:
        var doctypeMatch = html.match(doctype);
        if (doctypeMatch) {
          advance(doctypeMatch[0].length);
          continue
        }

        // End tag:
        var endTagMatch = html.match(endTag);
        if (endTagMatch) {
          var curIndex = index;
          advance(endTagMatch[0].length);
          parseEndTag(endTagMatch[1], curIndex, index);
          continue
        }

        // Start tag:
        var startTagMatch = parseStartTag();
        if (startTagMatch) {
          handleStartTag(startTagMatch);
          if (shouldIgnoreFirstNewline(startTagMatch.tagName, html)) {
            advance(1);
          }
          continue
        }
      }

      var text = (void 0), rest = (void 0), next = (void 0);
      if (textEnd >= 0) {
        rest = html.slice(textEnd);
        while (
          !endTag.test(rest) &&
          !startTagOpen.test(rest) &&
          !comment.test(rest) &&
          !conditionalComment.test(rest)
        ) {
          // < in plain text, be forgiving and treat it as text
          next = rest.indexOf('<', 1);
          if (next < 0) { break }
          textEnd += next;
          rest = html.slice(textEnd);
        }
        text = html.substring(0, textEnd);
        advance(textEnd);
      }

      if (textEnd < 0) {
        text = html;
        html = '';
      }

      if (options.chars && text) {
        options.chars(text);
      }
    } else {
      var endTagLength = 0;
      var stackedTag = lastTag.toLowerCase();
      var reStackedTag = reCache[stackedTag] || (reCache[stackedTag] = new RegExp('([\\s\\S]*?)(</' + stackedTag + '[^>]*>)', 'i'));
      var rest$1 = html.replace(reStackedTag, function (all, text, endTag) {
        endTagLength = endTag.length;
        if (!isPlainTextElement(stackedTag) && stackedTag !== 'noscript') {
          text = text
            .replace(/<!\--([\s\S]*?)-->/g, '$1') // #7298
            .replace(/<!\[CDATA\[([\s\S]*?)]]>/g, '$1');
        }
        if (shouldIgnoreFirstNewline(stackedTag, text)) {
          text = text.slice(1);
        }
        if (options.chars) {
          options.chars(text);
        }
        return ''
      });
      index += html.length - rest$1.length;
      html = rest$1;
      parseEndTag(stackedTag, index - endTagLength, index);
    }

    if (html === last) {
      options.chars && options.chars(html);
      if (false) {}
      break
    }
  }

  // Clean up any remaining tags
  parseEndTag();

  function advance (n) {
    index += n;
    html = html.substring(n);
  }

  function parseStartTag () {
    var start = html.match(startTagOpen);
    if (start) {
      var match = {
        tagName: start[1],
        attrs: [],
        start: index
      };
      advance(start[0].length);
      var end, attr;
      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {
        advance(attr[0].length);
        match.attrs.push(attr);
      }
      if (end) {
        match.unarySlash = end[1];
        advance(end[0].length);
        match.end = index;
        return match
      }
    }
  }

  function handleStartTag (match) {
    var tagName = match.tagName;
    var unarySlash = match.unarySlash;

    if (expectHTML) {
      if (lastTag === 'p' && isNonPhrasingTag(tagName)) {
        parseEndTag(lastTag);
      }
      if (canBeLeftOpenTag$$1(tagName) && lastTag === tagName) {
        parseEndTag(tagName);
      }
    }

    var unary = isUnaryTag$$1(tagName) || !!unarySlash;

    var l = match.attrs.length;
    var attrs = new Array(l);
    for (var i = 0; i < l; i++) {
      var args = match.attrs[i];
      var value = args[3] || args[4] || args[5] || '';
      var shouldDecodeNewlines = tagName === 'a' && args[1] === 'href'
        ? options.shouldDecodeNewlinesForHref
        : options.shouldDecodeNewlines;
      attrs[i] = {
        name: args[1],
        value: decodeAttr(value, shouldDecodeNewlines)
      };
    }

    if (!unary) {
      stack.push({ tag: tagName, lowerCasedTag: tagName.toLowerCase(), attrs: attrs });
      lastTag = tagName;
    }

    if (options.start) {
      options.start(tagName, attrs, unary, match.start, match.end);
    }
  }

  function parseEndTag (tagName, start, end) {
    var pos, lowerCasedTagName;
    if (start == null) { start = index; }
    if (end == null) { end = index; }

    // Find the closest opened tag of the same type
    if (tagName) {
      lowerCasedTagName = tagName.toLowerCase();
      for (pos = stack.length - 1; pos >= 0; pos--) {
        if (stack[pos].lowerCasedTag === lowerCasedTagName) {
          break
        }
      }
    } else {
      // If no tag name is provided, clean shop
      pos = 0;
    }

    if (pos >= 0) {
      // Close all the open elements, up the stack
      for (var i = stack.length - 1; i >= pos; i--) {
        if (false
        ) {}
        if (options.end) {
          options.end(stack[i].tag, start, end);
        }
      }

      // Remove the open elements from the stack
      stack.length = pos;
      lastTag = pos && stack[pos - 1].tag;
    } else if (lowerCasedTagName === 'br') {
      if (options.start) {
        options.start(tagName, [], true, start, end);
      }
    } else if (lowerCasedTagName === 'p') {
      if (options.start) {
        options.start(tagName, [], false, start, end);
      }
      if (options.end) {
        options.end(tagName, start, end);
      }
    }
  }
}

/*  */

var onRE = /^@|^v-on:/;
var dirRE = /^v-|^@|^:/;
var forAliasRE = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/;
var forIteratorRE = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/;
var stripParensRE = /^\(|\)$/g;

var argRE = /:(.*)$/;
var bindRE = /^:|^v-bind:/;
var modifierRE = /\.[^.]+/g;

var decodeHTMLCached = cached(he.decode);

// configurable state
var warn$2;
var delimiters;
var transforms;
var preTransforms;
var postTransforms;
var platformIsPreTag;
var platformMustUseProp;
var platformGetTagNamespace;



function createASTElement (
  tag,
  attrs,
  parent
) {
  return {
    type: 1,
    tag: tag,
    attrsList: attrs,
    attrsMap: makeAttrsMap(attrs),
    parent: parent,
    children: []
  }
}

/**
 * Convert HTML string to AST.
 */
function parse (
  template,
  options
) {
  warn$2 = options.warn || baseWarn;

  platformIsPreTag = options.isPreTag || no;
  platformMustUseProp = options.mustUseProp || no;
  platformGetTagNamespace = options.getTagNamespace || no;

  transforms = pluckModuleFunction(options.modules, 'transformNode');
  preTransforms = pluckModuleFunction(options.modules, 'preTransformNode');
  postTransforms = pluckModuleFunction(options.modules, 'postTransformNode');

  delimiters = options.delimiters;

  var stack = [];
  var preserveWhitespace = options.preserveWhitespace !== false;
  var root;
  var currentParent;
  var inVPre = false;
  var inPre = false;
  var warned = false;

  function warnOnce (msg) {
    if (!warned) {
      warned = true;
      warn$2(msg);
    }
  }

  function closeElement (element) {
    // check pre state
    if (element.pre) {
      inVPre = false;
    }
    if (platformIsPreTag(element.tag)) {
      inPre = false;
    }
    // apply post-transforms
    for (var i = 0; i < postTransforms.length; i++) {
      postTransforms[i](element, options);
    }
  }

  parseHTML(template, {
    warn: warn$2,
    expectHTML: options.expectHTML,
    isUnaryTag: options.isUnaryTag,
    canBeLeftOpenTag: options.canBeLeftOpenTag,
    shouldDecodeNewlines: options.shouldDecodeNewlines,
    shouldDecodeNewlinesForHref: options.shouldDecodeNewlinesForHref,
    shouldKeepComment: options.comments,
    start: function start (tag, attrs, unary) {
      // check namespace.
      // inherit parent ns if there is one
      var ns = (currentParent && currentParent.ns) || platformGetTagNamespace(tag);

      // handle IE svg bug
      /* istanbul ignore if */
      if (isIE && ns === 'svg') {
        attrs = guardIESVGBug(attrs);
      }

      var element = createASTElement(tag, attrs, currentParent);
      if (ns) {
        element.ns = ns;
      }

      if (isForbiddenTag(element) && !isServerRendering()) {
        element.forbidden = true;
         false && false;
      }

      // apply pre-transforms
      for (var i = 0; i < preTransforms.length; i++) {
        element = preTransforms[i](element, options) || element;
      }

      if (!inVPre) {
        processPre(element);
        if (element.pre) {
          inVPre = true;
        }
      }
      if (platformIsPreTag(element.tag)) {
        inPre = true;
      }
      if (inVPre) {
        processRawAttrs(element);
      } else if (!element.processed) {
        // structural directives
        processFor(element);
        processIf(element);
        processOnce(element);
        // element-scope stuff
        processElement(element, options);
      }

      function checkRootConstraints (el) {
        if (false) {}
      }

      // tree management
      if (!root) {
        root = element;
        checkRootConstraints(root);
      } else if (!stack.length) {
        // allow root elements with v-if, v-else-if and v-else
        if (root.if && (element.elseif || element.else)) {
          checkRootConstraints(element);
          addIfCondition(root, {
            exp: element.elseif,
            block: element
          });
        } else if (false) {}
      }
      if (currentParent && !element.forbidden) {
        if (element.elseif || element.else) {
          processIfConditions(element, currentParent);
        } else if (element.slotScope) { // scoped slot
          currentParent.plain = false;
          var name = element.slotTarget || '"default"'
          ;(currentParent.scopedSlots || (currentParent.scopedSlots = {}))[name] = element;
        } else {
          currentParent.children.push(element);
          element.parent = currentParent;
        }
      }
      if (!unary) {
        currentParent = element;
        stack.push(element);
      } else {
        closeElement(element);
      }
    },

    end: function end () {
      // remove trailing whitespace
      var element = stack[stack.length - 1];
      var lastNode = element.children[element.children.length - 1];
      if (lastNode && lastNode.type === 3 && lastNode.text === ' ' && !inPre) {
        element.children.pop();
      }
      // pop stack
      stack.length -= 1;
      currentParent = stack[stack.length - 1];
      closeElement(element);
    },

    chars: function chars (text) {
      if (!currentParent) {
        if (false) {}
        return
      }
      // IE textarea placeholder bug
      /* istanbul ignore if */
      if (isIE &&
        currentParent.tag === 'textarea' &&
        currentParent.attrsMap.placeholder === text
      ) {
        return
      }
      var children = currentParent.children;
      text = inPre || text.trim()
        ? isTextTag(currentParent) ? text : decodeHTMLCached(text)
        // only preserve whitespace if its not right after a starting tag
        : preserveWhitespace && children.length ? ' ' : '';
      if (text) {
        var res;
        if (!inVPre && text !== ' ' && (res = parseText(text, delimiters))) {
          children.push({
            type: 2,
            expression: res.expression,
            tokens: res.tokens,
            text: text
          });
        } else if (text !== ' ' || !children.length || children[children.length - 1].text !== ' ') {
          children.push({
            type: 3,
            text: text
          });
        }
      }
    },
    comment: function comment (text) {
      currentParent.children.push({
        type: 3,
        text: text,
        isComment: true
      });
    }
  });
  return root
}

function processPre (el) {
  if (getAndRemoveAttr(el, 'v-pre') != null) {
    el.pre = true;
  }
}

function processRawAttrs (el) {
  var l = el.attrsList.length;
  if (l) {
    var attrs = el.attrs = new Array(l);
    for (var i = 0; i < l; i++) {
      attrs[i] = {
        name: el.attrsList[i].name,
        value: JSON.stringify(el.attrsList[i].value)
      };
    }
  } else if (!el.pre) {
    // non root node in pre blocks with no attributes
    el.plain = true;
  }
}

function processElement (element, options) {
  processKey(element);

  // determine whether this is a plain element after
  // removing structural attributes
  element.plain = !element.key && !element.attrsList.length;

  processRef(element);
  processSlot(element);
  processComponent(element);
  for (var i = 0; i < transforms.length; i++) {
    element = transforms[i](element, options) || element;
  }
  processAttrs(element);
}

function processKey (el) {
  var exp = getBindingAttr(el, 'key');
  if (exp) {
    if (false) { var parent, iterator; }
    el.key = exp;
  }
}

function processRef (el) {
  var ref = getBindingAttr(el, 'ref');
  if (ref) {
    el.ref = ref;
    el.refInFor = checkInFor(el);
  }
}

function processFor (el) {
  var exp;
  if ((exp = getAndRemoveAttr(el, 'v-for'))) {
    var res = parseFor(exp);
    if (res) {
      extend(el, res);
    } else if (false) {}
  }
}



function parseFor (exp) {
  var inMatch = exp.match(forAliasRE);
  if (!inMatch) { return }
  var res = {};
  res.for = inMatch[2].trim();
  var alias = inMatch[1].trim().replace(stripParensRE, '');
  var iteratorMatch = alias.match(forIteratorRE);
  if (iteratorMatch) {
    res.alias = alias.replace(forIteratorRE, '').trim();
    res.iterator1 = iteratorMatch[1].trim();
    if (iteratorMatch[2]) {
      res.iterator2 = iteratorMatch[2].trim();
    }
  } else {
    res.alias = alias;
  }
  return res
}

function processIf (el) {
  var exp = getAndRemoveAttr(el, 'v-if');
  if (exp) {
    el.if = exp;
    addIfCondition(el, {
      exp: exp,
      block: el
    });
  } else {
    if (getAndRemoveAttr(el, 'v-else') != null) {
      el.else = true;
    }
    var elseif = getAndRemoveAttr(el, 'v-else-if');
    if (elseif) {
      el.elseif = elseif;
    }
  }
}

function processIfConditions (el, parent) {
  var prev = findPrevElement(parent.children);
  if (prev && prev.if) {
    addIfCondition(prev, {
      exp: el.elseif,
      block: el
    });
  } else if (false) {}
}

function findPrevElement (children) {
  var i = children.length;
  while (i--) {
    if (children[i].type === 1) {
      return children[i]
    } else {
      if (false) {}
      children.pop();
    }
  }
}

function addIfCondition (el, condition) {
  if (!el.ifConditions) {
    el.ifConditions = [];
  }
  el.ifConditions.push(condition);
}

function processOnce (el) {
  var once$$1 = getAndRemoveAttr(el, 'v-once');
  if (once$$1 != null) {
    el.once = true;
  }
}

function processSlot (el) {
  if (el.tag === 'slot') {
    el.slotName = getBindingAttr(el, 'name');
    if (false) {}
  } else {
    var slotScope;
    if (el.tag === 'template') {
      slotScope = getAndRemoveAttr(el, 'scope');
      /* istanbul ignore if */
      if (false) {}
      el.slotScope = slotScope || getAndRemoveAttr(el, 'slot-scope');
    } else if ((slotScope = getAndRemoveAttr(el, 'slot-scope'))) {
      /* istanbul ignore if */
      if (false) {}
      el.slotScope = slotScope;
    }
    var slotTarget = getBindingAttr(el, 'slot');
    if (slotTarget) {
      el.slotTarget = slotTarget === '""' ? '"default"' : slotTarget;
      // preserve slot as an attribute for native shadow DOM compat
      // only for non-scoped slots.
      if (el.tag !== 'template' && !el.slotScope) {
        addAttr(el, 'slot', slotTarget);
      }
    }
  }
}

function processComponent (el) {
  var binding;
  if ((binding = getBindingAttr(el, 'is'))) {
    el.component = binding;
  }
  if (getAndRemoveAttr(el, 'inline-template') != null) {
    el.inlineTemplate = true;
  }
}

function processAttrs (el) {
  var list = el.attrsList;
  var i, l, name, rawName, value, modifiers, isProp;
  for (i = 0, l = list.length; i < l; i++) {
    name = rawName = list[i].name;
    value = list[i].value;
    if (dirRE.test(name)) {
      // mark element as dynamic
      el.hasBindings = true;
      // modifiers
      modifiers = parseModifiers(name);
      if (modifiers) {
        name = name.replace(modifierRE, '');
      }
      if (bindRE.test(name)) { // v-bind
        name = name.replace(bindRE, '');
        value = parseFilters(value);
        isProp = false;
        if (
          false
        ) {}
        if (modifiers) {
          if (modifiers.prop) {
            isProp = true;
            name = camelize(name);
            if (name === 'innerHtml') { name = 'innerHTML'; }
          }
          if (modifiers.camel) {
            name = camelize(name);
          }
          if (modifiers.sync) {
            addHandler(
              el,
              ("update:" + (camelize(name))),
              genAssignmentCode(value, "$event")
            );
          }
        }
        if (isProp || (
          !el.component && platformMustUseProp(el.tag, el.attrsMap.type, name)
        )) {
          addProp(el, name, value);
        } else {
          addAttr(el, name, value);
        }
      } else if (onRE.test(name)) { // v-on
        name = name.replace(onRE, '');
        addHandler(el, name, value, modifiers, false, warn$2);
      } else { // normal directives
        name = name.replace(dirRE, '');
        // parse arg
        var argMatch = name.match(argRE);
        var arg = argMatch && argMatch[1];
        if (arg) {
          name = name.slice(0, -(arg.length + 1));
        }
        addDirective(el, name, rawName, value, arg, modifiers);
        if (false) {}
      }
    } else {
      // literal attribute
      if (false) { var res; }
      addAttr(el, name, JSON.stringify(value));
      // #6887 firefox doesn't update muted state if set via attribute
      // even immediately after element creation
      if (!el.component &&
          name === 'muted' &&
          platformMustUseProp(el.tag, el.attrsMap.type, name)) {
        addProp(el, name, 'true');
      }
    }
  }
}

function checkInFor (el) {
  var parent = el;
  while (parent) {
    if (parent.for !== undefined) {
      return true
    }
    parent = parent.parent;
  }
  return false
}

function parseModifiers (name) {
  var match = name.match(modifierRE);
  if (match) {
    var ret = {};
    match.forEach(function (m) { ret[m.slice(1)] = true; });
    return ret
  }
}

function makeAttrsMap (attrs) {
  var map = {};
  for (var i = 0, l = attrs.length; i < l; i++) {
    if (
      false
    ) {}
    map[attrs[i].name] = attrs[i].value;
  }
  return map
}

// for script (e.g. type="x/template") or style, do not decode content
function isTextTag (el) {
  return el.tag === 'script' || el.tag === 'style'
}

function isForbiddenTag (el) {
  return (
    el.tag === 'style' ||
    (el.tag === 'script' && (
      !el.attrsMap.type ||
      el.attrsMap.type === 'text/javascript'
    ))
  )
}

var ieNSBug = /^xmlns:NS\d+/;
var ieNSPrefix = /^NS\d+:/;

/* istanbul ignore next */
function guardIESVGBug (attrs) {
  var res = [];
  for (var i = 0; i < attrs.length; i++) {
    var attr = attrs[i];
    if (!ieNSBug.test(attr.name)) {
      attr.name = attr.name.replace(ieNSPrefix, '');
      res.push(attr);
    }
  }
  return res
}

function checkForAliasModel (el, value) {
  var _el = el;
  while (_el) {
    if (_el.for && _el.alias === value) {
      warn$2(
        "<" + (el.tag) + " v-model=\"" + value + "\">: " +
        "You are binding v-model directly to a v-for iteration alias. " +
        "This will not be able to modify the v-for source array because " +
        "writing to the alias is like modifying a function local variable. " +
        "Consider using an array of objects and use v-model on an object property instead."
      );
    }
    _el = _el.parent;
  }
}

/*  */

function preTransformNode (el, options) {
  if (el.tag === 'input') {
    var map = el.attrsMap;
    if (!map['v-model']) {
      return
    }

    var typeBinding;
    if (map[':type'] || map['v-bind:type']) {
      typeBinding = getBindingAttr(el, 'type');
    }
    if (!map.type && !typeBinding && map['v-bind']) {
      typeBinding = "(" + (map['v-bind']) + ").type";
    }

    if (typeBinding) {
      var ifCondition = getAndRemoveAttr(el, 'v-if', true);
      var ifConditionExtra = ifCondition ? ("&&(" + ifCondition + ")") : "";
      var hasElse = getAndRemoveAttr(el, 'v-else', true) != null;
      var elseIfCondition = getAndRemoveAttr(el, 'v-else-if', true);
      // 1. checkbox
      var branch0 = cloneASTElement(el);
      // process for on the main node
      processFor(branch0);
      addRawAttr(branch0, 'type', 'checkbox');
      processElement(branch0, options);
      branch0.processed = true; // prevent it from double-processed
      branch0.if = "(" + typeBinding + ")==='checkbox'" + ifConditionExtra;
      addIfCondition(branch0, {
        exp: branch0.if,
        block: branch0
      });
      // 2. add radio else-if condition
      var branch1 = cloneASTElement(el);
      getAndRemoveAttr(branch1, 'v-for', true);
      addRawAttr(branch1, 'type', 'radio');
      processElement(branch1, options);
      addIfCondition(branch0, {
        exp: "(" + typeBinding + ")==='radio'" + ifConditionExtra,
        block: branch1
      });
      // 3. other
      var branch2 = cloneASTElement(el);
      getAndRemoveAttr(branch2, 'v-for', true);
      addRawAttr(branch2, ':type', typeBinding);
      processElement(branch2, options);
      addIfCondition(branch0, {
        exp: ifCondition,
        block: branch2
      });

      if (hasElse) {
        branch0.else = true;
      } else if (elseIfCondition) {
        branch0.elseif = elseIfCondition;
      }

      return branch0
    }
  }
}

function cloneASTElement (el) {
  return createASTElement(el.tag, el.attrsList.slice(), el.parent)
}

var model$1 = {
  preTransformNode: preTransformNode
};

var modules$1 = [
  klass$1,
  style$1,
  model$1
];

/*  */

function text (el, dir) {
  if (dir.value) {
    addProp(el, 'textContent', ("_s(" + (dir.value) + ")"));
  }
}

/*  */

function html (el, dir) {
  if (dir.value) {
    addProp(el, 'innerHTML', ("_s(" + (dir.value) + ")"));
  }
}

var directives$1 = {
  model: model,
  text: text,
  html: html
};

/*  */

var baseOptions = {
  expectHTML: true,
  modules: modules$1,
  directives: directives$1,
  isPreTag: isPreTag,
  isUnaryTag: isUnaryTag,
  mustUseProp: mustUseProp,
  canBeLeftOpenTag: canBeLeftOpenTag,
  isReservedTag: isReservedTag,
  getTagNamespace: getTagNamespace,
  staticKeys: genStaticKeys(modules$1)
};

/*  */

var isStaticKey;
var isPlatformReservedTag;

var genStaticKeysCached = cached(genStaticKeys$1);

/**
 * Goal of the optimizer: walk the generated template AST tree
 * and detect sub-trees that are purely static, i.e. parts of
 * the DOM that never needs to change.
 *
 * Once we detect these sub-trees, we can:
 *
 * 1. Hoist them into constants, so that we no longer need to
 *    create fresh nodes for them on each re-render;
 * 2. Completely skip them in the patching process.
 */
function optimize (root, options) {
  if (!root) { return }
  isStaticKey = genStaticKeysCached(options.staticKeys || '');
  isPlatformReservedTag = options.isReservedTag || no;
  // first pass: mark all non-static nodes.
  markStatic$1(root);
  // second pass: mark static roots.
  markStaticRoots(root, false);
}

function genStaticKeys$1 (keys) {
  return makeMap(
    'type,tag,attrsList,attrsMap,plain,parent,children,attrs' +
    (keys ? ',' + keys : '')
  )
}

function markStatic$1 (node) {
  node.static = isStatic(node);
  if (node.type === 1) {
    // do not make component slot content static. this avoids
    // 1. components not able to mutate slot nodes
    // 2. static slot content fails for hot-reloading
    if (
      !isPlatformReservedTag(node.tag) &&
      node.tag !== 'slot' &&
      node.attrsMap['inline-template'] == null
    ) {
      return
    }
    for (var i = 0, l = node.children.length; i < l; i++) {
      var child = node.children[i];
      markStatic$1(child);
      if (!child.static) {
        node.static = false;
      }
    }
    if (node.ifConditions) {
      for (var i$1 = 1, l$1 = node.ifConditions.length; i$1 < l$1; i$1++) {
        var block = node.ifConditions[i$1].block;
        markStatic$1(block);
        if (!block.static) {
          node.static = false;
        }
      }
    }
  }
}

function markStaticRoots (node, isInFor) {
  if (node.type === 1) {
    if (node.static || node.once) {
      node.staticInFor = isInFor;
    }
    // For a node to qualify as a static root, it should have children that
    // are not just static text. Otherwise the cost of hoisting out will
    // outweigh the benefits and it's better off to just always render it fresh.
    if (node.static && node.children.length && !(
      node.children.length === 1 &&
      node.children[0].type === 3
    )) {
      node.staticRoot = true;
      return
    } else {
      node.staticRoot = false;
    }
    if (node.children) {
      for (var i = 0, l = node.children.length; i < l; i++) {
        markStaticRoots(node.children[i], isInFor || !!node.for);
      }
    }
    if (node.ifConditions) {
      for (var i$1 = 1, l$1 = node.ifConditions.length; i$1 < l$1; i$1++) {
        markStaticRoots(node.ifConditions[i$1].block, isInFor);
      }
    }
  }
}

function isStatic (node) {
  if (node.type === 2) { // expression
    return false
  }
  if (node.type === 3) { // text
    return true
  }
  return !!(node.pre || (
    !node.hasBindings && // no dynamic bindings
    !node.if && !node.for && // not v-if or v-for or v-else
    !isBuiltInTag(node.tag) && // not a built-in
    isPlatformReservedTag(node.tag) && // not a component
    !isDirectChildOfTemplateFor(node) &&
    Object.keys(node).every(isStaticKey)
  ))
}

function isDirectChildOfTemplateFor (node) {
  while (node.parent) {
    node = node.parent;
    if (node.tag !== 'template') {
      return false
    }
    if (node.for) {
      return true
    }
  }
  return false
}

/*  */

var fnExpRE = /^([\w$_]+|\([^)]*?\))\s*=>|^function\s*\(/;
var simplePathRE = /^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/;

// KeyboardEvent.keyCode aliases
var keyCodes = {
  esc: 27,
  tab: 9,
  enter: 13,
  space: 32,
  up: 38,
  left: 37,
  right: 39,
  down: 40,
  'delete': [8, 46]
};

// KeyboardEvent.key aliases
var keyNames = {
  // #7880: IE11 and Edge use `Esc` for Escape key name.
  esc: ['Esc', 'Escape'],
  tab: 'Tab',
  enter: 'Enter',
  // #9112: IE11 uses `Spacebar` for Space key name.
  space: [' ', 'Spacebar'],
  // #7806: IE11 uses key names without `Arrow` prefix for arrow keys.
  up: ['Up', 'ArrowUp'],
  left: ['Left', 'ArrowLeft'],
  right: ['Right', 'ArrowRight'],
  down: ['Down', 'ArrowDown'],
  // #9112: IE11 uses `Del` for Delete key name.
  'delete': ['Backspace', 'Delete', 'Del']
};

// #4868: modifiers that prevent the execution of the listener
// need to explicitly return null so that we can determine whether to remove
// the listener for .once
var genGuard = function (condition) { return ("if(" + condition + ")return null;"); };

var modifierCode = {
  stop: '$event.stopPropagation();',
  prevent: '$event.preventDefault();',
  self: genGuard("$event.target !== $event.currentTarget"),
  ctrl: genGuard("!$event.ctrlKey"),
  shift: genGuard("!$event.shiftKey"),
  alt: genGuard("!$event.altKey"),
  meta: genGuard("!$event.metaKey"),
  left: genGuard("'button' in $event && $event.button !== 0"),
  middle: genGuard("'button' in $event && $event.button !== 1"),
  right: genGuard("'button' in $event && $event.button !== 2")
};

function genHandlers (
  events,
  isNative
) {
  var res = isNative ? 'nativeOn:{' : 'on:{';
  for (var name in events) {
    res += "\"" + name + "\":" + (genHandler(name, events[name])) + ",";
  }
  return res.slice(0, -1) + '}'
}

function genHandler (
  name,
  handler
) {
  if (!handler) {
    return 'function(){}'
  }

  if (Array.isArray(handler)) {
    return ("[" + (handler.map(function (handler) { return genHandler(name, handler); }).join(',')) + "]")
  }

  var isMethodPath = simplePathRE.test(handler.value);
  var isFunctionExpression = fnExpRE.test(handler.value);

  if (!handler.modifiers) {
    if (isMethodPath || isFunctionExpression) {
      return handler.value
    }
    return ("function($event){" + (handler.value) + "}") // inline statement
  } else {
    var code = '';
    var genModifierCode = '';
    var keys = [];
    for (var key in handler.modifiers) {
      if (modifierCode[key]) {
        genModifierCode += modifierCode[key];
        // left/right
        if (keyCodes[key]) {
          keys.push(key);
        }
      } else if (key === 'exact') {
        var modifiers = (handler.modifiers);
        genModifierCode += genGuard(
          ['ctrl', 'shift', 'alt', 'meta']
            .filter(function (keyModifier) { return !modifiers[keyModifier]; })
            .map(function (keyModifier) { return ("$event." + keyModifier + "Key"); })
            .join('||')
        );
      } else {
        keys.push(key);
      }
    }
    if (keys.length) {
      code += genKeyFilter(keys);
    }
    // Make sure modifiers like prevent and stop get executed after key filtering
    if (genModifierCode) {
      code += genModifierCode;
    }
    var handlerCode = isMethodPath
      ? ("return " + (handler.value) + "($event)")
      : isFunctionExpression
        ? ("return (" + (handler.value) + ")($event)")
        : handler.value;
    return ("function($event){" + code + handlerCode + "}")
  }
}

function genKeyFilter (keys) {
  return ("if(!('button' in $event)&&" + (keys.map(genFilterCode).join('&&')) + ")return null;")
}

function genFilterCode (key) {
  var keyVal = parseInt(key, 10);
  if (keyVal) {
    return ("$event.keyCode!==" + keyVal)
  }
  var keyCode = keyCodes[key];
  var keyName = keyNames[key];
  return (
    "_k($event.keyCode," +
    (JSON.stringify(key)) + "," +
    (JSON.stringify(keyCode)) + "," +
    "$event.key," +
    "" + (JSON.stringify(keyName)) +
    ")"
  )
}

/*  */

function on (el, dir) {
  if (false) {}
  el.wrapListeners = function (code) { return ("_g(" + code + "," + (dir.value) + ")"); };
}

/*  */

function bind$1 (el, dir) {
  el.wrapData = function (code) {
    return ("_b(" + code + ",'" + (el.tag) + "'," + (dir.value) + "," + (dir.modifiers && dir.modifiers.prop ? 'true' : 'false') + (dir.modifiers && dir.modifiers.sync ? ',true' : '') + ")")
  };
}

/*  */

var baseDirectives = {
  on: on,
  bind: bind$1,
  cloak: noop
};

/*  */





var CodegenState = function CodegenState (options) {
  this.options = options;
  this.warn = options.warn || baseWarn;
  this.transforms = pluckModuleFunction(options.modules, 'transformCode');
  this.dataGenFns = pluckModuleFunction(options.modules, 'genData');
  this.directives = extend(extend({}, baseDirectives), options.directives);
  var isReservedTag = options.isReservedTag || no;
  this.maybeComponent = function (el) { return !(isReservedTag(el.tag) && !el.component); };
  this.onceId = 0;
  this.staticRenderFns = [];
  this.pre = false;
};



function generate (
  ast,
  options
) {
  var state = new CodegenState(options);
  var code = ast ? genElement(ast, state) : '_c("div")';
  return {
    render: ("with(this){return " + code + "}"),
    staticRenderFns: state.staticRenderFns
  }
}

function genElement (el, state) {
  if (el.parent) {
    el.pre = el.pre || el.parent.pre;
  }

  if (el.staticRoot && !el.staticProcessed) {
    return genStatic(el, state)
  } else if (el.once && !el.onceProcessed) {
    return genOnce(el, state)
  } else if (el.for && !el.forProcessed) {
    return genFor(el, state)
  } else if (el.if && !el.ifProcessed) {
    return genIf(el, state)
  } else if (el.tag === 'template' && !el.slotTarget && !state.pre) {
    return genChildren(el, state) || 'void 0'
  } else if (el.tag === 'slot') {
    return genSlot(el, state)
  } else {
    // component or element
    var code;
    if (el.component) {
      code = genComponent(el.component, el, state);
    } else {
      var data;
      if (!el.plain || (el.pre && state.maybeComponent(el))) {
        data = genData$2(el, state);
      }

      var children = el.inlineTemplate ? null : genChildren(el, state, true);
      code = "_c('" + (el.tag) + "'" + (data ? ("," + data) : '') + (children ? ("," + children) : '') + ")";
    }
    // module transforms
    for (var i = 0; i < state.transforms.length; i++) {
      code = state.transforms[i](el, code);
    }
    return code
  }
}

// hoist static sub-trees out
function genStatic (el, state) {
  el.staticProcessed = true;
  // Some elements (templates) need to behave differently inside of a v-pre
  // node.  All pre nodes are static roots, so we can use this as a location to
  // wrap a state change and reset it upon exiting the pre node.
  var originalPreState = state.pre;
  if (el.pre) {
    state.pre = el.pre;
  }
  state.staticRenderFns.push(("with(this){return " + (genElement(el, state)) + "}"));
  state.pre = originalPreState;
  return ("_m(" + (state.staticRenderFns.length - 1) + (el.staticInFor ? ',true' : '') + ")")
}

// v-once
function genOnce (el, state) {
  el.onceProcessed = true;
  if (el.if && !el.ifProcessed) {
    return genIf(el, state)
  } else if (el.staticInFor) {
    var key = '';
    var parent = el.parent;
    while (parent) {
      if (parent.for) {
        key = parent.key;
        break
      }
      parent = parent.parent;
    }
    if (!key) {
       false && false;
      return genElement(el, state)
    }
    return ("_o(" + (genElement(el, state)) + "," + (state.onceId++) + "," + key + ")")
  } else {
    return genStatic(el, state)
  }
}

function genIf (
  el,
  state,
  altGen,
  altEmpty
) {
  el.ifProcessed = true; // avoid recursion
  return genIfConditions(el.ifConditions.slice(), state, altGen, altEmpty)
}

function genIfConditions (
  conditions,
  state,
  altGen,
  altEmpty
) {
  if (!conditions.length) {
    return altEmpty || '_e()'
  }

  var condition = conditions.shift();
  if (condition.exp) {
    return ("(" + (condition.exp) + ")?" + (genTernaryExp(condition.block)) + ":" + (genIfConditions(conditions, state, altGen, altEmpty)))
  } else {
    return ("" + (genTernaryExp(condition.block)))
  }

  // v-if with v-once should generate code like (a)?_m(0):_m(1)
  function genTernaryExp (el) {
    return altGen
      ? altGen(el, state)
      : el.once
        ? genOnce(el, state)
        : genElement(el, state)
  }
}

function genFor (
  el,
  state,
  altGen,
  altHelper
) {
  var exp = el.for;
  var alias = el.alias;
  var iterator1 = el.iterator1 ? ("," + (el.iterator1)) : '';
  var iterator2 = el.iterator2 ? ("," + (el.iterator2)) : '';

  if (false
  ) {}

  el.forProcessed = true; // avoid recursion
  return (altHelper || '_l') + "((" + exp + ")," +
    "function(" + alias + iterator1 + iterator2 + "){" +
      "return " + ((altGen || genElement)(el, state)) +
    '})'
}

function genData$2 (el, state) {
  var data = '{';

  // directives first.
  // directives may mutate the el's other properties before they are generated.
  var dirs = genDirectives(el, state);
  if (dirs) { data += dirs + ','; }

  // key
  if (el.key) {
    data += "key:" + (el.key) + ",";
  }
  // ref
  if (el.ref) {
    data += "ref:" + (el.ref) + ",";
  }
  if (el.refInFor) {
    data += "refInFor:true,";
  }
  // pre
  if (el.pre) {
    data += "pre:true,";
  }
  // record original tag name for components using "is" attribute
  if (el.component) {
    data += "tag:\"" + (el.tag) + "\",";
  }
  // module data generation functions
  for (var i = 0; i < state.dataGenFns.length; i++) {
    data += state.dataGenFns[i](el);
  }
  // attributes
  if (el.attrs) {
    data += "attrs:{" + (genProps(el.attrs)) + "},";
  }
  // DOM props
  if (el.props) {
    data += "domProps:{" + (genProps(el.props)) + "},";
  }
  // event handlers
  if (el.events) {
    data += (genHandlers(el.events, false)) + ",";
  }
  if (el.nativeEvents) {
    data += (genHandlers(el.nativeEvents, true)) + ",";
  }
  // slot target
  // only for non-scoped slots
  if (el.slotTarget && !el.slotScope) {
    data += "slot:" + (el.slotTarget) + ",";
  }
  // scoped slots
  if (el.scopedSlots) {
    data += (genScopedSlots(el.scopedSlots, state)) + ",";
  }
  // component v-model
  if (el.model) {
    data += "model:{value:" + (el.model.value) + ",callback:" + (el.model.callback) + ",expression:" + (el.model.expression) + "},";
  }
  // inline-template
  if (el.inlineTemplate) {
    var inlineTemplate = genInlineTemplate(el, state);
    if (inlineTemplate) {
      data += inlineTemplate + ",";
    }
  }
  data = data.replace(/,$/, '') + '}';
  // v-bind data wrap
  if (el.wrapData) {
    data = el.wrapData(data);
  }
  // v-on data wrap
  if (el.wrapListeners) {
    data = el.wrapListeners(data);
  }
  return data
}

function genDirectives (el, state) {
  var dirs = el.directives;
  if (!dirs) { return }
  var res = 'directives:[';
  var hasRuntime = false;
  var i, l, dir, needRuntime;
  for (i = 0, l = dirs.length; i < l; i++) {
    dir = dirs[i];
    needRuntime = true;
    var gen = state.directives[dir.name];
    if (gen) {
      // compile-time directive that manipulates AST.
      // returns true if it also needs a runtime counterpart.
      needRuntime = !!gen(el, dir, state.warn);
    }
    if (needRuntime) {
      hasRuntime = true;
      res += "{name:\"" + (dir.name) + "\",rawName:\"" + (dir.rawName) + "\"" + (dir.value ? (",value:(" + (dir.value) + "),expression:" + (JSON.stringify(dir.value))) : '') + (dir.arg ? (",arg:\"" + (dir.arg) + "\"") : '') + (dir.modifiers ? (",modifiers:" + (JSON.stringify(dir.modifiers))) : '') + "},";
    }
  }
  if (hasRuntime) {
    return res.slice(0, -1) + ']'
  }
}

function genInlineTemplate (el, state) {
  var ast = el.children[0];
  if (false) {}
  if (ast.type === 1) {
    var inlineRenderFns = generate(ast, state.options);
    return ("inlineTemplate:{render:function(){" + (inlineRenderFns.render) + "},staticRenderFns:[" + (inlineRenderFns.staticRenderFns.map(function (code) { return ("function(){" + code + "}"); }).join(',')) + "]}")
  }
}

function genScopedSlots (
  slots,
  state
) {
  return ("scopedSlots:_u([" + (Object.keys(slots).map(function (key) {
      return genScopedSlot(key, slots[key], state)
    }).join(',')) + "])")
}

function genScopedSlot (
  key,
  el,
  state
) {
  if (el.for && !el.forProcessed) {
    return genForScopedSlot(key, el, state)
  }
  var fn = "function(" + (String(el.slotScope)) + "){" +
    "return " + (el.tag === 'template'
      ? el.if
        ? ("(" + (el.if) + ")?" + (genChildren(el, state) || 'undefined') + ":undefined")
        : genChildren(el, state) || 'undefined'
      : genElement(el, state)) + "}";
  return ("{key:" + key + ",fn:" + fn + "}")
}

function genForScopedSlot (
  key,
  el,
  state
) {
  var exp = el.for;
  var alias = el.alias;
  var iterator1 = el.iterator1 ? ("," + (el.iterator1)) : '';
  var iterator2 = el.iterator2 ? ("," + (el.iterator2)) : '';
  el.forProcessed = true; // avoid recursion
  return "_l((" + exp + ")," +
    "function(" + alias + iterator1 + iterator2 + "){" +
      "return " + (genScopedSlot(key, el, state)) +
    '})'
}

function genChildren (
  el,
  state,
  checkSkip,
  altGenElement,
  altGenNode
) {
  var children = el.children;
  if (children.length) {
    var el$1 = children[0];
    // optimize single v-for
    if (children.length === 1 &&
      el$1.for &&
      el$1.tag !== 'template' &&
      el$1.tag !== 'slot'
    ) {
      var normalizationType = checkSkip
        ? state.maybeComponent(el$1) ? ",1" : ",0"
        : "";
      return ("" + ((altGenElement || genElement)(el$1, state)) + normalizationType)
    }
    var normalizationType$1 = checkSkip
      ? getNormalizationType(children, state.maybeComponent)
      : 0;
    var gen = altGenNode || genNode;
    return ("[" + (children.map(function (c) { return gen(c, state); }).join(',')) + "]" + (normalizationType$1 ? ("," + normalizationType$1) : ''))
  }
}

// determine the normalization needed for the children array.
// 0: no normalization needed
// 1: simple normalization needed (possible 1-level deep nested array)
// 2: full normalization needed
function getNormalizationType (
  children,
  maybeComponent
) {
  var res = 0;
  for (var i = 0; i < children.length; i++) {
    var el = children[i];
    if (el.type !== 1) {
      continue
    }
    if (needsNormalization(el) ||
        (el.ifConditions && el.ifConditions.some(function (c) { return needsNormalization(c.block); }))) {
      res = 2;
      break
    }
    if (maybeComponent(el) ||
        (el.ifConditions && el.ifConditions.some(function (c) { return maybeComponent(c.block); }))) {
      res = 1;
    }
  }
  return res
}

function needsNormalization (el) {
  return el.for !== undefined || el.tag === 'template' || el.tag === 'slot'
}

function genNode (node, state) {
  if (node.type === 1) {
    return genElement(node, state)
  } else if (node.type === 3 && node.isComment) {
    return genComment(node)
  } else {
    return genText(node)
  }
}

function genText (text) {
  return ("_v(" + (text.type === 2
    ? text.expression // no need for () because already wrapped in _s()
    : transformSpecialNewlines(JSON.stringify(text.text))) + ")")
}

function genComment (comment) {
  return ("_e(" + (JSON.stringify(comment.text)) + ")")
}

function genSlot (el, state) {
  var slotName = el.slotName || '"default"';
  var children = genChildren(el, state);
  var res = "_t(" + slotName + (children ? ("," + children) : '');
  var attrs = el.attrs && ("{" + (el.attrs.map(function (a) { return ((camelize(a.name)) + ":" + (a.value)); }).join(',')) + "}");
  var bind$$1 = el.attrsMap['v-bind'];
  if ((attrs || bind$$1) && !children) {
    res += ",null";
  }
  if (attrs) {
    res += "," + attrs;
  }
  if (bind$$1) {
    res += (attrs ? '' : ',null') + "," + bind$$1;
  }
  return res + ')'
}

// componentName is el.component, take it as argument to shun flow's pessimistic refinement
function genComponent (
  componentName,
  el,
  state
) {
  var children = el.inlineTemplate ? null : genChildren(el, state, true);
  return ("_c(" + componentName + "," + (genData$2(el, state)) + (children ? ("," + children) : '') + ")")
}

function genProps (props) {
  var res = '';
  for (var i = 0; i < props.length; i++) {
    var prop = props[i];
    /* istanbul ignore if */
    {
      res += "\"" + (prop.name) + "\":" + (transformSpecialNewlines(prop.value)) + ",";
    }
  }
  return res.slice(0, -1)
}

// #3895, #4268
function transformSpecialNewlines (text) {
  return text
    .replace(/\u2028/g, '\\u2028')
    .replace(/\u2029/g, '\\u2029')
}

/*  */

// these keywords should not appear inside expressions, but operators like
// typeof, instanceof and in are allowed
var prohibitedKeywordRE = new RegExp('\\b' + (
  'do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,' +
  'super,throw,while,yield,delete,export,import,return,switch,default,' +
  'extends,finally,continue,debugger,function,arguments'
).split(',').join('\\b|\\b') + '\\b');

// these unary operators should not be used as property/method names
var unaryOperatorsRE = new RegExp('\\b' + (
  'delete,typeof,void'
).split(',').join('\\s*\\([^\\)]*\\)|\\b') + '\\s*\\([^\\)]*\\)');

// strip strings in expressions
var stripStringRE = /'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"|`(?:[^`\\]|\\.)*\$\{|\}(?:[^`\\]|\\.)*`|`(?:[^`\\]|\\.)*`/g;

// detect problematic expressions in a template
function detectErrors (ast) {
  var errors = [];
  if (ast) {
    checkNode(ast, errors);
  }
  return errors
}

function checkNode (node, errors) {
  if (node.type === 1) {
    for (var name in node.attrsMap) {
      if (dirRE.test(name)) {
        var value = node.attrsMap[name];
        if (value) {
          if (name === 'v-for') {
            checkFor(node, ("v-for=\"" + value + "\""), errors);
          } else if (onRE.test(name)) {
            checkEvent(value, (name + "=\"" + value + "\""), errors);
          } else {
            checkExpression(value, (name + "=\"" + value + "\""), errors);
          }
        }
      }
    }
    if (node.children) {
      for (var i = 0; i < node.children.length; i++) {
        checkNode(node.children[i], errors);
      }
    }
  } else if (node.type === 2) {
    checkExpression(node.expression, node.text, errors);
  }
}

function checkEvent (exp, text, errors) {
  var stipped = exp.replace(stripStringRE, '');
  var keywordMatch = stipped.match(unaryOperatorsRE);
  if (keywordMatch && stipped.charAt(keywordMatch.index - 1) !== '$') {
    errors.push(
      "avoid using JavaScript unary operator as property name: " +
      "\"" + (keywordMatch[0]) + "\" in expression " + (text.trim())
    );
  }
  checkExpression(exp, text, errors);
}

function checkFor (node, text, errors) {
  checkExpression(node.for || '', text, errors);
  checkIdentifier(node.alias, 'v-for alias', text, errors);
  checkIdentifier(node.iterator1, 'v-for iterator', text, errors);
  checkIdentifier(node.iterator2, 'v-for iterator', text, errors);
}

function checkIdentifier (
  ident,
  type,
  text,
  errors
) {
  if (typeof ident === 'string') {
    try {
      new Function(("var " + ident + "=_"));
    } catch (e) {
      errors.push(("invalid " + type + " \"" + ident + "\" in expression: " + (text.trim())));
    }
  }
}

function checkExpression (exp, text, errors) {
  try {
    new Function(("return " + exp));
  } catch (e) {
    var keywordMatch = exp.replace(stripStringRE, '').match(prohibitedKeywordRE);
    if (keywordMatch) {
      errors.push(
        "avoid using JavaScript keyword as property name: " +
        "\"" + (keywordMatch[0]) + "\"\n  Raw expression: " + (text.trim())
      );
    } else {
      errors.push(
        "invalid expression: " + (e.message) + " in\n\n" +
        "    " + exp + "\n\n" +
        "  Raw expression: " + (text.trim()) + "\n"
      );
    }
  }
}

/*  */



function createFunction (code, errors) {
  try {
    return new Function(code)
  } catch (err) {
    errors.push({ err: err, code: code });
    return noop
  }
}

function createCompileToFunctionFn (compile) {
  var cache = Object.create(null);

  return function compileToFunctions (
    template,
    options,
    vm
  ) {
    options = extend({}, options);
    var warn$$1 = options.warn || warn;
    delete options.warn;

    /* istanbul ignore if */
    if (false) {}

    // check cache
    var key = options.delimiters
      ? String(options.delimiters) + template
      : template;
    if (cache[key]) {
      return cache[key]
    }

    // compile
    var compiled = compile(template, options);

    // check compilation errors/tips
    if (false) {}

    // turn code into functions
    var res = {};
    var fnGenErrors = [];
    res.render = createFunction(compiled.render, fnGenErrors);
    res.staticRenderFns = compiled.staticRenderFns.map(function (code) {
      return createFunction(code, fnGenErrors)
    });

    // check function generation errors.
    // this should only happen if there is a bug in the compiler itself.
    // mostly for codegen development use
    /* istanbul ignore if */
    if (false) {}

    return (cache[key] = res)
  }
}

/*  */

function createCompilerCreator (baseCompile) {
  return function createCompiler (baseOptions) {
    function compile (
      template,
      options
    ) {
      var finalOptions = Object.create(baseOptions);
      var errors = [];
      var tips = [];
      finalOptions.warn = function (msg, tip) {
        (tip ? tips : errors).push(msg);
      };

      if (options) {
        // merge custom modules
        if (options.modules) {
          finalOptions.modules =
            (baseOptions.modules || []).concat(options.modules);
        }
        // merge custom directives
        if (options.directives) {
          finalOptions.directives = extend(
            Object.create(baseOptions.directives || null),
            options.directives
          );
        }
        // copy other options
        for (var key in options) {
          if (key !== 'modules' && key !== 'directives') {
            finalOptions[key] = options[key];
          }
        }
      }

      var compiled = baseCompile(template, finalOptions);
      if (false) {}
      compiled.errors = errors;
      compiled.tips = tips;
      return compiled
    }

    return {
      compile: compile,
      compileToFunctions: createCompileToFunctionFn(compile)
    }
  }
}

/*  */

// `createCompilerCreator` allows creating compilers that use alternative
// parser/optimizer/codegen, e.g the SSR optimizing compiler.
// Here we just export a default compiler using the default parts.
var createCompiler = createCompilerCreator(function baseCompile (
  template,
  options
) {
  var ast = parse(template.trim(), options);
  if (options.optimize !== false) {
    optimize(ast, options);
  }
  var code = generate(ast, options);
  return {
    ast: ast,
    render: code.render,
    staticRenderFns: code.staticRenderFns
  }
});

/*  */

var ref$1 = createCompiler(baseOptions);
var compile = ref$1.compile;
var compileToFunctions = ref$1.compileToFunctions;

/*  */

// check whether current browser encodes a char inside attribute values
var div;
function getShouldDecode (href) {
  div = div || document.createElement('div');
  div.innerHTML = href ? "<a href=\"\n\"/>" : "<div a=\"\n\"/>";
  return div.innerHTML.indexOf('&#10;') > 0
}

// #3663: IE encodes newlines inside attribute values while other browsers don't
var shouldDecodeNewlines = inBrowser ? getShouldDecode(false) : false;
// #6828: chrome encodes content in a[href]
var shouldDecodeNewlinesForHref = inBrowser ? getShouldDecode(true) : false;

/*  */

var idToTemplate = cached(function (id) {
  var el = query(id);
  return el && el.innerHTML
});

var mount = Vue.prototype.$mount;
Vue.prototype.$mount = function (
  el,
  hydrating
) {
  el = el && query(el);

  /* istanbul ignore if */
  if (el === document.body || el === document.documentElement) {
     false && false;
    return this
  }

  var options = this.$options;
  // resolve template/el and convert to render function
  if (!options.render) {
    var template = options.template;
    if (template) {
      if (typeof template === 'string') {
        if (template.charAt(0) === '#') {
          template = idToTemplate(template);
          /* istanbul ignore if */
          if (false) {}
        }
      } else if (template.nodeType) {
        template = template.innerHTML;
      } else {
        if (false) {}
        return this
      }
    } else if (el) {
      template = getOuterHTML(el);
    }
    if (template) {
      /* istanbul ignore if */
      if (false) {}

      var ref = compileToFunctions(template, {
        shouldDecodeNewlines: shouldDecodeNewlines,
        shouldDecodeNewlinesForHref: shouldDecodeNewlinesForHref,
        delimiters: options.delimiters,
        comments: options.comments
      }, this);
      var render = ref.render;
      var staticRenderFns = ref.staticRenderFns;
      options.render = render;
      options.staticRenderFns = staticRenderFns;

      /* istanbul ignore if */
      if (false) {}
    }
  }
  return mount.call(this, el, hydrating)
};

/**
 * Get outerHTML of elements, taking care
 * of SVG elements in IE as well.
 */
function getOuterHTML (el) {
  if (el.outerHTML) {
    return el.outerHTML
  } else {
    var container = document.createElement('div');
    container.appendChild(el.cloneNode(true));
    return container.innerHTML
  }
}

Vue.compile = compileToFunctions;

module.exports = Vue;

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__("c8ba")))

/***/ }),

/***/ "5f1b":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var classof = __webpack_require__("23c6");
var builtinExec = RegExp.prototype.exec;

 // `RegExpExec` abstract operation
// https://tc39.github.io/ecma262/#sec-regexpexec
module.exports = function (R, S) {
  var exec = R.exec;
  if (typeof exec === 'function') {
    var result = exec.call(R, S);
    if (typeof result !== 'object') {
      throw new TypeError('RegExp exec method returned something other than an Object or null');
    }
    return result;
  }
  if (classof(R) !== 'RegExp') {
    throw new TypeError('RegExp#exec called on incompatible receiver');
  }
  return builtinExec.call(R, S);
};


/***/ }),

/***/ "605b":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("605c");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("27dc4995", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "605c":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".window-app[data-v-13ff6e6a]{background:#fff;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:10px 10px 10px 10px;color:#000}.content-div[data-v-13ff6e6a]{height:calc(100% - 30px);-webkit-overflow-scrolling:touch;overflow:auto;position:relative}.quotes-list[data-v-13ff6e6a]{margin:20px}.iframe[data-v-13ff6e6a]{width:100%;height:100%}", ""]);

// exports


/***/ }),

/***/ "6111":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, "#app,.full,body,html{width:100%;height:100%;margin:0}#ll-exec-env,.ll-screen{height:100%}.ll-screen{position:relative;width:100%;background:-webkit-gradient(linear,left bottom,left top,from(rgba(252,70,106,.589)),to(rgba(63,94,251,.644)));background:linear-gradient(0deg,rgba(252,70,106,.589),rgba(63,94,251,.644))}.ll-pos-abs{position:absolute}.ll-perspective{-webkit-perspective:150vw;perspective:150vw}.ll-cam{-webkit-transform-style:preserve-3d;transform-style:preserve-3d}", ""]);

// exports


/***/ }),

/***/ "613b":
/***/ (function(module, exports, __webpack_require__) {

var shared = __webpack_require__("5537")('keys');
var uid = __webpack_require__("ca5a");
module.exports = function (key) {
  return shared[key] || (shared[key] = uid(key));
};


/***/ }),

/***/ "626a":
/***/ (function(module, exports, __webpack_require__) {

// fallback for non-array-like ES3 and non-enumerable old V8 strings
var cof = __webpack_require__("2d95");
// eslint-disable-next-line no-prototype-builtins
module.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
  return cof(it) == 'String' ? it.split('') : Object(it);
};


/***/ }),

/***/ "62a0":
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),

/***/ "63b6":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("e53d");
var core = __webpack_require__("584a");
var ctx = __webpack_require__("d864");
var hide = __webpack_require__("35e8");
var has = __webpack_require__("07e3");
var PROTOTYPE = 'prototype';

var $export = function (type, name, source) {
  var IS_FORCED = type & $export.F;
  var IS_GLOBAL = type & $export.G;
  var IS_STATIC = type & $export.S;
  var IS_PROTO = type & $export.P;
  var IS_BIND = type & $export.B;
  var IS_WRAP = type & $export.W;
  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});
  var expProto = exports[PROTOTYPE];
  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];
  var key, own, out;
  if (IS_GLOBAL) source = name;
  for (key in source) {
    // contains in native
    own = !IS_FORCED && target && target[key] !== undefined;
    if (own && has(exports, key)) continue;
    // export native or passed
    out = own ? target[key] : source[key];
    // prevent global pollution for namespaces
    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
    // bind timers to global for call from export context
    : IS_BIND && own ? ctx(out, global)
    // wrap global constructors for prevent change them in library
    : IS_WRAP && target[key] == out ? (function (C) {
      var F = function (a, b, c) {
        if (this instanceof C) {
          switch (arguments.length) {
            case 0: return new C();
            case 1: return new C(a);
            case 2: return new C(a, b);
          } return new C(a, b, c);
        } return C.apply(this, arguments);
      };
      F[PROTOTYPE] = C[PROTOTYPE];
      return F;
    // make static versions for prototype methods
    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
    if (IS_PROTO) {
      (exports.virtual || (exports.virtual = {}))[key] = out;
      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);
    }
  }
};
// type bitmap
$export.F = 1;   // forced
$export.G = 2;   // global
$export.S = 4;   // static
$export.P = 8;   // proto
$export.B = 16;  // bind
$export.W = 32;  // wrap
$export.U = 64;  // safe
$export.R = 128; // real proto method for `library`
module.exports = $export;


/***/ }),

/***/ "63f2":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("e774");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("0dc78011", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "656e":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 25.4.1.5 NewPromiseCapability(C)
var aFunction = __webpack_require__("79aa");

function PromiseCapability(C) {
  var resolve, reject;
  this.promise = new C(function ($$resolve, $$reject) {
    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');
    resolve = $$resolve;
    reject = $$reject;
  });
  this.resolve = aFunction(resolve);
  this.reject = aFunction(reject);
}

module.exports.f = function (C) {
  return new PromiseCapability(C);
};


/***/ }),

/***/ "65ab":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("3a35");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("6eb64493", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "6718":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("e53d");
var core = __webpack_require__("584a");
var LIBRARY = __webpack_require__("b8e3");
var wksExt = __webpack_require__("ccb9");
var defineProperty = __webpack_require__("d9f6").f;
module.exports = function (name) {
  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });
};


/***/ }),

/***/ "6762":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// https://github.com/tc39/Array.prototype.includes
var $export = __webpack_require__("5ca1");
var $includes = __webpack_require__("c366")(true);

$export($export.P, 'Array', {
  includes: function includes(el /* , fromIndex = 0 */) {
    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);
  }
});

__webpack_require__("9c6c")('includes');


/***/ }),

/***/ "67bb":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("f921");

/***/ }),

/***/ "6821":
/***/ (function(module, exports, __webpack_require__) {

// to indexed object, toObject with fallback for non-array-like ES3 strings
var IObject = __webpack_require__("626a");
var defined = __webpack_require__("be13");
module.exports = function (it) {
  return IObject(defined(it));
};


/***/ }),

/***/ "696e":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("c207");
__webpack_require__("1654");
__webpack_require__("6c1c");
__webpack_require__("24c5");
__webpack_require__("3c11");
__webpack_require__("43fc");
module.exports = __webpack_require__("584a").Promise;


/***/ }),

/***/ "69a8":
/***/ (function(module, exports) {

var hasOwnProperty = {}.hasOwnProperty;
module.exports = function (it, key) {
  return hasOwnProperty.call(it, key);
};


/***/ }),

/***/ "69d3":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("6718")('asyncIterator');


/***/ }),

/***/ "6a99":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.1 ToPrimitive(input [, PreferredType])
var isObject = __webpack_require__("d3f4");
// instead of the ES6 spec version, we didn't implement @@toPrimitive case
// and the second argument - flag - preferred type is a string
module.exports = function (it, S) {
  if (!isObject(it)) return it;
  var fn, val;
  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;
  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;
  throw TypeError("Can't convert object to primitive value");
};


/***/ }),

/***/ "6abf":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__("e6f3");
var hiddenKeys = __webpack_require__("1691").concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),

/***/ "6b4c":
/***/ (function(module, exports) {

var toString = {}.toString;

module.exports = function (it) {
  return toString.call(it).slice(8, -1);
};


/***/ }),

/***/ "6b54":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

__webpack_require__("3846");
var anObject = __webpack_require__("cb7c");
var $flags = __webpack_require__("0bfb");
var DESCRIPTORS = __webpack_require__("9e1e");
var TO_STRING = 'toString';
var $toString = /./[TO_STRING];

var define = function (fn) {
  __webpack_require__("2aba")(RegExp.prototype, TO_STRING, fn, true);
};

// 21.2.5.14 RegExp.prototype.toString()
if (__webpack_require__("79e5")(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {
  define(function toString() {
    var R = anObject(this);
    return '/'.concat(R.source, '/',
      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);
  });
// FF44- RegExp#toString has a wrong name
} else if ($toString.name != TO_STRING) {
  define(function toString() {
    return $toString.call(this);
  });
}


/***/ }),

/***/ "6c1c":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("c367");
var global = __webpack_require__("e53d");
var hide = __webpack_require__("35e8");
var Iterators = __webpack_require__("481b");
var TO_STRING_TAG = __webpack_require__("5168")('toStringTag');

var DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +
  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +
  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +
  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +
  'TextTrackList,TouchList').split(',');

for (var i = 0; i < DOMIterables.length; i++) {
  var NAME = DOMIterables[i];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
  Iterators[NAME] = Iterators.Array;
}


/***/ }),

/***/ "6c93":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".adders[data-v-bfdcb2ea]{height:30px}.marginer[data-v-bfdcb2ea]{width:90%;margin:20px 5%}", ""]);

// exports


/***/ }),

/***/ "6d68":
/***/ (function(module, exports) {

module.exports.id = 'ace/mode/javascript_worker';
module.exports.src = "\"no use strict\";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail=\"\";testPath;){var alias=paths[testPath];if(\"string\"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,\"/\")+(tail||alias.main||alias.name);if(alias===!1)return\"\";var i=testPath.lastIndexOf(\"/\");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:\"log\",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:\"error\",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf(\"!\")){var chunks=moduleName.split(\"!\");return window.normalizeModule(parentId,chunks[0])+\"!\"+window.normalizeModule(parentId,chunks[1])}if(\".\"==moduleName.charAt(0)){var base=parentId.split(\"/\").slice(0,-1).join(\"/\");for(moduleName=(base?base+\"/\":\"\")+moduleName;-1!==moduleName.indexOf(\".\")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,\"\").replace(/\\/\\.\\//,\"/\").replace(/[^\\/]+\\/\\.\\.\\//,\"\")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error(\"worker.js acequire() accepts only (parentId, id) as arguments\");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log(\"unable to load \"+id);var path=resolveModuleId(id,window.acequire.tlns);return\".js\"!=path.slice(-3)&&(path+=\".js\"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,\"string\"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),\"function\"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=[\"require\",\"exports\",\"module\"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case\"require\":return req;case\"exports\":return module.exports;case\"module\":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire(\"ace/lib/event_emitter\").EventEmitter,oop=window.acequire(\"ace/lib/oop\"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:\"call\",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:\"event\",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error(\"Unknown command:\"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire(\"ace/lib/es5-shim\"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define(\"ace/range\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return\"Range: [\"+this.start.row+\"/\"+this.start.column+\"] -> [\"+this.end.row+\"/\"+this.end.column+\"]\"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){\"object\"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){\"object\"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||\"\";switch(delta.action){case\"insert\":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case\"remove\":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){\"object\"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?\"unshift\":\"push\"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert=\"insert\"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal(\"change\",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener(\"change\",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on(\"change\",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"],function(acequire,exports){\"use strict\";var oop=acequire(\"./lib/oop\"),applyDelta=acequire(\"./apply_delta\").applyDelta,EventEmitter=acequire(\"./lib/event_emitter\").EventEmitter,Range=acequire(\"./range\").Range,Anchor=acequire(\"./anchor\").Anchor,Document=function(textOrLines){this.$lines=[\"\"],0===textOrLines.length?this.$lines=[\"\"]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0===\"aaa\".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,\"\\n\").split(\"\\n\")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:\"\\n\",this._signal(\"changeNewLineMode\")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case\"windows\":return\"\\r\\n\";case\"unix\":return\"\\n\";default:return this.$autoNewLine||\"\\n\"}},this.$autoNewLine=\"\",this.$newLineMode=\"auto\",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal(\"changeNewLineMode\"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return\"\\r\\n\"==text||\"\\r\"==text||\"\\n\"==text},this.getLine=function(row){return this.$lines[row]||\"\"},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||\"\").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\"),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\"),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\"),this.insertMergedLines(position,[\"\",\"\"])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:\"insert\",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([\"\"]),column=0):(lines=[\"\"].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:\"insert\",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:\"remove\",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:\"remove\",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:\"remove\",lines:[\"\",\"\"]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert=\"insert\"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal(\"change\",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(\"\"),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:\"insert\"==delta.action?\"remove\":\"insert\",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"],function(acequire,exports){\"use strict\";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split(\"\").reverse().join(\"\")},exports.stringRepeat=function(string,count){for(var result=\"\";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,\"\")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,\"\")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&\"object\"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if(\"object\"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if(\"[object Object]\"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,\"\\\\$1\")},exports.escapeHTML=function(str){return str.replace(/&/g,\"&#38;\").replace(/\"/g,\"&#34;\").replace(/'/g,\"&#39;\").replace(/</g,\"&#60;\")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define(\"ace/worker/mirror\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/document\",\"ace/lib/lang\"],function(acequire,exports){\"use strict\";acequire(\"../range\").Range;var Document=acequire(\"../document\").Document,lang=acequire(\"../lib/lang\"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(\"\"),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on(\"change\",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:\"insert\",start:data[i],lines:data[i+1]};else var d={action:\"remove\",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define(\"ace/mode/javascript/jshint\",[\"require\",\"exports\",\"module\"],function(acequire,exports,module){module.exports=function outer(modules,cache,entry){function newRequire(name,jumped){if(!cache[name]){if(!modules[name]){var currentRequire=\"function\"==typeof acequire&&acequire;if(!jumped&&currentRequire)return currentRequire(name,!0);if(previousRequire)return previousRequire(name,!0);var err=Error(\"Cannot find module '\"+name+\"'\");throw err.code=\"MODULE_NOT_FOUND\",err}var m=cache[name]={exports:{}};modules[name][0].call(m.exports,function(x){var id=modules[name][1][x];return newRequire(id?id:x)},m,m.exports,outer,modules,cache,entry)}return cache[name].exports}for(var previousRequire=\"function\"==typeof acequire&&acequire,i=0;entry.length>i;i++)newRequire(entry[i]);return newRequire(entry[0])}({\"/node_modules/browserify/node_modules/events/events.js\":[function(_dereq_,module){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return\"function\"==typeof arg}function isNumber(arg){return\"number\"==typeof arg}function isObject(arg){return\"object\"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||0>n||isNaN(n))throw TypeError(\"n must be a positive number\");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),\"error\"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;throw TypeError('Uncaught, unspecified \"error\" event.')}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];handler.apply(this,args)}else if(isObject(handler)){for(len=arguments.length,args=Array(len-1),i=1;len>i;i++)args[i-1]=arguments[i];for(listeners=handler.slice(),len=listeners.length,i=0;len>i;i++)listeners[i].apply(this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(this._events||(this._events={}),this._events.newListener&&this.emit(\"newListener\",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned){var m;m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,console.error(\"(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.\",this._events[type].length),\"function\"==typeof console.trace&&console.trace())}return this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError(\"listener must be a function\");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError(\"listener must be a function\");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit(\"removeListener\",type,listener);else if(isObject(list)){for(i=length;i-->0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(0>position)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit(\"removeListener\",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)\"removeListener\"!==key&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events={},this\n}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.listenerCount=function(emitter,type){var ret;return ret=emitter._events&&emitter._events[type]?isFunction(emitter._events[type])?1:emitter._events[type].length:0}},{}],\"/node_modules/jshint/data/ascii-identifier-data.js\":[function(_dereq_,module){for(var identifierStartTable=[],i=0;128>i;i++)identifierStartTable[i]=36===i||i>=65&&90>=i||95===i||i>=97&&122>=i;for(var identifierPartTable=[],i=0;128>i;i++)identifierPartTable[i]=identifierStartTable[i]||i>=48&&57>=i;module.exports={asciiIdentifierStartTable:identifierStartTable,asciiIdentifierPartTable:identifierPartTable}},{}],\"/node_modules/jshint/lodash.js\":[function(_dereq_,module,exports){(function(global){(function(){function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:length>++index;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;length>++index;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return\"function\"==typeof value||!1}function baseToString(value){return\"string\"==typeof value?value:null==value?\"\":value+\"\"}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:length>++index;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&\"object\"==typeof value}function lodash(){}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));length>++index;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;length>++index&&iteratee(array[index],index,array)!==!1;);return array}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];length>++index;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);length>++index;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;length>++index;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;length>++index;)if(predicate(array[index],index,array))return!0;return!1}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;length>++index;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;length>++index;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return\"function\"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:\"object\"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&length>++index;)var result=object=object[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return\"function\"!=valType&&\"object\"!=valType&&\"function\"!=othType&&\"object\"!=othType||null==value||null==other?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,\"__wrapped__\"),othWrapped=othIsObj&&hasOwnProperty.call(other,\"__wrapped__\");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;length>++index;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;length>++index;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else result=customizer?customizer(objValue,srcValue,key):undefined,result===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+\"\";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),!(!isArr&&isCommon||key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return object[key]=stackB[length],undefined;var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+\"\";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);length>++index;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);length>++index;)result[index]=object[props[index]];return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if(\"number\"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsUndef=value===undefined;high>low;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if(\"function\"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for(\"function\"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer=\"function\"==typeof thisArg?thisArg:null,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?null:customizer,length=1);length>++index;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:length>++index)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:length>++index;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return\"function\"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&arrLength>++index;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+\"\"}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;objLength>++index;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor=\"constructor\"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&\"constructor\"in object&&\"constructor\"in other&&!(\"function\"==typeof objCtor&&objCtor instanceof objCtor&&\"function\"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&\"string\"==typeof array[0]&&hasOwnProperty.call(array,\"index\")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return\"function\"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&0==value%1&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if(\"number\"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq=\"string\"==type&&index in object;if(prereq){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if(\"string\"==type&&reIsPlainProp.test(value)||\"number\"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLength(value){return\"number\"==typeof value&&value>-1&&0==value%1&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&(0===value?1/value>0:!isObject(value))}function shimIsPlainObject(value){var Ctor;if(lodash.support,!isObjectLike(value)||objToString.call(value)!=objectTag||!hasOwnProperty.call(value,\"constructor\")&&(Ctor=value.constructor,\"function\"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];propsLength>++index;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,\"$1\"):number||match)}),result}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if(\"number\"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value===value?value===other:other!==other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function slice(array,start,end){var length=array?array.length:0;return length?(end&&\"number\"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);length>++index;)result[index]=arrayMap(array,baseProperty(index));return result}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),length?(fromIndex=\"number\"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,\"string\"==typeof collection||!isArray(collection)&&isString(collection)?length>fromIndex&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1):!1}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),(\"function\"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function restParam(func,start){if(\"function\"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);length>++index;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;start>++index;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function clone(value,isDeep,customizer,thisArg){return isDeep&&\"boolean\"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:\"function\"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),customizer=\"function\"==typeof customizer&&bindCallback(customizer,thisArg,1),baseClone(value,isDeep,customizer)}function isArguments(value){var length=isObjectLike(value)?value.length:undefined;return isLength(length)&&objToString.call(value)==argsTag}function isEmpty(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length}function isObject(value){var type=typeof value;return\"function\"==type||!!value&&\"object\"==type}function isNative(value){return null==value?!1:objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNumber(value){return\"number\"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isString(value){return\"string\"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto=\"function\"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;length>++index;)result[index]=index+\"\";for(var key in object)skipIndexes&&isIndex(key,length)||\"constructor\"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function values(object){return baseValues(object,keys(object))}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,\"\\\\$&\"):string}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}var undefined,VERSION=\"3.7.0\",FUNC_ERROR_TEXT=\"Expected a function\",argsTag=\"[object Arguments]\",arrayTag=\"[object Array]\",boolTag=\"[object Boolean]\",dateTag=\"[object Date]\",errorTag=\"[object Error]\",funcTag=\"[object Function]\",mapTag=\"[object Map]\",numberTag=\"[object Number]\",objectTag=\"[object Object]\",regexpTag=\"[object RegExp]\",setTag=\"[object Set]\",stringTag=\"[object String]\",weakMapTag=\"[object WeakMap]\",arrayBufferTag=\"[object ArrayBuffer]\",float32Tag=\"[object Float32Array]\",float64Tag=\"[object Float64Array]\",int8Tag=\"[object Int8Array]\",int16Tag=\"[object Int16Array]\",int32Tag=\"[object Int32Array]\",uint8Tag=\"[object Uint8Array]\",uint8ClampedTag=\"[object Uint8ClampedArray]\",uint16Tag=\"[object Uint16Array]\",uint32Tag=\"[object Uint32Array]\",reIsDeepProp=/\\.|\\[(?:[^[\\]]+|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?)\\1\\]/,reIsPlainProp=/^\\w*$/,rePropName=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g,reRegExpChars=/[.*+?^${}()|[\\]\\/\\\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reEscapeChar=/\\\\(\\\\)?/g,reFlags=/\\w*$/,reIsHostCtor=/^\\[object .+?Constructor\\]$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var objectTypes={\"function\":!0,object:!0},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&\"object\"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,arrayProto=Array.prototype,objectProto=Object.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,objToString=objectProto.toString,reIsNative=RegExp(\"^\"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),ArrayBuffer=isNative(ArrayBuffer=root.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Uint8Array=isNative(Uint8Array=root.Uint8Array)&&Uint8Array,Float64Array=function(){try{var func=isNative(func=root.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),\"xo\")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,support=lodash.support={};(function(x){var Ctor=function(){this.x=x},props=[];Ctor.prototype={valueOf:x,y:x};for(var key in new Ctor)props.push(key);support.funcDecomp=/\\bthis\\b/.test(function(){return this}),support.funcNames=\"string\"==typeof Function.name;try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}})(1,0);var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))},baseEach=createBaseEach(baseForOwn),baseFor=createBaseFor();bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset),view.set(new Uint8Array(buffer,offset))),result}:constant(null));var getLength=baseProperty(\"length\"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]),findLastIndex=createFindIndex(!0),zip=restParam(unzip),forEach=createForEach(arrayEach,baseEach),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction,isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return\"function\"==typeof Ctor&&Ctor.prototype===object||\"function\"!=typeof object&&isLength(length)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,merge=createAssigner(baseMerge);lodash.assign=assign,lodash.callback=callback,lodash.constant=constant,lodash.forEach=forEach,lodash.keys=keys,lodash.keysIn=keysIn,lodash.merge=merge,lodash.property=property,lodash.reject=reject,lodash.restParam=restParam,lodash.slice=slice,lodash.toPlainObject=toPlainObject,lodash.unzip=unzip,lodash.values=values,lodash.zip=zip,lodash.each=forEach,lodash.extend=assign,lodash.iteratee=callback,lodash.clone=clone,lodash.escapeRegExp=escapeRegExp,lodash.findLastIndex=findLastIndex,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isEmpty=isEmpty,lodash.isFunction=isFunction,lodash.isNative=isNative,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.last=last,lodash.some=some,lodash.any=some,lodash.contains=includes,lodash.include=includes,lodash.VERSION=VERSION,freeExports&&freeModule?moduleExports?(freeModule.exports=lodash)._=lodash:freeExports._=lodash:root._=lodash\n}).call(this)}).call(this,\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],\"/node_modules/jshint/src/jshint.js\":[function(_dereq_,module,exports){var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),vars=_dereq_(\"./vars.js\"),messages=_dereq_(\"./messages.js\"),Lexer=_dereq_(\"./lex.js\").Lexer,reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,style=_dereq_(\"./style.js\"),options=_dereq_(\"./options.js\"),scopeManager=_dereq_(\"./scope-manager.js\"),JSHINT=function(){\"use strict\";function checkOption(name,t){return name=name.trim(),/^[+-]W\\d{3}$/g.test(name)?!0:-1!==options.validNames.indexOf(name)||\"jslint\"===t.type||_.has(options.removed,name)?!0:(error(\"E001\",t,name),!1)}function isString(obj){return\"[object String]\"===Object.prototype.toString.call(obj)}function isIdentifier(tkn,value){return tkn?tkn.identifier&&tkn.value===value?!0:!1:!1}function isReserved(token){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(token.isProperty)return!1}return!0}function supplant(str,data){return str.replace(/\\{([^{}]*)\\}/g,function(a,b){var r=data[b];return\"string\"==typeof r||\"number\"==typeof r?r:a})}function combine(dest,src){Object.keys(src).forEach(function(name){_.has(JSHINT.blacklist,name)||(dest[name]=src[name])})}function processenforceall(){if(state.option.enforceall){for(var enforceopt in options.bool.enforcing)void 0!==state.option[enforceopt]||options.noenforceall[enforceopt]||(state.option[enforceopt]=!0);for(var relaxopt in options.bool.relaxing)void 0===state.option[relaxopt]&&(state.option[relaxopt]=!1)}}function assume(){processenforceall(),state.option.esversion||state.option.moz||(state.option.esversion=state.option.es3?3:state.option.esnext?6:5),state.inES5()&&combine(predefined,vars.ecmaIdentifiers[5]),state.inES6()&&combine(predefined,vars.ecmaIdentifiers[6]),state.option.module&&(state.option.strict===!0&&(state.option.strict=\"global\"),state.inES6()||warning(\"W134\",state.tokens.next,\"module\",6)),state.option.couch&&combine(predefined,vars.couch),state.option.qunit&&combine(predefined,vars.qunit),state.option.rhino&&combine(predefined,vars.rhino),state.option.shelljs&&(combine(predefined,vars.shelljs),combine(predefined,vars.node)),state.option.typed&&combine(predefined,vars.typed),state.option.phantom&&(combine(predefined,vars.phantom),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.prototypejs&&combine(predefined,vars.prototypejs),state.option.node&&(combine(predefined,vars.node),combine(predefined,vars.typed),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.devel&&combine(predefined,vars.devel),state.option.dojo&&combine(predefined,vars.dojo),state.option.browser&&(combine(predefined,vars.browser),combine(predefined,vars.typed)),state.option.browserify&&(combine(predefined,vars.browser),combine(predefined,vars.typed),combine(predefined,vars.browserify),state.option.strict===!0&&(state.option.strict=\"global\")),state.option.nonstandard&&combine(predefined,vars.nonstandard),state.option.jasmine&&combine(predefined,vars.jasmine),state.option.jquery&&combine(predefined,vars.jquery),state.option.mootools&&combine(predefined,vars.mootools),state.option.worker&&combine(predefined,vars.worker),state.option.wsh&&combine(predefined,vars.wsh),state.option.globalstrict&&state.option.strict!==!1&&(state.option.strict=\"global\"),state.option.yui&&combine(predefined,vars.yui),state.option.mocha&&combine(predefined,vars.mocha)}function quit(code,line,chr){var percentage=Math.floor(100*(line/state.lines.length)),message=messages.errors[code].desc;throw{name:\"JSHintError\",line:line,character:chr,message:message+\" (\"+percentage+\"% scanned).\",raw:message,code:code}}function removeIgnoredMessages(){var ignored=state.ignoredLines;_.isEmpty(ignored)||(JSHINT.errors=_.reject(JSHINT.errors,function(err){return ignored[err.line]}))}function warning(code,t,a,b,c,d){var ch,l,w,msg;if(/^W\\d{3}$/.test(code)){if(state.ignored[code])return;msg=messages.warnings[code]}else/E\\d{3}/.test(code)?msg=messages.errors[code]:/I\\d{3}/.test(code)&&(msg=messages.info[code]);return t=t||state.tokens.next||{},\"(end)\"===t.id&&(t=state.tokens.curr),l=t.line||0,ch=t.from||0,w={id:\"(error)\",raw:msg.desc,code:msg.code,evidence:state.lines[l-1]||\"\",line:l,character:ch,scope:JSHINT.scope,a:a,b:b,c:c,d:d},w.reason=supplant(msg.desc,w),JSHINT.errors.push(w),removeIgnoredMessages(),JSHINT.errors.length>=state.option.maxerr&&quit(\"E043\",l,ch),w}function warningAt(m,l,ch,a,b,c,d){return warning(m,{line:l,from:ch},a,b,c,d)}function error(m,t,a,b,c,d){warning(m,t,a,b,c,d)}function errorAt(m,l,ch,a,b,c,d){return error(m,{line:l,from:ch},a,b,c,d)}function addInternalSrc(elem,src){var i;return i={id:\"(internal)\",elem:elem,value:src},JSHINT.internals.push(i),i}function doOption(){var nt=state.tokens.next,body=nt.body.match(/(-\\s+)?[^\\s,:]+(?:\\s*:\\s*(-\\s+)?[^\\s,]+)?/g)||[],predef={};if(\"globals\"===nt.type){body.forEach(function(g,idx){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(\"-\"===key||!key.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}\"-\"===key.charAt(0)?(key=key.slice(1),val=!1,JSHINT.blacklist[key]=key,delete predefined[key]):predef[key]=\"true\"===val}),combine(predefined,predef);for(var key in predef)_.has(predef,key)&&(declared[key]=nt)}\"exported\"===nt.type&&body.forEach(function(e,idx){if(!e.length){if(idx>0&&idx===body.length-1)return;return error(\"E002\",nt),void 0}state.funct[\"(scope)\"].addExported(e)}),\"members\"===nt.type&&(membersOnly=membersOnly||{},body.forEach(function(m){var ch1=m.charAt(0),ch2=m.charAt(m.length-1);ch1!==ch2||'\"'!==ch1&&\"'\"!==ch1||(m=m.substr(1,m.length-2).replace('\\\\\"','\"')),membersOnly[m]=!1}));var numvals=[\"maxstatements\",\"maxparams\",\"maxdepth\",\"maxcomplexity\",\"maxerr\",\"maxlen\",\"indent\"];(\"jshint\"===nt.type||\"jslint\"===nt.type)&&(body.forEach(function(g){g=g.split(\":\");var key=(g[0]||\"\").trim(),val=(g[1]||\"\").trim();if(checkOption(key,nt))if(numvals.indexOf(key)>=0)if(\"false\"!==val){if(val=+val,\"number\"!=typeof val||!isFinite(val)||0>=val||Math.floor(val)!==val)return error(\"E032\",nt,g[1].trim()),void 0;state.option[key]=val}else state.option[key]=\"indent\"===key?4:!1;else{if(\"validthis\"===key)return state.funct[\"(global)\"]?void error(\"E009\"):\"true\"!==val&&\"false\"!==val?void error(\"E002\",nt):(state.option.validthis=\"true\"===val,void 0);if(\"quotmark\"!==key)if(\"shadow\"!==key)if(\"unused\"!==key)if(\"latedef\"!==key)if(\"ignore\"!==key)if(\"strict\"!==key){\"module\"===key&&(hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"module\"));var esversions={es3:3,es5:5,esnext:6};if(!_.has(esversions,key)){if(\"esversion\"===key){switch(val){case\"5\":state.inES5(!0)&&warning(\"I003\");case\"3\":case\"6\":state.option.moz=!1,state.option.esversion=+val;break;case\"2015\":state.option.moz=!1,state.option.esversion=6;break;default:error(\"E002\",nt)}return hasParsedCode(state.funct)||error(\"E055\",state.tokens.next,\"esversion\"),void 0}var match=/^([+-])(W\\d{3})$/g.exec(key);if(match)return state.ignored[match[2]]=\"-\"===match[1],void 0;var tn;return\"true\"===val||\"false\"===val?(\"jslint\"===nt.type?(tn=options.renamed[key]||key,state.option[tn]=\"true\"===val,void 0!==options.inverted[tn]&&(state.option[tn]=!state.option[tn])):state.option[key]=\"true\"===val,\"newcap\"===key&&(state.option[\"(explicitNewcap)\"]=!0),void 0):(error(\"E002\",nt),void 0)}switch(val){case\"true\":state.option.moz=!1,state.option.esversion=esversions[key];break;case\"false\":state.option.moz||(state.option.esversion=5);break;default:error(\"E002\",nt)}}else switch(val){case\"true\":state.option.strict=!0;break;case\"false\":state.option.strict=!1;break;case\"func\":case\"global\":case\"implied\":state.option.strict=val;break;default:error(\"E002\",nt)}else switch(val){case\"line\":state.ignoredLines[nt.line]=!0,removeIgnoredMessages();break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.latedef=!0;break;case\"false\":state.option.latedef=!1;break;case\"nofunc\":state.option.latedef=\"nofunc\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.unused=!0;break;case\"false\":state.option.unused=!1;break;case\"vars\":case\"strict\":state.option.unused=val;break;default:error(\"E002\",nt)}else switch(val){case\"true\":state.option.shadow=!0;break;case\"outer\":state.option.shadow=\"outer\";break;case\"false\":case\"inner\":state.option.shadow=\"inner\";break;default:error(\"E002\",nt)}else switch(val){case\"true\":case\"false\":state.option.quotmark=\"true\"===val;break;case\"double\":case\"single\":state.option.quotmark=val;break;default:error(\"E002\",nt)}}}),assume())}function peek(p){var t,i=p||0,j=lookahead.length;if(j>i)return lookahead[i];for(;i>=j;)t=lookahead[j],t||(t=lookahead[j]=lex.token()),j+=1;return t||\"(end)\"!==state.tokens.next.id?t:state.tokens.next}function peekIgnoreEOL(){var t,i=0;do t=peek(i++);while(\"(endline)\"===t.id);return t}function advance(id,t){switch(state.tokens.curr.id){case\"(number)\":\".\"===state.tokens.next.id&&warning(\"W005\",state.tokens.curr);break;case\"-\":(\"-\"===state.tokens.next.id||\"--\"===state.tokens.next.id)&&warning(\"W006\");break;case\"+\":(\"+\"===state.tokens.next.id||\"++\"===state.tokens.next.id)&&warning(\"W007\")}for(id&&state.tokens.next.id!==id&&(t?\"(end)\"===state.tokens.next.id?error(\"E019\",t,t.id):error(\"E020\",state.tokens.next,id,t.id,t.line,state.tokens.next.value):(\"(identifier)\"!==state.tokens.next.type||state.tokens.next.value!==id)&&warning(\"W116\",state.tokens.next,id,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=lookahead.shift()||lex.token(),state.tokens.next||quit(\"E041\",state.tokens.curr.line),\"(end)\"===state.tokens.next.id||\"(error)\"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)\"falls through\"===state.tokens.next.type?state.tokens.curr.caseFallsThrough=!0:doOption();else if(\"(endline)\"!==state.tokens.next.id)break}}function isInfix(token){return token.infix||!token.identifier&&!token.template&&!!token.led}function isEndOfExpr(){var curr=state.tokens.curr,next=state.tokens.next;return\";\"===next.id||\"}\"===next.id||\":\"===next.id?!0:isInfix(next)===isInfix(curr)||\"yield\"===curr.id&&state.inMoz()?curr.line!==startLine(next):!1}function isBeginOfExpr(prev){return!prev.left&&\"unary\"!==prev.arity}function expression(rbp,initial){var left,isArray=!1,isObject=!1,isLetExpr=!1;state.nameStack.push(),initial||\"let\"!==state.tokens.next.value||\"(\"!==peek(0).value||(state.inMoz()||warning(\"W118\",state.tokens.next,\"let expressions\"),isLetExpr=!0,state.funct[\"(scope)\"].stack(),advance(\"let\"),advance(\"(\"),state.tokens.prev.fud(),advance(\")\")),\"(end)\"===state.tokens.next.id&&error(\"E006\",state.tokens.curr);var isDangerous=state.option.asi&&state.tokens.prev.line!==startLine(state.tokens.curr)&&_.contains([\"]\",\")\"],state.tokens.prev.id)&&_.contains([\"[\",\"(\"],state.tokens.curr.id);if(isDangerous&&warning(\"W014\",state.tokens.curr,state.tokens.curr.id),advance(),initial&&(state.funct[\"(verb)\"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),initial===!0&&state.tokens.curr.fud)left=state.tokens.curr.fud();else for(state.tokens.curr.nud?left=state.tokens.curr.nud():error(\"E030\",state.tokens.curr,state.tokens.curr.id);(state.tokens.next.lbp>rbp||\"(template)\"===state.tokens.next.type)&&!isEndOfExpr();)isArray=\"Array\"===state.tokens.curr.value,isObject=\"Object\"===state.tokens.curr.value,left&&(left.value||left.first&&left.first.value)&&(\"new\"!==left.value||left.first&&left.first.value&&\".\"===left.first.value)&&(isArray=!1,left.value!==state.tokens.curr.value&&(isObject=!1)),advance(),isArray&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W009\",state.tokens.curr),isObject&&\"(\"===state.tokens.curr.id&&\")\"===state.tokens.next.id&&warning(\"W010\",state.tokens.curr),left&&state.tokens.curr.led?left=state.tokens.curr.led(left):error(\"E033\",state.tokens.curr,state.tokens.curr.id);return isLetExpr&&state.funct[\"(scope)\"].unstack(),state.nameStack.pop(),left}function startLine(token){return token.startLine||token.line}function nobreaknonadjacent(left,right){left=left||state.tokens.curr,right=right||state.tokens.next,state.option.laxbreak||left.line===startLine(right)||warning(\"W014\",right,right.value)}function nolinebreak(t){t=t||state.tokens.curr,t.line!==startLine(state.tokens.next)&&warning(\"E022\",t,t.value)}function nobreakcomma(left,right){left.line!==startLine(right)&&(state.option.laxcomma||(comma.first&&(warning(\"I001\"),comma.first=!1),warning(\"W014\",left,right.value)))}function comma(opts){if(opts=opts||{},opts.peek?nobreakcomma(state.tokens.prev,state.tokens.curr):(nobreakcomma(state.tokens.curr,state.tokens.next),advance(\",\")),state.tokens.next.identifier&&(!opts.property||!state.inES5()))switch(state.tokens.next.value){case\"break\":case\"case\":case\"catch\":case\"continue\":case\"default\":case\"do\":case\"else\":case\"finally\":case\"for\":case\"if\":case\"in\":case\"instanceof\":case\"return\":case\"switch\":case\"throw\":case\"try\":case\"var\":case\"let\":case\"while\":case\"with\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}if(\"(punctuator)\"===state.tokens.next.type)switch(state.tokens.next.value){case\"}\":case\"]\":case\",\":if(opts.allowTrailing)return!0;case\")\":return error(\"E024\",state.tokens.next,state.tokens.next.value),!1}return!0}function symbol(s,p){var x=state.syntax[s];return x&&\"object\"==typeof x||(state.syntax[s]=x={id:s,lbp:p,value:s}),x}function delim(s){var x=symbol(s,0);return x.delim=!0,x}function stmt(s,f){var x=delim(s);return x.identifier=x.reserved=!0,x.fud=f,x}function blockstmt(s,f){var x=stmt(s,f);return x.block=!0,x}function reserveName(x){var c=x.id.charAt(0);return(c>=\"a\"&&\"z\">=c||c>=\"A\"&&\"Z\">=c)&&(x.identifier=x.reserved=!0),x}function prefix(s,f){var x=symbol(s,150);return reserveName(x),x.nud=\"function\"==typeof f?f:function(){return this.arity=\"unary\",this.right=expression(150),(\"++\"===this.id||\"--\"===this.id)&&(state.option.plusplus?warning(\"W016\",this,this.id):!this.right||this.right.identifier&&!isReserved(this.right)||\".\"===this.right.id||\"[\"===this.right.id||warning(\"W017\",this),this.right&&this.right.isMetaProperty?error(\"E031\",this):this.right&&this.right.identifier&&state.funct[\"(scope)\"].block.modify(this.right.value,this)),this},x}function type(s,f){var x=delim(s);return x.type=s,x.nud=f,x}function reserve(name,func){var x=type(name,func);return x.identifier=!0,x.reserved=!0,x}function FutureReservedWord(name,meta){var x=type(name,meta&&meta.nud||function(){return this});return meta=meta||{},meta.isFutureReservedWord=!0,x.value=name,x.identifier=!0,x.reserved=!0,x.meta=meta,x}function reservevar(s,v){return reserve(s,function(){return\"function\"==typeof v&&v(this),this})}function infix(s,f,p,w){var x=symbol(s,p);return reserveName(x),x.infix=!0,x.led=function(left){return w||nobreaknonadjacent(state.tokens.prev,state.tokens.curr),\"in\"!==s&&\"instanceof\"!==s||\"!\"!==left.id||warning(\"W018\",left,\"!\"),\"function\"==typeof f?f(left,this):(this.left=left,this.right=expression(p),this)},x}function application(s){var x=symbol(s,42);return x.led=function(left){return nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left,this.right=doFunction({type:\"arrow\",loneArg:left}),this},x}function relation(s,f){var x=symbol(s,100);return x.led=function(left){nobreaknonadjacent(state.tokens.prev,state.tokens.curr),this.left=left;var right=this.right=expression(100);return isIdentifier(left,\"NaN\")||isIdentifier(right,\"NaN\")?warning(\"W019\",this):f&&f.apply(this,[left,right]),left&&right||quit(\"E041\",state.tokens.curr.line),\"!\"===left.id&&warning(\"W018\",left,\"!\"),\"!\"===right.id&&warning(\"W018\",right,\"!\"),this},x}function isPoorRelation(node){return node&&(\"(number)\"===node.type&&0===+node.value||\"(string)\"===node.type&&\"\"===node.value||\"null\"===node.type&&!state.option.eqnull||\"true\"===node.type||\"false\"===node.type||\"undefined\"===node.type)}function isTypoTypeof(left,right,state){var values;return state.option.notypeof?!1:left&&right?(values=state.inES6()?typeofValues.es6:typeofValues.es3,\"(identifier)\"===right.type&&\"typeof\"===right.value&&\"(string)\"===left.type?!_.contains(values,left.value):!1):!1}function isGlobalEval(left,state){var isGlobal=!1;return\"this\"===left.type&&null===state.funct[\"(context)\"]?isGlobal=!0:\"(identifier)\"===left.type&&(state.option.node&&\"global\"===left.value?isGlobal=!0:!state.option.browser||\"window\"!==left.value&&\"document\"!==left.value||(isGlobal=!0)),isGlobal}function findNativePrototype(left){function walkPrototype(obj){return\"object\"==typeof obj?\"prototype\"===obj.right?obj:walkPrototype(obj.left):void 0}function walkNative(obj){for(;!obj.identifier&&\"object\"==typeof obj.left;)obj=obj.left;return obj.identifier&&natives.indexOf(obj.value)>=0?obj.value:void 0}var natives=[\"Array\",\"ArrayBuffer\",\"Boolean\",\"Collator\",\"DataView\",\"Date\",\"DateTimeFormat\",\"Error\",\"EvalError\",\"Float32Array\",\"Float64Array\",\"Function\",\"Infinity\",\"Intl\",\"Int16Array\",\"Int32Array\",\"Int8Array\",\"Iterator\",\"Number\",\"NumberFormat\",\"Object\",\"RangeError\",\"ReferenceError\",\"RegExp\",\"StopIteration\",\"String\",\"SyntaxError\",\"TypeError\",\"Uint16Array\",\"Uint32Array\",\"Uint8Array\",\"Uint8ClampedArray\",\"URIError\"],prototype=walkPrototype(left);return prototype?walkNative(prototype):void 0}function checkLeftSideAssign(left,assignToken,options){var allowDestructuring=options&&options.allowDestructuring;if(assignToken=assignToken||left,state.option.freeze){var nativeObject=findNativePrototype(left);nativeObject&&warning(\"W121\",left,nativeObject)}return left.identifier&&!left.isMetaProperty&&state.funct[\"(scope)\"].block.reassign(left.value,left),\".\"===left.id?((!left.left||\"arguments\"===left.left.value&&!state.isStrict())&&warning(\"E031\",assignToken),state.nameStack.set(state.tokens.prev),!0):\"{\"===left.id||\"[\"===left.id?(allowDestructuring&&state.tokens.curr.left.destructAssign?state.tokens.curr.left.destructAssign.forEach(function(t){t.id&&state.funct[\"(scope)\"].block.modify(t.id,t.token)}):\"{\"!==left.id&&left.left?\"arguments\"!==left.left.value||state.isStrict()||warning(\"E031\",assignToken):warning(\"E031\",assignToken),\"[\"===left.id&&state.nameStack.set(left.right),!0):left.isMetaProperty?(error(\"E031\",assignToken),!0):left.identifier&&!isReserved(left)?(\"exception\"===state.funct[\"(scope)\"].labeltype(left.value)&&warning(\"W022\",left),state.nameStack.set(left),!0):(left===state.syntax[\"function\"]&&warning(\"W023\",state.tokens.curr),!1)}function assignop(s,f,p){var x=infix(s,\"function\"==typeof f?f:function(left,that){return that.left=left,left&&checkLeftSideAssign(left,that,{allowDestructuring:!0})?(that.right=expression(10),that):(error(\"E031\",that),void 0)},p);return x.exps=!0,x.assign=!0,x}function bitwise(s,f,p){var x=symbol(s,p);return reserveName(x),x.led=\"function\"==typeof f?f:function(left){return state.option.bitwise&&warning(\"W016\",this,this.id),this.left=left,this.right=expression(p),this},x}function bitwiseassignop(s){return assignop(s,function(left,that){return state.option.bitwise&&warning(\"W016\",that,that.id),left&&checkLeftSideAssign(left,that)?(that.right=expression(10),that):(error(\"E031\",that),void 0)},20)}function suffix(s){var x=symbol(s,150);return x.led=function(left){return state.option.plusplus?warning(\"W016\",this,this.id):left.identifier&&!isReserved(left)||\".\"===left.id||\"[\"===left.id||warning(\"W017\",this),left.isMetaProperty?error(\"E031\",this):left&&left.identifier&&state.funct[\"(scope)\"].block.modify(left.value,left),this.left=left,this},x}function optionalidentifier(fnparam,prop,preserve){if(state.tokens.next.identifier){preserve||advance();var curr=state.tokens.curr,val=state.tokens.curr.value;return isReserved(curr)?prop&&state.inES5()?val:fnparam&&\"undefined\"===val?val:(warning(\"W024\",state.tokens.curr,state.tokens.curr.id),val):val}}function identifier(fnparam,prop){var i=optionalidentifier(fnparam,prop,!1);if(i)return i;if(\"...\"===state.tokens.next.value){if(state.inES6(!0)||warning(\"W119\",state.tokens.next,\"spread/rest operator\",\"6\"),advance(),checkPunctuator(state.tokens.next,\"...\"))for(warning(\"E024\",state.tokens.next,\"...\");checkPunctuator(state.tokens.next,\"...\");)advance();return state.tokens.next.identifier?identifier(fnparam,prop):(warning(\"E024\",state.tokens.curr,\"...\"),void 0)}error(\"E030\",state.tokens.next,state.tokens.next.value),\";\"!==state.tokens.next.id&&advance()}function reachable(controlToken){var t,i=0;if(\";\"===state.tokens.next.id&&!controlToken.inBracelessBlock)for(;;){do t=peek(i),i+=1;while(\"(end)\"!==t.id&&\"(comment)\"===t.id);if(t.reach)return;if(\"(endline)\"!==t.id){if(\"function\"===t.id){state.option.latedef===!0&&warning(\"W026\",t);break}warning(\"W027\",t,t.value,controlToken.value);break}}}function parseFinalSemicolon(){if(\";\"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return advance();var sameLine=startLine(state.tokens.next)===state.tokens.curr.line&&\"(end)\"!==state.tokens.next.id,blockEnd=checkPunctuator(state.tokens.next,\"}\");sameLine&&!blockEnd?errorAt(\"E058\",state.tokens.curr.line,state.tokens.curr.character):state.option.asi||(blockEnd&&!state.option.lastsemic||!sameLine)&&warningAt(\"W033\",state.tokens.curr.line,state.tokens.curr.character)}else advance(\";\")}function statement(){var r,i=indent,t=state.tokens.next,hasOwnScope=!1;if(\";\"===t.id)return advance(\";\"),void 0;var res=isReserved(t);if(res&&t.meta&&t.meta.isFutureReservedWord&&\":\"===peek().id&&(warning(\"W024\",t,t.id),res=!1),t.identifier&&!res&&\":\"===peek().id&&(advance(),advance(\":\"),hasOwnScope=!0,state.funct[\"(scope)\"].stack(),state.funct[\"(scope)\"].block.addBreakLabel(t.value,{token:state.tokens.curr}),state.tokens.next.labelled||\"{\"===state.tokens.next.value||warning(\"W028\",state.tokens.next,t.value,state.tokens.next.value),state.tokens.next.label=t.value,t=state.tokens.next),\"{\"===t.id){var iscase=\"case\"===state.funct[\"(verb)\"]&&\":\"===state.tokens.curr.value;return block(!0,!0,!1,!1,iscase),void 0}return r=expression(0,!0),!r||r.identifier&&\"function\"===r.value||\"(punctuator)\"===r.type&&r.left&&r.left.identifier&&\"function\"===r.left.value||state.isStrict()||\"global\"!==state.option.strict||warning(\"E007\"),t.block||(state.option.expr||r&&r.exps?state.option.nonew&&r&&r.left&&\"(\"===r.id&&\"new\"===r.left.id&&warning(\"W031\",t):warning(\"W030\",state.tokens.curr),parseFinalSemicolon()),indent=i,hasOwnScope&&state.funct[\"(scope)\"].unstack(),r}function statements(){for(var p,a=[];!state.tokens.next.reach&&\"(end)\"!==state.tokens.next.id;)\";\"===state.tokens.next.id?(p=peek(),(!p||\"(\"!==p.id&&\"[\"!==p.id)&&warning(\"W032\"),advance(\";\")):a.push(statement());return a}function directives(){for(var i,p,pn;\"(string)\"===state.tokens.next.id;){if(p=peek(0),\"(endline)\"===p.id){i=1;do pn=peek(i++);while(\"(endline)\"===pn.id);if(\";\"===pn.id)p=pn;else{if(\"[\"===pn.value||\".\"===pn.value)break;state.option.asi&&\"(\"!==pn.value||warning(\"W033\",state.tokens.next)}}else{if(\".\"===p.id||\"[\"===p.id)break;\";\"!==p.id&&warning(\"W033\",p)}advance();var directive=state.tokens.curr.value;(state.directive[directive]||\"use strict\"===directive&&\"implied\"===state.option.strict)&&warning(\"W034\",state.tokens.curr,directive),state.directive[directive]=!0,\";\"===p.id&&advance(\";\")}state.isStrict()&&(state.option[\"(explicitNewcap)\"]||(state.option.newcap=!0),state.option.undef=!0)}function block(ordinary,stmt,isfunc,isfatarrow,iscase){var a,m,t,line,d,b=inblock,old_indent=indent;inblock=ordinary,t=state.tokens.next;var metrics=state.funct[\"(metrics)\"];if(metrics.nestedBlockDepth+=1,metrics.verifyMaxNestedBlockDepthPerFunction(),\"{\"===state.tokens.next.id){if(advance(\"{\"),state.funct[\"(scope)\"].stack(),line=state.tokens.curr.line,\"}\"!==state.tokens.next.id){for(indent+=state.option.indent;!ordinary&&state.tokens.next.from>indent;)indent+=state.option.indent;if(isfunc){m={};for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);directives(),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\"))}a=statements(),metrics.statementCount+=a.length,indent-=state.option.indent}advance(\"}\",t),isfunc&&(state.funct[\"(scope)\"].validateParams(),m&&(state.directive=m)),state.funct[\"(scope)\"].unstack(),indent=old_indent}else if(ordinary)state.funct[\"(noblockscopedvar)\"]=\"for\"!==state.tokens.next.id,state.funct[\"(scope)\"].stack(),(!stmt||state.option.curly)&&warning(\"W116\",state.tokens.next,\"{\",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,indent+=state.option.indent,a=[statement()],indent-=state.option.indent,state.funct[\"(scope)\"].unstack(),delete state.funct[\"(noblockscopedvar)\"];else if(isfunc){if(state.funct[\"(scope)\"].stack(),m={},!stmt||isfatarrow||state.inMoz()||error(\"W118\",state.tokens.curr,\"function closure expressions\"),!stmt)for(d in state.directive)_.has(state.directive,d)&&(m[d]=state.directive[d]);expression(10),state.option.strict&&state.funct[\"(context)\"][\"(global)\"]&&(m[\"use strict\"]||state.isStrict()||warning(\"E007\")),state.funct[\"(scope)\"].unstack()}else error(\"E021\",state.tokens.next,\"{\",state.tokens.next.value);switch(state.funct[\"(verb)\"]){case\"break\":case\"continue\":case\"return\":case\"throw\":if(iscase)break;default:state.funct[\"(verb)\"]=null}return inblock=b,!ordinary||!state.option.noempty||a&&0!==a.length||warning(\"W035\",state.tokens.prev),metrics.nestedBlockDepth-=1,a}function countMember(m){membersOnly&&\"boolean\"!=typeof membersOnly[m]&&warning(\"W036\",state.tokens.curr,m),\"number\"==typeof member[m]?member[m]+=1:member[m]=1}function comprehensiveArrayExpression(){var res={};res.exps=!0,state.funct[\"(comparray)\"].stack();var reversed=!1;return\"for\"!==state.tokens.next.value&&(reversed=!0,state.inMoz()||warning(\"W116\",state.tokens.next,\"for\",state.tokens.next.value),state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"for\"),\"each\"===state.tokens.next.value&&(advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"define\"),res.left=expression(130),_.contains([\"in\",\"of\"],state.tokens.next.value)?advance():error(\"E045\",state.tokens.curr),state.funct[\"(comparray)\"].setState(\"generate\"),expression(10),advance(\")\"),\"if\"===state.tokens.next.value&&(advance(\"if\"),advance(\"(\"),state.funct[\"(comparray)\"].setState(\"filter\"),res.filter=expression(10),advance(\")\")),reversed||(state.funct[\"(comparray)\"].setState(\"use\"),res.right=expression(10)),advance(\"]\"),state.funct[\"(comparray)\"].unstack(),res}function isMethod(){return state.funct[\"(statement)\"]&&\"class\"===state.funct[\"(statement)\"].type||state.funct[\"(context)\"]&&\"class\"===state.funct[\"(context)\"][\"(verb)\"]}function isPropertyName(token){return token.identifier||\"(string)\"===token.id||\"(number)\"===token.id}function propertyName(preserveOrToken){var id,preserve=!0;return\"object\"==typeof preserveOrToken?id=preserveOrToken:(preserve=preserveOrToken,id=optionalidentifier(!1,!0,preserve)),id?\"object\"==typeof id&&(\"(string)\"===id.id||\"(identifier)\"===id.id?id=id.value:\"(number)\"===id.id&&(id=\"\"+id.value)):\"(string)\"===state.tokens.next.id?(id=state.tokens.next.value,preserve||advance()):\"(number)\"===state.tokens.next.id&&(id=\"\"+state.tokens.next.value,preserve||advance()),\"hasOwnProperty\"===id&&warning(\"W001\"),id}function functionparams(options){function addParam(addParamArgs){state.funct[\"(scope)\"].addParam.apply(state.funct[\"(scope)\"],addParamArgs)}var next,ident,t,paramsIds=[],tokens=[],pastDefault=!1,pastRest=!1,arity=0,loneArg=options&&options.loneArg;if(loneArg&&loneArg.identifier===!0)return state.funct[\"(scope)\"].addParam(loneArg.value,loneArg),{arity:1,params:[loneArg.value]};if(next=state.tokens.next,options&&options.parsedOpening||advance(\"(\"),\")\"===state.tokens.next.id)return advance(\")\"),void 0;for(;;){arity++;var currentParams=[];if(_.contains([\"{\",\"[\"],state.tokens.next.id)){tokens=destructuringPattern();for(t in tokens)t=tokens[t],t.id&&(paramsIds.push(t.id),currentParams.push([t.id,t.token]))}else if(checkPunctuator(state.tokens.next,\"...\")&&(pastRest=!0),ident=identifier(!0))paramsIds.push(ident),currentParams.push([ident,state.tokens.curr]);else for(;!checkPunctuators(state.tokens.next,[\",\",\")\"]);)advance();if(pastDefault&&\"=\"!==state.tokens.next.id&&error(\"W138\",state.tokens.current),\"=\"===state.tokens.next.id&&(state.inES6()||warning(\"W119\",state.tokens.next,\"default parameters\",\"6\"),advance(\"=\"),pastDefault=!0,expression(10)),currentParams.forEach(addParam),\",\"!==state.tokens.next.id)return advance(\")\",next),{arity:arity,params:paramsIds};pastRest&&warning(\"W131\",state.tokens.next),comma()}}function functor(name,token,overwrites){var funct={\"(name)\":name,\"(breakage)\":0,\"(loopage)\":0,\"(tokens)\":{},\"(properties)\":{},\"(catch)\":!1,\"(global)\":!1,\"(line)\":null,\"(character)\":null,\"(metrics)\":null,\"(statement)\":null,\"(context)\":null,\"(scope)\":null,\"(comparray)\":null,\"(generator)\":null,\"(arrow)\":null,\"(params)\":null};return token&&_.extend(funct,{\"(line)\":token.line,\"(character)\":token.character,\"(metrics)\":createMetrics(token)}),_.extend(funct,overwrites),funct[\"(context)\"]&&(funct[\"(scope)\"]=funct[\"(context)\"][\"(scope)\"],funct[\"(comparray)\"]=funct[\"(context)\"][\"(comparray)\"]),funct}function isFunctor(token){return\"(scope)\"in token}function hasParsedCode(funct){return funct[\"(global)\"]&&!funct[\"(verb)\"]}function doTemplateLiteral(left){function end(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===ctx)return!0;var complete=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===ctx;return complete&&advance(),complete||state.tokens.next.isUnclosed}var ctx=this.context,noSubst=this.noSubst,depth=this.depth;if(!noSubst)for(;!end();)!state.tokens.next.template||state.tokens.next.depth>depth?expression(0):advance();return{id:\"(template)\",type:\"(template)\",tag:left}}function doFunction(options){var f,token,name,statement,classExprBinding,isGenerator,isArrow,ignoreLoopFunc,oldOption=state.option,oldIgnored=state.ignored;options&&(name=options.name,statement=options.statement,classExprBinding=options.classExprBinding,isGenerator=\"generator\"===options.type,isArrow=\"arrow\"===options.type,ignoreLoopFunc=options.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=functor(name||state.nameStack.infer(),state.tokens.next,{\"(statement)\":statement,\"(context)\":state.funct,\"(arrow)\":isArrow,\"(generator)\":isGenerator}),f=state.funct,token=state.tokens.curr,token.funct=state.funct,functions.push(state.funct),state.funct[\"(scope)\"].stack(\"functionouter\");var internallyAccessibleName=name||classExprBinding;internallyAccessibleName&&state.funct[\"(scope)\"].block.add(internallyAccessibleName,classExprBinding?\"class\":\"function\",state.tokens.curr,!1),state.funct[\"(scope)\"].stack(\"functionparams\");var paramsInfo=functionparams(options);return paramsInfo?(state.funct[\"(params)\"]=paramsInfo.params,state.funct[\"(metrics)\"].arity=paramsInfo.arity,state.funct[\"(metrics)\"].verifyMaxParametersPerFunction()):state.funct[\"(metrics)\"].arity=0,isArrow&&(state.inES6(!0)||warning(\"W119\",state.tokens.curr,\"arrow function syntax (=>)\",\"6\"),options.loneArg||advance(\"=>\")),block(!1,!0,!0,isArrow),!state.option.noyield&&isGenerator&&\"yielded\"!==state.funct[\"(generator)\"]&&warning(\"W124\",state.tokens.curr),state.funct[\"(metrics)\"].verifyMaxStatementsPerFunction(),state.funct[\"(metrics)\"].verifyMaxComplexityPerFunction(),state.funct[\"(unusedOption)\"]=state.option.unused,state.option=oldOption,state.ignored=oldIgnored,state.funct[\"(last)\"]=state.tokens.curr.line,state.funct[\"(lastcharacter)\"]=state.tokens.curr.character,state.funct[\"(scope)\"].unstack(),state.funct[\"(scope)\"].unstack(),state.funct=state.funct[\"(context)\"],ignoreLoopFunc||state.option.loopfunc||!state.funct[\"(loopage)\"]||f[\"(isCapturing)\"]&&warning(\"W083\",token),f}function createMetrics(functionStartToken){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&warning(\"W071\",functionStartToken,this.statementCount)\n},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&warning(\"W072\",functionStartToken,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&warning(\"W073\",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var max=state.option.maxcomplexity,cc=this.ComplexityCount;max&&cc>max&&warning(\"W074\",functionStartToken,cc)}}}function increaseComplexityCount(){state.funct[\"(metrics)\"].ComplexityCount+=1}function checkCondAssignment(expr){var id,paren;switch(expr&&(id=expr.id,paren=expr.paren,\",\"===id&&(expr=expr.exprs[expr.exprs.length-1])&&(id=expr.id,paren=paren||expr.paren)),id){case\"=\":case\"+=\":case\"-=\":case\"*=\":case\"%=\":case\"&=\":case\"|=\":case\"^=\":case\"/=\":paren||state.option.boss||warning(\"W084\")}}function checkProperties(props){if(state.inES5())for(var name in props)props[name]&&props[name].setterToken&&!props[name].getterToken&&warning(\"W078\",props[name].setterToken)}function metaProperty(name,c){if(checkPunctuator(state.tokens.next,\".\")){var left=state.tokens.curr.id;advance(\".\");var id=identifier();return state.tokens.curr.isMetaProperty=!0,name!==id?error(\"E057\",state.tokens.prev,left,id):c(),state.tokens.curr}}function destructuringPattern(options){var isAssignment=options&&options.assignment;return state.inES6()||warning(\"W104\",state.tokens.curr,isAssignment?\"destructuring assignment\":\"destructuring binding\",\"6\"),destructuringPatternRecursive(options)}function destructuringPatternRecursive(options){var ids,identifiers=[],openingParsed=options&&options.openingParsed,isAssignment=options&&options.assignment,recursiveOptions=isAssignment?{assignment:isAssignment}:null,firstToken=openingParsed?state.tokens.curr:state.tokens.next,nextInnerDE=function(){var ident;if(checkPunctuators(state.tokens.next,[\"[\",\"{\"])){ids=destructuringPatternRecursive(recursiveOptions);for(var id in ids)id=ids[id],identifiers.push({id:id.id,token:id.token})}else if(checkPunctuator(state.tokens.next,\",\"))identifiers.push({id:null,token:state.tokens.curr});else{if(!checkPunctuator(state.tokens.next,\"(\")){var is_rest=checkPunctuator(state.tokens.next,\"...\");if(isAssignment){var identifierToken=is_rest?peek(0):state.tokens.next;identifierToken.identifier||warning(\"E030\",identifierToken,identifierToken.value);var assignTarget=expression(155);assignTarget&&(checkLeftSideAssign(assignTarget),assignTarget.identifier&&(ident=assignTarget.value))}else ident=identifier();return ident&&identifiers.push({id:ident,token:state.tokens.curr}),is_rest}advance(\"(\"),nextInnerDE(),advance(\")\")}return!1},assignmentProperty=function(){var id;checkPunctuator(state.tokens.next,\"[\")?(advance(\"[\"),expression(10),advance(\"]\"),advance(\":\"),nextInnerDE()):\"(string)\"===state.tokens.next.id||\"(number)\"===state.tokens.next.id?(advance(),advance(\":\"),nextInnerDE()):(id=identifier(),checkPunctuator(state.tokens.next,\":\")?(advance(\":\"),nextInnerDE()):id&&(isAssignment&&checkLeftSideAssign(state.tokens.curr),identifiers.push({id:id,token:state.tokens.curr})))};if(checkPunctuator(firstToken,\"[\")){openingParsed||advance(\"[\"),checkPunctuator(state.tokens.next,\"]\")&&warning(\"W137\",state.tokens.curr);for(var element_after_rest=!1;!checkPunctuator(state.tokens.next,\"]\");)nextInnerDE()&&!element_after_rest&&checkPunctuator(state.tokens.next,\",\")&&(warning(\"W130\",state.tokens.next),element_after_rest=!0),checkPunctuator(state.tokens.next,\"=\")&&(checkPunctuator(state.tokens.prev,\"...\")?advance(\"]\"):advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"]\")||advance(\",\");advance(\"]\")}else if(checkPunctuator(firstToken,\"{\")){for(openingParsed||advance(\"{\"),checkPunctuator(state.tokens.next,\"}\")&&warning(\"W137\",state.tokens.curr);!checkPunctuator(state.tokens.next,\"}\")&&(assignmentProperty(),checkPunctuator(state.tokens.next,\"=\")&&(advance(\"=\"),\"undefined\"===state.tokens.next.id&&warning(\"W080\",state.tokens.prev,state.tokens.prev.value),expression(10)),checkPunctuator(state.tokens.next,\"}\")||(advance(\",\"),!checkPunctuator(state.tokens.next,\"}\"))););advance(\"}\")}return identifiers}function destructuringPatternMatch(tokens,value){var first=value.first;first&&_.zip(tokens,Array.isArray(first)?first:[first]).forEach(function(val){var token=val[0],value=val[1];token&&value?token.first=value:token&&token.first&&!value&&warning(\"W080\",token.first,token.first.value)})}function blockVariableStatement(type,statement,context){var tokens,lone,value,letblock,prefix=context&&context.prefix,inexport=context&&context.inexport,isLet=\"let\"===type,isConst=\"const\"===type;for(state.inES6()||warning(\"W104\",state.tokens.curr,type,\"6\"),isLet&&\"(\"===state.tokens.next.value?(state.inMoz()||warning(\"W118\",state.tokens.next,\"let block\"),advance(\"(\"),state.funct[\"(scope)\"].stack(),letblock=!0):state.funct[\"(noblockscopedvar)\"]&&error(\"E048\",state.tokens.curr,isConst?\"Const\":\"Let\"),statement.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),!prefix&&isConst&&\"=\"!==state.tokens.next.id&&warning(\"E012\",state.tokens.curr,state.tokens.curr.value);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],state.funct[\"(scope)\"].block.isGlobal()&&predefined[t.id]===!1&&warning(\"W079\",t.token,t.id),t.id&&!state.funct[\"(noblockscopedvar)\"]&&(state.funct[\"(scope)\"].addlabel(t.id,{type:type,token:t.token}),names.push(t.token),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.token.value,t.token)));if(\"=\"===state.tokens.next.id&&(advance(\"=\"),prefix||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),!prefix&&\"=\"===peek(0).id&&state.tokens.next.identifier&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),statement.first=statement.first.concat(names),\",\"!==state.tokens.next.id)break;comma()}return letblock&&(advance(\")\"),block(!0,!0),statement.block=!0,state.funct[\"(scope)\"].unstack()),statement}function classdef(isStatement){return state.inES6()||warning(\"W104\",state.tokens.curr,\"class\",\"6\"),isStatement?(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"class\",token:state.tokens.curr})):state.tokens.next.identifier&&\"extends\"!==state.tokens.next.value?(this.name=identifier(),this.namedExpr=!0):this.name=state.nameStack.infer(),classtail(this),this}function classtail(c){var wasInClassBody=state.inClassBody;\"extends\"===state.tokens.next.value&&(advance(\"extends\"),c.heritage=expression(10)),state.inClassBody=!0,advance(\"{\"),c.body=classbody(c),advance(\"}\"),state.inClassBody=wasInClassBody}function classbody(c){for(var name,isStatic,isGenerator,getset,computed,props=Object.create(null),staticProps=Object.create(null),i=0;\"}\"!==state.tokens.next.id;++i)if(name=state.tokens.next,isStatic=!1,isGenerator=!1,getset=null,\";\"!==name.id){if(\"*\"===name.id&&(isGenerator=!0,advance(\"*\"),name=state.tokens.next),\"[\"===name.id)name=computedPropertyName(),computed=!0;else{if(!isPropertyName(name)){warning(\"W052\",state.tokens.next,state.tokens.next.value||state.tokens.next.type),advance();continue}advance(),computed=!1,name.identifier&&\"static\"===name.value&&(checkPunctuator(state.tokens.next,\"*\")&&(isGenerator=!0,advance(\"*\")),(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,isStatic=!0,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())),!name.identifier||\"get\"!==name.value&&\"set\"!==name.value||(isPropertyName(state.tokens.next)||\"[\"===state.tokens.next.id)&&(computed=\"[\"===state.tokens.next.id,getset=name,name=state.tokens.next,\"[\"===state.tokens.next.id?name=computedPropertyName():advance())}if(!checkPunctuator(state.tokens.next,\"(\")){for(error(\"E054\",state.tokens.next,state.tokens.next.value);\"}\"!==state.tokens.next.id&&!checkPunctuator(state.tokens.next,\"(\");)advance();\"(\"!==state.tokens.next.value&&doFunction({statement:c})}if(computed||(getset?saveAccessor(getset.value,isStatic?staticProps:props,name.value,name,!0,isStatic):(\"constructor\"===name.value?state.nameStack.set(c):state.nameStack.set(name),saveProperty(isStatic?staticProps:props,name.value,name,!0,isStatic))),getset&&\"constructor\"===name.value){var propDesc=\"get\"===getset.value?\"class getter method\":\"class setter method\";error(\"E049\",name,propDesc,\"constructor\")}else\"prototype\"===name.value&&error(\"E049\",name,\"class method\",\"prototype\");propertyName(name),doFunction({statement:c,type:isGenerator?\"generator\":null,classExprBinding:c.namedExpr?c.name:null})}else warning(\"W032\"),advance(\";\");checkProperties(props)}function saveProperty(props,name,tkn,isClass,isStatic){var msg=[\"key\",\"class method\",\"static class method\"];msg=msg[(isClass||!1)+(isStatic||!1)],tkn.identifier&&(name=tkn.value),props[name]&&\"__proto__\"!==name?warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name].basic=!0,props[name].basictkn=tkn}function saveAccessor(accessorType,props,name,tkn,isClass,isStatic){var flagName=\"get\"===accessorType?\"getterToken\":\"setterToken\",msg=\"\";isClass?(isStatic&&(msg+=\"static \"),msg+=accessorType+\"ter method\"):msg=\"key\",state.tokens.curr.accessorType=accessorType,state.nameStack.set(tkn),props[name]?(props[name].basic||props[name][flagName])&&\"__proto__\"!==name&&warning(\"W075\",state.tokens.next,msg,name):props[name]=Object.create(null),props[name][flagName]=tkn}function computedPropertyName(){advance(\"[\"),state.inES6()||warning(\"W119\",state.tokens.curr,\"computed property names\",\"6\");var value=expression(10);return advance(\"]\"),value}function checkPunctuators(token,values){return\"(punctuator)\"===token.type?_.contains(values,token.value):!1}function checkPunctuator(token,value){return\"(punctuator)\"===token.type&&token.value===value}function destructuringAssignOrJsonValue(){var block=lookupBlockType();block.notJson?(!state.inES6()&&block.isDestAssign&&warning(\"W104\",state.tokens.curr,\"destructuring assignment\",\"6\"),statements()):(state.option.laxbreak=!0,state.jsonMode=!0,jsonValue())}function jsonValue(){function jsonObject(){var o={},t=state.tokens.next;if(advance(\"{\"),\"}\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E026\",state.tokens.next,t.line);else{if(\"}\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id?error(\"E028\",state.tokens.next):\"(string)\"!==state.tokens.next.id&&warning(\"W095\",state.tokens.next,state.tokens.next.value)}if(o[state.tokens.next.value]===!0?warning(\"W075\",state.tokens.next,\"key\",state.tokens.next.value):\"__proto__\"===state.tokens.next.value&&!state.option.proto||\"__iterator__\"===state.tokens.next.value&&!state.option.iterator?warning(\"W096\",state.tokens.next,state.tokens.next.value):o[state.tokens.next.value]=!0,advance(),advance(\":\"),jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"}\")}function jsonArray(){var t=state.tokens.next;if(advance(\"[\"),\"]\"!==state.tokens.next.id)for(;;){if(\"(end)\"===state.tokens.next.id)error(\"E027\",state.tokens.next,t.line);else{if(\"]\"===state.tokens.next.id){warning(\"W094\",state.tokens.curr);break}\",\"===state.tokens.next.id&&error(\"E028\",state.tokens.next)}if(jsonValue(),\",\"!==state.tokens.next.id)break;advance(\",\")}advance(\"]\")}switch(state.tokens.next.id){case\"{\":jsonObject();break;case\"[\":jsonArray();break;case\"true\":case\"false\":case\"null\":case\"(number)\":case\"(string)\":advance();break;case\"-\":advance(\"-\"),advance(\"(number)\");break;default:error(\"E003\",state.tokens.next)}}var api,declared,functions,inblock,indent,lookahead,lex,member,membersOnly,predefined,stack,urls,bang={\"<\":!0,\"<=\":!0,\"==\":!0,\"===\":!0,\"!==\":!0,\"!=\":!0,\">\":!0,\">=\":!0,\"+\":!0,\"-\":!0,\"*\":!0,\"/\":!0,\"%\":!0},functionicity=[\"closure\",\"exception\",\"global\",\"label\",\"outer\",\"unused\",\"var\"],extraModules=[],emitter=new events.EventEmitter,typeofValues={};typeofValues.legacy=[\"xml\",\"unknown\"],typeofValues.es3=[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"object\"],typeofValues.es3=typeofValues.es3.concat(typeofValues.legacy),typeofValues.es6=typeofValues.es3.concat(\"symbol\"),type(\"(number)\",function(){return this}),type(\"(string)\",function(){return this}),state.syntax[\"(identifier)\"]={type:\"(identifier)\",lbp:0,identifier:!0,nud:function(){var v=this.value;return\"=>\"===state.tokens.next.id?this:(state.funct[\"(comparray)\"].check(v)||state.funct[\"(scope)\"].block.use(v,state.tokens.curr),this)},led:function(){error(\"E033\",state.tokens.next,state.tokens.next.value)}};var baseTemplateSyntax={lbp:0,identifier:!1,template:!0};state.syntax[\"(template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template middle)\"]=_.extend({type:\"(template middle)\",middle:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(template tail)\"]=_.extend({type:\"(template tail)\",tail:!0,noSubst:!1},baseTemplateSyntax),state.syntax[\"(no subst template)\"]=_.extend({type:\"(template)\",nud:doTemplateLiteral,led:doTemplateLiteral,noSubst:!0,tail:!0},baseTemplateSyntax),type(\"(regexp)\",function(){return this}),delim(\"(endline)\"),delim(\"(begin)\"),delim(\"(end)\").reach=!0,delim(\"(error)\").reach=!0,delim(\"}\").reach=!0,delim(\")\"),delim(\"]\"),delim('\"').reach=!0,delim(\"'\").reach=!0,delim(\";\"),delim(\":\").reach=!0,delim(\"#\"),reserve(\"else\"),reserve(\"case\").reach=!0,reserve(\"catch\"),reserve(\"default\").reach=!0,reserve(\"finally\"),reservevar(\"arguments\",function(x){state.isStrict()&&state.funct[\"(global)\"]&&warning(\"E008\",x)}),reservevar(\"eval\"),reservevar(\"false\"),reservevar(\"Infinity\"),reservevar(\"null\"),reservevar(\"this\",function(x){state.isStrict()&&!isMethod()&&!state.option.validthis&&(state.funct[\"(statement)\"]&&state.funct[\"(name)\"].charAt(0)>\"Z\"||state.funct[\"(global)\"])&&warning(\"W040\",x)}),reservevar(\"true\"),reservevar(\"undefined\"),assignop(\"=\",\"assign\",20),assignop(\"+=\",\"assignadd\",20),assignop(\"-=\",\"assignsub\",20),assignop(\"*=\",\"assignmult\",20),assignop(\"/=\",\"assigndiv\",20).nud=function(){error(\"E014\")},assignop(\"%=\",\"assignmod\",20),bitwiseassignop(\"&=\"),bitwiseassignop(\"|=\"),bitwiseassignop(\"^=\"),bitwiseassignop(\"<<=\"),bitwiseassignop(\">>=\"),bitwiseassignop(\">>>=\"),infix(\",\",function(left,that){var expr;if(that.exprs=[left],state.option.nocomma&&warning(\"W127\"),!comma({peek:!0}))return that;for(;;){if(!(expr=expression(10)))break;if(that.exprs.push(expr),\",\"!==state.tokens.next.value||!comma())break}return that},10,!0),infix(\"?\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(10),advance(\":\"),that[\"else\"]=expression(10),that},30);var orPrecendence=40;infix(\"||\",function(left,that){return increaseComplexityCount(),that.left=left,that.right=expression(orPrecendence),that},orPrecendence),infix(\"&&\",\"and\",50),bitwise(\"|\",\"bitor\",70),bitwise(\"^\",\"bitxor\",80),bitwise(\"&\",\"bitand\",90),relation(\"==\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));switch(!0){case!eqnull&&state.option.eqeqeq:this.from=this.character,warning(\"W116\",this,\"===\",\"==\");break;case isPoorRelation(left):warning(\"W041\",this,\"===\",left.value);break;case isPoorRelation(right):warning(\"W041\",this,\"===\",right.value);break;case isTypoTypeof(right,left,state):warning(\"W122\",this,right.value);break;case isTypoTypeof(left,right,state):warning(\"W122\",this,left.value)}return this}),relation(\"===\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!=\",function(left,right){var eqnull=state.option.eqnull&&(\"null\"===(left&&left.value)||\"null\"===(right&&right.value));return!eqnull&&state.option.eqeqeq?(this.from=this.character,warning(\"W116\",this,\"!==\",\"!=\")):isPoorRelation(left)?warning(\"W041\",this,\"!==\",left.value):isPoorRelation(right)?warning(\"W041\",this,\"!==\",right.value):isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"!==\",function(left,right){return isTypoTypeof(right,left,state)?warning(\"W122\",this,right.value):isTypoTypeof(left,right,state)&&warning(\"W122\",this,left.value),this}),relation(\"<\"),relation(\">\"),relation(\"<=\"),relation(\">=\"),bitwise(\"<<\",\"shiftleft\",120),bitwise(\">>\",\"shiftright\",120),bitwise(\">>>\",\"shiftrightunsigned\",120),infix(\"in\",\"in\",120),infix(\"instanceof\",\"instanceof\",120),infix(\"+\",function(left,that){var right;return that.left=left,that.right=right=expression(130),left&&right&&\"(string)\"===left.id&&\"(string)\"===right.id?(left.value+=right.value,left.character=right.character,!state.option.scripturl&&reg.javascriptURL.test(left.value)&&warning(\"W050\",left),left):that},130),prefix(\"+\",\"num\"),prefix(\"+++\",function(){return warning(\"W007\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"+++\",function(left){return warning(\"W007\"),this.left=left,this.right=expression(130),this},130),infix(\"-\",\"sub\",130),prefix(\"-\",\"neg\"),prefix(\"---\",function(){return warning(\"W006\"),this.arity=\"unary\",this.right=expression(150),this}),infix(\"---\",function(left){return warning(\"W006\"),this.left=left,this.right=expression(130),this},130),infix(\"*\",\"mult\",140),infix(\"/\",\"div\",140),infix(\"%\",\"mod\",140),suffix(\"++\"),prefix(\"++\",\"preinc\"),state.syntax[\"++\"].exps=!0,suffix(\"--\"),prefix(\"--\",\"predec\"),state.syntax[\"--\"].exps=!0,prefix(\"delete\",function(){var p=expression(10);return p?(\".\"!==p.id&&\"[\"!==p.id&&warning(\"W051\"),this.first=p,p.identifier&&!state.isStrict()&&(p.forgiveUndef=!0),this):this}).exps=!0,prefix(\"~\",function(){return state.option.bitwise&&warning(\"W016\",this,\"~\"),this.arity=\"unary\",this.right=expression(150),this}),prefix(\"...\",function(){return state.inES6(!0)||warning(\"W119\",this,\"spread/rest operator\",\"6\"),state.tokens.next.identifier||\"(string)\"===state.tokens.next.type||checkPunctuators(state.tokens.next,[\"[\",\"(\"])||error(\"E030\",state.tokens.next,state.tokens.next.value),expression(150),this}),prefix(\"!\",function(){return this.arity=\"unary\",this.right=expression(150),this.right||quit(\"E041\",this.line||0),bang[this.right.id]===!0&&warning(\"W018\",this,\"!\"),this}),prefix(\"typeof\",function(){var p=expression(150);return this.first=this.right=p,p||quit(\"E041\",this.line||0,this.character||0),p.identifier&&(p.forgiveUndef=!0),this}),prefix(\"new\",function(){var mp=metaProperty(\"target\",function(){state.inES6(!0)||warning(\"W119\",state.tokens.prev,\"new.target\",\"6\");for(var inFunction,c=state.funct;c&&(inFunction=!c[\"(global)\"],c[\"(arrow)\"]);)c=c[\"(context)\"];inFunction||warning(\"W136\",state.tokens.prev,\"new.target\")});if(mp)return mp;var i,c=expression(155);if(c&&\"function\"!==c.id)if(c.identifier)switch(c[\"new\"]=!0,c.value){case\"Number\":case\"String\":case\"Boolean\":case\"Math\":case\"JSON\":warning(\"W053\",state.tokens.prev,c.value);break;case\"Symbol\":state.inES6()&&warning(\"W053\",state.tokens.prev,c.value);break;case\"Function\":state.option.evil||warning(\"W054\");break;case\"Date\":case\"RegExp\":case\"this\":break;default:\"function\"!==c.id&&(i=c.value.substr(0,1),state.option.newcap&&(\"A\">i||i>\"Z\")&&!state.funct[\"(scope)\"].isPredefined(c.value)&&warning(\"W055\",state.tokens.curr))}else\".\"!==c.id&&\"[\"!==c.id&&\"(\"!==c.id&&warning(\"W056\",state.tokens.curr);else state.option.supernew||warning(\"W057\",this);return\"(\"===state.tokens.next.id||state.option.supernew||warning(\"W058\",state.tokens.curr,state.tokens.curr.value),this.first=this.right=c,this}),state.syntax[\"new\"].exps=!0,prefix(\"void\").exps=!0,infix(\".\",function(left,that){var m=identifier(!1,!0);return\"string\"==typeof m&&countMember(m),that.left=left,that.right=m,m&&\"hasOwnProperty\"===m&&\"=\"===state.tokens.next.value&&warning(\"W001\"),!left||\"arguments\"!==left.value||\"callee\"!==m&&\"caller\"!==m?state.option.evil||!left||\"document\"!==left.value||\"write\"!==m&&\"writeln\"!==m||warning(\"W060\",left):state.option.noarg?warning(\"W059\",left,m):state.isStrict()&&error(\"E008\"),state.option.evil||\"eval\"!==m&&\"execScript\"!==m||isGlobalEval(left,state)&&warning(\"W061\"),that},160,!0),infix(\"(\",function(left,that){state.option.immed&&left&&!left.immed&&\"function\"===left.id&&warning(\"W062\");var n=0,p=[];if(left&&\"(identifier)\"===left.type&&left.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&-1===\"Array Number String Boolean Date Object Error Symbol\".indexOf(left.value)&&(\"Math\"===left.value?warning(\"W063\",left):state.option.newcap&&warning(\"W064\",left)),\")\"!==state.tokens.next.id)for(;p[p.length]=expression(10),n+=1,\",\"===state.tokens.next.id;)comma();return advance(\")\"),\"object\"==typeof left&&(state.inES5()||\"parseInt\"!==left.value||1!==n||warning(\"W065\",state.tokens.curr),state.option.evil||(\"eval\"===left.value||\"Function\"===left.value||\"execScript\"===left.value?(warning(\"W061\",left),p[0]&&\"(string)\"===[0].id&&addInternalSrc(left,p[0].value)):!p[0]||\"(string)\"!==p[0].id||\"setTimeout\"!==left.value&&\"setInterval\"!==left.value?!p[0]||\"(string)\"!==p[0].id||\".\"!==left.value||\"window\"!==left.left.value||\"setTimeout\"!==left.right&&\"setInterval\"!==left.right||(warning(\"W066\",left),addInternalSrc(left,p[0].value)):(warning(\"W066\",left),addInternalSrc(left,p[0].value))),left.identifier||\".\"===left.id||\"[\"===left.id||\"=>\"===left.id||\"(\"===left.id||\"&&\"===left.id||\"||\"===left.id||\"?\"===left.id||state.inES6()&&left[\"(name)\"]||warning(\"W067\",that)),that.left=left,that},155,!0).exps=!0,prefix(\"(\",function(){var pn1,ret,triggerFnExpr,first,last,pn=state.tokens.next,i=-1,parens=1,opening=state.tokens.curr,preceeding=state.tokens.prev,isNecessary=!state.option.singleGroups;do\"(\"===pn.value?parens+=1:\")\"===pn.value&&(parens-=1),i+=1,pn1=pn,pn=peek(i);while((0!==parens||\")\"!==pn1.value)&&\";\"!==pn.value&&\"(end)\"!==pn.type);if(\"function\"===state.tokens.next.id&&(triggerFnExpr=state.tokens.next.immed=!0),\"=>\"===pn.value)return doFunction({type:\"arrow\",parsedOpening:!0});var exprs=[];if(\")\"!==state.tokens.next.id)for(;exprs.push(expression(10)),\",\"===state.tokens.next.id;)state.option.nocomma&&warning(\"W127\"),comma();return advance(\")\",this),state.option.immed&&exprs[0]&&\"function\"===exprs[0].id&&\"(\"!==state.tokens.next.id&&\".\"!==state.tokens.next.id&&\"[\"!==state.tokens.next.id&&warning(\"W068\",this),exprs.length?(exprs.length>1?(ret=Object.create(state.syntax[\",\"]),ret.exprs=exprs,first=exprs[0],last=exprs[exprs.length-1],isNecessary||(isNecessary=preceeding.assign||preceeding.delim)):(ret=first=last=exprs[0],isNecessary||(isNecessary=opening.beginsStmt&&(\"{\"===ret.id||triggerFnExpr||isFunctor(ret))||triggerFnExpr&&(!isEndOfExpr()||\"}\"!==state.tokens.prev.id)||isFunctor(ret)&&!isEndOfExpr()||\"{\"===ret.id&&\"=>\"===preceeding.id||\"(number)\"===ret.type&&checkPunctuator(pn,\".\")&&/^\\d+$/.test(ret.value))),ret&&(!isNecessary&&(first.left||first.right||ret.exprs)&&(isNecessary=!isBeginOfExpr(preceeding)&&first.lbp<=preceeding.lbp||!isEndOfExpr()&&last.lbp<state.tokens.next.lbp),isNecessary||warning(\"W126\",opening),ret.paren=!0),ret):void 0}),application(\"=>\"),infix(\"[\",function(left,that){var s,e=expression(10);return e&&\"(string)\"===e.type&&(state.option.evil||\"eval\"!==e.value&&\"execScript\"!==e.value||isGlobalEval(left,state)&&warning(\"W061\"),countMember(e.value),!state.option.sub&&reg.identifier.test(e.value)&&(s=state.syntax[e.value],s&&isReserved(s)||warning(\"W069\",state.tokens.prev,e.value))),advance(\"]\",that),e&&\"hasOwnProperty\"===e.value&&\"=\"===state.tokens.next.value&&warning(\"W001\"),that.left=left,that.right=e,that},160,!0),prefix(\"[\",function(){var blocktype=lookupBlockType();if(blocktype.isCompArray)return state.option.esnext||state.inMoz()||warning(\"W118\",state.tokens.curr,\"array comprehension\"),comprehensiveArrayExpression();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;var b=state.tokens.curr.line!==startLine(state.tokens.next);for(this.first=[],b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));\"(end)\"!==state.tokens.next.id;){for(;\",\"===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){warning(\"W128\");do advance(\",\");while(\",\"===state.tokens.next.id);continue}warning(\"W070\")}advance(\",\")}if(\"]\"===state.tokens.next.id)break;if(this.first.push(expression(10)),\",\"!==state.tokens.next.id)break;if(comma({allowTrailing:!0}),\"]\"===state.tokens.next.id&&!state.inES5()){warning(\"W070\",state.tokens.curr);break}}return b&&(indent-=state.option.indent),advance(\"]\",this),this}),function(x){x.nud=function(){var b,f,i,p,t,nextVal,isGeneratorMethod=!1,props=Object.create(null);b=state.tokens.curr.line!==startLine(state.tokens.next),b&&(indent+=state.option.indent,state.tokens.next.from===indent+state.option.indent&&(indent+=state.option.indent));var blocktype=lookupBlockType();if(blocktype.isDestAssign)return this.destructAssign=destructuringPattern({openingParsed:!0,assignment:!0}),this;for(;\"}\"!==state.tokens.next.id;){if(nextVal=state.tokens.next.value,!state.tokens.next.identifier||\",\"!==peekIgnoreEOL().id&&\"}\"!==peekIgnoreEOL().id)if(\":\"===peek().id||\"get\"!==nextVal&&\"set\"!==nextVal){if(\"*\"===state.tokens.next.value&&\"(punctuator)\"===state.tokens.next.type?(state.inES6()||warning(\"W104\",state.tokens.next,\"generator functions\",\"6\"),advance(\"*\"),isGeneratorMethod=!0):isGeneratorMethod=!1,\"[\"===state.tokens.next.id)i=computedPropertyName(),state.nameStack.set(i);else if(state.nameStack.set(state.tokens.next),i=propertyName(),saveProperty(props,i,state.tokens.next),\"string\"!=typeof i)break;\"(\"===state.tokens.next.value?(state.inES6()||warning(\"W104\",state.tokens.curr,\"concise methods\",\"6\"),doFunction({type:isGeneratorMethod?\"generator\":null})):(advance(\":\"),expression(10))}else advance(nextVal),state.inES5()||error(\"E034\"),i=propertyName(),i||state.inES6()||error(\"E035\"),i&&saveAccessor(nextVal,props,i,state.tokens.curr),t=state.tokens.next,f=doFunction(),p=f[\"(params)\"],\"get\"===nextVal&&i&&p?warning(\"W076\",t,p[0],i):\"set\"!==nextVal||!i||p&&1===p.length||warning(\"W077\",t,i);else state.inES6()||warning(\"W104\",state.tokens.next,\"object short notation\",\"6\"),i=propertyName(!0),saveProperty(props,i,state.tokens.next),expression(10);if(countMember(i),\",\"!==state.tokens.next.id)break;comma({allowTrailing:!0,property:!0}),\",\"===state.tokens.next.id?warning(\"W070\",state.tokens.curr):\"}\"!==state.tokens.next.id||state.inES5()||warning(\"W070\",state.tokens.curr)}return b&&(indent-=state.option.indent),advance(\"}\",this),checkProperties(props),this},x.fud=function(){error(\"E036\",state.tokens.curr)}}(delim(\"{\"));var conststatement=stmt(\"const\",function(context){return blockVariableStatement(\"const\",this,context)});conststatement.exps=!0;var letstatement=stmt(\"let\",function(context){return blockVariableStatement(\"let\",this,context)});letstatement.exps=!0;var varstatement=stmt(\"var\",function(context){var tokens,lone,value,prefix=context&&context.prefix,inexport=context&&context.inexport,implied=context&&context.implied,report=!(context&&context.ignore);for(this.first=[];;){var names=[];_.contains([\"{\",\"[\"],state.tokens.next.value)?(tokens=destructuringPattern(),lone=!1):(tokens=[{id:identifier(),token:state.tokens.curr}],lone=!0),prefix&&implied||!report||!state.option.varstmt||warning(\"W132\",this),this.first=this.first.concat(names);for(var t in tokens)tokens.hasOwnProperty(t)&&(t=tokens[t],!implied&&state.funct[\"(global)\"]&&(predefined[t.id]===!1?warning(\"W079\",t.token,t.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][t.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][t.id]===!1)&&warning(\"W129\",t.token,t.id)),t.id&&(\"for\"===implied?(state.funct[\"(scope)\"].has(t.id)||report&&warning(\"W088\",t.token,t.id),state.funct[\"(scope)\"].block.use(t.id,t.token)):(state.funct[\"(scope)\"].addlabel(t.id,{type:\"var\",token:t.token}),lone&&inexport&&state.funct[\"(scope)\"].setExported(t.id,t.token)),names.push(t.token)));if(\"=\"===state.tokens.next.id&&(state.nameStack.set(state.tokens.curr),advance(\"=\"),prefix||!report||state.funct[\"(loopage)\"]||\"undefined\"!==state.tokens.next.id||warning(\"W080\",state.tokens.prev,state.tokens.prev.value),\"=\"===peek(0).id&&state.tokens.next.identifier&&(!prefix&&report&&!state.funct[\"(params)\"]||-1===state.funct[\"(params)\"].indexOf(state.tokens.next.value))&&warning(\"W120\",state.tokens.next,state.tokens.next.value),value=expression(prefix?120:10),lone?tokens[0].first=value:destructuringPatternMatch(names,value)),\",\"!==state.tokens.next.id)break;comma()}return this});varstatement.exps=!0,blockstmt(\"class\",function(){return classdef.call(this,!0)}),blockstmt(\"function\",function(context){var inexport=context&&context.inexport,generator=!1;\"*\"===state.tokens.next.value&&(advance(\"*\"),state.inES6({strict:!0})?generator=!0:warning(\"W119\",state.tokens.curr,\"function*\",\"6\")),inblock&&warning(\"W082\",state.tokens.curr);var i=optionalidentifier();return state.funct[\"(scope)\"].addlabel(i,{type:\"function\",token:state.tokens.curr}),void 0===i?warning(\"W025\"):inexport&&state.funct[\"(scope)\"].setExported(i,state.tokens.prev),doFunction({name:i,statement:this,type:generator?\"generator\":null,ignoreLoopFunc:inblock}),\"(\"===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&error(\"E039\"),this}),prefix(\"function\",function(){var generator=!1;\"*\"===state.tokens.next.value&&(state.inES6()||warning(\"W119\",state.tokens.curr,\"function*\",\"6\"),advance(\"*\"),generator=!0);var i=optionalidentifier();return doFunction({name:i,type:generator?\"generator\":null}),this}),blockstmt(\"if\",function(){var t=state.tokens.next;increaseComplexityCount(),state.condition=!0,advance(\"(\");var expr=expression(0);checkCondAssignment(expr);var forinifcheck=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,forinifcheck=state.forinifchecks[state.forinifchecks.length-1],forinifcheck.type=\"(punctuator)\"===expr.type&&\"!\"===expr.value?\"(negative)\":\"(positive)\"),advance(\")\",t),state.condition=!1;var s=block(!0,!0);return forinifcheck&&\"(negative)\"===forinifcheck.type&&s&&s[0]&&\"(identifier)\"===s[0].type&&\"continue\"===s[0].value&&(forinifcheck.type=\"(negative-with-continue)\"),\"else\"===state.tokens.next.id&&(advance(\"else\"),\"if\"===state.tokens.next.id||\"switch\"===state.tokens.next.id?statement():block(!0,!0)),this}),blockstmt(\"try\",function(){function doCatch(){if(advance(\"catch\"),advance(\"(\"),state.funct[\"(scope)\"].stack(\"catchparams\"),checkPunctuators(state.tokens.next,[\"[\",\"{\"])){var tokens=destructuringPattern();_.each(tokens,function(token){token.id&&state.funct[\"(scope)\"].addParam(token.id,token,\"exception\")})}else\"(identifier)\"!==state.tokens.next.type?warning(\"E030\",state.tokens.next,state.tokens.next.value):state.funct[\"(scope)\"].addParam(identifier(),state.tokens.curr,\"exception\");\"if\"===state.tokens.next.value&&(state.inMoz()||warning(\"W118\",state.tokens.curr,\"catch filter\"),advance(\"if\"),expression(0)),advance(\")\"),block(!1),state.funct[\"(scope)\"].unstack()}var b;for(block(!0);\"catch\"===state.tokens.next.id;)increaseComplexityCount(),b&&!state.inMoz()&&warning(\"W118\",state.tokens.next,\"multiple catch blocks\"),doCatch(),b=!0;return\"finally\"===state.tokens.next.id?(advance(\"finally\"),block(!0),void 0):(b||error(\"E021\",state.tokens.next,\"catch\",state.tokens.next.value),this)}),blockstmt(\"while\",function(){var t=state.tokens.next;return state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this}).labelled=!0,blockstmt(\"with\",function(){var t=state.tokens.next;return state.isStrict()?error(\"E010\",state.tokens.curr):state.option.withstmt||warning(\"W085\",state.tokens.curr),advance(\"(\"),expression(0),advance(\")\",t),block(!0,!0),this}),blockstmt(\"switch\",function(){var t=state.tokens.next,g=!1,noindent=!1;\nfor(state.funct[\"(breakage)\"]+=1,advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),t=state.tokens.next,advance(\"{\"),state.tokens.next.from===indent&&(noindent=!0),noindent||(indent+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case\"case\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"case\":case\"continue\":case\"return\":case\"switch\":case\"throw\":break;default:state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"case\")}advance(\"case\"),this.cases.push(expression(0)),increaseComplexityCount(),g=!0,advance(\":\"),state.funct[\"(verb)\"]=\"case\";break;case\"default\":switch(state.funct[\"(verb)\"]){case\"yield\":case\"break\":case\"continue\":case\"return\":case\"throw\":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||warning(\"W086\",state.tokens.curr,\"default\"))}advance(\"default\"),g=!0,advance(\":\");break;case\"}\":return noindent||(indent-=state.option.indent),advance(\"}\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(verb)\"]=void 0,void 0;case\"(end)\":return error(\"E023\",state.tokens.next,\"}\"),void 0;default:if(indent+=state.option.indent,g)switch(state.tokens.curr.id){case\",\":return error(\"E040\"),void 0;case\":\":g=!1,statements();break;default:return error(\"E025\",state.tokens.curr),void 0}else{if(\":\"!==state.tokens.curr.id)return error(\"E021\",state.tokens.next,\"case\",state.tokens.next.value),void 0;advance(\":\"),error(\"E024\",state.tokens.curr,\":\"),statements()}indent-=state.option.indent}return this}).labelled=!0,stmt(\"debugger\",function(){return state.option.debug||warning(\"W087\",this),this}).exps=!0,function(){var x=stmt(\"do\",function(){state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,increaseComplexityCount(),this.first=block(!0,!0),advance(\"while\");var t=state.tokens.next;return advance(\"(\"),checkCondAssignment(expression(0)),advance(\")\",t),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1,this});x.labelled=!0,x.exps=!0}(),blockstmt(\"for\",function(){var s,t=state.tokens.next,letscope=!1,foreachtok=null;\"each\"===t.value&&(foreachtok=t,advance(\"each\"),state.inMoz()||warning(\"W118\",state.tokens.curr,\"for each\")),increaseComplexityCount(),advance(\"(\");var nextop,comma,initializer,i=0,inof=[\"in\",\"of\"],level=0;checkPunctuators(state.tokens.next,[\"{\",\"[\"])&&++level;do{if(nextop=peek(i),++i,checkPunctuators(nextop,[\"{\",\"[\"])?++level:checkPunctuators(nextop,[\"}\",\"]\"])&&--level,0>level)break;0===level&&(!comma&&checkPunctuator(nextop,\",\")?comma=nextop:!initializer&&checkPunctuator(nextop,\"=\")&&(initializer=nextop))}while(level>0||!_.contains(inof,nextop.value)&&\";\"!==nextop.value&&\"(end)\"!==nextop.type);if(_.contains(inof,nextop.value)){state.inES6()||\"of\"!==nextop.value||warning(\"W104\",nextop,\"for of\",\"6\");var ok=!(initializer||comma);if(initializer&&error(\"W133\",comma,nextop.value,\"initializer is forbidden\"),comma&&error(\"W133\",comma,nextop.value,\"more than one ForBinding\"),\"var\"===state.tokens.next.id?(advance(\"var\"),state.tokens.curr.fud({prefix:!0})):\"let\"===state.tokens.next.id||\"const\"===state.tokens.next.id?(advance(state.tokens.next.id),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud({prefix:!0})):Object.create(varstatement).fud({prefix:!0,implied:\"for\",ignore:!ok}),advance(nextop.value),expression(20),advance(\")\",t),\"in\"===nextop.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:\"(none)\"})),state.funct[\"(breakage)\"]+=1,state.funct[\"(loopage)\"]+=1,s=block(!0,!0),\"in\"===nextop.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var check=state.forinifchecks.pop();(s&&s.length>0&&(\"object\"!=typeof s[0]||\"if\"!==s[0].value)||\"(positive)\"===check.type&&s.length>1||\"(negative)\"===check.type)&&warning(\"W089\",this)}state.forinifcheckneeded=!1}state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}else{if(foreachtok&&error(\"E045\",foreachtok),\";\"!==state.tokens.next.id)if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud();else if(\"let\"===state.tokens.next.id)advance(\"let\"),letscope=!0,state.funct[\"(scope)\"].stack(),state.tokens.curr.fud();else for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();if(nolinebreak(state.tokens.curr),advance(\";\"),state.funct[\"(loopage)\"]+=1,\";\"!==state.tokens.next.id&&checkCondAssignment(expression(0)),nolinebreak(state.tokens.curr),advance(\";\"),\";\"===state.tokens.next.id&&error(\"E021\",state.tokens.next,\")\",\";\"),\")\"!==state.tokens.next.id)for(;expression(0,\"for\"),\",\"===state.tokens.next.id;)comma();advance(\")\",t),state.funct[\"(breakage)\"]+=1,block(!0,!0),state.funct[\"(breakage)\"]-=1,state.funct[\"(loopage)\"]-=1}return letscope&&state.funct[\"(scope)\"].unstack(),this}).labelled=!0,stmt(\"break\",function(){var v=state.tokens.next.value;return state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==startLine(state.tokens.next)?0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value):(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"continue\",function(){var v=state.tokens.next.value;return 0===state.funct[\"(breakage)\"]&&warning(\"W052\",state.tokens.next,this.value),state.funct[\"(loopage)\"]||warning(\"W052\",state.tokens.next,this.value),state.option.asi||nolinebreak(this),\";\"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===startLine(state.tokens.next)&&(state.funct[\"(scope)\"].funct.hasBreakLabel(v)||warning(\"W090\",state.tokens.next,v),this.first=state.tokens.next,advance()),reachable(this),this}).exps=!0,stmt(\"return\",function(){return this.line===startLine(state.tokens.next)?\";\"===state.tokens.next.id||state.tokens.next.reach||(this.first=expression(0),!this.first||\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)):\"(punctuator)\"===state.tokens.next.type&&[\"[\",\"{\",\"+\",\"-\"].indexOf(state.tokens.next.value)>-1&&nolinebreak(this),reachable(this),this}).exps=!0,function(x){x.exps=!0,x.lbp=25}(prefix(\"yield\",function(){var prev=state.tokens.prev;state.inES6(!0)&&!state.funct[\"(generator)\"]?\"(catch)\"===state.funct[\"(name)\"]&&state.funct[\"(context)\"][\"(generator)\"]||error(\"E046\",state.tokens.curr,\"yield\"):state.inES6()||warning(\"W104\",state.tokens.curr,\"yield\",\"6\"),state.funct[\"(generator)\"]=\"yielded\";var delegatingYield=!1;return\"*\"===state.tokens.next.value&&(delegatingYield=!0,advance(\"*\")),this.line!==startLine(state.tokens.next)&&state.inMoz()?state.option.asi||nolinebreak(this):((delegatingYield||\";\"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(nobreaknonadjacent(state.tokens.curr,state.tokens.next),this.first=expression(10),\"(punctuator)\"!==this.first.type||\"=\"!==this.first.value||this.first.paren||state.option.boss||warningAt(\"W093\",this.first.line,this.first.character)),state.inMoz()&&\")\"!==state.tokens.next.id&&(prev.lbp>30||!prev.assign&&!isEndOfExpr()||\"yield\"===prev.id)&&error(\"E050\",this)),this})),stmt(\"throw\",function(){return nolinebreak(this),this.first=expression(20),reachable(this),this}).exps=!0,stmt(\"import\",function(){if(state.inES6()||warning(\"W119\",state.tokens.curr,\"import\",\"6\"),\"(string)\"===state.tokens.next.type)return advance(\"(string)\"),this;if(state.tokens.next.identifier){if(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value)return advance(\"from\"),advance(\"(string)\"),this;advance(\",\")}if(\"*\"===state.tokens.next.id)advance(\"*\"),advance(\"as\"),state.tokens.next.identifier&&(this.name=identifier(),state.funct[\"(scope)\"].addlabel(this.name,{type:\"const\",token:state.tokens.curr}));else for(advance(\"{\");;){if(\"}\"===state.tokens.next.value){advance(\"}\");break}var importName;if(\"default\"===state.tokens.next.type?(importName=\"default\",advance(\"default\")):importName=identifier(),\"as\"===state.tokens.next.value&&(advance(\"as\"),importName=identifier()),state.funct[\"(scope)\"].addlabel(importName,{type:\"const\",token:state.tokens.curr}),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return advance(\"from\"),advance(\"(string)\"),this}).exps=!0,stmt(\"export\",function(){var token,identifier,ok=!0;if(state.inES6()||(warning(\"W119\",state.tokens.curr,\"export\",\"6\"),ok=!1),state.funct[\"(scope)\"].block.isGlobal()||(error(\"E053\",state.tokens.curr),ok=!1),\"*\"===state.tokens.next.value)return advance(\"*\"),advance(\"from\"),advance(\"(string)\"),this;if(\"default\"===state.tokens.next.type){state.nameStack.set(state.tokens.next),advance(\"default\");var exportType=state.tokens.next.id;return(\"function\"===exportType||\"class\"===exportType)&&(this.block=!0),token=peek(),expression(10),identifier=token.value,this.block&&(state.funct[\"(scope)\"].addlabel(identifier,{type:exportType,token:token}),state.funct[\"(scope)\"].setExported(identifier,token)),this}if(\"{\"===state.tokens.next.value){advance(\"{\");for(var exportedTokens=[];;){if(state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance(),exportedTokens.push(state.tokens.curr),\"as\"===state.tokens.next.value&&(advance(\"as\"),state.tokens.next.identifier||error(\"E030\",state.tokens.next,state.tokens.next.value),advance()),\",\"!==state.tokens.next.value){if(\"}\"===state.tokens.next.value){advance(\"}\");break}error(\"E024\",state.tokens.next,state.tokens.next.value);break}advance(\",\")}return\"from\"===state.tokens.next.value?(advance(\"from\"),advance(\"(string)\")):ok&&exportedTokens.forEach(function(token){state.funct[\"(scope)\"].setExported(token.value,token)}),this}if(\"var\"===state.tokens.next.id)advance(\"var\"),state.tokens.curr.fud({inexport:!0});else if(\"let\"===state.tokens.next.id)advance(\"let\"),state.tokens.curr.fud({inexport:!0});else if(\"const\"===state.tokens.next.id)advance(\"const\"),state.tokens.curr.fud({inexport:!0});else if(\"function\"===state.tokens.next.id)this.block=!0,advance(\"function\"),state.syntax[\"function\"].fud({inexport:!0});else if(\"class\"===state.tokens.next.id){this.block=!0,advance(\"class\");var classNameToken=state.tokens.next;state.syntax[\"class\"].fud(),state.funct[\"(scope)\"].setExported(classNameToken.value,classNameToken)}else error(\"E024\",state.tokens.next,state.tokens.next.value);return this}).exps=!0,FutureReservedWord(\"abstract\"),FutureReservedWord(\"boolean\"),FutureReservedWord(\"byte\"),FutureReservedWord(\"char\"),FutureReservedWord(\"class\",{es5:!0,nud:classdef}),FutureReservedWord(\"double\"),FutureReservedWord(\"enum\",{es5:!0}),FutureReservedWord(\"export\",{es5:!0}),FutureReservedWord(\"extends\",{es5:!0}),FutureReservedWord(\"final\"),FutureReservedWord(\"float\"),FutureReservedWord(\"goto\"),FutureReservedWord(\"implements\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"import\",{es5:!0}),FutureReservedWord(\"int\"),FutureReservedWord(\"interface\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"long\"),FutureReservedWord(\"native\"),FutureReservedWord(\"package\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"private\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"protected\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"public\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"short\"),FutureReservedWord(\"static\",{es5:!0,strictOnly:!0}),FutureReservedWord(\"super\",{es5:!0}),FutureReservedWord(\"synchronized\"),FutureReservedWord(\"transient\"),FutureReservedWord(\"volatile\");var lookupBlockType=function(){var pn,pn1,prev,i=-1,bracketStack=0,ret={};checkPunctuators(state.tokens.curr,[\"[\",\"{\"])&&(bracketStack+=1);do{if(prev=-1===i?state.tokens.curr:pn,pn=-1===i?state.tokens.next:peek(i),pn1=peek(i+1),i+=1,checkPunctuators(pn,[\"[\",\"{\"])?bracketStack+=1:checkPunctuators(pn,[\"]\",\"}\"])&&(bracketStack-=1),1===bracketStack&&pn.identifier&&\"for\"===pn.value&&!checkPunctuator(prev,\".\")){ret.isCompArray=!0,ret.notJson=!0;break}if(0===bracketStack&&checkPunctuators(pn,[\"}\",\"]\"])){if(\"=\"===pn1.value){ret.isDestAssign=!0,ret.notJson=!0;break}if(\".\"===pn1.value){ret.notJson=!0;break}}checkPunctuator(pn,\";\")&&(ret.isBlock=!0,ret.notJson=!0)}while(bracketStack>0&&\"(end)\"!==pn.id);return ret},arrayComprehension=function(){function declare(v){var l=_current.variables.filter(function(elt){return elt.value===v?(elt.undef=!1,v):void 0}).length;return 0!==l}function use(v){var l=_current.variables.filter(function(elt){return elt.value!==v||elt.undef?void 0:(elt.unused===!0&&(elt.unused=!1),v)}).length;return 0===l}var _current,CompArray=function(){this.mode=\"use\",this.variables=[]},_carrays=[];return{stack:function(){_current=new CompArray,_carrays.push(_current)},unstack:function(){_current.variables.filter(function(v){v.unused&&warning(\"W098\",v.token,v.raw_text||v.value),v.undef&&state.funct[\"(scope)\"].block.use(v.value,v.token)}),_carrays.splice(-1,1),_current=_carrays[_carrays.length-1]},setState:function(s){_.contains([\"use\",\"define\",\"generate\",\"filter\"],s)&&(_current.mode=s)},check:function(v){return _current?_current&&\"use\"===_current.mode?(use(v)&&_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!0,unused:!1}),!0):_current&&\"define\"===_current.mode?(declare(v)||_current.variables.push({funct:state.funct,token:state.tokens.curr,value:v,undef:!1,unused:!0}),!0):_current&&\"generate\"===_current.mode?(state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):_current&&\"filter\"===_current.mode?(use(v)&&state.funct[\"(scope)\"].block.use(v,state.tokens.curr),!0):!1:void 0}}},escapeRegex=function(str){return str.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,\"\\\\$&\")},itself=function(s,o,g){function each(obj,cb){obj&&(Array.isArray(obj)||\"object\"!=typeof obj||(obj=Object.keys(obj)),obj.forEach(cb))}var i,k,x,reIgnoreStr,reIgnore,optionKeys,newOptionObj={},newIgnoredObj={};o=_.clone(o),state.reset(),o&&o.scope?JSHINT.scope=o.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope=\"(main)\"),predefined=Object.create(null),combine(predefined,vars.ecmaIdentifiers[3]),combine(predefined,vars.reservedVars),combine(predefined,g||{}),declared=Object.create(null);var exported=Object.create(null);if(o)for(each(o.predef||null,function(item){var slice,prop;\"-\"===item[0]?(slice=item.slice(1),JSHINT.blacklist[slice]=slice,delete predefined[slice]):(prop=Object.getOwnPropertyDescriptor(o.predef,item),predefined[item]=prop?prop.value:!1)}),each(o.exported||null,function(item){exported[item]=!0}),delete o.predef,delete o.exported,optionKeys=Object.keys(o),x=0;optionKeys.length>x;x++)if(/^-W\\d{3}$/g.test(optionKeys[x]))newIgnoredObj[optionKeys[x].slice(1)]=!0;else{var optionKey=optionKeys[x];newOptionObj[optionKey]=o[optionKey],(\"esversion\"===optionKey&&5===o[optionKey]||\"es5\"===optionKey&&o[optionKey])&&warning(\"I003\"),\"newcap\"===optionKeys[x]&&o[optionKey]===!1&&(newOptionObj[\"(explicitNewcap)\"]=!0)}state.option=newOptionObj,state.ignored=newIgnoredObj,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,indent=1;var scopeManagerInst=scopeManager(state,predefined,exported,declared);if(scopeManagerInst.on(\"warning\",function(ev){warning.apply(null,[ev.code,ev.token].concat(ev.data))}),scopeManagerInst.on(\"error\",function(ev){error.apply(null,[ev.code,ev.token].concat(ev.data))}),state.funct=functor(\"(global)\",null,{\"(global)\":!0,\"(scope)\":scopeManagerInst,\"(comparray)\":arrayComprehension(),\"(metrics)\":createMetrics(state.tokens.next)}),functions=[state.funct],urls=[],stack=null,member={},membersOnly=null,inblock=!1,lookahead=[],!isString(s)&&!Array.isArray(s))return errorAt(\"E004\",0),!1;api={get isJSON(){return state.jsonMode},getOption:function(name){return state.option[name]||null},getCache:function(name){return state.cache[name]},setCache:function(name,value){state.cache[name]=value},warn:function(code,data){warningAt.apply(null,[code,data.line,data.char].concat(data.data))},on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)}.bind(this))}},emitter.removeAllListeners(),(extraModules||[]).forEach(function(func){func(api)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax[\"(begin)\"],o&&o.ignoreDelimiters&&(Array.isArray(o.ignoreDelimiters)||(o.ignoreDelimiters=[o.ignoreDelimiters]),o.ignoreDelimiters.forEach(function(delimiterPair){delimiterPair.start&&delimiterPair.end&&(reIgnoreStr=escapeRegex(delimiterPair.start)+\"[\\\\s\\\\S]*?\"+escapeRegex(delimiterPair.end),reIgnore=RegExp(reIgnoreStr,\"ig\"),s=s.replace(reIgnore,function(match){return match.replace(/./g,\" \")}))})),lex=new Lexer(s),lex.on(\"warning\",function(ev){warningAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"error\",function(ev){errorAt.apply(null,[ev.code,ev.line,ev.character].concat(ev.data))}),lex.on(\"fatal\",function(ev){quit(\"E041\",ev.line,ev.from)}),lex.on(\"Identifier\",function(ev){emitter.emit(\"Identifier\",ev)}),lex.on(\"String\",function(ev){emitter.emit(\"String\",ev)}),lex.on(\"Number\",function(ev){emitter.emit(\"Number\",ev)}),lex.start();for(var name in o)_.has(o,name)&&checkOption(name,state.tokens.curr);assume(),combine(predefined,g||{}),comma.first=!0;try{switch(advance(),state.tokens.next.id){case\"{\":case\"[\":destructuringAssignOrJsonValue();break;default:directives(),state.directive[\"use strict\"]&&\"global\"!==state.option.strict&&warning(\"W097\",state.tokens.prev),statements()}\"(end)\"!==state.tokens.next.id&&quit(\"E041\",state.tokens.curr.line),state.funct[\"(scope)\"].unstack()}catch(err){if(!err||\"JSHintError\"!==err.name)throw err;var nt=state.tokens.next||{};JSHINT.errors.push({scope:\"(main)\",raw:err.raw,code:err.code,reason:err.message,line:err.line||nt.line,character:err.character||nt.from},null)}if(\"(main)\"===JSHINT.scope)for(o=o||{},i=0;JSHINT.internals.length>i;i+=1)k=JSHINT.internals[i],o.scope=k.elem,itself(k.value,o,g);return 0===JSHINT.errors.length};return itself.addModule=function(func){extraModules.push(func)},itself.addModule(style.register),itself.data=function(){var fu,f,i,j,n,globals,data={functions:[],options:state.option};itself.errors.length&&(data.errors=itself.errors),state.jsonMode&&(data.json=!0);var impliedGlobals=state.funct[\"(scope)\"].getImpliedGlobals();for(impliedGlobals.length>0&&(data.implieds=impliedGlobals),urls.length>0&&(data.urls=urls),globals=state.funct[\"(scope)\"].getUsedOrDefinedGlobals(),globals.length>0&&(data.globals=globals),i=1;functions.length>i;i+=1){for(f=functions[i],fu={},j=0;functionicity.length>j;j+=1)fu[functionicity[j]]=[];for(j=0;functionicity.length>j;j+=1)0===fu[functionicity[j]].length&&delete fu[functionicity[j]];fu.name=f[\"(name)\"],fu.param=f[\"(params)\"],fu.line=f[\"(line)\"],fu.character=f[\"(character)\"],fu.last=f[\"(last)\"],fu.lastcharacter=f[\"(lastcharacter)\"],fu.metrics={complexity:f[\"(metrics)\"].ComplexityCount,parameters:f[\"(metrics)\"].arity,statements:f[\"(metrics)\"].statementCount},data.functions.push(fu)}var unuseds=state.funct[\"(scope)\"].getUnuseds();unuseds.length>0&&(data.unused=unuseds);for(n in member)if(\"number\"==typeof member[n]){data.member=member;break}return data},itself.jshint=itself,itself}();\"object\"==typeof exports&&exports&&(exports.JSHINT=JSHINT)},{\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./lex.js\":\"/node_modules/jshint/src/lex.js\",\"./messages.js\":\"/node_modules/jshint/src/messages.js\",\"./options.js\":\"/node_modules/jshint/src/options.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./scope-manager.js\":\"/node_modules/jshint/src/scope-manager.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",\"./style.js\":\"/node_modules/jshint/src/style.js\",\"./vars.js\":\"/node_modules/jshint/src/vars.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/lex.js\":[function(_dereq_,module,exports){\"use strict\";function asyncTrigger(){var _checks=[];return{push:function(fn){_checks.push(fn)},check:function(){for(var check=0;_checks.length>check;++check)_checks[check]();_checks.splice(0,_checks.length)}}}function Lexer(source){var lines=source;\"string\"==typeof lines&&(lines=lines.replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\").split(\"\\n\")),lines[0]&&\"#!\"===lines[0].substr(0,2)&&(-1!==lines[0].indexOf(\"node\")&&(state.option.node=!0),lines[0]=\"\"),this.emitter=new events.EventEmitter,this.source=source,this.setLines(lines),this.prereg=!0,this.line=0,this.char=1,this.from=1,this.input=\"\",this.inComment=!1,this.context=[],this.templateStarts=[];for(var i=0;state.option.indent>i;i+=1)state.tab+=\" \";this.ignoreLinterErrors=!1}var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),reg=_dereq_(\"./reg.js\"),state=_dereq_(\"./state.js\").state,unicodeData=_dereq_(\"../data/ascii-identifier-data.js\"),asciiIdentifierStartTable=unicodeData.asciiIdentifierStartTable,asciiIdentifierPartTable=unicodeData.asciiIdentifierPartTable,Token={Identifier:1,Punctuator:2,NumericLiteral:3,StringLiteral:4,Comment:5,Keyword:6,NullLiteral:7,BooleanLiteral:8,RegExp:9,TemplateHead:10,TemplateMiddle:11,TemplateTail:12,NoSubstTemplate:13},Context={Block:1,Template:2};Lexer.prototype={_lines:[],inContext:function(ctxType){return this.context.length>0&&this.context[this.context.length-1].type===ctxType},pushContext:function(ctxType){this.context.push({type:ctxType})},popContext:function(){return this.context.pop()},isContext:function(context){return this.context.length>0&&this.context[this.context.length-1]===context},currentContext:function(){return this.context.length>0&&this.context[this.context.length-1]},getLines:function(){return this._lines=state.lines,this._lines},setLines:function(val){this._lines=val,state.lines=this._lines},peek:function(i){return this.input.charAt(i||0)},skip:function(i){i=i||1,this.char+=i,this.input=this.input.slice(i)},on:function(names,listener){names.split(\" \").forEach(function(name){this.emitter.on(name,listener)}.bind(this))},trigger:function(){this.emitter.emit.apply(this.emitter,Array.prototype.slice.call(arguments))},triggerAsync:function(type,args,checks,fn){checks.push(function(){fn()&&this.trigger(type,args)}.bind(this))},scanPunctuator:function(){var ch2,ch3,ch4,ch1=this.peek();switch(ch1){case\".\":if(/^[0-9]$/.test(this.peek(1)))return null;if(\".\"===this.peek(1)&&\".\"===this.peek(2))return{type:Token.Punctuator,value:\"...\"};case\"(\":case\")\":case\";\":case\",\":case\"[\":case\"]\":case\":\":case\"~\":case\"?\":return{type:Token.Punctuator,value:ch1};case\"{\":return this.pushContext(Context.Block),{type:Token.Punctuator,value:ch1};case\"}\":return this.inContext(Context.Block)&&this.popContext(),{type:Token.Punctuator,value:ch1};case\"#\":return{type:Token.Punctuator,value:ch1};case\"\":return null}return ch2=this.peek(1),ch3=this.peek(2),ch4=this.peek(3),\">\"===ch1&&\">\"===ch2&&\">\"===ch3&&\"=\"===ch4?{type:Token.Punctuator,value:\">>>=\"}:\"=\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"===\"}:\"!\"===ch1&&\"=\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"!==\"}:\">\"===ch1&&\">\"===ch2&&\">\"===ch3?{type:Token.Punctuator,value:\">>>\"}:\"<\"===ch1&&\"<\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\"<<=\"}:\">\"===ch1&&\">\"===ch2&&\"=\"===ch3?{type:Token.Punctuator,value:\">>=\"}:\"=\"===ch1&&\">\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:ch1===ch2&&\"+-<>&|\".indexOf(ch1)>=0?{type:Token.Punctuator,value:ch1+ch2}:\"<>=!+-*%&|^\".indexOf(ch1)>=0?\"=\"===ch2?{type:Token.Punctuator,value:ch1+ch2}:{type:Token.Punctuator,value:ch1}:\"/\"===ch1?\"=\"===ch2?{type:Token.Punctuator,value:\"/=\"}:{type:Token.Punctuator,value:\"/\"}:null},scanComments:function(){function commentToken(label,body,opt){var special=[\"jshint\",\"jslint\",\"members\",\"member\",\"globals\",\"global\",\"exported\"],isSpecial=!1,value=label+body,commentType=\"plain\";return opt=opt||{},opt.isMultiline&&(value+=\"*/\"),body=body.replace(/\\n/g,\" \"),\"/*\"===label&&reg.fallsThrough.test(body)&&(isSpecial=!0,commentType=\"falls through\"),special.forEach(function(str){if(!isSpecial&&(\"//\"!==label||\"jshint\"===str)&&(\" \"===body.charAt(str.length)&&body.substr(0,str.length)===str&&(isSpecial=!0,label+=str,body=body.substr(str.length)),isSpecial||\" \"!==body.charAt(0)||\" \"!==body.charAt(str.length+1)||body.substr(1,str.length)!==str||(isSpecial=!0,label=label+\" \"+str,body=body.substr(str.length+1)),isSpecial))switch(str){case\"member\":commentType=\"members\";break;case\"global\":commentType=\"globals\";break;default:var options=body.split(\":\").map(function(v){return v.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\")});if(2===options.length)switch(options[0]){case\"ignore\":switch(options[1]){case\"start\":self.ignoringLinterErrors=!0,isSpecial=!1;break;case\"end\":self.ignoringLinterErrors=!1,isSpecial=!1}}commentType=str}}),{type:Token.Comment,commentType:commentType,value:value,body:body,isSpecial:isSpecial,isMultiline:opt.isMultiline||!1,isMalformed:opt.isMalformed||!1}}var ch1=this.peek(),ch2=this.peek(1),rest=this.input.substr(2),startLine=this.line,startChar=this.char,self=this;if(\"*\"===ch1&&\"/\"===ch2)return this.trigger(\"error\",{code:\"E018\",line:startLine,character:startChar}),this.skip(2),null;if(\"/\"!==ch1||\"*\"!==ch2&&\"/\"!==ch2)return null;if(\"/\"===ch2)return this.skip(this.input.length),commentToken(\"//\",rest);var body=\"\";if(\"*\"===ch2){for(this.inComment=!0,this.skip(2);\"*\"!==this.peek()||\"/\"!==this.peek(1);)if(\"\"===this.peek()){if(body+=\"\\n\",!this.nextLine())return this.trigger(\"error\",{code:\"E017\",line:startLine,character:startChar}),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0,isMalformed:!0})}else body+=this.peek(),this.skip();return this.skip(2),this.inComment=!1,commentToken(\"/*\",body,{isMultiline:!0})}},scanKeyword:function(){var result=/^[a-zA-Z_$][a-zA-Z0-9_$]*/.exec(this.input),keywords=[\"if\",\"in\",\"do\",\"var\",\"for\",\"new\",\"try\",\"let\",\"this\",\"else\",\"case\",\"void\",\"with\",\"enum\",\"while\",\"break\",\"catch\",\"throw\",\"const\",\"yield\",\"class\",\"super\",\"return\",\"typeof\",\"delete\",\"switch\",\"export\",\"import\",\"default\",\"finally\",\"extends\",\"function\",\"continue\",\"debugger\",\"instanceof\"];return result&&keywords.indexOf(result[0])>=0?{type:Token.Keyword,value:result[0]}:null},scanIdentifier:function(){function isNonAsciiIdentifierStart(code){return code>256}function isNonAsciiIdentifierPart(code){return code>256}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function removeEscapeSequences(id){return id.replace(/\\\\u([0-9a-fA-F]{4})/g,function(m0,codepoint){return String.fromCharCode(parseInt(codepoint,16))})}var type,char,id=\"\",index=0,readUnicodeEscapeSequence=function(){if(index+=1,\"u\"!==this.peek(index))return null;var code,ch1=this.peek(index+1),ch2=this.peek(index+2),ch3=this.peek(index+3),ch4=this.peek(index+4);return isHexDigit(ch1)&&isHexDigit(ch2)&&isHexDigit(ch3)&&isHexDigit(ch4)?(code=parseInt(ch1+ch2+ch3+ch4,16),asciiIdentifierPartTable[code]||isNonAsciiIdentifierPart(code)?(index+=5,\"\\\\u\"+ch1+ch2+ch3+ch4):null):null}.bind(this),getIdentifierStart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierStartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierStart(code)?(index+=1,chr):null}.bind(this),getIdentifierPart=function(){var chr=this.peek(index),code=chr.charCodeAt(0);return 92===code?readUnicodeEscapeSequence():128>code?asciiIdentifierPartTable[code]?(index+=1,chr):null:isNonAsciiIdentifierPart(code)?(index+=1,chr):null}.bind(this);if(char=getIdentifierStart(),null===char)return null;for(id=char;char=getIdentifierPart(),null!==char;)id+=char;switch(id){case\"true\":case\"false\":type=Token.BooleanLiteral;break;case\"null\":type=Token.NullLiteral;break;default:type=Token.Identifier}return{type:type,value:removeEscapeSequences(id),text:id,tokenLength:id.length}},scanNumericLiteral:function(){function isDecimalDigit(str){return/^[0-9]$/.test(str)}function isOctalDigit(str){return/^[0-7]$/.test(str)}function isBinaryDigit(str){return/^[01]$/.test(str)}function isHexDigit(str){return/^[0-9a-fA-F]$/.test(str)}function isIdentifierStart(ch){return\"$\"===ch||\"_\"===ch||\"\\\\\"===ch||ch>=\"a\"&&\"z\">=ch||ch>=\"A\"&&\"Z\">=ch}var bad,index=0,value=\"\",length=this.input.length,char=this.peek(index),isAllowedDigit=isDecimalDigit,base=10,isLegacy=!1;if(\".\"!==char&&!isDecimalDigit(char))return null;if(\".\"!==char){for(value=this.peek(index),index+=1,char=this.peek(index),\"0\"===value&&((\"x\"===char||\"X\"===char)&&(isAllowedDigit=isHexDigit,base=16,index+=1,value+=char),(\"o\"===char||\"O\"===char)&&(isAllowedDigit=isOctalDigit,base=8,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Octal integer literal\",\"6\"]}),index+=1,value+=char),(\"b\"===char||\"B\"===char)&&(isAllowedDigit=isBinaryDigit,base=2,state.inES6(!0)||this.trigger(\"warning\",{code:\"W119\",line:this.line,character:this.char,data:[\"Binary integer literal\",\"6\"]}),index+=1,value+=char),isOctalDigit(char)&&(isAllowedDigit=isOctalDigit,base=8,isLegacy=!0,bad=!1,index+=1,value+=char),!isOctalDigit(char)&&isDecimalDigit(char)&&(index+=1,value+=char));length>index;){if(char=this.peek(index),isLegacy&&isDecimalDigit(char))bad=!0;else if(!isAllowedDigit(char))break;value+=char,index+=1}if(isAllowedDigit!==isDecimalDigit)return!isLegacy&&2>=value.length?{type:Token.NumericLiteral,value:value,isMalformed:!0}:length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isLegacy:isLegacy,isMalformed:!1}}if(\".\"===char)for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1;if(\"e\"===char||\"E\"===char){if(value+=char,index+=1,char=this.peek(index),(\"+\"===char||\"-\"===char)&&(value+=this.peek(index),index+=1),char=this.peek(index),!isDecimalDigit(char))return null;for(value+=char,index+=1;length>index&&(char=this.peek(index),isDecimalDigit(char));)value+=char,index+=1}return length>index&&(char=this.peek(index),isIdentifierStart(char))?null:{type:Token.NumericLiteral,value:value,base:base,isMalformed:!isFinite(value)}},scanEscapeSequence:function(checks){var allowNewLine=!1,jump=1;this.skip();var char=this.peek();switch(char){case\"'\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\'\"]},checks,function(){return state.jsonMode});break;case\"b\":char=\"\\\\b\";break;case\"f\":char=\"\\\\f\";break;case\"n\":char=\"\\\\n\";break;case\"r\":char=\"\\\\r\";break;case\"t\":char=\"\\\\t\";break;case\"0\":char=\"\\\\0\";var n=parseInt(this.peek(1),10);this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return n>=0&&7>=n&&state.isStrict()});break;case\"u\":var hexCode=this.input.substr(1,4),code=parseInt(hexCode,16);isNaN(code)&&this.trigger(\"warning\",{code:\"W052\",line:this.line,character:this.char,data:[\"u\"+hexCode]}),char=String.fromCharCode(code),jump=5;break;case\"v\":this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\v\"]},checks,function(){return state.jsonMode}),char=\"\u000b\";break;case\"x\":var x=parseInt(this.input.substr(1,2),16);this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"\\\\x-\"]},checks,function(){return state.jsonMode}),char=String.fromCharCode(x),jump=3;break;case\"\\\\\":char=\"\\\\\\\\\";break;case'\"':char='\\\\\"';break;case\"/\":break;case\"\":allowNewLine=!0,char=\"\"}return{\"char\":char,jump:jump,allowNewLine:allowNewLine}},scanTemplateLiteral:function(checks){var tokenType,ch,value=\"\",startLine=this.line,startChar=this.char,depth=this.templateStarts.length;if(!state.inES6(!0))return null;if(\"`\"===this.peek())tokenType=Token.TemplateHead,this.templateStarts.push({line:this.line,\"char\":this.char}),depth=this.templateStarts.length,this.skip(1),this.pushContext(Context.Template);else{if(!this.inContext(Context.Template)||\"}\"!==this.peek())return null;tokenType=Token.TemplateMiddle}for(;\"`\"!==this.peek();){for(;\"\"===(ch=this.peek());)if(value+=\"\\n\",!this.nextLine()){var startPos=this.templateStarts.pop();return this.trigger(\"error\",{code:\"E052\",line:startPos.line,character:startPos.char}),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,depth:depth,context:this.popContext()}}if(\"$\"===ch&&\"{\"===this.peek(1))return value+=\"${\",this.skip(2),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.currentContext()};\nif(\"\\\\\"===ch){var escape=this.scanEscapeSequence(checks);value+=escape.char,this.skip(escape.jump)}else\"`\"!==ch&&(value+=ch,this.skip(1))}return tokenType=tokenType===Token.TemplateHead?Token.NoSubstTemplate:Token.TemplateTail,this.skip(1),this.templateStarts.pop(),{type:tokenType,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,depth:depth,context:this.popContext()}},scanStringLiteral:function(checks){var quote=this.peek();if('\"'!==quote&&\"'\"!==quote)return null;this.triggerAsync(\"warning\",{code:\"W108\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&'\"'!==quote});var value=\"\",startLine=this.line,startChar=this.char,allowNewLine=!1;for(this.skip();this.peek()!==quote;)if(\"\"===this.peek()){if(allowNewLine?(allowNewLine=!1,this.triggerAsync(\"warning\",{code:\"W043\",line:this.line,character:this.char},checks,function(){return!state.option.multistr}),this.triggerAsync(\"warning\",{code:\"W042\",line:this.line,character:this.char},checks,function(){return state.jsonMode&&state.option.multistr})):this.trigger(\"warning\",{code:\"W112\",line:this.line,character:this.char}),!this.nextLine())return this.trigger(\"error\",{code:\"E029\",line:startLine,character:startChar}),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!0,quote:quote}}else{allowNewLine=!1;var char=this.peek(),jump=1;if(\" \">char&&this.trigger(\"warning\",{code:\"W113\",line:this.line,character:this.char,data:[\"<non-printable>\"]}),\"\\\\\"===char){var parsed=this.scanEscapeSequence(checks);char=parsed.char,jump=parsed.jump,allowNewLine=parsed.allowNewLine}value+=char,this.skip(jump)}return this.skip(),{type:Token.StringLiteral,value:value,startLine:startLine,startChar:startChar,isUnclosed:!1,quote:quote}},scanRegExp:function(){var terminated,index=0,length=this.input.length,char=this.peek(),value=char,body=\"\",flags=[],malformed=!1,isCharSet=!1,scanUnexpectedChars=function(){\" \">char&&(malformed=!0,this.trigger(\"warning\",{code:\"W048\",line:this.line,character:this.char})),\"<\"===char&&(malformed=!0,this.trigger(\"warning\",{code:\"W049\",line:this.line,character:this.char,data:[char]}))}.bind(this);if(!this.prereg||\"/\"!==char)return null;for(index+=1,terminated=!1;length>index;)if(char=this.peek(index),value+=char,body+=char,isCharSet)\"]\"===char&&(\"\\\\\"!==this.peek(index-1)||\"\\\\\"===this.peek(index-2))&&(isCharSet=!1),\"\\\\\"===char&&(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars()),index+=1;else{if(\"\\\\\"===char){if(index+=1,char=this.peek(index),body+=char,value+=char,scanUnexpectedChars(),\"/\"===char){index+=1;continue}if(\"[\"===char){index+=1;continue}}if(\"[\"!==char){if(\"/\"===char){body=body.substr(0,body.length-1),terminated=!0,index+=1;break}index+=1}else isCharSet=!0,index+=1}if(!terminated)return this.trigger(\"error\",{code:\"E015\",line:this.line,character:this.from}),void this.trigger(\"fatal\",{line:this.line,from:this.from});for(;length>index&&(char=this.peek(index),/[gim]/.test(char));)flags.push(char),value+=char,index+=1;try{RegExp(body,flags.join(\"\"))}catch(err){malformed=!0,this.trigger(\"error\",{code:\"E016\",line:this.line,character:this.char,data:[err.message]})}return{type:Token.RegExp,value:value,flags:flags,isMalformed:malformed}},scanNonBreakingSpaces:function(){return state.option.nonbsp?this.input.search(/(\\u00A0)/):-1},scanUnsafeChars:function(){return this.input.search(reg.unsafeChars)},next:function(checks){this.from=this.char;var start;if(/\\s/.test(this.peek()))for(start=this.char;/\\s/.test(this.peek());)this.from+=1,this.skip();var match=this.scanComments()||this.scanStringLiteral(checks)||this.scanTemplateLiteral(checks);return match?match:(match=this.scanRegExp()||this.scanPunctuator()||this.scanKeyword()||this.scanIdentifier()||this.scanNumericLiteral(),match?(this.skip(match.tokenLength||match.value.length),match):null)},nextLine:function(){var char;if(this.line>=this.getLines().length)return!1;this.input=this.getLines()[this.line],this.line+=1,this.char=1,this.from=1;var inputTrimmed=this.input.trim(),startsWith=function(){return _.some(arguments,function(prefix){return 0===inputTrimmed.indexOf(prefix)})},endsWith=function(){return _.some(arguments,function(suffix){return-1!==inputTrimmed.indexOf(suffix,inputTrimmed.length-suffix.length)})};if(this.ignoringLinterErrors===!0&&(startsWith(\"/*\",\"//\")||this.inComment&&endsWith(\"*/\")||(this.input=\"\")),char=this.scanNonBreakingSpaces(),char>=0&&this.trigger(\"warning\",{code:\"W125\",line:this.line,character:char+1}),this.input=this.input.replace(/\\t/g,state.tab),char=this.scanUnsafeChars(),char>=0&&this.trigger(\"warning\",{code:\"W100\",line:this.line,character:char}),!this.ignoringLinterErrors&&state.option.maxlen&&state.option.maxlen<this.input.length){var inComment=this.inComment||startsWith.call(inputTrimmed,\"//\")||startsWith.call(inputTrimmed,\"/*\"),shouldTriggerError=!inComment||!reg.maxlenException.test(inputTrimmed);shouldTriggerError&&this.trigger(\"warning\",{code:\"W101\",line:this.line,character:this.input.length})}return!0},start:function(){this.nextLine()},token:function(){function isReserved(token,isProperty){if(!token.reserved)return!1;var meta=token.meta;if(meta&&meta.isFutureReservedWord&&state.inES5()){if(!meta.es5)return!1;if(meta.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(isProperty)return!1}return!0}for(var token,checks=asyncTrigger(),create=function(type,value,isProperty,token){var obj;if(\"(endline)\"!==type&&\"(end)\"!==type&&(this.prereg=!1),\"(punctuator)\"===type){switch(value){case\".\":case\")\":case\"~\":case\"#\":case\"]\":case\"++\":case\"--\":this.prereg=!1;break;default:this.prereg=!0}obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"])}return\"(identifier)\"===type&&((\"return\"===value||\"case\"===value||\"typeof\"===value)&&(this.prereg=!0),_.has(state.syntax,value)&&(obj=Object.create(state.syntax[value]||state.syntax[\"(error)\"]),isReserved(obj,isProperty&&\"(identifier)\"===type)||(obj=null))),obj||(obj=Object.create(state.syntax[type])),obj.identifier=\"(identifier)\"===type,obj.type=obj.type||type,obj.value=value,obj.line=this.line,obj.character=this.char,obj.from=this.from,obj.identifier&&token&&(obj.raw_text=token.text||token.value),token&&token.startLine&&token.startLine!==this.line&&(obj.startLine=token.startLine),token&&token.context&&(obj.context=token.context),token&&token.depth&&(obj.depth=token.depth),token&&token.isUnclosed&&(obj.isUnclosed=token.isUnclosed),isProperty&&obj.identifier&&(obj.isProperty=isProperty),obj.check=checks.check,obj}.bind(this);;){if(!this.input.length)return this.nextLine()?create(\"(endline)\",\"\"):this.exhausted?null:(this.exhausted=!0,create(\"(end)\",\"\"));if(token=this.next(checks))switch(token.type){case Token.StringLiteral:return this.triggerAsync(\"String\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value,quote:token.quote},checks,function(){return!0}),create(\"(string)\",token.value,null,token);case Token.TemplateHead:return this.trigger(\"TemplateHead\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template)\",token.value,null,token);case Token.TemplateMiddle:return this.trigger(\"TemplateMiddle\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template middle)\",token.value,null,token);case Token.TemplateTail:return this.trigger(\"TemplateTail\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(template tail)\",token.value,null,token);case Token.NoSubstTemplate:return this.trigger(\"NoSubstTemplate\",{line:this.line,\"char\":this.char,from:this.from,startLine:token.startLine,startChar:token.startChar,value:token.value}),create(\"(no subst template)\",token.value,null,token);case Token.Identifier:this.triggerAsync(\"Identifier\",{line:this.line,\"char\":this.char,from:this.form,name:token.value,raw_name:token.text,isProperty:\".\"===state.tokens.curr.id},checks,function(){return!0});case Token.Keyword:case Token.NullLiteral:case Token.BooleanLiteral:return create(\"(identifier)\",token.value,\".\"===state.tokens.curr.id,token);case Token.NumericLiteral:return token.isMalformed&&this.trigger(\"warning\",{code:\"W045\",line:this.line,character:this.char,data:[token.value]}),this.triggerAsync(\"warning\",{code:\"W114\",line:this.line,character:this.char,data:[\"0x-\"]},checks,function(){return 16===token.base&&state.jsonMode}),this.triggerAsync(\"warning\",{code:\"W115\",line:this.line,character:this.char},checks,function(){return state.isStrict()&&8===token.base&&token.isLegacy}),this.trigger(\"Number\",{line:this.line,\"char\":this.char,from:this.from,value:token.value,base:token.base,isMalformed:token.malformed}),create(\"(number)\",token.value);case Token.RegExp:return create(\"(regexp)\",token.value);case Token.Comment:if(state.tokens.curr.comment=!0,token.isSpecial)return{id:\"(comment)\",value:token.value,body:token.body,type:token.commentType,isSpecial:token.isSpecial,line:this.line,character:this.char,from:this.from};break;case\"\":break;default:return create(\"(punctuator)\",token.value)}else this.input.length&&(this.trigger(\"error\",{code:\"E024\",line:this.line,character:this.char,data:[this.peek()]}),this.input=\"\")}}},exports.Lexer=Lexer,exports.Context=Context},{\"../data/ascii-identifier-data.js\":\"/node_modules/jshint/data/ascii-identifier-data.js\",\"../lodash\":\"/node_modules/jshint/lodash.js\",\"./reg.js\":\"/node_modules/jshint/src/reg.js\",\"./state.js\":\"/node_modules/jshint/src/state.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/messages.js\":[function(_dereq_,module,exports){\"use strict\";var _=_dereq_(\"../lodash\"),errors={E001:\"Bad option: '{a}'.\",E002:\"Bad option value.\",E003:\"Expected a JSON value.\",E004:\"Input is neither a string nor an array of strings.\",E005:\"Input is empty.\",E006:\"Unexpected early end of program.\",E007:'Missing \"use strict\" statement.',E008:\"Strict violation.\",E009:\"Option 'validthis' can't be used in a global scope.\",E010:\"'with' is not allowed in strict mode.\",E011:\"'{a}' has already been declared.\",E012:\"const '{a}' is initialized to 'undefined'.\",E013:\"Attempting to override '{a}' which is a constant.\",E014:\"A regular expression literal can be confused with '/='.\",E015:\"Unclosed regular expression.\",E016:\"Invalid regular expression.\",E017:\"Unclosed comment.\",E018:\"Unbegun comment.\",E019:\"Unmatched '{a}'.\",E020:\"Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.\",E021:\"Expected '{a}' and instead saw '{b}'.\",E022:\"Line breaking error '{a}'.\",E023:\"Missing '{a}'.\",E024:\"Unexpected '{a}'.\",E025:\"Missing ':' on a case clause.\",E026:\"Missing '}' to match '{' from line {a}.\",E027:\"Missing ']' to match '[' from line {a}.\",E028:\"Illegal comma.\",E029:\"Unclosed string.\",E030:\"Expected an identifier and instead saw '{a}'.\",E031:\"Bad assignment.\",E032:\"Expected a small integer or 'false' and instead saw '{a}'.\",E033:\"Expected an operator and instead saw '{a}'.\",E034:\"get/set are ES5 features.\",E035:\"Missing property name.\",E036:\"Expected to see a statement and instead saw a block.\",E037:null,E038:null,E039:\"Function declarations are not invocable. Wrap the whole function invocation in parens.\",E040:\"Each value should have its own case label.\",E041:\"Unrecoverable syntax error.\",E042:\"Stopping.\",E043:\"Too many errors.\",E044:null,E045:\"Invalid for each loop.\",E046:\"A yield statement shall be within a generator function (with syntax: `function*`)\",E047:null,E048:\"{a} declaration not directly within block.\",E049:\"A {a} cannot be named '{b}'.\",E050:\"Mozilla acequires the yield expression to be parenthesized here.\",E051:null,E052:\"Unclosed template literal.\",E053:\"Export declaration must be in global scope.\",E054:\"Class properties must be methods. Expected '(' but instead saw '{a}'.\",E055:\"The '{a}' option cannot be set after any executable code.\",E056:\"'{a}' was used before it was declared, which is illegal for '{b}' variables.\",E057:\"Invalid meta property: '{a}.{b}'.\",E058:\"Missing semicolon.\"},warnings={W001:\"'hasOwnProperty' is a really bad name.\",W002:\"Value of '{a}' may be overwritten in IE 8 and earlier.\",W003:\"'{a}' was used before it was defined.\",W004:\"'{a}' is already defined.\",W005:\"A dot following a number can be confused with a decimal point.\",W006:\"Confusing minuses.\",W007:\"Confusing plusses.\",W008:\"A leading decimal point can be confused with a dot: '{a}'.\",W009:\"The array literal notation [] is preferable.\",W010:\"The object literal notation {} is preferable.\",W011:null,W012:null,W013:null,W014:\"Bad line breaking before '{a}'.\",W015:null,W016:\"Unexpected use of '{a}'.\",W017:\"Bad operand.\",W018:\"Confusing use of '{a}'.\",W019:\"Use the isNaN function to compare with NaN.\",W020:\"Read only.\",W021:\"Reassignment of '{a}', which is is a {b}. Use 'var' or 'let' to declare bindings that may change.\",W022:\"Do not assign to the exception parameter.\",W023:\"Expected an identifier in an assignment and instead saw a function invocation.\",W024:\"Expected an identifier and instead saw '{a}' (a reserved word).\",W025:\"Missing name in function declaration.\",W026:\"Inner functions should be listed at the top of the outer function.\",W027:\"Unreachable '{a}' after '{b}'.\",W028:\"Label '{a}' on {b} statement.\",W030:\"Expected an assignment or function call and instead saw an expression.\",W031:\"Do not use 'new' for side effects.\",W032:\"Unnecessary semicolon.\",W033:\"Missing semicolon.\",W034:'Unnecessary directive \"{a}\".',W035:\"Empty block.\",W036:\"Unexpected /*member '{a}'.\",W037:\"'{a}' is a statement label.\",W038:\"'{a}' used out of scope.\",W039:\"'{a}' is not allowed.\",W040:\"Possible strict violation.\",W041:\"Use '{a}' to compare with '{b}'.\",W042:\"Avoid EOL escaping.\",W043:\"Bad escaping of EOL. Use option multistr if needed.\",W044:\"Bad or unnecessary escaping.\",W045:\"Bad number '{a}'.\",W046:\"Don't use extra leading zeros '{a}'.\",W047:\"A trailing decimal point can be confused with a dot: '{a}'.\",W048:\"Unexpected control character in regular expression.\",W049:\"Unexpected escaped character '{a}' in regular expression.\",W050:\"JavaScript URL.\",W051:\"Variables should not be deleted.\",W052:\"Unexpected '{a}'.\",W053:\"Do not use {a} as a constructor.\",W054:\"The Function constructor is a form of eval.\",W055:\"A constructor name should start with an uppercase letter.\",W056:\"Bad constructor.\",W057:\"Weird construction. Is 'new' necessary?\",W058:\"Missing '()' invoking a constructor.\",W059:\"Avoid arguments.{a}.\",W060:\"document.write can be a form of eval.\",W061:\"eval can be harmful.\",W062:\"Wrap an immediate function invocation in parens to assist the reader in understanding that the expression is the result of a function, and not the function itself.\",W063:\"Math is not a function.\",W064:\"Missing 'new' prefix when invoking a constructor.\",W065:\"Missing radix parameter.\",W066:\"Implied eval. Consider passing a function instead of a string.\",W067:\"Bad invocation.\",W068:\"Wrapping non-IIFE function literals in parens is unnecessary.\",W069:\"['{a}'] is better written in dot notation.\",W070:\"Extra comma. (it breaks older versions of IE)\",W071:\"This function has too many statements. ({a})\",W072:\"This function has too many parameters. ({a})\",W073:\"Blocks are nested too deeply. ({a})\",W074:\"This function's cyclomatic complexity is too high. ({a})\",W075:\"Duplicate {a} '{b}'.\",W076:\"Unexpected parameter '{a}' in get {b} function.\",W077:\"Expected a single parameter in set {a} function.\",W078:\"Setter is defined without getter.\",W079:\"Redefinition of '{a}'.\",W080:\"It's not necessary to initialize '{a}' to 'undefined'.\",W081:null,W082:\"Function declarations should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.\",W083:\"Don't make functions within a loop.\",W084:\"Assignment in conditional expression\",W085:\"Don't use 'with'.\",W086:\"Expected a 'break' statement before '{a}'.\",W087:\"Forgotten 'debugger' statement?\",W088:\"Creating global 'for' variable. Should be 'for (var {a} ...'.\",W089:\"The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.\",W090:\"'{a}' is not a statement label.\",W091:null,W093:\"Did you mean to return a conditional instead of an assignment?\",W094:\"Unexpected comma.\",W095:\"Expected a string and instead saw {a}.\",W096:\"The '{a}' key may produce unexpected results.\",W097:'Use the function form of \"use strict\".',W098:\"'{a}' is defined but never used.\",W099:null,W100:\"This character may get silently deleted by one or more browsers.\",W101:\"Line is too long.\",W102:null,W103:\"The '{a}' property is deprecated.\",W104:\"'{a}' is available in ES{b} (use 'esversion: {b}') or Mozilla JS extensions (use moz).\",W105:\"Unexpected {a} in '{b}'.\",W106:\"Identifier '{a}' is not in camel case.\",W107:\"Script URL.\",W108:\"Strings must use doublequote.\",W109:\"Strings must use singlequote.\",W110:\"Mixed double and single quotes.\",W112:\"Unclosed string.\",W113:\"Control character in string: {a}.\",W114:\"Avoid {a}.\",W115:\"Octal literals are not allowed in strict mode.\",W116:\"Expected '{a}' and instead saw '{b}'.\",W117:\"'{a}' is not defined.\",W118:\"'{a}' is only available in Mozilla JavaScript extensions (use moz option).\",W119:\"'{a}' is only available in ES{b} (use 'esversion: {b}').\",W120:\"You might be leaking a variable ({a}) here.\",W121:\"Extending prototype of native object: '{a}'.\",W122:\"Invalid typeof value '{a}'\",W123:\"'{a}' is already defined in outer scope.\",W124:\"A generator function shall contain a yield statement.\",W125:\"This line contains non-breaking spaces: http://jshint.com/doc/options/#nonbsp\",W126:\"Unnecessary grouping operator.\",W127:\"Unexpected use of a comma operator.\",W128:\"Empty array elements acequire elision=true.\",W129:\"'{a}' is defined in a future version of JavaScript. Use a different variable name to avoid migration issues.\",W130:\"Invalid element after rest element.\",W131:\"Invalid parameter after rest parameter.\",W132:\"`var` declarations are forbidden. Use `let` or `const` instead.\",W133:\"Invalid for-{a} loop left-hand-side: {b}.\",W134:\"The '{a}' option is only available when linting ECMAScript {b} code.\",W135:\"{a} may not be supported by non-browser environments.\",W136:\"'{a}' must be in function scope.\",W137:\"Empty destructuring.\",W138:\"Regular parameters should not come after default parameters.\"},info={I001:\"Comma warnings can be turned off with 'laxcomma'.\",I002:null,I003:\"ES5 option is now set per default\"};exports.errors={},exports.warnings={},exports.info={},_.each(errors,function(desc,code){exports.errors[code]={code:code,desc:desc}}),_.each(warnings,function(desc,code){exports.warnings[code]={code:code,desc:desc}}),_.each(info,function(desc,code){exports.info[code]={code:code,desc:desc}})},{\"../lodash\":\"/node_modules/jshint/lodash.js\"}],\"/node_modules/jshint/src/name-stack.js\":[function(_dereq_,module){\"use strict\";function NameStack(){this._stack=[]}Object.defineProperty(NameStack.prototype,\"length\",{get:function(){return this._stack.length}}),NameStack.prototype.push=function(){this._stack.push(null)},NameStack.prototype.pop=function(){this._stack.pop()},NameStack.prototype.set=function(token){this._stack[this.length-1]=token},NameStack.prototype.infer=function(){var type,nameToken=this._stack[this.length-1],prefix=\"\";return nameToken&&\"class\"!==nameToken.type||(nameToken=this._stack[this.length-2]),nameToken?(type=nameToken.type,\"(string)\"!==type&&\"(number)\"!==type&&\"(identifier)\"!==type&&\"default\"!==type?\"(expression)\":(nameToken.accessorType&&(prefix=nameToken.accessorType+\" \"),prefix+nameToken.value)):\"(empty)\"},module.exports=NameStack},{}],\"/node_modules/jshint/src/options.js\":[function(_dereq_,module,exports){\"use strict\";exports.bool={enforcing:{bitwise:!0,freeze:!0,camelcase:!0,curly:!0,eqeqeq:!0,futurehostile:!0,notypeof:!0,es3:!0,es5:!0,forin:!0,funcscope:!0,immed:!0,iterator:!0,newcap:!0,noarg:!0,nocomma:!0,noempty:!0,nonbsp:!0,nonew:!0,undef:!0,singleGroups:!1,varstmt:!1,enforceall:!1},relaxing:{asi:!0,multistr:!0,debug:!0,boss:!0,evil:!0,globalstrict:!0,plusplus:!0,proto:!0,scripturl:!0,sub:!0,supernew:!0,laxbreak:!0,laxcomma:!0,validthis:!0,withstmt:!0,moz:!0,noyield:!0,eqnull:!0,lastsemic:!0,loopfunc:!0,expr:!0,esnext:!0,elision:!0},environments:{mootools:!0,couch:!0,jasmine:!0,jquery:!0,node:!0,qunit:!0,rhino:!0,shelljs:!0,prototypejs:!0,yui:!0,mocha:!0,module:!0,wsh:!0,worker:!0,nonstandard:!0,browser:!0,browserify:!0,devel:!0,dojo:!0,typed:!0,phantom:!0},obsolete:{onecase:!0,regexp:!0,regexdash:!0}},exports.val={maxlen:!1,indent:!1,maxerr:!1,predef:!1,globals:!1,quotmark:!1,scope:!1,maxstatements:!1,maxdepth:!1,maxparams:!1,maxcomplexity:!1,shadow:!1,strict:!0,unused:!0,latedef:!1,ignore:!1,ignoreDelimiters:!1,esversion:5},exports.inverted={bitwise:!0,forin:!0,newcap:!0,plusplus:!0,regexp:!0,undef:!0,eqeqeq:!0,strict:!0},exports.validNames=Object.keys(exports.val).concat(Object.keys(exports.bool.relaxing)).concat(Object.keys(exports.bool.enforcing)).concat(Object.keys(exports.bool.obsolete)).concat(Object.keys(exports.bool.environments)),exports.renamed={eqeq:\"eqeqeq\",windows:\"wsh\",sloppy:\"strict\"},exports.removed={nomen:!0,onevar:!0,passfail:!0,white:!0,gcl:!0,smarttabs:!0,trailing:!0},exports.noenforceall={varstmt:!0,strict:!0}},{}],\"/node_modules/jshint/src/reg.js\":[function(_dereq_,module,exports){\"use strict\";exports.unsafeString=/@cc|<\\/?|script|\\]\\s*\\]|<\\s*!|&lt/i,exports.unsafeChars=/[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEsc=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/,exports.needEscGlobal=/[\\u0000-\\u001f&<\"\\/\\\\\\u007f-\\u009f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,exports.starSlash=/\\*\\//,exports.identifier=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,exports.javascriptURL=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i,exports.fallsThrough=/^\\s*falls?\\sthrough\\s*$/,exports.maxlenException=/^(?:(?:\\/\\/|\\/\\*|\\*) ?)?[^ ]+$/},{}],\"/node_modules/jshint/src/scope-manager.js\":[function(_dereq_,module){\"use strict\";var _=_dereq_(\"../lodash\"),events=_dereq_(\"events\"),marker={},scopeManager=function(state,predefined,exported,declared){function _newScope(type){_current={\"(labels)\":Object.create(null),\"(usages)\":Object.create(null),\"(breakLabels)\":Object.create(null),\"(parent)\":_current,\"(type)\":type,\"(params)\":\"functionparams\"===type||\"catchparams\"===type?[]:null},_scopeStack.push(_current)}function warning(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function error(code,token){emitter.emit(\"warning\",{code:code,token:token,data:_.slice(arguments,2)})}function _setupUsages(labelName){_current[\"(usages)\"][labelName]||(_current[\"(usages)\"][labelName]={\"(modified)\":[],\"(reassigned)\":[],\"(tokens)\":[]})}function _checkForUnused(){if(\"functionparams\"===_current[\"(type)\"])return _checkParams(),void 0;var curentLabels=_current[\"(labels)\"];for(var labelName in curentLabels)curentLabels[labelName]&&\"exception\"!==curentLabels[labelName][\"(type)\"]&&curentLabels[labelName][\"(unused)\"]&&_warnUnused(labelName,curentLabels[labelName][\"(token)\"],\"var\")}function _checkParams(){var params=_current[\"(params)\"];if(params)for(var unused_opt,param=params.pop();param;){var label=_current[\"(labels)\"][param];if(unused_opt=_getUnusedOption(state.funct[\"(unusedOption)\"]),\"undefined\"===param)return;if(label[\"(unused)\"])_warnUnused(param,label[\"(token)\"],\"param\",state.funct[\"(unusedOption)\"]);else if(\"last-param\"===unused_opt)return;param=params.pop()}}function _getLabel(labelName){for(var i=_scopeStack.length-1;i>=0;--i){var scopeLabels=_scopeStack[i][\"(labels)\"];if(scopeLabels[labelName])return scopeLabels}}function usedSoFarInCurrentFunction(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(usages)\"][labelName])return current[\"(usages)\"][labelName];if(current===_currentFunctBody)break}return!1}function _checkOuterShadow(labelName,token){if(\"outer\"===state.option.shadow)for(var isGlobal=\"global\"===_currentFunctBody[\"(type)\"],isNewFunction=\"functionparams\"===_current[\"(type)\"],outsideCurrentFunction=!isGlobal,i=0;_scopeStack.length>i;i++){var stackItem=_scopeStack[i];isNewFunction||_scopeStack[i+1]!==_currentFunctBody||(outsideCurrentFunction=!1),outsideCurrentFunction&&stackItem[\"(labels)\"][labelName]&&warning(\"W123\",token,labelName),stackItem[\"(breakLabels)\"][labelName]&&warning(\"W123\",token,labelName)}}function _latedefWarning(type,labelName,token){state.option.latedef&&(state.option.latedef===!0&&\"function\"===type||\"function\"!==type)&&warning(\"W003\",token,labelName)}var _current,_scopeStack=[];_newScope(\"global\"),_current[\"(predefined)\"]=predefined;var _currentFunctBody=_current,usedPredefinedAndGlobals=Object.create(null),impliedGlobals=Object.create(null),unuseds=[],emitter=new events.EventEmitter,_getUnusedOption=function(unused_opt){return void 0===unused_opt&&(unused_opt=state.option.unused),unused_opt===!0&&(unused_opt=\"last-param\"),unused_opt},_warnUnused=function(name,tkn,type,unused_opt){var line=tkn.line,chr=tkn.from,raw_name=tkn.raw_text||name;unused_opt=_getUnusedOption(unused_opt);var warnable_types={vars:[\"var\"],\"last-param\":[\"var\",\"param\"],strict:[\"var\",\"param\",\"last-param\"]};unused_opt&&warnable_types[unused_opt]&&-1!==warnable_types[unused_opt].indexOf(type)&&warning(\"W098\",{line:line,from:chr},raw_name),(unused_opt||\"var\"===type)&&unuseds.push({name:name,line:line,character:chr})},scopeManagerInst={on:function(names,listener){names.split(\" \").forEach(function(name){emitter.on(name,listener)})},isPredefined:function(labelName){return!this.has(labelName)&&_.has(_scopeStack[0][\"(predefined)\"],labelName)},stack:function(type){var previousScope=_current;_newScope(type),type||\"functionparams\"!==previousScope[\"(type)\"]||(_current[\"(isFuncBody)\"]=!0,_current[\"(context)\"]=_currentFunctBody,_currentFunctBody=_current)},unstack:function(){var i,j,subScope=_scopeStack.length>1?_scopeStack[_scopeStack.length-2]:null,isUnstackingFunctionBody=_current===_currentFunctBody,isUnstackingFunctionParams=\"functionparams\"===_current[\"(type)\"],isUnstackingFunctionOuter=\"functionouter\"===_current[\"(type)\"],currentUsages=_current[\"(usages)\"],currentLabels=_current[\"(labels)\"],usedLabelNameList=Object.keys(currentUsages);for(currentUsages.__proto__&&-1===usedLabelNameList.indexOf(\"__proto__\")&&usedLabelNameList.push(\"__proto__\"),i=0;usedLabelNameList.length>i;i++){var usedLabelName=usedLabelNameList[i],usage=currentUsages[usedLabelName],usedLabel=currentLabels[usedLabelName];if(usedLabel){var usedLabelType=usedLabel[\"(type)\"];if(usedLabel[\"(useOutsideOfScope)\"]&&!state.option.funcscope){var usedTokens=usage[\"(tokens)\"];if(usedTokens)for(j=0;usedTokens.length>j;j++)usedLabel[\"(function)\"]===usedTokens[j][\"(function)\"]&&error(\"W038\",usedTokens[j],usedLabelName)}if(_current[\"(labels)\"][usedLabelName][\"(unused)\"]=!1,\"const\"===usedLabelType&&usage[\"(modified)\"])for(j=0;usage[\"(modified)\"].length>j;j++)error(\"E013\",usage[\"(modified)\"][j],usedLabelName);if((\"function\"===usedLabelType||\"class\"===usedLabelType)&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)error(\"W021\",usage[\"(reassigned)\"][j],usedLabelName,usedLabelType)}else if(isUnstackingFunctionOuter&&(state.funct[\"(isCapturing)\"]=!0),subScope)if(subScope[\"(usages)\"][usedLabelName]){var subScopeUsage=subScope[\"(usages)\"][usedLabelName];subScopeUsage[\"(modified)\"]=subScopeUsage[\"(modified)\"].concat(usage[\"(modified)\"]),subScopeUsage[\"(tokens)\"]=subScopeUsage[\"(tokens)\"].concat(usage[\"(tokens)\"]),subScopeUsage[\"(reassigned)\"]=subScopeUsage[\"(reassigned)\"].concat(usage[\"(reassigned)\"]),subScopeUsage[\"(onlyUsedSubFunction)\"]=!1}else subScope[\"(usages)\"][usedLabelName]=usage,isUnstackingFunctionBody&&(subScope[\"(usages)\"][usedLabelName][\"(onlyUsedSubFunction)\"]=!0);else if(\"boolean\"==typeof _current[\"(predefined)\"][usedLabelName]){if(delete declared[usedLabelName],usedPredefinedAndGlobals[usedLabelName]=marker,_current[\"(predefined)\"][usedLabelName]===!1&&usage[\"(reassigned)\"])for(j=0;usage[\"(reassigned)\"].length>j;j++)warning(\"W020\",usage[\"(reassigned)\"][j])}else if(usage[\"(tokens)\"])for(j=0;usage[\"(tokens)\"].length>j;j++){var undefinedToken=usage[\"(tokens)\"][j];undefinedToken.forgiveUndef||(state.option.undef&&!undefinedToken.ignoreUndef&&warning(\"W117\",undefinedToken,usedLabelName),impliedGlobals[usedLabelName]?impliedGlobals[usedLabelName].line.push(undefinedToken.line):impliedGlobals[usedLabelName]={name:usedLabelName,line:[undefinedToken.line]})}}if(subScope||Object.keys(declared).forEach(function(labelNotUsed){_warnUnused(labelNotUsed,declared[labelNotUsed],\"var\")}),subScope&&!isUnstackingFunctionBody&&!isUnstackingFunctionParams&&!isUnstackingFunctionOuter){var labelNames=Object.keys(currentLabels);for(i=0;labelNames.length>i;i++){var defLabelName=labelNames[i];currentLabels[defLabelName][\"(blockscoped)\"]||\"exception\"===currentLabels[defLabelName][\"(type)\"]||this.funct.has(defLabelName,{excludeCurrent:!0})||(subScope[\"(labels)\"][defLabelName]=currentLabels[defLabelName],\"global\"!==_currentFunctBody[\"(type)\"]&&(subScope[\"(labels)\"][defLabelName][\"(useOutsideOfScope)\"]=!0),delete currentLabels[defLabelName])}}_checkForUnused(),_scopeStack.pop(),isUnstackingFunctionBody&&(_currentFunctBody=_scopeStack[_.findLastIndex(_scopeStack,function(scope){return scope[\"(isFuncBody)\"]||\"global\"===scope[\"(type)\"]})]),_current=subScope},addParam:function(labelName,token,type){if(type=type||\"param\",\"exception\"===type){var previouslyDefinedLabelType=this.funct.labeltype(labelName);previouslyDefinedLabelType&&\"exception\"!==previouslyDefinedLabelType&&(state.option.node||warning(\"W002\",state.tokens.next,labelName))}if(_.has(_current[\"(labels)\"],labelName)?_current[\"(labels)\"][labelName].duplicated=!0:(_checkOuterShadow(labelName,token,type),_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":token,\"(unused)\":!0},_current[\"(params)\"].push(labelName)),_.has(_current[\"(usages)\"],labelName)){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}},validateParams:function(){if(\"global\"!==_currentFunctBody[\"(type)\"]){var isStrict=state.isStrict(),currentFunctParamScope=_currentFunctBody[\"(parent)\"];currentFunctParamScope[\"(params)\"]&&currentFunctParamScope[\"(params)\"].forEach(function(labelName){var label=currentFunctParamScope[\"(labels)\"][labelName];label&&label.duplicated&&(isStrict?warning(\"E011\",label[\"(token)\"],labelName):state.option.shadow!==!0&&warning(\"W004\",label[\"(token)\"],labelName))})}},getUsedOrDefinedGlobals:function(){var list=Object.keys(usedPredefinedAndGlobals);return usedPredefinedAndGlobals.__proto__===marker&&-1===list.indexOf(\"__proto__\")&&list.push(\"__proto__\"),list},getImpliedGlobals:function(){var values=_.values(impliedGlobals),hasProto=!1;return impliedGlobals.__proto__&&(hasProto=values.some(function(value){return\"__proto__\"===value.name}),hasProto||values.push(impliedGlobals.__proto__)),values},getUnuseds:function(){return unuseds},has:function(labelName){return Boolean(_getLabel(labelName))},labeltype:function(labelName){var scopeLabels=_getLabel(labelName);return scopeLabels?scopeLabels[labelName][\"(type)\"]:null},addExported:function(labelName){var globalLabels=_scopeStack[0][\"(labels)\"];if(_.has(declared,labelName))delete declared[labelName];else if(_.has(globalLabels,labelName))globalLabels[labelName][\"(unused)\"]=!1;else{for(var i=1;_scopeStack.length>i;i++){var scope=_scopeStack[i];if(scope[\"(type)\"])break;if(_.has(scope[\"(labels)\"],labelName)&&!scope[\"(labels)\"][labelName][\"(blockscoped)\"])return scope[\"(labels)\"][labelName][\"(unused)\"]=!1,void 0}exported[labelName]=!0}},setExported:function(labelName,token){this.block.use(labelName,token)\n},addlabel:function(labelName,opts){var type=opts.type,token=opts.token,isblockscoped=\"let\"===type||\"const\"===type||\"class\"===type,isexported=\"global\"===(isblockscoped?_current:_currentFunctBody)[\"(type)\"]&&_.has(exported,labelName);if(_checkOuterShadow(labelName,token,type),isblockscoped){var declaredInCurrentScope=_current[\"(labels)\"][labelName];if(declaredInCurrentScope||_current!==_currentFunctBody||\"global\"===_current[\"(type)\"]||(declaredInCurrentScope=!!_currentFunctBody[\"(parent)\"][\"(labels)\"][labelName]),!declaredInCurrentScope&&_current[\"(usages)\"][labelName]){var usage=_current[\"(usages)\"][labelName];usage[\"(onlyUsedSubFunction)\"]?_latedefWarning(type,labelName,token):warning(\"E056\",token,labelName,type)}declaredInCurrentScope?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&scopeManagerInst.funct.has(labelName)&&warning(\"W004\",token,labelName),scopeManagerInst.block.add(labelName,type,token,!isexported)}else{var declaredInCurrentFunctionScope=scopeManagerInst.funct.has(labelName);!declaredInCurrentFunctionScope&&usedSoFarInCurrentFunction(labelName)&&_latedefWarning(type,labelName,token),scopeManagerInst.funct.has(labelName,{onlyBlockscoped:!0})?warning(\"E011\",token,labelName):state.option.shadow!==!0&&declaredInCurrentFunctionScope&&\"__proto__\"!==labelName&&\"global\"!==_currentFunctBody[\"(type)\"]&&warning(\"W004\",token,labelName),scopeManagerInst.funct.add(labelName,type,token,!isexported),\"global\"===_currentFunctBody[\"(type)\"]&&(usedPredefinedAndGlobals[labelName]=marker)}},funct:{labeltype:function(labelName,options){for(var onlyBlockscoped=options&&options.onlyBlockscoped,excludeParams=options&&options.excludeParams,currentScopeIndex=_scopeStack.length-(options&&options.excludeCurrent?2:1),i=currentScopeIndex;i>=0;i--){var current=_scopeStack[i];if(current[\"(labels)\"][labelName]&&(!onlyBlockscoped||current[\"(labels)\"][labelName][\"(blockscoped)\"]))return current[\"(labels)\"][labelName][\"(type)\"];var scopeCheck=excludeParams?_scopeStack[i-1]:current;if(scopeCheck&&\"functionparams\"===scopeCheck[\"(type)\"])return null}return null},hasBreakLabel:function(labelName){for(var i=_scopeStack.length-1;i>=0;i--){var current=_scopeStack[i];if(current[\"(breakLabels)\"][labelName])return!0;if(\"functionparams\"===current[\"(type)\"])return!1}return!1},has:function(labelName,options){return Boolean(this.labeltype(labelName,options))},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!1,\"(function)\":_currentFunctBody,\"(unused)\":unused}}},block:{isGlobal:function(){return\"global\"===_current[\"(type)\"]},use:function(labelName,token){var paramScope=_currentFunctBody[\"(parent)\"];paramScope&&paramScope[\"(labels)\"][labelName]&&\"param\"===paramScope[\"(labels)\"][labelName][\"(type)\"]&&(scopeManagerInst.funct.has(labelName,{excludeParams:!0,onlyBlockscoped:!0})||(paramScope[\"(labels)\"][labelName][\"(unused)\"]=!1)),token&&(state.ignored.W117||state.option.undef===!1)&&(token.ignoreUndef=!0),_setupUsages(labelName),token&&(token[\"(function)\"]=_currentFunctBody,_current[\"(usages)\"][labelName][\"(tokens)\"].push(token))},reassign:function(labelName,token){this.modify(labelName,token),_current[\"(usages)\"][labelName][\"(reassigned)\"].push(token)},modify:function(labelName,token){_setupUsages(labelName),_current[\"(usages)\"][labelName][\"(modified)\"].push(token)},add:function(labelName,type,tok,unused){_current[\"(labels)\"][labelName]={\"(type)\":type,\"(token)\":tok,\"(blockscoped)\":!0,\"(unused)\":unused}},addBreakLabel:function(labelName,opts){var token=opts.token;scopeManagerInst.funct.hasBreakLabel(labelName)?warning(\"E011\",token,labelName):\"outer\"===state.option.shadow&&(scopeManagerInst.funct.has(labelName)?warning(\"W004\",token,labelName):_checkOuterShadow(labelName,token)),_current[\"(breakLabels)\"][labelName]=token}}};return scopeManagerInst};module.exports=scopeManager},{\"../lodash\":\"/node_modules/jshint/lodash.js\",events:\"/node_modules/browserify/node_modules/events/events.js\"}],\"/node_modules/jshint/src/state.js\":[function(_dereq_,module,exports){\"use strict\";var NameStack=_dereq_(\"./name-stack.js\"),state={syntax:{},isStrict:function(){return this.directive[\"use strict\"]||this.inClassBody||this.option.module||\"implied\"===this.option.strict},inMoz:function(){return this.option.moz},inES6:function(){return this.option.moz||this.option.esversion>=6},inES5:function(strict){return strict?!(this.option.esversion&&5!==this.option.esversion||this.option.moz):!this.option.esversion||this.option.esversion>=5||this.option.moz},reset:function(){this.tokens={prev:null,next:null,curr:null},this.option={},this.funct=null,this.ignored={},this.directive={},this.jsonMode=!1,this.jsonWarnings=[],this.lines=[],this.tab=\"\",this.cache={},this.ignoredLines={},this.forinifcheckneeded=!1,this.nameStack=new NameStack,this.inClassBody=!1}};exports.state=state},{\"./name-stack.js\":\"/node_modules/jshint/src/name-stack.js\"}],\"/node_modules/jshint/src/style.js\":[function(_dereq_,module,exports){\"use strict\";exports.register=function(linter){linter.on(\"Identifier\",function(data){linter.getOption(\"proto\")||\"__proto__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name,\"6\"]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"iterator\")||\"__iterator__\"===data.name&&linter.warn(\"W103\",{line:data.line,\"char\":data.char,data:[data.name]})}),linter.on(\"Identifier\",function(data){linter.getOption(\"camelcase\")&&data.name.replace(/^_+|_+$/g,\"\").indexOf(\"_\")>-1&&!data.name.match(/^[A-Z0-9_]*$/)&&linter.warn(\"W106\",{line:data.line,\"char\":data.from,data:[data.name]})}),linter.on(\"String\",function(data){var code,quotmark=linter.getOption(\"quotmark\");quotmark&&(\"single\"===quotmark&&\"'\"!==data.quote&&(code=\"W109\"),\"double\"===quotmark&&'\"'!==data.quote&&(code=\"W108\"),quotmark===!0&&(linter.getCache(\"quotmark\")||linter.setCache(\"quotmark\",data.quote),linter.getCache(\"quotmark\")!==data.quote&&(code=\"W110\")),code&&linter.warn(code,{line:data.line,\"char\":data.char}))}),linter.on(\"Number\",function(data){\".\"===data.value.charAt(0)&&linter.warn(\"W008\",{line:data.line,\"char\":data.char,data:[data.value]}),\".\"===data.value.substr(data.value.length-1)&&linter.warn(\"W047\",{line:data.line,\"char\":data.char,data:[data.value]}),/^00+/.test(data.value)&&linter.warn(\"W046\",{line:data.line,\"char\":data.char,data:[data.value]})}),linter.on(\"String\",function(data){var re=/^(?:javascript|jscript|ecmascript|vbscript|livescript)\\s*:/i;linter.getOption(\"scripturl\")||re.test(data.value)&&linter.warn(\"W107\",{line:data.line,\"char\":data.char})})}},{}],\"/node_modules/jshint/src/vars.js\":[function(_dereq_,module,exports){\"use strict\";exports.reservedVars={arguments:!1,NaN:!1},exports.ecmaIdentifiers={3:{Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},5:{JSON:!1},6:{Map:!1,Promise:!1,Proxy:!1,Reflect:!1,Set:!1,Symbol:!1,WeakMap:!1,WeakSet:!1}},exports.browser={Audio:!1,Blob:!1,addEventListener:!1,applicationCache:!1,atob:!1,blur:!1,btoa:!1,cancelAnimationFrame:!1,CanvasGradient:!1,CanvasPattern:!1,CanvasRenderingContext2D:!1,CSS:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,Comment:!1,CustomEvent:!1,DOMParser:!1,defaultStatus:!1,Document:!1,document:!1,DocumentFragment:!1,Element:!1,ElementTimeControl:!1,Event:!1,event:!1,fetch:!1,FileReader:!1,FormData:!1,focus:!1,frames:!1,getComputedStyle:!1,HTMLElement:!1,HTMLAnchorElement:!1,HTMLBaseElement:!1,HTMLBlockquoteElement:!1,HTMLBodyElement:!1,HTMLBRElement:!1,HTMLButtonElement:!1,HTMLCanvasElement:!1,HTMLCollection:!1,HTMLDirectoryElement:!1,HTMLDivElement:!1,HTMLDListElement:!1,HTMLFieldSetElement:!1,HTMLFontElement:!1,HTMLFormElement:!1,HTMLFrameElement:!1,HTMLFrameSetElement:!1,HTMLHeadElement:!1,HTMLHeadingElement:!1,HTMLHRElement:!1,HTMLHtmlElement:!1,HTMLIFrameElement:!1,HTMLImageElement:!1,HTMLInputElement:!1,HTMLIsIndexElement:!1,HTMLLabelElement:!1,HTMLLayerElement:!1,HTMLLegendElement:!1,HTMLLIElement:!1,HTMLLinkElement:!1,HTMLMapElement:!1,HTMLMenuElement:!1,HTMLMetaElement:!1,HTMLModElement:!1,HTMLObjectElement:!1,HTMLOListElement:!1,HTMLOptGroupElement:!1,HTMLOptionElement:!1,HTMLParagraphElement:!1,HTMLParamElement:!1,HTMLPreElement:!1,HTMLQuoteElement:!1,HTMLScriptElement:!1,HTMLSelectElement:!1,HTMLStyleElement:!1,HTMLTableCaptionElement:!1,HTMLTableCellElement:!1,HTMLTableColElement:!1,HTMLTableElement:!1,HTMLTableRowElement:!1,HTMLTableSectionElement:!1,HTMLTemplateElement:!1,HTMLTextAreaElement:!1,HTMLTitleElement:!1,HTMLUListElement:!1,HTMLVideoElement:!1,history:!1,Image:!1,Intl:!1,length:!1,localStorage:!1,location:!1,matchMedia:!1,MessageChannel:!1,MessageEvent:!1,MessagePort:!1,MouseEvent:!1,moveBy:!1,moveTo:!1,MutationObserver:!1,name:!1,Node:!1,NodeFilter:!1,NodeList:!1,Notification:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,performance:!1,print:!1,Range:!1,requestAnimationFrame:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,sessionStorage:!1,setInterval:!1,setTimeout:!1,SharedWorker:!1,status:!1,SVGAElement:!1,SVGAltGlyphDefElement:!1,SVGAltGlyphElement:!1,SVGAltGlyphItemElement:!1,SVGAngle:!1,SVGAnimateColorElement:!1,SVGAnimateElement:!1,SVGAnimateMotionElement:!1,SVGAnimateTransformElement:!1,SVGAnimatedAngle:!1,SVGAnimatedBoolean:!1,SVGAnimatedEnumeration:!1,SVGAnimatedInteger:!1,SVGAnimatedLength:!1,SVGAnimatedLengthList:!1,SVGAnimatedNumber:!1,SVGAnimatedNumberList:!1,SVGAnimatedPathData:!1,SVGAnimatedPoints:!1,SVGAnimatedPreserveAspectRatio:!1,SVGAnimatedRect:!1,SVGAnimatedString:!1,SVGAnimatedTransformList:!1,SVGAnimationElement:!1,SVGCSSRule:!1,SVGCircleElement:!1,SVGClipPathElement:!1,SVGColor:!1,SVGColorProfileElement:!1,SVGColorProfileRule:!1,SVGComponentTransferFunctionElement:!1,SVGCursorElement:!1,SVGDefsElement:!1,SVGDescElement:!1,SVGDocument:!1,SVGElement:!1,SVGElementInstance:!1,SVGElementInstanceList:!1,SVGEllipseElement:!1,SVGExternalResourcesRequired:!1,SVGFEBlendElement:!1,SVGFEColorMatrixElement:!1,SVGFEComponentTransferElement:!1,SVGFECompositeElement:!1,SVGFEConvolveMatrixElement:!1,SVGFEDiffuseLightingElement:!1,SVGFEDisplacementMapElement:!1,SVGFEDistantLightElement:!1,SVGFEFloodElement:!1,SVGFEFuncAElement:!1,SVGFEFuncBElement:!1,SVGFEFuncGElement:!1,SVGFEFuncRElement:!1,SVGFEGaussianBlurElement:!1,SVGFEImageElement:!1,SVGFEMergeElement:!1,SVGFEMergeNodeElement:!1,SVGFEMorphologyElement:!1,SVGFEOffsetElement:!1,SVGFEPointLightElement:!1,SVGFESpecularLightingElement:!1,SVGFESpotLightElement:!1,SVGFETileElement:!1,SVGFETurbulenceElement:!1,SVGFilterElement:!1,SVGFilterPrimitiveStandardAttributes:!1,SVGFitToViewBox:!1,SVGFontElement:!1,SVGFontFaceElement:!1,SVGFontFaceFormatElement:!1,SVGFontFaceNameElement:!1,SVGFontFaceSrcElement:!1,SVGFontFaceUriElement:!1,SVGForeignObjectElement:!1,SVGGElement:!1,SVGGlyphElement:!1,SVGGlyphRefElement:!1,SVGGradientElement:!1,SVGHKernElement:!1,SVGICCColor:!1,SVGImageElement:!1,SVGLangSpace:!1,SVGLength:!1,SVGLengthList:!1,SVGLineElement:!1,SVGLinearGradientElement:!1,SVGLocatable:!1,SVGMPathElement:!1,SVGMarkerElement:!1,SVGMaskElement:!1,SVGMatrix:!1,SVGMetadataElement:!1,SVGMissingGlyphElement:!1,SVGNumber:!1,SVGNumberList:!1,SVGPaint:!1,SVGPathElement:!1,SVGPathSeg:!1,SVGPathSegArcAbs:!1,SVGPathSegArcRel:!1,SVGPathSegClosePath:!1,SVGPathSegCurvetoCubicAbs:!1,SVGPathSegCurvetoCubicRel:!1,SVGPathSegCurvetoCubicSmoothAbs:!1,SVGPathSegCurvetoCubicSmoothRel:!1,SVGPathSegCurvetoQuadraticAbs:!1,SVGPathSegCurvetoQuadraticRel:!1,SVGPathSegCurvetoQuadraticSmoothAbs:!1,SVGPathSegCurvetoQuadraticSmoothRel:!1,SVGPathSegLinetoAbs:!1,SVGPathSegLinetoHorizontalAbs:!1,SVGPathSegLinetoHorizontalRel:!1,SVGPathSegLinetoRel:!1,SVGPathSegLinetoVerticalAbs:!1,SVGPathSegLinetoVerticalRel:!1,SVGPathSegList:!1,SVGPathSegMovetoAbs:!1,SVGPathSegMovetoRel:!1,SVGPatternElement:!1,SVGPoint:!1,SVGPointList:!1,SVGPolygonElement:!1,SVGPolylineElement:!1,SVGPreserveAspectRatio:!1,SVGRadialGradientElement:!1,SVGRect:!1,SVGRectElement:!1,SVGRenderingIntent:!1,SVGSVGElement:!1,SVGScriptElement:!1,SVGSetElement:!1,SVGStopElement:!1,SVGStringList:!1,SVGStylable:!1,SVGStyleElement:!1,SVGSwitchElement:!1,SVGSymbolElement:!1,SVGTRefElement:!1,SVGTSpanElement:!1,SVGTests:!1,SVGTextContentElement:!1,SVGTextElement:!1,SVGTextPathElement:!1,SVGTextPositioningElement:!1,SVGTitleElement:!1,SVGTransform:!1,SVGTransformList:!1,SVGTransformable:!1,SVGURIReference:!1,SVGUnitTypes:!1,SVGUseElement:!1,SVGVKernElement:!1,SVGViewElement:!1,SVGViewSpec:!1,SVGZoomAndPan:!1,Text:!1,TextDecoder:!1,TextEncoder:!1,TimeEvent:!1,top:!1,URL:!1,WebGLActiveInfo:!1,WebGLBuffer:!1,WebGLContextEvent:!1,WebGLFramebuffer:!1,WebGLProgram:!1,WebGLRenderbuffer:!1,WebGLRenderingContext:!1,WebGLShader:!1,WebGLShaderPrecisionFormat:!1,WebGLTexture:!1,WebGLUniformLocation:!1,WebSocket:!1,window:!1,Window:!1,Worker:!1,XDomainRequest:!1,XMLHttpRequest:!1,XMLSerializer:!1,XPathEvaluator:!1,XPathException:!1,XPathExpression:!1,XPathNamespace:!1,XPathNSResolver:!1,XPathResult:!1},exports.devel={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},exports.worker={importScripts:!0,postMessage:!0,self:!0,FileReaderSync:!0},exports.nonstandard={escape:!1,unescape:!1},exports.couch={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1,provides:!1},exports.node={__filename:!1,__dirname:!1,GLOBAL:!1,global:!1,module:!1,acequire:!1,Buffer:!0,console:!0,exports:!0,process:!0,setTimeout:!0,clearTimeout:!0,setInterval:!0,clearInterval:!0,setImmediate:!0,clearImmediate:!0},exports.browserify={__filename:!1,__dirname:!1,global:!1,module:!1,acequire:!1,Buffer:!0,exports:!0,process:!0},exports.phantom={phantom:!0,acequire:!0,WebPage:!0,console:!0,exports:!0},exports.qunit={asyncTest:!1,deepEqual:!1,equal:!1,expect:!1,module:!1,notDeepEqual:!1,notEqual:!1,notPropEqual:!1,notStrictEqual:!1,ok:!1,propEqual:!1,QUnit:!1,raises:!1,start:!1,stop:!1,strictEqual:!1,test:!1,\"throws\":!1},exports.rhino={defineClass:!1,deserialize:!1,gc:!1,help:!1,importClass:!1,importPackage:!1,java:!1,load:!1,loadClass:!1,Packages:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},exports.shelljs={target:!1,echo:!1,exit:!1,cd:!1,pwd:!1,ls:!1,find:!1,cp:!1,rm:!1,mv:!1,mkdir:!1,test:!1,cat:!1,sed:!1,grep:!1,which:!1,dirs:!1,pushd:!1,popd:!1,env:!1,exec:!1,chmod:!1,config:!1,error:!1,tempdir:!1},exports.typed={ArrayBuffer:!1,ArrayBufferView:!1,DataView:!1,Float32Array:!1,Float64Array:!1,Int16Array:!1,Int32Array:!1,Int8Array:!1,Uint16Array:!1,Uint32Array:!1,Uint8Array:!1,Uint8ClampedArray:!1},exports.wsh={ActiveXObject:!0,Enumerator:!0,GetObject:!0,ScriptEngine:!0,ScriptEngineBuildVersion:!0,ScriptEngineMajorVersion:!0,ScriptEngineMinorVersion:!0,VBArray:!0,WSH:!0,WScript:!0,XDomainRequest:!0},exports.dojo={dojo:!1,dijit:!1,dojox:!1,define:!1,require:!1},exports.jquery={$:!1,jQuery:!1},exports.mootools={$:!1,$$:!1,Asset:!1,Browser:!1,Chain:!1,Class:!1,Color:!1,Cookie:!1,Core:!1,Document:!1,DomReady:!1,DOMEvent:!1,DOMReady:!1,Drag:!1,Element:!1,Elements:!1,Event:!1,Events:!1,Fx:!1,Group:!1,Hash:!1,HtmlTable:!1,IFrame:!1,IframeShim:!1,InputValidator:!1,instanceOf:!1,Keyboard:!1,Locale:!1,Mask:!1,MooTools:!1,Native:!1,Options:!1,OverText:!1,Request:!1,Scroller:!1,Slick:!1,Slider:!1,Sortables:!1,Spinner:!1,Swiff:!1,Tips:!1,Type:!1,typeOf:!1,URI:!1,Window:!1},exports.prototypejs={$:!1,$$:!1,$A:!1,$F:!1,$H:!1,$R:!1,$break:!1,$continue:!1,$w:!1,Abstract:!1,Ajax:!1,Class:!1,Enumerable:!1,Element:!1,Event:!1,Field:!1,Form:!1,Hash:!1,Insertion:!1,ObjectRange:!1,PeriodicalExecuter:!1,Position:!1,Prototype:!1,Selector:!1,Template:!1,Toggle:!1,Try:!1,Autocompleter:!1,Builder:!1,Control:!1,Draggable:!1,Draggables:!1,Droppables:!1,Effect:!1,Sortable:!1,SortableObserver:!1,Sound:!1,Scriptaculous:!1},exports.yui={YUI:!1,Y:!1,YUI_config:!1},exports.mocha={mocha:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,context:!1,xcontext:!1,before:!1,after:!1,beforeEach:!1,afterEach:!1,suite:!1,test:!1,setup:!1,teardown:!1,suiteSetup:!1,suiteTeardown:!1},exports.jasmine={jasmine:!1,describe:!1,xdescribe:!1,it:!1,xit:!1,beforeEach:!1,afterEach:!1,setFixtures:!1,loadFixtures:!1,spyOn:!1,expect:!1,runs:!1,waitsFor:!1,waits:!1,beforeAll:!1,afterAll:!1,fail:!1,fdescribe:!1,fit:!1,pending:!1}},{}]},{},[\"/node_modules/jshint/src/jshint.js\"])}),ace.define(\"ace/mode/javascript_worker\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/worker/mirror\",\"ace/mode/javascript/jshint\"],function(acequire,exports,module){\"use strict\";function startRegex(arr){return RegExp(\"^(\"+arr.join(\"|\")+\")\")}var oop=acequire(\"../lib/oop\"),Mirror=acequire(\"../worker/mirror\").Mirror,lint=acequire(\"./javascript/jshint\").JSHINT,disabledWarningsRe=startRegex([\"Bad for in variable '(.+)'.\",'Missing \"use strict\"']),errorsRe=startRegex([\"Unexpected\",\"Expected \",\"Confusing (plus|minus)\",\"\\\\{a\\\\} unterminated regular expression\",\"Unclosed \",\"Unmatched \",\"Unbegun comment\",\"Bad invocation\",\"Missing space after\",\"Missing operator at\"]),infoRe=startRegex([\"Expected an assignment\",\"Bad escapement of EOL\",\"Unexpected comma\",\"Unexpected space\",\"Missing radix parameter.\",\"A leading decimal point can\",\"\\\\['{a}'\\\\] is better written in dot notation.\",\"'{a}' used out of scope\"]),JavaScriptWorker=exports.JavaScriptWorker=function(sender){Mirror.call(this,sender),this.setTimeout(500),this.setOptions()};oop.inherits(JavaScriptWorker,Mirror),function(){this.setOptions=function(options){this.options=options||{esnext:!0,moz:!0,devel:!0,browser:!0,node:!0,laxcomma:!0,laxbreak:!0,lastsemic:!0,onevar:!1,passfail:!1,maxerr:100,expr:!0,multistr:!0,globalstrict:!0},this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.changeOptions=function(newOptions){oop.mixin(this.options,newOptions),this.doc.getValue()&&this.deferredUpdate.schedule(100)},this.isValidJS=function(str){try{eval(\"throw 0;\"+str)}catch(e){if(0===e)return!0}return!1},this.onUpdate=function(){var value=this.doc.getValue();if(value=value.replace(/^#!.*\\n/,\"\\n\"),!value)return this.sender.emit(\"annotate\",[]);var errors=[],maxErrorLevel=this.isValidJS(value)?\"warning\":\"error\";lint(value,this.options,this.options.globals);for(var results=lint.errors,errorAdded=!1,i=0;results.length>i;i++){var error=results[i];if(error){var raw=error.raw,type=\"warning\";if(\"Missing semicolon.\"==raw){var str=error.evidence.substr(error.character);str=str.charAt(str.search(/\\S/)),\"error\"==maxErrorLevel&&str&&/[\\w\\d{(['\"]/.test(str)?(error.reason='Missing \";\" before statement',type=\"error\"):type=\"info\"}else{if(disabledWarningsRe.test(raw))continue;infoRe.test(raw)?type=\"info\":errorsRe.test(raw)?(errorAdded=!0,type=maxErrorLevel):\"'{a}' is not defined.\"==raw?type=\"warning\":\"'{a}' is defined but never used.\"==raw&&(type=\"info\")}errors.push({row:error.line-1,column:error.character-1,text:error.reason,type:type,raw:raw})}}this.sender.emit(\"annotate\",errors)}}.call(JavaScriptWorker.prototype)}),ace.define(\"ace/lib/es5-shim\",[\"require\",\"exports\",\"module\"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,\"sentinel\",{}),\"sentinel\"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(\"function\"!=typeof target)throw new TypeError(\"Function.prototype.bind called on incompatible \"+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,\"__defineGetter__\"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,\"XXX\"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return\"[object Array]\"==_toString(obj)});var boxedString=Object(\"a\"),splitString=\"a\"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,thisp=arguments[1],i=-1,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,result=[],thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0,thisp=arguments[1];if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduce of empty array with no initial value\");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError(\"reduce of empty array with no initial value\")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):object,length=self.length>>>0;if(\"[object Function]\"!=_toString(fun))throw new TypeError(fun+\" is not a function\");if(!length&&1==arguments.length)throw new TypeError(\"reduceRight of empty array with no initial value\");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError(\"reduceRight of empty array with no initial value\")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&\"[object String]\"==_toString(this)?this.split(\"\"):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT=\"Object.getOwnPropertyDescriptor called on a non-object: \";Object.getOwnPropertyDescriptor=function(object,property){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if(\"object\"!=typeof prototype)throw new TypeError(\"typeof prototype[\"+typeof prototype+\"] != 'object'\");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=\"undefined\"==typeof document||doesDefinePropertyWork(document.createElement(\"div\"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR=\"Property description must be an object: \",ERR_NON_OBJECT_TARGET=\"Object.defineProperty called on non-object: \",ERR_ACCESSORS_NOT_SUPPORTED=\"getters & setters can not be defined on this javascript engine\";Object.defineProperty=function(object,property,descriptor){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(\"object\"!=typeof descriptor&&\"function\"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,\"value\"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,\"get\")&&defineGetter(object,property,descriptor.get),owns(descriptor,\"set\")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return\"function\"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name=\"\";owns(object,name);)name+=\"?\";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=[\"toString\",\"toLocaleString\",\"valueOf\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"constructor\"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if(\"object\"!=typeof object&&\"function\"!=typeof object||null===object)throw new TypeError(\"Object.keys called on a non-object\");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws=\"\t\\n\u000b\\f\\r   ᠎             　\\u2028\\u2029﻿\";if(!String.prototype.trim||ws.trim()){ws=\"[\"+ws+\"]\";var trimBeginRegexp=RegExp(\"^\"+ws+ws+\"*\"),trimEndRegexp=RegExp(ws+ws+\"*$\");String.prototype.trim=function(){return(this+\"\").replace(trimBeginRegexp,\"\").replace(trimEndRegexp,\"\")}}var toObject=function(o){if(null==o)throw new TypeError(\"can't convert \"+o+\" to object\");return Object(o)}});";

/***/ }),

/***/ "6db1":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("211d");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("27c4688c", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "6f9b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.replace.js
var es6_regexp_replace = __webpack_require__("a481");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/keys.js
var object_keys = __webpack_require__("a4bb");
var keys_default = /*#__PURE__*/__webpack_require__.n(object_keys);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find.js
var es6_array_find = __webpack_require__("7514");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js
var iterator = __webpack_require__("5d58");
var iterator_default = /*#__PURE__*/__webpack_require__.n(iterator);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/symbol.js
var symbol = __webpack_require__("67bb");
var symbol_default = /*#__PURE__*/__webpack_require__.n(symbol);

// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js



function typeof_typeof2(obj) { if (typeof symbol_default.a === "function" && typeof iterator_default.a === "symbol") { typeof_typeof2 = function _typeof2(obj) { return typeof obj; }; } else { typeof_typeof2 = function _typeof2(obj) { return obj && typeof symbol_default.a === "function" && obj.constructor === symbol_default.a && obj !== symbol_default.a.prototype ? "symbol" : typeof obj; }; } return typeof_typeof2(obj); }

function typeof_typeof(obj) {
  if (typeof symbol_default.a === "function" && typeof_typeof2(iterator_default.a) === "symbol") {
    typeof_typeof = function _typeof(obj) {
      return typeof_typeof2(obj);
    };
  } else {
    typeof_typeof = function _typeof(obj) {
      return obj && typeof symbol_default.a === "function" && obj.constructor === symbol_default.a && obj !== symbol_default.a.prototype ? "symbol" : typeof_typeof2(obj);
    };
  }

  return typeof_typeof(obj);
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.function.name.js
var es6_function_name = __webpack_require__("7f7f");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find-index.js
var es6_array_find_index = __webpack_require__("20d6");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js
var stringify = __webpack_require__("f499");
var stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.sort.js
var es6_array_sort = __webpack_require__("55dd");

// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js
var web_dom_iterable = __webpack_require__("ac6a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.iterator.js
var es6_array_iterator = __webpack_require__("cadf");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.string.iterator.js
var es6_string_iterator = __webpack_require__("5df3");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/promise.js
var promise = __webpack_require__("795b");
var promise_default = /*#__PURE__*/__webpack_require__.n(promise);

// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js
var runtime = __webpack_require__("96cf");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("3b8d");

// EXTERNAL MODULE: ./node_modules/vue/dist/vue.common.js
var vue_common = __webpack_require__("5ee5");
var vue_common_default = /*#__PURE__*/__webpack_require__.n(vue_common);

// CONCATENATED MODULE: ./src/enos/Compos/APIs/builder.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromDocToDiv", function() { return fromDocToDiv; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "fromDocToHTMLProd", function() { return fromDocToHTMLProd; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeHTMLLink", function() { return makeHTMLLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "makeHTMLBase64", function() { return makeHTMLBase64; });














 // import Babel from '@babel/standalone'
// // import axios from 'axios'
// export function transform (src) {
//   return new Promise((resolve, reject) => {
//     try {
//       let code = Babel.transform(src, {
//         presets: ['es2015', 'stage-3', 'minify']
//       }).code
//       resolve(code)
//     } catch (ex) {
//       console.log(ex)
//       reject(new Error(ex))
//     }
//   })
// }

/* eslint-disable */

var loadNewCache =
/*#__PURE__*/
function () {
  var _ref = Object(asyncToGenerator["a" /* default */])(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee() {
    return regeneratorRuntime.wrap(function _callee$(_context) {
      while (1) {
        switch (_context.prev = _context.next) {
          case 0:
            _context.next = 2;
            return {
              'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js': __webpack_require__("5e76") // 'https://threejs.org/build/three.min.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/three.min.js'),
              // 'https://threejs.org/examples/js/controls/OrbitControls.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/controls/OrbitControls.js'),
              // 'https://threejs.org/examples/js/postprocessing/EffectComposer.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/postprocessing/EffectComposer.js'),
              // 'https://threejs.org/examples/js/postprocessing/RenderPass.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/postprocessing/RenderPass.js'),
              // 'https://threejs.org/examples/js/postprocessing/ShaderPass.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/postprocessing/ShaderPass.js'),
              // 'https://threejs.org/examples/js/shaders/CopyShader.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/shaders/CopyShader.js'),
              // 'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/shaders/LuminosityHighPassShader.js'),
              // 'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js': await import('raw-loader!../../../../public/js/lib/ThreeJS/examples/js/postprocessing/UnrealBloomPass.js')

              /* eslint-enable */

            };

          case 2:
            return _context.abrupt("return", _context.sent);

          case 3:
          case "end":
            return _context.stop();
        }
      }
    }, _callee, this);
  }));

  return function loadNewCache() {
    return _ref.apply(this, arguments);
  };
}();

var jsCahce = {};
loadNewCache().then(function (newCahce) {
  jsCahce = newCahce;
});

function prepExec() {
  // var getID = (prefix = '') => {
  //   return '_exec_' + prefix + '_' + (1024 * 1024 * 1024 * Math.random()).toFixed(0)
  // }
  function getScript(source) {
    return new promise_default.a(function (resolve, reject) {
      window.EFFECT_NODE_HAS_URL = window.EFFECT_NODE_HAS_URL || [];

      if (window.EFFECT_NODE_HAS_URL.indexOf(source) !== -1) {
        return resolve();
      }

      var script = document.createElement('script');
      var prior = document.getElementsByTagName('script')[0];

      script.onload = function () {
        resolve();
      };

      script.src = source;
      prior.parentNode.insertBefore(script, prior);
    });
  }

  function loadAllJS(allJS) {
    allJS = allJS || ['https://cdnjs.cloudflare.com/ajax/libs/rasterizehtml/1.3.0/rasterizeHTML.allinone.js', 'https://threejs.org/build/three.min.js', 'https://threejs.org/examples/js/controls/OrbitControls.js', 'https://threejs.org/examples/js/postprocessing/EffectComposer.js', 'https://threejs.org/examples/js/postprocessing/RenderPass.js', 'https://threejs.org/examples/js/postprocessing/ShaderPass.js', 'https://threejs.org/examples/js/shaders/CopyShader.js', 'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js', 'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'];

    function loopLoad() {
      var js = allJS.shift();
      return getScript(js).then(function () {
        if (allJS.length > 0) {
          return loopLoad();
        } else {
          return promise_default.a.resolve();
        }
      });
    }

    return loopLoad();
  }

  var ExecEnv = {
    init: function init(uiAPI) {
      return new promise_default.a(function (resolve) {
        var Sys = ExecEnv.makeLgocialStructure(uiAPI);
        uiAPI.execEnv = {
          ExecEnv: ExecEnv,
          Sys: Sys
        };
        resolve(uiAPI);
      });
    },
    makeLgocialStructure: function makeLgocialStructure(uiAPI) {
      var Signal = new vue_common_default.a({});

      var MakeResources = function MakeResources() {
        var api = {
          kvStore: {},
          notifiers: []
        };

        api.set = function (key, value) {
          api.kvStore[key] = value;
        };

        api.get = function (key) {
          return api.kvStore[key];
        };

        var js = api.js = {};

        js.need = function (key, jsArr) {
          loadAllJS(jsArr).then(function () {
            api.set(key, true);
          });
        };

        js.ensure = api.ensure = function (keys) {
          console.log(keys);
          return promise_default.a.all(keys.map(function (key) {
            return new promise_default.a(function (resolve) {
              if (api.get(key)) {
                resolve(api.get(key));
              } else {
                var interval = setInterval(function () {
                  if (api.get(key)) {
                    console.log('ensure, got', key);
                    clearTimeout(interval);
                    resolve(api.get(key));
                  }
                }, 1000 / 20);
              }
            });
          }));
        };

        return api;
      };

      var Resources = MakeResources();
      var modRunner = {
        props: {
          sockets: {},
          mod: {}
        },
        data: function data() {
          var _this = this;

          return {
            inputs: this.sockets.filter(function (s) {
              return s.type === 'input' && s.modID === _this.mod.id;
            }).slice().sort(function (a, b) {
              return a.idx - b.idx;
            }),
            outputs: this.sockets.filter(function (s) {
              return s.type === 'output' && s.modID === _this.mod.id;
            }).slice().sort(function (a, b) {
              return a.idx - b.idx;
            }),
            cleanHandler: function cleanHandler() {},
            Signal: Signal,
            onInputArrive: {},
            function: {},
            instance: {}
          };
        },
        template: "<span>{{ mod.src }}</span>",
        mounted: function () {
          var _mounted = Object(asyncToGenerator["a" /* default */])(
          /*#__PURE__*/
          regeneratorRuntime.mark(function _callee2() {
            return regeneratorRuntime.wrap(function _callee2$(_context2) {
              while (1) {
                switch (_context2.prev = _context2.next) {
                  case 0:
                    _context2.prev = 0;
                    _context2.next = 3;
                    return this.instantiate();

                  case 3:
                    this.$emit('made', this.instance);
                    _context2.next = 9;
                    break;

                  case 6:
                    _context2.prev = 6;
                    _context2.t0 = _context2["catch"](0);
                    console.log(_context2.t0);

                  case 9:
                  case "end":
                    return _context2.stop();
                }
              }
            }, _callee2, this, [[0, 6]]);
          }));

          function mounted() {
            return _mounted.apply(this, arguments);
          }

          return mounted;
        }(),
        watch: {
          code: function code() {
            var _this2 = this;

            clearTimeout(this.codeTimeout);
            this.codeTimeout = setTimeout(function () {
              _this2.instantiate();
            }, 500);
          },
          sockets: {
            deep: true,
            handler: function handler() {
              var _this3 = this;

              clearTimeout(this.sTimeout);
              this.sTimeout = setTimeout(function () {
                _this3.instantiate();
              }, 500);
            }
          }
        },
        beforeDestroy: function beforeDestroy() {
          // this.sockets.forEach(i => {
          //   i.mod.to = false
          //   i.socket.to = false
          // })
          this.cleanInstance();
          this.$emit('clean', this.instance);
        },
        computed: {
          code: function code() {
            return this.mod.src;
          },
          metaJSON: function metaJSON() {
            return stringify_default()(this.mod.meta);
          }
        },
        methods: {
          cleanInstance: function cleanInstance() {
            var _this4 = this;

            if (this.instance) {
              this.sockets.filter(function (s) {
                return s.type === 'input' && s.modID === _this4.mod.id;
              }).forEach(function (input) {
                Signal.$off(input.id);
              });
              this.sockets.filter(function (s) {
                return s.type === 'output' && s.modID === _this4.mod.id;
              }).forEach(function (output) {
                Signal.$off(output.id);
              });
              this.$emit('refresh-sockets');

              try {
                this.instance.onClean && this.instance.onClean();
              } catch (e) {
                console.log(e);
              }
            }
          },
          readyInstance: function readyInstance() {
            if (this.instance) {
              try {
                this.instance.onReady && this.instance.onReady();
              } catch (e) {
                console.log(e);
              }
            }
          },
          Input: function Input(mixed, onArrive) {
            var _this5 = this;

            var once = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};

            if (typeof mixed === 'number') {
              this.$on('input' + mixed, function (v) {
                onArrive(v);

                _this5.$emit('input-once' + mixed, v);
              });
              this.$once('input-once' + mixed, once);
            } else if (typeof mixed === 'string') {
              mixed = this.inputs.findIndex(function (so) {
                return so.name === mixed;
              });
              this.$on('input' + mixed, function (v) {
                onArrive(v);

                _this5.$emit('input-once' + mixed, v);
              });
              this.$once('input-once' + mixed, once);
            } else if (typeof_typeof(mixed) === 'object' && mixed instanceof Array) {
              mixed.forEach(function (ee) {
                if (typeof ee === 'string') {
                  ee = _this5.inputs.findIndex(function (so) {
                    return so.name === ee;
                  });
                }

                _this5.$on('input' + ee, function (v) {
                  onArrive(v);

                  _this5.$emit('input-once' + ee, v);
                });

                _this5.$once('input-once' + ee, once);
              });
            }
          },
          Output: function Output(mixed, valueToBeSent) {
            var _this6 = this;

            if (typeof mixed === 'number') {
              this.$emit('output' + mixed, valueToBeSent);
            } else if (typeof mixed === 'string') {
              mixed = this.outputs.findIndex(function (so) {
                return so.name === mixed;
              });
              this.$emit('output' + mixed, valueToBeSent);
            } else if (typeof_typeof(mixed) === 'object' && mixed instanceof Array) {
              mixed.forEach(function (ee) {
                if (typeof ee === 'string') {
                  ee = _this6.outputs.findIndex(function (so) {
                    return so.name === ee;
                  });
                }

                _this6.$emit('output' + ee, valueToBeSent);
              });
            }
          },
          OutputAll: function OutputAll(valueToBeSent) {
            var _this7 = this;

            this.sockets.filter(function (s) {
              return s.type === 'output' && s.modID === _this7.mod.id;
            }).slice().sort(function (a, b) {
              return a.idx - b.idx;
            }).forEach(function (e, ei) {
              _this7.$emit('output' + ei, valueToBeSent);
            });
          },
          instantiate: function instantiate() {
            var _this8 = this;

            return new promise_default.a(function (resolve, reject) {
              setTimeout(function () {
                /* eslint-disable */
                try {
                  _this8.cleanInstance();

                  _this8.function = new Function('env', _this8.mod.src);
                  _this8.instance = new _this8.function({
                    loadAllJS: loadAllJS,
                    Resources: Resources,
                    Signal: Signal,
                    getMeta: function getMeta(key) {
                      return (_this8.mod.meta.find(function (e) {
                        return e.label === key;
                      }) || {
                        value: {
                          var: 0
                        }
                      }).value;
                    },
                    box: _this8.mod,
                    sockets: _this8.sockets,
                    IO: _this8,
                    Input: _this8.Input,
                    Output: _this8.Output,
                    OutputAll: _this8.OutputAll,
                    inputs: _this8.inputs.map(function (e, ei) {
                      Signal.$on(e.id, function (v) {
                        _this8.$emit('input' + ei, v);
                      });
                      return e;
                    }),
                    outputs: _this8.outputs.map(function (e, ei) {
                      _this8.$on('output' + ei, function (v) {
                        Signal.$emit(e.id, v);
                      });

                      return e;
                    })
                  }); // console.log('INSTANCE', this.instance)

                  _this8.readyInstance();

                  resolve();
                } catch (e) {
                  console.log('======compiling======');
                  console.trace(e);
                  console.error(_this8.mod.src);
                  reject(e);
                }
                /* eslint-enable */

              });
            });
          }
        }
      };
      modRunner = vue_common_default.a.component('modrunner', modRunner);
      return new vue_common_default.a({
        components: {
          'modrunner': modRunner
        },
        template: "\n          <div ref=\"systemDOM\" style=\"width: 100%; height: 100%; position: relative;\">\n            <div v-if=\"ready\" style=\"display: none; width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;\" >\n              <pre>{{ modules }}</pre>\n              <span style=\"display: none;\">{{ Doc }}</span>\n              <modrunner v-if=\"canRunSystem\" :signal=\"Signal\" @refresh-sockets=\"refreshSockets\" :key=\"mod._id + mod.id\" :sockets=\"sockets\" :mod=\"mod\" v-for=\"mod in modules\"></modrunner>\n            </div>\n            <div class=\"rootDOM\" style=\"width: 100%; height: 100%; position: absolute; top: 0px; left: 0px;\" ref=\"rootDOM\"></div>\n          </div>\n        ",
        el: document.createElement('div'),
        mounted: function mounted() {
          Resources.set('rootDOM', this.$refs.rootDOM);
          this.refreshSockets();
          this.ready = true;
          this.$forceUpdate();
        },
        data: function data() {
          return {
            Doc: false,
            canRunSystem: true,
            ready: false,
            Signal: Signal,
            h: {}
          };
        },
        watch: {
          modules: {
            deep: true,
            handler: function handler() {
              this.refreshSockets();
            }
          }
        },
        methods: {
          reset: function reset() {
            var _this9 = this;

            Resources = MakeResources();
            Resources.set('rootDOM', this.$refs.rootDOM);
            this.refreshSockets();
            this.canRunSystem = false;
            setTimeout(function () {
              _this9.canRunSystem = true;
            }, 100);
          },
          refreshSockets: function refreshSockets() {
            var _this10 = this;

            this.sockets.filter(function (s) {
              return s.socket.to && s.type === 'output';
            }).forEach(function (soc) {
              if (_this10.h[soc.socket.from]) {
                Signal.$off(soc.socket.from, _this10.h[soc.socket.from]);
              }

              _this10.h[soc.socket.from] = function (v) {
                // console.log(soc.socket.from, soc.socket.to)
                Signal.$emit(soc.socket.to, v);
              };

              Signal.$on(soc.socket.from, _this10.h[soc.socket.from]);
            });
          }
        },
        computed: {
          modules: function modules() {
            return uiAPI.Doc.root.modules;
          },
          sockets: function sockets() {
            return uiAPI.Doc.root.connectors;
          },
          outputSignal: function outputSignal() {
            return uiAPI.Doc.root.connectors.filter(function (c) {
              return c.socket.to && c.socket.from && c.type === 'output';
            });
          }
        }
      });
    }
  };
  window.ExecEnv = ExecEnv;
  return {
    ExecEnv: ExecEnv
  };
}

var fromDocToDiv = function fromDocToDiv(_ref2) {
  var Doc = _ref2.Doc,
      Div = _ref2.Div;

  var _prepExec = prepExec(),
      ExecEnv = _prepExec.ExecEnv;

  var uiAPI = {
    Doc: Doc
  };
  console.log(Doc);
  ExecEnv.init(uiAPI).then(function (uiAPI) {
    Div.appendChild(uiAPI.execEnv.Sys.$el);
  });
};
var fromDocToHTMLProd =
/*#__PURE__*/
function () {
  var _ref4 = Object(asyncToGenerator["a" /* default */])(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee3(_ref3) {
    var Doc, resp, globalCache, execResp, vueResp, htmlResp, r, injectClassName, style, runnerCode;
    return regeneratorRuntime.wrap(function _callee3$(_context3) {
      while (1) {
        switch (_context3.prev = _context3.next) {
          case 0:
            Doc = _ref3.Doc;
            // let resp = await Promise.all([
            //   // axios.get('/public/js/app/ExecEnv.js'),
            //   // axios.get('/public/js/app/vue@2.5.21.min.js'),
            //   // axios.get('/public/js/app/template.html')
            // ])

            /* eslint-disable */
            resp = [];
            resp[0] = __webpack_require__("0361");
            resp[1] = __webpack_require__("535c");
            resp[2] = __webpack_require__("f160");
            /*
            'https://threejs.org/examples/js/controls/OrbitControls.js',
             'https://threejs.org/examples/js/postprocessing/EffectComposer.js',
            'https://threejs.org/examples/js/postprocessing/RenderPass.js',
            'https://threejs.org/examples/js/postprocessing/ShaderPass.js',
            'https://threejs.org/examples/js/shaders/CopyShader.js',
            'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',
            'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'
            */

            /* eslint-enable */

            globalCache = "\n    window.EFFECT_NODE_HAS_URL = ".concat(stringify_default()(keys_default()(jsCahce)), ";\n  ");

            keys_default()(jsCahce).forEach(function (url) {
              globalCache += "\n      ".concat(jsCahce[url], "\n    ");
            });

            Doc = stringify_default()(Doc); // console.log(resp[0])

            execResp = resp[0] + ';';
            vueResp = resp[1];
            htmlResp = resp[2];
            r = (Math.random() * 1024 * 1024 * 1024).toFixed(0);
            injectClassName = "_inject_".concat(r);
            style = "\n    html, body, .".concat(injectClassName, ", .full {\n      width: 100%;\n      height: 100%;\n      margin: 0px;\n      padding: 0px;\n    }\n  ");
            runnerCode = "\n    (function () {\n      let injectClassName = '.".concat(injectClassName, "';\n      let Doc = ").concat(Doc, ";\n      // console.log(window.ExecEnv)\n      let uiAPI = {\n        hive: {\n          Doc\n        }\n      }\n      window.ExecEnv.init(uiAPI).then((uiAPI) => {\n        let dom = document.querySelector(injectClassName)\n        dom.appendChild(uiAPI.execEnv.Sys.$el)\n        window.addEventListener('resize', () => {\n          window.dispatchEvent(new CustomEvent('resize-dev', { detail: { width: window.innerWidth, height: window.innerHeight } }))\n        })\n        window.addEventListener('message', (evt) => {\n          if (evt.data && evt.data.type === 'resize') {\n            window.dispatchEvent(new CustomEvent('resize-dev', { detail: { width: evt.data.width, height: evt.data.height } }))\n          }\n\n          if (evt.data && evt.data.type === 'send-module-meta') {\n            let module = evt.data.module\n            let meta = evt.data.meta\n\n            let oldMod = Doc.root.modules.find(m => m.id === module.id)\n            if (oldMod) {\n              let oldIDX = oldMod.meta.findIndex(m => m.id === meta.id)\n              if (oldMod.meta[oldIDX]) {\n                oldMod.meta[oldIDX] = meta\n              }\n            }\n          }\n        }, false)\n      })\n    }());\n  ");
            htmlResp = htmlResp.replace('<!--=*+BODY_HTML+*=-->', "<div class=\"".concat(injectClassName, "\"></div>"));
            htmlResp = htmlResp.replace('/*STYLE_HEAD*/', style);
            htmlResp = htmlResp.replace('/*VENDORS_HEAD*/', "");
            htmlResp = htmlResp.replace('/*SCRIPT_HEAD*/', "window.global = window;\n".concat(globalCache, "\n").concat(vueResp, "\n").concat(execResp));
            htmlResp = htmlResp.replace('/*SCRIPT_BODY*/', "".concat(runnerCode)); // console.log(execResp, vueResp, htmlResp)

            return _context3.abrupt("return", htmlResp);

          case 21:
          case "end":
            return _context3.stop();
        }
      }
    }, _callee3, this);
  }));

  return function fromDocToHTMLProd(_x) {
    return _ref4.apply(this, arguments);
  };
}();
var makeHTMLLink = function makeHTMLLink(_ref5) {
  var HTML = _ref5.HTML;
  var blob = new Blob([HTML], {
    type: 'text/html'
  });
  var link = URL.createObjectURL(blob);
  return link;
};
var makeHTMLBase64 = function makeHTMLBase64(_ref6) {
  var HTML = _ref6.HTML;
  var dataURL = "data:text/html,utf8,".concat(encodeURIComponent(HTML));
  return dataURL;
};

/***/ }),

/***/ "712d":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"pos":{"x":44,"y":512},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\nResources.ensure(['threejs']).then(() => {\n  Resources.js.need('blooming-effect', [\n    'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n    'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n    'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n    'https://threejs.org/examples/js/shaders/CopyShader.js',\n    'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n    'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n  ]);\n});\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.588},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":2.4},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1.2},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001b45"}],"_id":"5c44d3fe3ebca1001758f782","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50module_673490855101","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":60,"y":254},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', (v) => {\n  IO.Output('onFrame', v)\n})\n\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c44d3fe3ebca1001758f77e","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4module_542035946732","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":209,"y":54},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Whammy WebM Video Encoder","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onRecord', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c44d3fe3ebca1001758f783","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842module_1048101426338","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":312,"y":261},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":11.925000000000006,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}},{"id":"_r705983770","label":"lovely","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c44d3fe3ebca1001758f781","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4module_624493095826","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":209,"y":147},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c44d3fe3ebca1001758f77f","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4module_791055199420","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":33,"y":373},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c44d3fe3ebca1001758f784","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4module_498705463997","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":328,"y":395},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      let idx = i / n\n      \n      headTailValueVec3.push(1.0, 1.0, 1.0, 0.0, 0.0, 0.0);\n      indexValueVec3.push(idx, idx, idx, idx, idx, idx);\n      randomValueVec3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      positionValueVec3.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('headTailV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      attribute vec3 idxV3;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4(position + randV3 * position * progress * 1.5, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(vec3(abs(1.0 - randV3)));\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    // once first signal arrived\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (timeline) => {\n    let speed = 0\n    \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', timeline);\n\t});\n\t\n\tInput('uiControls', (sliders) => {\n  \t//sliders = accessor\n  \t// wahahahahaha\n\t});\n  \n  \n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c44d3fe3ebca1001758f780","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842module_181820277305","__v":0,"created_at":"2019-01-08T11:20:16.926Z","updated_at":"2019-01-08T11:20:16.926Z"},{"pos":{"x":297,"y":496},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"SuperWarm","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 8.0;\n\n  float az = 0.0;\n  float el = 0.0;\n  \n  vec3 v3noise = vec3(\n    cnoise(vec2(lastVel.x * 0.15 * noisiness)),\n    cnoise(vec2(lastVel.y * 0.15 * noisiness)),\n    cnoise(vec2(lastVel.z * 0.15 * noisiness))\n  );\n  \n  vec3 noiser = vec3(lastPos) + v3noise * noisiness * 0.1;\n  toBall(noiser, az, el);\n  \n  lastPos.xyz = fromBall(75.0, az, el);\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nattribute vec3 htV3;\nattribute vec3 randV3;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  vec4 velocityAmount = texture2D( velocityInfo, uv );\n  particleVel = velocityAmount;\n  \n  vec3 newPos = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n  vec3 transformed = newPos + newPos * htV3;\n  \n  // if (htV3.x == 1.0) {\n  //   newPos = newPos - vec3(velocityAmount);\n  // }\n  \n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n  var starLightGeo = (nx = 100, ny = 100) => {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let uvValueVec2 = [];\n    let numLiunes = nx * ny\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var iy = 0; iy < ny; iy++) {\n      for (var ix = 0; ix < nx; ix++) {\n        let i = ix + iy * ny;\n        \n        let xx = ix / nx;\n        let yy = iy / ny;\n        \n        let x1 = 0;\n        let y1 = 0;\n        let z1 = 0;\n        \n        let x2 = 0;\n        let y2 = 0;\n        let z2 = 0;\n        \n        tempV3.set(x2, y2, z2);\n        temp2V3.set(0.0, 0.0, 1.0);\n        tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n        \n        x2 = tempV3.x\n        y2 = tempV3.y\n        z2 = tempV3.z\n        \n        let r1x = Math.random()\n        let r1y = Math.random()\n        let r1z = Math.random()\n        let r2x = 0\n        let r2y = 0\n        let r2z = 0\n        \n        let idx = i / n\n        \n        if (i % 2 === 0) {\n          uvValueVec2.push(xx, yy);\n      \n          headTailValueVec3.push(1.0, 1.0, 1.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r1x, r1y, r1z);\n          positionValueVec3.push(x1, y1, z1);\n          \n          uvValueVec2.push(xx, yy);\n        \n          headTailValueVec3.push(0.0, 0.0, 0.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r2x, r2y, r2z);\n          positionValueVec3.push(x2, y2, z2);\n        }\n        \n        // if (i % 2 === 0) {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(1.0, 1.0, 1.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r1x, r1y, r1z);\n        //   positionValueVec3.push(x1, y1, z1);\n          \n          \n        // } else {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(0.0, 0.0, 0.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r2x, r2y, r2z);\n        //   positionValueVec3.push(x2, y2, z2);\n        // }\n      }\n    }\n    \n    \n    \n    geometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvValueVec2), 2));\n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('htV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1);\n    \n    geometry = starLightGeo(WIDTH, WIDTH);\n    \n    var points = new THREE.LineSegments(geometry, material);\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0233},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c44d3fe3ebca1001758f785","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c34877026d465001733ca9cmodule_536035590484","created_at":"2019-01-10T20:08:51.535Z","updated_at":"2019-01-10T20:08:51.535Z","__v":0}],"connectors":[{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_59415369331","to":""},"idx":1545874257165,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f751","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_59415369331","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_918256974382","to":"_hive_5c234d8b9fb407001754dd50socket_681924004470"},"idx":1545874257161,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onResize","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f756","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_918256974382","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_967655102975","to":"_hive_5c216d362dc0500017eec0d4socket_984258680163"},"idx":1545711358026,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c44d3fe3ebca1001758f75b","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_967655102975","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_793234601449","to":""},"idx":1545695299862,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f760","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_793234601449","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_648344830368","to":""},"idx":1546398709659,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f755","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_648344830368","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_679824688311","to":""},"idx":1545874257164,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c44d3fe3ebca1001758f765","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_679824688311","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_815560743775","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_135549837207","to":""},"idx":1546043796475,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_815560743775","name":"my socket","color":"#92fe4b","_id":"5c44d3fe3ebca1001758f75a","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_135549837207","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_706901781830","to":"_hive_5c296a16fde0030017366b46socket_473040720177"},"idx":1545695299853,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f76a","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_706901781830","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_472439359204","to":"_hive_5c296a16fde0030017366b46socket_927092796131"},"idx":1545695299854,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f75f","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_472439359204","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_869091661257","to":""},"idx":1546395441663,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f76f","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_869091661257","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_764885876841","to":""},"idx":1545695299859,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f764","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_764885876841","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_107133150501","to":""},"idx":1546395685802,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onClock","color":"#eaca38","_id":"5c44d3fe3ebca1001758f774","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_107133150501","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_984258680163","to":"_hive_5c216d362dc0500017eec0d4socket_967655102975"},"idx":1545704570549,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f769","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_984258680163","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_400210257960","to":"_hive_5c216d362dc0500017eec0d4socket_516251817815"},"idx":1545874257159,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c44d3fe3ebca1001758f779","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_400210257960","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_711443654290","to":""},"idx":1545711358036,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize3","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f76e","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_711443654290","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c29c764e083af0017f21757module_11610133074"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_630105669056","to":"_hive_5c29c764e083af0017f21757socket_514282842606"},"idx":1546065326417,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline7","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f773","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_630105669056","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_577333067774","to":"_hive_5c24382d9adca6001780ced4socket_314573235936"},"idx":1546285687328,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onTimeline","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f778","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c29c764e083af0017f21757socket_577333067774","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_536035590484","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_681880848553","to":"_hive_5c24382d9adca6001780ced4socket_300323104773"},"idx":1547150931776,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c34877026d465001733ca9cmodule_536035590484","name":"onTimeline","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f77d","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c34877026d465001733ca9csocket_681880848553","created_at":"2019-01-10T20:08:51.779Z","updated_at":"2019-01-10T20:08:51.779Z","__v":0},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_624337151058","to":""},"idx":1545711358029,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize2","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f753","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_624337151058","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_907889095702","to":""},"idx":1545695299855,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f754","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_907889095702","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_757304952328","to":""},"idx":1545695299860,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f758","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_757304952328","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_681924004470","to":"_hive_5c234d8b9fb407001754dd50socket_918256974382"},"idx":1545875829113,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f752","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_681924004470","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_927092796131","to":"_hive_5c216d362dc0500017eec0d4socket_472439359204"},"idx":1546239396071,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onFrame","color":"#05f1de","_id":"5c44d3fe3ebca1001758f759","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c296a16fde0030017366b46socket_927092796131","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_9552257515","to":"_hive_5c216d362dc0500017eec0d4socket_1084991658835"},"idx":1545711358027,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize1","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f75e","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_9552257515","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_43083576117","to":""},"idx":1545874257166,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f75d","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_43083576117","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_122128054140","to":""},"idx":1545874257167,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f757","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c234d8b9fb407001754dd50socket_122128054140","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_342084457046","to":""},"idx":1546065326411,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline4","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f763","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_342084457046","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_118020687842","to":""},"idx":1546065326415,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline6","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f762","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_118020687842","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","to":"_hive_5c216d362dc0500017eec0d4socket_9552257515"},"idx":1545704570551,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c44d3fe3ebca1001758f75c","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_45575481203","to":""},"idx":1546395441669,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f768","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_45575481203","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c34877026d465001733ca9cmodule_536035590484"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_300323104773","to":"_hive_5c34877026d465001733ca9csocket_681880848553"},"idx":1546065326407,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline2","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f767","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_300323104773","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_314573235936","to":"_hive_5c29c764e083af0017f21757socket_577333067774"},"idx":1546065326406,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline1","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f76d","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_314573235936","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_237021460432","to":""},"idx":1546065326413,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline5","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f761","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_237021460432","__v":0,"created_at":"2019-01-08T11:20:16.923Z","updated_at":"2019-01-08T11:20:16.923Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","to":""},"idx":1546398709657,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f76c","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_473040720177","to":"_hive_5c216d362dc0500017eec0d4socket_706901781830"},"idx":1546234840006,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c44d3fe3ebca1001758f772","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c296a16fde0030017366b46socket_473040720177","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_21143518820","to":""},"idx":1546395441660,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f766","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_21143518820","__v":0,"created_at":"2019-01-08T11:20:16.924Z","updated_at":"2019-01-08T11:20:16.924Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_75312698082","to":""},"idx":1546395441657,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f771","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_75312698082","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_289414618978","to":""},"idx":1546065326410,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline3","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f76b","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c24382d9adca6001780ced4socket_289414618978","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_980617126508","to":""},"idx":1546395441662,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f777","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_980617126508","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_280251465660","to":""},"idx":1545695299857,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f776","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_280251465660","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_201034563980","to":""},"idx":1546395441665,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f770","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_201034563980","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_536035590484","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_527848387030","to":""},"idx":1547150931779,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c34877026d465001733ca9cmodule_536035590484","name":"onTimeline","color":"#a8ceff","_id":"5c44d3fe3ebca1001758f77c","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c34877026d465001733ca9csocket_527848387030","created_at":"2019-01-10T20:08:51.782Z","updated_at":"2019-01-10T20:08:51.782Z","__v":0},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_516251817815","to":"_hive_5c234d8b9fb407001754dd50socket_400210257960"},"idx":1545704570555,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c44d3fe3ebca1001758f77b","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c216d362dc0500017eec0d4socket_516251817815","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1048101426338","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208600396055","to":""},"idx":1546395742624,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1048101426338","name":"onRecord","color":"#e9ca38","_id":"5c44d3fe3ebca1001758f775","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_208600396055","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_515050383097","to":""},"idx":1546395441667,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c44d3fe3ebca1001758f77a","userID":"5c1daecd6168c20017eec65e","projectID":"5c44d3fe3ebca1001758f750","id":"_hive_5c2bf1674a54460017ee5842socket_515050383097","__v":0,"created_at":"2019-01-08T11:20:16.925Z","updated_at":"2019-01-08T11:20:16.925Z"}],"template":{"modules":[{"pos":{"x":368,"y":287},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","name":"Simple Transform Sliders","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll\n} = env\n//\nlet self = this\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nvar evt = {}\nlet getItems = () => box.meta.reduce((c, ie, idx) => {\n  c[ie.label] = ie.value\n  return c\n}, evt);\n\nInput('onTimeline', (v) => {\n  Output('uiControl', getItems())\n  Output('onTimeline', v)\n})\n\n","meta":[{"id":"_r264927804","label":"translateX","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r392841688","label":"translateY","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r914207710","label":"translateZ","type":"range","min":"-200","max":"200","step":0.1,"value":0},{"id":"_r172174598","label":"rotateX","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r274536640","label":"rotateY","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r759804655","label":"rotateZ","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r419232716","label":"scaleX","type":"range","min":"-100","max":"100","step":0.1,"value":5},{"id":"_r722167741","label":"scaleY","type":"range","min":"0","max":"50","step":"0.05","value":1},{"id":"_r773223356","label":"scaleZ","type":"range","min":"-100","max":"100","step":0.1,"value":5}],"_id":"5c2be9ff4a54460017ee57c3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75684660185","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = progress * m.value.totalTime\n    } else {\n      time = performance.now() / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = performance.now() / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":2.7755575615628914e-16,"afterStart":3.848361018826129,"beforeEnd":11.999999999999998,"end":15.000000000000002,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.2915476190476283,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2bee7d4a54460017ee582c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_998063926878","__v":0},{"pos":{"x":94,"y":154},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output('onFrame', { rect })\n})\n\nIO.Input('onFrame', () => {\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c2bec774a54460017ee57fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75273206587","__v":0},{"pos":{"x":75,"y":365},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.js.need('blooming-effect', [\n  'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n  'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n  'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n  'https://threejs.org/examples/js/shaders/CopyShader.js',\n  'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n  'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n]);\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.211},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":2.4},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001750"}],"_id":"5c2bec864a54460017ee5808","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_745027424560","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":12.150000000000004,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2c34a2efaf8e0017b43a0c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842module_1052875161852","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.0, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(randV3);\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor)\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  });\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c2e83aba2a2ac00177a613a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c2e73cab5f7ed00178e30ee","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","name":"煙火噴 Nova Blaster","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c308b7dcd5a5f0f21117274","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62module_950943352397","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","name":"SuperWarm","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 8.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.1;\n  toBall(noiser, az, el);\n  \n  lastPos.xyz = fromBall(75.0, az, el);\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nattribute vec3 htV3;\nattribute vec3 randV3;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  vec4 velocityAmount = texture2D( velocityInfo, uv );\n  particleVel = velocityAmount;\n  \n  vec3 newPos = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n  vec3 transformed = newPos + newPos * htV3;\n  \n  // if (htV3.x == 1.0) {\n  //   newPos = newPos - vec3(velocityAmount);\n  // }\n  \n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n  var starLightGeo = (nx = 100, ny = 100) => {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let uvValueVec2 = [];\n    let numLiunes = nx * ny\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var iy = 0; iy < ny; iy++) {\n      for (var ix = 0; ix < nx; ix++) {\n        let i = ix + iy * ny;\n        \n        let xx = ix / nx;\n        let yy = iy / ny;\n        \n        let x1 = 0;\n        let y1 = 0;\n        let z1 = 0;\n        \n        let x2 = 0;\n        let y2 = 0;\n        let z2 = 0;\n        \n        tempV3.set(x2, y2, z2);\n        temp2V3.set(0.0, 0.0, 1.0);\n        tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n        \n        x2 = tempV3.x\n        y2 = tempV3.y\n        z2 = tempV3.z\n        \n        let r1x = Math.random()\n        let r1y = Math.random()\n        let r1z = Math.random()\n        let r2x = 0\n        let r2y = 0\n        let r2z = 0\n        \n        let idx = i / n\n        \n        if (i % 2 === 0) {\n          uvValueVec2.push(xx, yy);\n      \n          headTailValueVec3.push(1.0, 1.0, 1.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r1x, r1y, r1z);\n          positionValueVec3.push(x1, y1, z1);\n          \n          uvValueVec2.push(xx, yy);\n        \n          headTailValueVec3.push(0.0, 0.0, 0.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r2x, r2y, r2z);\n          positionValueVec3.push(x2, y2, z2);\n        }\n        \n        // if (i % 2 === 0) {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(1.0, 1.0, 1.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r1x, r1y, r1z);\n        //   positionValueVec3.push(x1, y1, z1);\n          \n          \n        // } else {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(0.0, 0.0, 0.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r2x, r2y, r2z);\n        //   positionValueVec3.push(x2, y2, z2);\n        // }\n      }\n    }\n    \n    \n    \n    geometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvValueVec2), 2));\n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('htV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1);\n    \n    geometry = starLightGeo(WIDTH, WIDTH);\n    \n    var points = new THREE.LineSegments(geometry, material);\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0233},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c35236d2b601f001738f193","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9cmodule_223817724340","created_at":"2019-01-08T22:25:49.580Z","updated_at":"2019-01-08T22:25:49.580Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c37adf1d864b90e1719379f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769module_608635765892","created_at":"2019-01-10T20:41:21.283Z","updated_at":"2019-01-10T20:41:21.283Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c42585d61be0d267c5c73fb","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","created_at":"2019-01-18T22:51:09.846Z","updated_at":"2019-01-18T22:51:09.846Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","name":"Rainbow CSS Background","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += `linear-gradient(${(degree * 360) % 360}deg, `\n    //gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += `${getMeta('color')},`\n    gradBg += `${getMeta('color2')}`\n    // gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n","meta":[{"id":"_r313732479","label":"color","type":"color","value":"#00ffac"},{"id":"_r852764851","label":"color2","type":"color","value":"#00d8f9"}],"_id":"5c42831709fbab0ec72c4fa7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17module_794457425519","created_at":"2019-01-19T01:53:27.532Z","updated_at":"2019-01-19T01:53:27.532Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c4f7468226b990017249754","name":"Inst Whammy WebM Encoder ","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onClock', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f7494226b990017249756","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c4f6e9f226b990017249712module_291302930050","created_at":"2019-01-28T21:31:00.253Z","updated_at":"2019-01-28T21:31:00.253Z","__v":0}],"connectors":[{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_27453514535","to":""},"idx":1546381823618,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_27453514535","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_416771796454","to":""},"idx":1546381823621,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_416771796454","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_173129244229","to":""},"idx":1546381823622,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"uiControl","color":"#ffda00","_id":"5c2be9ff4a54460017ee57c6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_173129244229","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_81012179446","to":""},"idx":1546382973297,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline3","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_81012179446","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_99790552027","to":""},"idx":1546382477540,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5816","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_99790552027","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_645880341729","to":""},"idx":1546382455400,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize2","color":"#ff7cfa","_id":"5c2bec774a54460017ee5800","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_645880341729","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_612662920218","to":""},"idx":1546382470374,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_612662920218","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_996465585796","to":""},"idx":1546382455403,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee5802","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_996465585796","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_519663161578","to":""},"idx":1546382464830,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5805","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_519663161578","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_334622077167","to":""},"idx":1546382464834,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5807","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_334622077167","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_324063758928","to":""},"idx":1546382470372,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee580b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_324063758928","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_523859359836","to":""},"idx":1546382470376,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_523859359836","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_759892384697","to":""},"idx":1546382973305,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline7","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5833","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_759892384697","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_219566954042","to":""},"idx":1546382470379,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onTimeline","color":"#a8ceff","_id":"5c2bec864a54460017ee580f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_219566954042","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_978315655837","to":""},"idx":1546382477531,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5811","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_978315655837","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1002887713637","to":""},"idx":1546382470368,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee5809","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1002887713637","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_123487416285","to":""},"idx":1546382973299,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline4","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5830","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_123487416285","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_303554106652","to":""},"idx":1546382477536,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5813","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_303554106652","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_875441463206","to":""},"idx":1546382973294,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline1","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_875441463206","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_321012926786","to":""},"idx":1546382973301,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline5","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5831","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_321012926786","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_695713574221","to":""},"idx":1546382470377,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_695713574221","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_755527812656","to":""},"idx":1546382477534,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"uiControls","color":"#ffda00","_id":"5c2bec8d4a54460017ee5812","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_755527812656","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_451527354005","to":""},"idx":1546382455401,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize3","color":"#ff7cfa","_id":"5c2bec774a54460017ee5801","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_451527354005","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_584821513880","to":""},"idx":1546382973306,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"input","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onFrame","color":"#05f1de","_id":"5c2bee7d4a54460017ee5834","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_584821513880","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_995818899006","to":""},"idx":1546382470371,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onResize","color":"#ff7cfa","_id":"5c2bec864a54460017ee580a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_995818899006","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_693769435438","to":""},"idx":1546382464827,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5804","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_693769435438","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_248879527054","to":""},"idx":1546382973296,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline2","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_248879527054","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_738903359977","to":""},"idx":1546382455398,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize1","color":"#ff7cfa","_id":"5c2bec774a54460017ee57ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_738903359977","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1019523524659","to":""},"idx":1546382464832,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5806","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1019523524659","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_921698012366","to":""},"idx":1546382477541,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5817","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_921698012366","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_238584382434","to":""},"idx":1546382973303,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline6","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5832","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_238584382434","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_33359812855","to":""},"idx":1546382477539,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5815","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_33359812855","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_859459509584","to":""},"idx":1546382455395,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee57fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_859459509584","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_468455196847","to":""},"idx":1546382477538,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5814","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_468455196847","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_677938423842","to":""},"idx":1546392960238,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_677938423842","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_254873398863","to":""},"idx":1546400930296,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onFrame","color":"#05f1de","_id":"5c2c34a2efaf8e0017b43a14","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_254873398863","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_638419508312","to":""},"idx":1546392960240,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_638419508312","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_33801279554","to":""},"idx":1546400930288,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline3","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_33801279554","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_383438085145","to":""},"idx":1546400930289,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline4","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a10","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_383438085145","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_530059647969","to":""},"idx":1546400930282,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline1","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_530059647969","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_199945879640","to":""},"idx":1546400930293,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline6","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a12","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_199945879640","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_86253422236","to":""},"idx":1546400286714,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onClock","color":"#e9ca38","_id":"5c2c321eefaf8e0017b43a0a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_86253422236","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_939492560450","to":""},"idx":1546400286716,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onStart","color":"#e4e3e5","_id":"5c2c321fefaf8e0017b43a0b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_939492560450","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208648917120","to":""},"idx":1546400930285,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline2","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_208648917120","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_514979943166","to":""},"idx":1546400930292,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline5","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a11","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_514979943166","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_700031301423","to":""},"idx":1546400930294,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline7","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a13","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_700031301423","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","to":""},"idx":1546428436835,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onStart","color":"#e4e3e5","_id":"5c2ca015fed4f60017795c69","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","to":""},"idx":1546428436832,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onClock","color":"#e9ca38","_id":"5c2ca014fed4f60017795c68","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","to":""},"idx":1546552236044,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6140","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","to":""},"idx":1546548171246,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30f0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","to":""},"idx":1546552236037,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","to":""},"idx":1546552236041,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","to":""},"idx":1546552236046,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6141","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","to":""},"idx":1546552236043,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","to":""},"idx":1546552236039,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","to":""},"idx":1546548171228,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30ef","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","to":""},"idx":1546552236035,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","to":""},"idx":1546669001835,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30e8","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","name":"onClock","color":"#e9ca38","_id":"5c304bc90596a513ed715077","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","to":""},"idx":1546685310202,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117276","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","to":""},"idx":1546685310199,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117275","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_145251118083","to":""},"idx":1546986349763,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"input","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f194","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_145251118083","created_at":"2019-01-08T22:25:49.864Z","updated_at":"2019-01-08T22:25:49.864Z","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_402320691394","to":""},"idx":1546986349767,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"output","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f195","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_402320691394","created_at":"2019-01-08T22:25:49.886Z","updated_at":"2019-01-08T22:25:49.886Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_432682571310","to":""},"idx":1547152881556,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf1d864b90e171937a0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_432682571310","created_at":"2019-01-10T20:41:21.558Z","updated_at":"2019-01-10T20:41:21.558Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_951913996296","to":""},"idx":1547152881560,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_951913996296","created_at":"2019-01-10T20:41:22.014Z","updated_at":"2019-01-10T20:41:22.014Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_811060709425","to":""},"idx":1547152881561,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_811060709425","created_at":"2019-01-10T20:41:22.015Z","updated_at":"2019-01-10T20:41:22.015Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_298173305401","to":""},"idx":1547152881559,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a2","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_298173305401","created_at":"2019-01-10T20:41:22.013Z","updated_at":"2019-01-10T20:41:22.013Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_537577535677","to":""},"idx":1547152881563,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_537577535677","created_at":"2019-01-10T20:41:22.018Z","updated_at":"2019-01-10T20:41:22.018Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_999877641099","to":""},"idx":1547152881558,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a1","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_999877641099","created_at":"2019-01-10T20:41:22.011Z","updated_at":"2019-01-10T20:41:22.011Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_966742041419","to":""},"idx":1547152881565,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"input","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onClock","color":"#eaca38","_id":"5c37adf2d864b90e171937a7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_966742041419","created_at":"2019-01-10T20:41:22.023Z","updated_at":"2019-01-10T20:41:22.023Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_1020478642380","to":""},"idx":1547152881564,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_1020478642380","created_at":"2019-01-10T20:41:22.022Z","updated_at":"2019-01-10T20:41:22.022Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","to":""},"idx":1547851870081,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fc","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","created_at":"2019-01-18T22:51:10.077Z","updated_at":"2019-01-18T22:51:10.077Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","to":""},"idx":1547851870082,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","created_at":"2019-01-18T22:51:10.079Z","updated_at":"2019-01-18T22:51:10.079Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","to":""},"idx":1547851870084,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","created_at":"2019-01-18T22:51:10.084Z","updated_at":"2019-01-18T22:51:10.084Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","to":""},"idx":1547851870083,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","created_at":"2019-01-18T22:51:10.082Z","updated_at":"2019-01-18T22:51:10.082Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_937448995212","to":""},"idx":1547862807853,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa8","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_937448995212","created_at":"2019-01-19T01:53:27.856Z","updated_at":"2019-01-19T01:53:27.856Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_706467872897","to":""},"idx":1547862807855,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa9","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_706467872897","created_at":"2019-01-19T01:53:27.865Z","updated_at":"2019-01-19T01:53:27.865Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_586583895383","to":""},"idx":1547862807857,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faa","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_586583895383","created_at":"2019-01-19T01:53:27.869Z","updated_at":"2019-01-19T01:53:27.869Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_674479069285","to":""},"idx":1547862807859,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fac","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_674479069285","created_at":"2019-01-19T01:53:27.875Z","updated_at":"2019-01-19T01:53:27.875Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","to":""},"idx":1547862807858,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fab","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","created_at":"2019-01-19T01:53:27.872Z","updated_at":"2019-01-19T01:53:27.872Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_150219820209","to":""},"idx":1547862807860,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fad","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_150219820209","created_at":"2019-01-19T01:53:27.878Z","updated_at":"2019-01-19T01:53:27.878Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_303024987482","to":""},"idx":1547862807862,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faf","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_303024987482","created_at":"2019-01-19T01:53:27.883Z","updated_at":"2019-01-19T01:53:27.883Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_321473473110","to":""},"idx":1547862807861,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fae","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_321473473110","created_at":"2019-01-19T01:53:27.880Z","updated_at":"2019-01-19T01:53:27.880Z","__v":0}]}},"versions":[],"sessionID":"_dz3lpp4vg","projectID":"_dz3lpp4vg","userID":"_dz3lpp4vg"};

/***/ }),

/***/ "71c1":
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__("3a38");
var defined = __webpack_require__("25eb");
// true  -> String#at
// false -> String#codePointAt
module.exports = function (TO_STRING) {
  return function (that, pos) {
    var s = String(defined(that));
    var i = toInteger(pos);
    var l = s.length;
    var a, b;
    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
    a = s.charCodeAt(i);
    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
      ? TO_STRING ? s.charAt(i) : a
      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
  };
};


/***/ }),

/***/ "7445":
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__("63b6");
var $parseInt = __webpack_require__("5d6b");
// 18.2.5 parseInt(string, radix)
$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });


/***/ }),

/***/ "7514":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)
var $export = __webpack_require__("5ca1");
var $find = __webpack_require__("0a49")(5);
var KEY = 'find';
var forced = true;
// Shouldn't skip holes
if (KEY in []) Array(1)[KEY](function () { forced = false; });
$export($export.P + $export.F * forced, 'Array', {
  find: function find(callbackfn /* , that = undefined */) {
    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
  }
});
__webpack_require__("9c6c")(KEY);


/***/ }),

/***/ "765d":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("6718")('observable');


/***/ }),

/***/ "7714":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".vdr{-ms-touch-action:none;touch-action:none;border:1px dashed #000}.handle,.vdr{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}.handle{width:10px;height:10px;background:#eee;border:1px solid #333}.handle-tl{top:-10px;left:-10px;cursor:nw-resize}.handle-tm{top:-10px;left:50%;margin-left:-5px;cursor:n-resize}.handle-tr{top:-10px;right:-10px;cursor:ne-resize}.handle-ml{left:-10px;cursor:w-resize}.handle-ml,.handle-mr{top:50%;margin-top:-5px}.handle-mr{right:-10px;cursor:e-resize}.handle-bl{bottom:-10px;left:-10px;cursor:sw-resize}.handle-bm{bottom:-10px;left:50%;margin-left:-5px;cursor:s-resize}.handle-br{bottom:-10px;right:-10px;cursor:se-resize}@media only screen and (max-width:768px){[class*=handle-]:before{content:\"\";left:-10px;right:-10px;bottom:-10px;top:-10px;position:absolute}}", ""]);

// exports


/***/ }),

/***/ "7726":
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),

/***/ "774e":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("d2d5");

/***/ }),

/***/ "77f1":
/***/ (function(module, exports, __webpack_require__) {

var toInteger = __webpack_require__("4588");
var max = Math.max;
var min = Math.min;
module.exports = function (index, length) {
  index = toInteger(index);
  return index < 0 ? max(index + length, 0) : min(index, length);
};


/***/ }),

/***/ "788a":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".linker[data-v-5b57970e]{margin:0 5px;text-decoration:underline}.quotes-app[data-v-5b57970e]{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:10px 10px 10px 10px;color:#000;background-image:radial-gradient(circle farthest-corner at 100% 100%,#c1eaff 0,#fff 90.1%)}.content-div[data-v-5b57970e]{height:calc(100% - 30px);overflow:auto;border-radius:0 0 10px 10px;overflow:hidden}.quotes-list[data-v-5b57970e]{margin:20px}", ""]);

// exports


/***/ }),

/***/ "78a4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_58da8613_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("b9e6");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_58da8613_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_58da8613_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Index_vue_vue_type_style_index_0_id_58da8613_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "794b":
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__("8e60") && !__webpack_require__("294c")(function () {
  return Object.defineProperty(__webpack_require__("1ec9")('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "795b":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("696e");

/***/ }),

/***/ "79aa":
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),

/***/ "79e5":
/***/ (function(module, exports) {

module.exports = function (exec) {
  try {
    return !!exec();
  } catch (e) {
    return true;
  }
};


/***/ }),

/***/ "7a4c":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".quotes-app[data-v-88794ac2]{-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:10px 10px 10px 10px;color:#000;background-image:radial-gradient(circle farthest-corner at 100% 100%,#c1eaff 0,#fff 90.1%)}.content-div[data-v-88794ac2]{height:calc(100% - 30px);overflow:auto}.quotes-list[data-v-88794ac2]{margin:20px}.code-editor[data-v-88794ac2]{height:100%;overflow:scroll}", ""]);

// exports


/***/ }),

/***/ "7b5b":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("33c3");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("bbb2bc7c", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "7cd6":
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__("40c3");
var ITERATOR = __webpack_require__("5168")('iterator');
var Iterators = __webpack_require__("481b");
module.exports = __webpack_require__("584a").getIteratorMethod = function (it) {
  if (it != undefined) return it[ITERATOR]
    || it['@@iterator']
    || Iterators[classof(it)];
};


/***/ }),

/***/ "7e90":
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__("d9f6");
var anObject = __webpack_require__("e4ae");
var getKeys = __webpack_require__("c3a1");

module.exports = __webpack_require__("8e60") ? Object.defineProperties : function defineProperties(O, Properties) {
  anObject(O);
  var keys = getKeys(Properties);
  var length = keys.length;
  var i = 0;
  var P;
  while (length > i) dP.f(O, P = keys[i++], Properties[P]);
  return O;
};


/***/ }),

/***/ "7f20":
/***/ (function(module, exports, __webpack_require__) {

var def = __webpack_require__("86cc").f;
var has = __webpack_require__("69a8");
var TAG = __webpack_require__("2b4c")('toStringTag');

module.exports = function (it, tag, stat) {
  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });
};


/***/ }),

/***/ "7f7f":
/***/ (function(module, exports, __webpack_require__) {

var dP = __webpack_require__("86cc").f;
var FProto = Function.prototype;
var nameRE = /^\s*function ([^ (]*)/;
var NAME = 'name';

// 19.2.4.2 name
NAME in FProto || __webpack_require__("9e1e") && dP(FProto, NAME, {
  configurable: true,
  get: function () {
    try {
      return ('' + this).match(nameRE)[1];
    } catch (e) {
      return '';
    }
  }
});


/***/ }),

/***/ "813c":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("6db1");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "8378":
/***/ (function(module, exports) {

var core = module.exports = { version: '2.6.3' };
if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef


/***/ }),

/***/ "8392":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_samsam_vue_vue_type_style_index_0_id_dc5a5c6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("df6b");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_samsam_vue_vue_type_style_index_0_id_dc5a5c6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_samsam_vue_vue_type_style_index_0_id_dc5a5c6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_samsam_vue_vue_type_style_index_0_id_dc5a5c6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "8436":
/***/ (function(module, exports) {

module.exports = function () { /* empty */ };


/***/ }),

/***/ "84f2":
/***/ (function(module, exports) {

module.exports = {};


/***/ }),

/***/ "854a":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"pos":{"x":60,"y":254},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', (v) => {\n  IO.Output('onFrame', v)\n})\n\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c4f6c601d45df0017b0e718","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_542035946732","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"pos":{"x":44,"y":512},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.ensure(['threejs']).then(() => {\n  Resources.js.need('effect', [\n    'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n    'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n    'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n    'https://threejs.org/examples/js/shaders/CopyShader.js',\n    'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n    'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n  ]);\n});\n\nvar self = this\n\nResources.ensure(['threejs', 'effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.203},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":1.7},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1.09},{"id":"_r411700999","label":"bgColor","type":"color","value":"#00263f"}],"_id":"5c4f6c601d45df0017b0e71a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50module_673490855101","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":312,"y":261},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":11.925000000000006,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c4f6c601d45df0017b0e71b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4module_624493095826","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":321,"y":376},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.5, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(vec3(abs(1.0 - randV3)));\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor);\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  \t// wahahahahaha\n\t});\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c4f6c601d45df0017b0e71d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842module_181820277305","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":323,"y":498},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'effect', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0483},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c4f6c601d45df0017b0e71f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":209,"y":147},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c4f6c601d45df0017b0e71c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_791055199420","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"},{"pos":{"x":181,"y":55},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"Whammy WebM Video Encoder","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onRecord', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f6c601d45df0017b0e719","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842module_1048101426338","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"pos":{"x":33,"y":373},"size":{"w":200,"h":40},"isTemplate":false,"isGallery":false,"oldID":"","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c4f6c601d45df0017b0e71e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4module_498705463997","__v":0,"created_at":"2019-01-28T20:56:01.039Z","updated_at":"2019-01-28T20:56:01.039Z"}],"connectors":[{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_59415369331","to":""},"idx":1545874257165,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6eb","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_59415369331","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_624337151058","to":""},"idx":1545711358029,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize2","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6ec","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_624337151058","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_907889095702","to":""},"idx":1545695299855,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6ed","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_907889095702","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_681924004470","to":"_hive_5c234d8b9fb407001754dd50socket_918256974382"},"idx":1545875829113,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f0","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_681924004470","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_918256974382","to":"_hive_5c234d8b9fb407001754dd50socket_681924004470"},"idx":1545874257161,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f3","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_918256974382","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","to":"_hive_5c216d362dc0500017eec0d4socket_9552257515"},"idx":1545704570551,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onResize","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6f2","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_1084991658835","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_648344830368","to":""},"idx":1546398709659,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6f5","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_648344830368","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_815560743775","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_135549837207","to":""},"idx":1546043796475,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_815560743775","name":"my socket","color":"#92fe4b","_id":"5c4f6c601d45df0017b0e6f8","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_135549837207","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_793234601449","to":""},"idx":1545695299862,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f7","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_793234601449","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_927092796131","to":"_hive_5c216d362dc0500017eec0d4socket_472439359204"},"idx":1546239396071,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6fa","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c296a16fde0030017366b46socket_927092796131","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_679824688311","to":""},"idx":1545874257164,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6fc","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_679824688311","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_9552257515","to":"_hive_5c216d362dc0500017eec0d4socket_1084991658835"},"idx":1545711358027,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize1","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e6fd","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_9552257515","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_43083576117","to":""},"idx":1545874257166,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6ff","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_43083576117","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_342084457046","to":""},"idx":1546065326411,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline4","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e702","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_342084457046","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_984258680163","to":"_hive_5c216d362dc0500017eec0d4socket_967655102975"},"idx":1545704570549,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e701","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_984258680163","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_764885876841","to":""},"idx":1545695299859,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e704","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_764885876841","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_967655102975","to":"_hive_5c216d362dc0500017eec0d4socket_984258680163"},"idx":1545711358026,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e6ef","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_967655102975","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":""},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_122128054140","to":""},"idx":1545874257167,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6ee","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_122128054140","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_711443654290","to":""},"idx":1545711358036,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"resize3","color":"#ff7cfa","_id":"5c4f6c601d45df0017b0e706","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_711443654290","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_289414618978","to":""},"idx":1546065326410,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline3","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e709","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_289414618978","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_237021460432","to":""},"idx":1546065326413,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline5","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6f1","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_237021460432","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_45575481203","to":""},"idx":1546395441669,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e707","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_45575481203","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_757304952328","to":""},"idx":1545695299860,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f4","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_757304952328","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_542035946732","to":"_hive_5c216d362dc0500017eec0d4module_791055199420"},"socket":{"from":"_hive_5c296a16fde0030017366b46socket_473040720177","to":"_hive_5c216d362dc0500017eec0d4socket_706901781830"},"idx":1546234840006,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_542035946732","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e70b","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c296a16fde0030017366b46socket_473040720177","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_75312698082","to":"_hive_5c24382d9adca6001780ced4socket_300323104773"},"idx":1546395441657,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e70e","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_75312698082","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_231886377715","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","to":""},"idx":1546398709657,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_231886377715","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70c","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_1073912225296","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_472439359204","to":"_hive_5c296a16fde0030017366b46socket_927092796131"},"idx":1545695299854,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e6f9","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_472439359204","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_280251465660","to":""},"idx":1545695299857,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e710","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_280251465660","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_21143518820","to":""},"idx":1546395441660,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e6f6","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_21143518820","__v":0,"created_at":"2019-01-28T20:56:01.036Z","updated_at":"2019-01-28T20:56:01.036Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1048101426338","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208600396055","to":""},"idx":1546395742624,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1048101426338","name":"onRecord","color":"#e9ca38","_id":"5c4f6c601d45df0017b0e713","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_208600396055","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_201034563980","to":""},"idx":1546395441665,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e711","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_201034563980","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c216d362dc0500017eec0d4module_498705463997"},"socket":{"from":"_hive_5c234d8b9fb407001754dd50socket_400210257960","to":"_hive_5c216d362dc0500017eec0d4socket_516251817815"},"idx":1545874257159,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onFrame","color":"#05f1de","_id":"5c4f6c601d45df0017b0e715","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c234d8b9fb407001754dd50socket_400210257960","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_314573235936","to":"_hive_5c29c764e083af0017f21757socket_577333067774"},"idx":1546065326406,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline1","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6fb","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_314573235936","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":""},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_118020687842","to":""},"idx":1546065326415,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline6","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e6fe","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_118020687842","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548"},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_980617126508","to":"_hive_5c2e730ab5f7ed00178e30b8socket_448483343628"},"idx":1546395441662,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e716","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_980617126508","__v":0,"updated_at":"2019-01-28T20:56:01.038Z","created_at":"2019-01-28T20:56:01.038Z","onHand":false},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c29c764e083af0017f21757module_11610133074"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_630105669056","to":"_hive_5c29c764e083af0017f21757socket_514282842606"},"idx":1546065326417,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline7","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e700","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_630105669056","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c24382d9adca6001780ced4module_624493095826","to":"_hive_5c2bf1674a54460017ee5842module_181820277305"},"socket":{"from":"_hive_5c24382d9adca6001780ced4socket_300323104773","to":"_hive_5c2bf1674a54460017ee5842socket_75312698082"},"idx":1546065326407,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c24382d9adca6001780ced4module_624493095826","name":"onTimeline2","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e703","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c24382d9adca6001780ced4socket_300323104773","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c234d8b9fb407001754dd50module_673490855101","to":"_hive_5c24382d9adca6001780ced4module_624493095826"},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_577333067774","to":"_hive_5c24382d9adca6001780ced4socket_314573235936"},"idx":1546285687328,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c234d8b9fb407001754dd50module_673490855101","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e705","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c29c764e083af0017f21757socket_577333067774","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":"_hive_5c216d362dc0500017eec0d4module_542035946732"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_706901781830","to":"_hive_5c296a16fde0030017366b46socket_473040720177"},"idx":1545695299853,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e708","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_706901781830","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_869091661257","to":""},"idx":1546395441663,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70d","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_869091661257","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_181820277305","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_515050383097","to":""},"idx":1546395441667,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_181820277305","name":"my socket","color":"#e4e3e5","_id":"5c4f6c601d45df0017b0e70a","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_515050383097","__v":0,"created_at":"2019-01-28T20:56:01.037Z","updated_at":"2019-01-28T20:56:01.037Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_791055199420","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_107133150501","to":""},"idx":1546395685802,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c216d362dc0500017eec0d4module_791055199420","name":"onClock","color":"#eaca38","_id":"5c4f6c601d45df0017b0e712","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2bf1674a54460017ee5842socket_107133150501","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","to":"_hive_5c2bf1674a54460017ee5842module_181820277305"},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_448483343628","to":"_hive_5c2bf1674a54460017ee5842socket_980617126508"},"idx":1546559677151,"isTemplate":false,"isGallery":false,"oldID":"","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e717","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8socket_448483343628","__v":0,"updated_at":"2019-01-28T20:56:01.038Z","created_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_782804261836","to":""},"idx":1546559677154,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_359962250548","name":"onTimeline","color":"#a8ceff","_id":"5c4f6c601d45df0017b0e70f","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c2e730ab5f7ed00178e30b8socket_782804261836","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"},{"mod":{"from":"_hive_5c216d362dc0500017eec0d4module_498705463997","to":"_hive_5c234d8b9fb407001754dd50module_673490855101"},"socket":{"from":"_hive_5c216d362dc0500017eec0d4socket_516251817815","to":"_hive_5c234d8b9fb407001754dd50socket_400210257960"},"idx":1545704570555,"isTemplate":false,"isGallery":false,"oldID":"","type":"output","modID":"_hive_5c216d362dc0500017eec0d4module_498705463997","name":"onFrame","color":"#00f1de","_id":"5c4f6c601d45df0017b0e714","userID":"5c1daecd6168c20017eec65e","projectID":"5c4f6c601d45df0017b0e6ea","id":"_hive_5c216d362dc0500017eec0d4socket_516251817815","__v":0,"created_at":"2019-01-28T20:56:01.038Z","updated_at":"2019-01-28T20:56:01.038Z"}],"template":{"modules":[{"pos":{"x":368,"y":287},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","name":"Simple Transform Sliders","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll\n} = env\n//\nlet self = this\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nvar evt = {}\nlet getItems = () => box.meta.reduce((c, ie, idx) => {\n  c[ie.label] = ie.value\n  return c\n}, evt);\n\nInput('onTimeline', (v) => {\n  Output('uiControl', getItems())\n  Output('onTimeline', v)\n})\n\n","meta":[{"id":"_r264927804","label":"translateX","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r392841688","label":"translateY","type":"range","min":-100,"max":100,"step":0.1,"value":0},{"id":"_r914207710","label":"translateZ","type":"range","min":"-200","max":"200","step":0.1,"value":0},{"id":"_r172174598","label":"rotateX","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r274536640","label":"rotateY","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r759804655","label":"rotateZ","type":"range","min":-100,"max":100,"step":0.1,"value":1},{"id":"_r419232716","label":"scaleX","type":"range","min":"-100","max":"100","step":0.1,"value":5},{"id":"_r722167741","label":"scaleY","type":"range","min":"0","max":"50","step":"0.05","value":1},{"id":"_r773223356","label":"scaleZ","type":"range","min":"-100","max":"100","step":0.1,"value":5}],"_id":"5c2be9ff4a54460017ee57c3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75684660185","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = progress * m.value.totalTime\n    } else {\n      time = performance.now() / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = performance.now() / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":2.7755575615628914e-16,"afterStart":3.848361018826129,"beforeEnd":11.999999999999998,"end":15.000000000000002,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.2915476190476283,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2bee7d4a54460017ee582c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_998063926878","__v":0},{"pos":{"x":94,"y":154},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","name":"Canvas Size Signal","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet mounter = Resources.get('rootDOM');\nmounter.style.overflow = 'hidden';\n\nvar rect = mounter.getBoundingClientRect();\nIO.Input('onFrame', () => {\n  rect = mounter.getBoundingClientRect();\n  IO.Output('onFrame', { rect })\n})\n\nIO.Input('onFrame', () => {\n  IO.Output(['resize1','resize2','resize3'], { rect })\n})\n\n// this.onClean = () => {\n//   console.log('onClean', box.id)\n// }","meta":[],"_id":"5c2bec774a54460017ee57fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_75273206587","__v":0},{"pos":{"x":75,"y":365},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","name":"Glowing Effect","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nlet getMeta = (key) => {\n\treturn (box.meta.find(e => e.label === key) || {}).value\n}\n\nResources.js.need('blooming-effect', [\n  'https://threejs.org/examples/js/postprocessing/EffectComposer.js',\n  'https://threejs.org/examples/js/postprocessing/RenderPass.js',\n  'https://threejs.org/examples/js/postprocessing/ShaderPass.js',\n  'https://threejs.org/examples/js/shaders/CopyShader.js',\n  'https://threejs.org/examples/js/shaders/LuminosityHighPassShader.js',\n  'https://threejs.org/examples/js/postprocessing/UnrealBloomPass.js'\n]);\n\nvar self = this\n\nResources.ensure(['threejs', 'blooming-effect', 'renderer', 'scene', 'camera']).then(() => {\n\tvar renderer = Resources.get('renderer')\n\tvar scene = Resources.get('scene')\n\tvar camera = Resources.get('camera')\n\t// on resizer\n  let rectCache = {\n    width: 128,\n    height: 128\n  }\n  \n  var dpi = window.devicePixelRatio || 1.0\n\n  let composer = this.composer = new THREE.EffectComposer(renderer)\n  Resources.set('composer', composer);\n  \n  let composerResizer = () => {\n    composer.setSize(rectCache.width * dpi, rectCache.height * dpi)\n    bloomPass.setSize(rectCache.width * dpi, rectCache.height * dpi)\n  }\n  \n  let renderBG = new THREE.RenderPass(scene, camera)\n  let bloomPass = new THREE.UnrealBloomPass(new THREE.Vector2(rectCache.width * dpi, rectCache.height * dpi), 1.5, 0.4, 0.85)\n  bloomPass.renderToScreen = true\n\n  // bloomPass.threshold = Number(0.0001)\n  // bloomPass.strength = Number(3.5)\n  // bloomPass.radius = Number(1.0)\n\n  composer.addPass(renderBG)\n  composer.addPass(bloomPass)\n\t\n  // pass through render signal\n  Input('onFrame', (v) => {\n    Output('onFrame', v);\n  });\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      composerResizer()\n    }\n  });\n  \n  let bgColor = new THREE.Color(getMeta('bgColor'))\n  \n  Input('onTimeline', (timeline) => {\n    bgColor.set(getMeta('bgColor'))\n    scene.background = bgColor\n    if (timeline.$ready) {\n      bloomPass.threshold = Number(getMeta('threshold'))\n      bloomPass.strength = Number(getMeta('strength')) * timeline.strength.var\n      bloomPass.radius = Number(getMeta('radius'))\n    }\n  });\n  \n});\n\n","meta":[{"id":"_r751248213","label":"threshold","type":"range","min":"0","max":"1","step":"0.001","value":0.211},{"id":"_r473085828","label":"strength","type":"range","min":"0","max":"5","step":0.1,"value":2.4},{"id":"_r47531394","label":"radius","type":"range","min":"0","max":"3","step":"0.01","value":1},{"id":"_r411700999","label":"bgColor","type":"color","value":"#001750"}],"_id":"5c2bec864a54460017ee5808","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757module_745027424560","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","name":"Timeline","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n\n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n\n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n\n  // ---------------------------------\n\n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n\n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n\n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n\n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet toObject = (key) => {\n  event[key] = getMeta(key)\n}\nInput('onFrame', (v) => {\n  box.meta.filter(e => e.type === 'timeline-track').forEach((m, mi) => {\n    toObject(m.label);\n  });\n  \n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n","meta":[{"id":"_r1059487130","label":"opacity","type":"timeline-track","value":{"start":0.03749999999999931,"afterStart":3.8858610188261293,"beforeEnd":12.150000000000004,"end":15.037500000000009,"totalTime":"15"}},{"id":"_r836406453","label":"rate","type":"timeline-track","value":{"start":0,"afterStart":9.094285714285707,"beforeEnd":12,"end":15,"totalTime":"15"}},{"id":"_r844635908","label":"strength","type":"timeline-track","value":{"start":0,"afterStart":2.479047619047627,"beforeEnd":11.991964285714277,"end":14.99196428571428,"totalTime":"15"}},{"id":"_r23648488","label":"scaleX","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"_id":"5c2c34a2efaf8e0017b43a0c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842module_1052875161852","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","name":"Starlight Star Right","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera']).then(() => {\n  let scene = Resources.get('scene')\n  \n  function starLightGeo () {\n    var geometry = new THREE.BufferGeometry();\n    var rv3 = []\n    var vertices =  [\n    ];\n    let numLiunes = Math.PI * 100\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var i = 0; i < n; i++) {\n      let e = i / n;\n      let epi = i / n * Math.PI * 2;\n      let x1 = 300 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y1 = 300 * (Math.sin(epi) * Math.cos(epi));\n      let z1 = -150;\n      \n      let x2 = 500 * (Math.sin(epi) * Math.sin(epi) + -0.5);\n      let y2 = 500 * (Math.sin(epi) * Math.cos(epi));\n      let z2 = 150;\n      \n      tempV3.set(x2, y2, z2);\n      temp2V3.set(0.0, 0.0, 1.0);\n      tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n      \n      x2 = tempV3.x\n      y2 = tempV3.y\n      z2 = tempV3.z\n      \n      let r1x = Math.random()\n      let r1y = Math.random()\n      let r1z = Math.random()\n      let r2x = 0\n      let r2y = 0\n      let r2z = 0\n      \n      rv3.push(r1x, r1y, r1z, r2x, r2y, r2z);\n      vertices.push(x1, y1, z1, x2, y2, z2);\n    }\n    \n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(vertices), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(rv3), 3));\n    \n    return geometry\n  }\n  \n  var geometry = starLightGeo();//new THREE.SphereBufferGeometry( 100, 100, 16, 16 );\n  let color = new THREE.Color(getMeta('color'));\n  var uniforms = {\n    color: { value: color },\n    progress: { value: 0.0 },\n    opacity: { value: 0.0 }\n  }\n  \n  var material = new THREE.ShaderMaterial({\n    vertexShader: `\n      attribute vec3 randV3;\n      varying vec3 vR3;\n      uniform float progress;\n      void main () {\n        vec4 mvPosition = modelViewMatrix * vec4( position + randV3 * position * progress * 1.0, 1.0 );\n        vec4 outputPos = projectionMatrix * mvPosition;\n        gl_Position = outputPos;\n        \n        vR3 = normalize(randV3);\n        \n        gl_PointSize = 7.7;\n      }`,\n    fragmentShader: `\n      #include <common>\n      \n      uniform vec3 color;\n      uniform float opacity;\n      \n      varying vec3 vR3;\n      \n      void main () {\n        gl_FragColor = vec4(vR3, opacity);\n        \n        \n        // vec2 coord = gl_PointCoord - vec2(0.5);  \n        // if (length(coord) >= 0.5) {\n        //   discard;\n        // } else {\n        //   gl_FragColor = vec4(color, opacity);\n        // }\n      }\n    `,\n    uniforms,\n    transparent: true \n  });\n  var cube = new THREE.LineSegments( geometry, material );\n  \n  Input('onTimeline', () => {}, () => {\n    scene.add(cube)\n  });\n  \n  Input('onTimeline', () => {\n    color.set(getMeta('color'))\n    material.needsUpdate = true\n  });\n  \n  // 0 = render\n  Input('onTimeline', (accessor) => {\n    let speed = 0\n    timeline = accessor\n   \n    uniforms.opacity.value = timeline.opacity.var;\n    uniforms.progress.value = timeline.opacity.timebox;\n    \n    // cube.rotation.x = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateX) || 0\n    // cube.rotation.y = (timeline.rate.now) * 0.2 * 3.14// * (sliders.rotateY) || 0\n    // cube.rotation.z = (timeline.rate.now) * 0.0 * 3.14// * (sliders.rotateZ) || 0\n  \n    // cube.position.x = Math.sin(timeline.rate.now) * 100// + sliders.translateX\n    cube.position.y = 0 || 0\n    cube.position.z = 0 || 0\n  \n    cube.scale.x = 1.0;\n    cube.scale.y = 1.0;\n    cube.scale.z = 1.0;\n \n    Output('onTimeline', accessor)\n\t});\n\t\n\tInput('uiControls', (accessor) => {\n  \t//sliders = accessor\n  });\n  \n  \n  this.onClean = () => {\n    scene.remove(cube);\n    console.log('onClean', box.id)\n  }\n  \n});\n\n","meta":[{"id":"_r174941373","label":"color","type":"color","value":"#f1ce4b"}],"_id":"5c2e83aba2a2ac00177a613a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","name":"彩雲追月 Particle Sea Object","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c2e73cab5f7ed00178e30ee","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","name":"煙火噴 Nova Blaster","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 9.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.5;\n  toBall(noiser, az, el);\n  if (rand(lastVel.xy) > 0.33333) {\n    lastPos.xyz = fromBall(75.0, az, el);\n  } else {\n    lastPos.xyz += fromBall(-6.0, az, el);\n  }\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  particleVel = texture2D( velocityInfo, uv );\n\n  vec3 transformed = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n\n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n\n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1)\n    var points = new THREE.Points(geometry, material)\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      camera.position.z = 25;\n      camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"1","step":"0.01","value":0.2},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1.06}],"_id":"5c308b7dcd5a5f0f21117274","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62module_950943352397","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","name":"SuperWarm","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  inputs,\n  outputs,\n  getMeta,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n} = env\n\nlet self = this\n\nvar timeline = {};\nvar sliders = {};\n\nResources.js.need('gpgpu', [\n  'https://threejs.org/examples/js/GPUComputationRenderer.js'\n]);\n\nvar particleVelocityShader = `\n#include <common>\n\nuniform vec2 mousePos;\n\nfloat constrain(float val, float min, float max) {\n    if (val < min) {\n        return min;\n    } else if (val > max) {\n        return max;\n    } else {\n        return val;\n    }\n}\n\nvec3 getDiff (in vec3 lastPos, in vec3 mousePos) {\n  vec3 diff = lastPos.xyz / 33.3 - mousePos;\n  float distance = constrain(length(diff), 5.0, 100.0);\n  float strength = 0.35 / (distance * distance);\n\n  diff = normalize(diff);\n  // delta\n  diff = diff * strength * -2.0;\n  // diff = diff * strength * (-20.83) * (1.0 / delta) * 0.0183;\n\n  return diff;\n}\n\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastPos = texture2D( positionInfo, uv );\n  vec4 lastVel = texture2D( velocityInfo, uv );\n\n\n  vec3 diff = getDiff( lastPos.xyz, vec3(mousePos, 0.1) );\n\n  lastVel.xyz += diff;\n\n  gl_FragColor = lastVel;\n}\n\n\n`\nvar particlePositionShader = `\n\n#include <common>\n\nuniform vec2 mousePos;\n\n//  Classic Perlin 3D Noise\n//  by Stefan Gustavson\n//\nvec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}\nvec2 fade(vec2 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec2 P){\n  vec4 Pi = floor(P.xyxy) + vec4(0.0, 0.0, 1.0, 1.0);\n  vec4 Pf = fract(P.xyxy) - vec4(0.0, 0.0, 1.0, 1.0);\n  Pi = mod(Pi, 289.0); // To avoid truncation effects in permutation\n  vec4 ix = Pi.xzxz;\n  vec4 iy = Pi.yyww;\n  vec4 fx = Pf.xzxz;\n  vec4 fy = Pf.yyww;\n  vec4 i = permute(permute(ix) + iy);\n  vec4 gx = 2.0 * fract(i * 0.0243902439) - 1.0; // 1/41 = 0.024...\n  vec4 gy = abs(gx) - 0.5;\n  vec4 tx = floor(gx + 0.5);\n  gx = gx - tx;\n  vec2 g00 = vec2(gx.x,gy.x);\n  vec2 g10 = vec2(gx.y,gy.y);\n  vec2 g01 = vec2(gx.z,gy.z);\n  vec2 g11 = vec2(gx.w,gy.w);\n  vec4 norm = 1.79284291400159 - 0.85373472095314 *\n      vec4(dot(g00, g00), dot(g01, g01), dot(g10, g10), dot(g11, g11));\n  g00 *= norm.x;\n  g01 *= norm.y;\n  g10 *= norm.z;\n  g11 *= norm.w;\n  float n00 = dot(g00, vec2(fx.x, fy.x));\n  float n10 = dot(g10, vec2(fx.y, fy.y));\n  float n01 = dot(g01, vec2(fx.z, fy.z));\n  float n11 = dot(g11, vec2(fx.w, fy.w));\n  vec2 fade_xy = fade(Pf.xy);\n  vec2 n_x = mix(vec2(n00, n01), vec2(n10, n11), fade_xy.x);\n  float n_xy = mix(n_x.x, n_x.y, fade_xy.y);\n  return 2.3 * n_xy;\n}\n\n#define M_PI 3.1415926535897932384626433832795\nfloat atan2(in float y, in float x) {\n\tbool xgty = (abs(x) > abs(y));\n\treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n}\nvec3 fromBall(float r, float az, float el) {\n\treturn vec3(\n    r * cos(el) * cos(az),\n    r * cos(el) * sin(az),\n    r * sin(el)\n  );\n}\nvoid toBall(vec3 pos, out float az, out float el) {\n\taz = atan2(pos.y, pos.x);\n\tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n}\n// float az = 0.0;\n// float el = 0.0;\n// vec3 noiser = vec3(lastVel);\n// toBall(noiser, az, el);\n// lastVel.xyz = fromBall(1.0, az, el);\n\nvoid main()\t{\n  vec2 cellSize = 1.0 / resolution.xy;\n  vec2 uv = gl_FragCoord.xy * cellSize;\n\n  vec4 lastVel = texture2D( velocityInfo, uv );\n  vec4 lastPos = texture2D( positionInfo, uv );\n\n  float noisiness = 8.0;\n\n  float az = 0.0;\n  float el = 0.0;\n\n  vec3 noiser = vec3(lastPos) + cnoise(vec2(lastVel * noisiness)) * noisiness * 0.1;\n  toBall(noiser, az, el);\n  \n  lastPos.xyz = fromBall(75.0, az, el);\n\n  lastPos.xyz += lastVel.xyz * noisiness;\n  gl_FragColor = lastPos;\n}\n\n`\n\nvar particleVertexShader = `\n#include <common>\n\nuniform sampler2D positionInfo;\nuniform sampler2D velocityInfo;\n\nattribute vec3 htV3;\nattribute vec3 randV3;\n\nvarying vec4 particleVel;\n\n\n// #define M_PI 3.1415926535897932384626433832795\n\n// float atan2(in float y, in float x) {\n// \tbool xgty = (abs(x) > abs(y));\n// \treturn mix(M_PI/2.0 - atan(x,y), atan(y,x), float(xgty));\n// }\n\n// vec3 fromBall(float r, float az, float el) {\n// \treturn vec3(\n//     r * cos(el) * cos(az),\n//     r * cos(el) * sin(az),\n//     r * sin(el)\n//   );\n// }\n\n// void toBall(vec3 pos, out float az, out float el) {\n// \taz = atan2(pos.y, pos.x);\n// \tel = atan2(pos.z, sqrt(pos.x * pos.x + pos.y * pos.y));\n// }\n\n\nuniform float pointSize;\n\nvoid main() {\n  vec2 cellSize = vec2( 1.0 / WIDTH, 1.0 / WIDTH );\n  #include <uv_vertex>\n\n  // vec3 objectNormal = vec3(\n  //   ( texture2D( fireworkPosition, uv + vec2( - cellSize.x, 0 ) ).x - texture2D( fireworkPosition, uv + vec2( cellSize.x, 0 ) ).x ) * WIDTH / BOUNDS,\n  //   ( texture2D( fireworkPosition, uv + vec2( 0, - cellSize.y ) ).x - texture2D( fireworkPosition, uv + vec2( 0, cellSize.y ) ).x ) * WIDTH / BOUNDS,\n  //   1.0 );\n\n  vec3 objectNormal = vec3(1.0);\n\n  vec4 fireworkCoord = texture2D( positionInfo, uv );\n  vec4 velocityAmount = texture2D( velocityInfo, uv );\n  particleVel = velocityAmount;\n  \n  vec3 newPos = vec3( fireworkCoord.x, fireworkCoord.y, fireworkCoord.z );\n  vec3 transformed = newPos + newPos * htV3;\n  \n  // if (htV3.x == 1.0) {\n  //   newPos = newPos - vec3(velocityAmount);\n  // }\n  \n  gl_PointSize = pointSize;\n\n  // float az = 0.0;\n  // float el = 0.0;\n  // vec3 noiser = transformed;\n  // toBall(noiser, az, el);\n  // vec3 newPos = fromBall(70.0, az, el);\n\n  vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n  vec4 outputPos = projectionMatrix * mvPosition;\n\n  gl_Position = outputPos;\n\n}\n\n`\nvar particleFragmentShader = `\n#include <common>\n\nuniform vec3 mixColor;\nuniform float opacity;\n\nvarying vec4 particleVel;\n\nvoid main() {\n\n  vec4 rainbow = particleVel;\n\n  vec4 outputColor = vec4(\n  \trainbow.x + 0.6,\n  \t(rainbow.y * rainbow.x) + 0.6,\n  \trainbow.y + 0.6,\n    opacity\n  ) * vec4(mixColor, 1.0);\n\n  gl_FragColor = outputColor;\n\n  // gl_FragColor = vec4( vec3(0.0,0.0,1.0) , 0.5);\n}\n\n`\n/* eslint-enable */\n\nfunction particleSea () {\n  var api = {}\n\n  var WIDTH = 256\n  var BOUNDS = 256\n\n  var gpuCompute\n  var positionVariable\n  var velocityVariable\n  var particleShader\n\n  function fillTexture (texture) {\n    // var waterMaxHeight = 10\n    // function noise(x, y, z) {\n    //   var multR = waterMaxHeight\n    //   var mult = 0.025\n    //   var r = 0\n    //   for (var i = 0; i < 15; i++) {\n    //     r += multR * simplex.noise(x * mult, y * mult)\n    //     multR *= 0.53 + 0.025 * i\n    //     mult *= 1.25\n    //   }\n    //   return r\n    // }\n    var pixels = texture.image.data\n    var p = 0\n    for (var j = 0; j < WIDTH; j++) {\n      for (var i = 0; i < WIDTH; i++) {\n        var x = (WIDTH / 2 - i) * 128 / WIDTH\n        var y = (WIDTH / 2 - j) * 128 / WIDTH\n\n        pixels[ p + 0 ] = x\n        pixels[ p + 1 ] = y\n\n        pixels[ p + 2 ] = 0// noise(Math.sin(x), Math.sin(y), 0.0)\n        // pixels[ p + 1 ] = 0\n        // pixels[ p + 2 ] = 0\n        pixels[ p + 3 ] = 0\n        p += 4\n      }\n    }\n  }\n\n  function setupCompute ({ renderer }) {\n    gpuCompute = new GPUComputationRenderer(WIDTH, WIDTH, renderer)\n\n    var positionTexture = gpuCompute.createTexture()\n    fillTexture(positionTexture)\n    positionVariable = gpuCompute.addVariable('positionInfo', particlePositionShader, positionTexture)\n    positionVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    var velocityTexture = gpuCompute.createTexture()\n    velocityVariable = gpuCompute.addVariable('velocityInfo', particleVelocityShader, velocityTexture)\n    velocityVariable.material.defines.BOUNDS = BOUNDS.toFixed(1)\n    velocityVariable.wrapS = THREE.ClampToEdgeWrapping\n    velocityVariable.wrapT = THREE.ClampToEdgeWrapping\n    velocityVariable.material.uniforms.mousePos = {\n      value: new THREE.Vector2(0, 0)\n    }\n\n    api.setMouse = ({ mX, mY, rect }) => {\n      var posMouse = velocityVariable.material.uniforms.mousePos.value\n      var velMouse = positionVariable.material.uniforms.mousePos.value\n      if (rect && typeof mX !== 'undefined' && typeof mY !== 'undefined') {\n        velMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        velMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n        posMouse.x = ((mX - rect.left) / rect.width) * 2 - 1\n        posMouse.y = -((mY - rect.top) / rect.height) * 2 + 1\n\n        velMouse.y *= rect.width / rect.height\n        posMouse.y *= rect.width / rect.height\n        // console.log(mouse)\n      }\n    }\n\n    gpuCompute.setVariableDependencies(positionVariable, [positionVariable, velocityVariable])\n    gpuCompute.setVariableDependencies(velocityVariable, [positionVariable, velocityVariable])\n\n    var error = gpuCompute.init()\n    if (error !== null) {\n      console.error(error)\n    }\n    return {}\n  }\n  var starLightGeo = (nx = 100, ny = 100) => {\n    var geometry = new THREE.BufferGeometry();\n    var headTailValueVec3 = []\n    var indexValueVec3 = []\n    var randomValueVec3 = []\n    var positionValueVec3 = [\n    ];\n    let uvValueVec2 = [];\n    let numLiunes = nx * ny\n    let n = numLiunes;\n    let tempV3 = new THREE.Vector3(0,0,0);\n    let temp2V3 = new THREE.Vector3(0,0,0);\n    \n    for (var iy = 0; iy < ny; iy++) {\n      for (var ix = 0; ix < nx; ix++) {\n        let i = ix + iy * ny;\n        \n        let xx = ix / nx;\n        let yy = iy / ny;\n        \n        let x1 = 0;\n        let y1 = 0;\n        let z1 = 0;\n        \n        let x2 = 0;\n        let y2 = 0;\n        let z2 = 0;\n        \n        tempV3.set(x2, y2, z2);\n        temp2V3.set(0.0, 0.0, 1.0);\n        tempV3.applyAxisAngle(temp2V3, Math.PI * 2.0 * 60 / 360);\n        \n        x2 = tempV3.x\n        y2 = tempV3.y\n        z2 = tempV3.z\n        \n        let r1x = Math.random()\n        let r1y = Math.random()\n        let r1z = Math.random()\n        let r2x = 0\n        let r2y = 0\n        let r2z = 0\n        \n        let idx = i / n\n        \n        if (i % 2 === 0) {\n          uvValueVec2.push(xx, yy);\n      \n          headTailValueVec3.push(1.0, 1.0, 1.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r1x, r1y, r1z);\n          positionValueVec3.push(x1, y1, z1);\n          \n          uvValueVec2.push(xx, yy);\n        \n          headTailValueVec3.push(0.0, 0.0, 0.0);\n          indexValueVec3.push(idx, idx, idx);\n          randomValueVec3.push(r2x, r2y, r2z);\n          positionValueVec3.push(x2, y2, z2);\n        }\n        \n        // if (i % 2 === 0) {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(1.0, 1.0, 1.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r1x, r1y, r1z);\n        //   positionValueVec3.push(x1, y1, z1);\n          \n          \n        // } else {\n        //   uvValueVec2.push(xx, yy);\n        \n        //   headTailValueVec3.push(0.0, 0.0, 0.0);\n        //   indexValueVec3.push(idx, idx, idx);\n        //   randomValueVec3.push(r2x, r2y, r2z);\n        //   positionValueVec3.push(x2, y2, z2);\n        // }\n      }\n    }\n    \n    \n    \n    geometry.addAttribute('uv', new THREE.BufferAttribute(new Float32Array(uvValueVec2), 2));\n    geometry.addAttribute('position', new THREE.BufferAttribute(new Float32Array(positionValueVec3), 3));\n    geometry.addAttribute('randV3', new THREE.BufferAttribute(new Float32Array(randomValueVec3), 3));\n    geometry.addAttribute('idxV3', new THREE.BufferAttribute(new Float32Array(indexValueVec3), 3));\n    geometry.addAttribute('htV3', new THREE.BufferAttribute(new Float32Array(headTailValueVec3), 3));\n    \n    return geometry\n  }\n  \n  function setupScene () {\n    var material = particleShader = new THREE.ShaderMaterial({\n      blending: THREE.AdditiveBlending,\n      depthTest: false,\n      transparent: true,\n      uniforms: {\n        positionInfo: {\n          value: null\n        },\n        velocityInfo: {\n          value: null\n        },\n        mixColor: {\n          value: new THREE.Color(0xffffff)\n        },\n        opacity: {\n          value: 0.14\n        },\n        pointSize: {\n          value: 1.0\n        }\n      },\n      vertexShader: particleVertexShader,\n      fragmentShader: particleFragmentShader // THREE.ShaderChunk[ 'meshphong_frag' ]\n    })\n\n    material.defines.WIDTH = WIDTH.toFixed(1)\n    material.defines.BOUNDS = BOUNDS.toFixed(1)\n\n    var geometry = new THREE.PlaneBufferGeometry(BOUNDS, BOUNDS, WIDTH - 1, WIDTH - 1);\n    \n    geometry = starLightGeo(WIDTH, WIDTH);\n    \n    var points = new THREE.LineSegments(geometry, material);\n    // points = new THREE.Points( geometry, material );\n    // points.rotation.x = -Math.PI / 2 * 0;\n    //points.matrixAutoUpdate = false\n    //points.updateMatrix()\n\n    return {\n      updateColor (v) {\n        material.uniforms.mixColor.value.set(v)\n      },\n      updateOpacity (v) {\n        material.uniforms.opacity.value = v\n      },\n      updatePointSize (v) {\n        material.uniforms.pointSize.value = v\n      },\n      points\n    }\n  }\n\n  function setup ({ renderer }) {\n    setupCompute({ renderer })\n    let scn = setupScene()\n    Object.keys(scn).forEach(kn => {\n      api[kn] = scn[kn]\n    })\n    return api\n  }\n  api.setup = setup\n\n  function render () {\n    // @.@\n    particleShader.uniforms.positionInfo.value = gpuCompute.getCurrentRenderTarget(positionVariable).texture\n    particleShader.uniforms.velocityInfo.value = gpuCompute.getCurrentRenderTarget(velocityVariable).texture\n    gpuCompute.compute()\n  }\n  api.render = render\n\n  return api\n}\n\nResources.ensure(['threejs', 'renderer', 'scene', 'camera', 'gpgpu']).then(() => {\n  let scene = Resources.get('scene');\n  let renderer = Resources.get('renderer');\n  let rootDOM = Resources.get('rootDOM');\n  let camera = Resources.get('camera');\n  \n  let api = particleSea();\n  api.setup({ renderer });\n  \n  let rect = rootDOM.getBoundingClientRect();\n  \n  Input('onTimeline', () => {\n    api.updateColor(getMeta('mixColor'));\n    api.updateOpacity(getMeta('opacity'));\n    api.updatePointSize(getMeta('pointSize'));\n    \n    rect = rootDOM.getBoundingClientRect();\n  }, () => {\n  });\n  \n  rootDOM.addEventListener('mousemove', (evt) => {\n    api.setMouse({ mX: evt.pageX, mY: evt.pageY, rect });\n  }, false);\n  \n  Input('onTimeline', (timeline) => {\n    api.render();\n    OutputAll(timeline)\n  }, () => {\n    setTimeout(() => {\n      scene.add(api.points);\n      //api.points.rotation.y = Math.PI * 0.5;\n      // camera.position.z = 25;\n      // camera.position.y = 75;\n    }, 150)\n  });\n  \n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","meta":[{"id":"_r757809391","label":"mixColor","type":"color","value":"#f3fdf8"},{"id":"_r362955315","label":"opacity","type":"range","min":"0","max":"0.1","step":"0.0001","value":0.0233},{"id":"_r490526344","label":"pointSize","type":"range","min":"0","max":"3","step":"0.01","value":1}],"_id":"5c35236d2b601f001738f193","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9cmodule_223817724340","created_at":"2019-01-08T22:25:49.580Z","updated_at":"2019-01-08T22:25:49.580Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","name":"Main Loop","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n  \n  event.time = performance.now();\n  \n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log(`========  ${box.name} is Cleaned.  ========`)\n// }\n\n","meta":[],"_id":"5c37adf1d864b90e1719379f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769module_608635765892","created_at":"2019-01-10T20:41:21.283Z","updated_at":"2019-01-10T20:41:21.283Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","name":"WebGL Render Engine","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  // outputs,\n  \n  Input,\n  Output\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n\n\nResources.js.need('threejs', [\n\t'https://threejs.org/build/three.min.js',\n  'https://threejs.org/examples/js/controls/OrbitControls.js',\n]);\n\nvar self = this\n\nResources.ensure(['threejs']).then(() => {\n\tvar renderer = new THREE.WebGLRenderer({ preserveDrawingBuffer: true, antialias: true, alpha: true });\n\tvar camera = new THREE.PerspectiveCamera( 75, 1.0, 0.1, 1000 );\n\tvar scene = new THREE.Scene()\n\n\tcamera.position.z = 200;\n\t\n\tvar controls = new THREE.OrbitControls(camera, renderer.domElement);\n\t\n\tvar composer = false\n\tResources.ensure(['composer']).then(() => {\n\t  composer = Resources.get('composer')\n\t});\n  \n  renderer.domElement.style.marginBottom = '-6px';\n  renderer.domElement.style.visibility = 'hidden'\n  \n  Resources.set('scene', scene);\n  Resources.set('renderer', renderer);\n  Resources.set('camera', camera);\n  Resources.get('rootDOM').appendChild(renderer.domElement);\n  \n  Input('onFrame', (v) => {\n    if (scene) {\n      if (composer) {\n        composer.render();\n      } else {\n        renderer.render(scene, camera);\n      }\n    }\n    \n    controls.update()\n    Output('onFrame', v)\n    Output('onScene', scene)\n  })\n  \n  \n  // pass through render signal\n  // Signal.$on(inputs[0].id, (progress) => {\n  //   Signal.$emit(outputs[0].id, progress);\n  //   if (composer) {\n  //     composer.render();\n  //   } else {\n  //     renderer.render(scene, camera);\n  //   }\n  //   controls.update()\n  // });\n  \n  // on resizer\n  var rectCache = {\n    width: 0,\n    height: 0\n  }\n  \n  Input('onResize', (info) => {\n    if (rectCache.width !== info.rect.width || rectCache.height !== info.rect.height) {\n      rectCache.width = info.rect.width\n      rectCache.height = info.rect.height\n      camera.aspect = rectCache.width / rectCache.height;\n    \tcamera.updateProjectionMatrix();\n      renderer.setPixelRatio(window.devicePixelRatio || 1.0);\n      renderer.setSize(rectCache.width, rectCache.height);\n    }\n    renderer.domElement.style.visibility = 'visible';\n    Output('onResize', info);\n  });\n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[],"_id":"5c42585d61be0d267c5c73fb","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","created_at":"2019-01-18T22:51:09.846Z","updated_at":"2019-01-18T22:51:09.846Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","name":"Rainbow CSS Background","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += `linear-gradient(${(degree * 360) % 360}deg, `\n    //gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += `${getMeta('color')},`\n    gradBg += `${getMeta('color2')}`\n    // gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n","meta":[{"id":"_r313732479","label":"color","type":"color","value":"#00ffac"},{"id":"_r852764851","label":"color2","type":"color","value":"#00d8f9"}],"_id":"5c42831709fbab0ec72c4fa7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17module_794457425519","created_at":"2019-01-19T01:53:27.532Z","updated_at":"2019-01-19T01:53:27.532Z","__v":0},{"pos":{"x":30,"y":30},"size":{"w":200,"h":40},"isTemplate":true,"isGallery":false,"oldID":"5c4f7468226b990017249754","name":"Inst Whammy WebM Encoder ","bg":"","src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  // inputs,\n  outputs,\n  \n  Input,\n  Output,\n  OutputAll,\n  getMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\nwindow.global = window;\n\nResources.js.need('whammy', [\n\t'https://cdn.jsdelivr.net/npm/whammy@0.0.1/whammy.min.js'\n]);\n\n\n\nResources.ensure(['whammy', 'renderer']).then(() => {\n  let encoder = new Whammy.Video(60)\n  let evt = {\n    time: 0,\n    total: getMeta('secondsToRecrod') * 1000,\n    encoder\n  }\n  \n  let canRecord = outputs[0].socket.to !== '' && !!outputs[0].socket.to;\n  \n  \n  let root = Resources.get('rootDOM');\n  \n  function shouldContinue (evt) {\n    return evt.time < evt.total\n  }\n  let span = document.createElement('a')\n  span.style.position = 'fixed';\n  span.style.top = '0px';\n  span.style.left = '0px';\n  span.style.width = '100%';\n  span.style.backgroundColor = 'white';\n  \n  let renderer = Resources.get('renderer');\n  \n  let tout = 0\n  function loop () {\n    Output('onClock', evt)  \n    evt.time += 1000 / 60\n    span.innerHTML = (evt.time / evt.total * 100).toFixed(2) + '% recorded'\n    if (shouldContinue(evt)) {\n      root.appendChild(span);\n      let link = renderer.domElement.toDataURL('image/webp');\n      evt.encoder.add(link)\n      tout = setTimeout(loop, 0)  \n    } else {\n      evt.encoder.compile(false, (webm) => {\n        console.log(webm)\n        let a = document.createElement('a')\n        a.href = URL.createObjectURL(webm)\n        a.download = 'video'\n        a.style.position = 'fixed';\n        a.style.top = '0px';\n        a.style.left = '0px';\n        a.style.width = '100%';\n        a.style.backgroundColor = 'white';\n        a.innerText = 'Donwload'\n        \n        console.log(root);\n        root.appendChild(a)\n      })\n    }\n  }\n  \n  //Resources.set('recordReady', encoder)\n  \n  if (canRecord) {\n    loop()\n  }\n  \n});\n\n// this.onClean = () => {\n//   console.log('onClean', box.id);\n//   Resources.ensure(['renderer']).then(() => {\n//     let renderer = Resources.get('renderer')\n//     Resources.get('rootDOM').removeChild(renderer.domElement)\n//   });\n// }\n","meta":[{"id":"_r919847076","label":"secondsToRecrod","type":"range","min":"0","max":"15","step":0.1,"value":15}],"_id":"5c4f7494226b990017249756","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c4f6e9f226b990017249712module_291302930050","created_at":"2019-01-28T21:31:00.253Z","updated_at":"2019-01-28T21:31:00.253Z","__v":0}],"connectors":[{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_27453514535","to":""},"idx":1546381823618,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_27453514535","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_416771796454","to":""},"idx":1546381823621,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"onTimeline","color":"#a8ceff","_id":"5c2be9ff4a54460017ee57c5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_416771796454","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75684660185","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_173129244229","to":""},"idx":1546381823622,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f7976169000174511ce","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75684660185","name":"uiControl","color":"#ffda00","_id":"5c2be9ff4a54460017ee57c6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_173129244229","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_81012179446","to":""},"idx":1546382973297,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline3","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_81012179446","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_99790552027","to":""},"idx":1546382477540,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5816","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_99790552027","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_645880341729","to":""},"idx":1546382455400,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize2","color":"#ff7cfa","_id":"5c2bec774a54460017ee5800","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_645880341729","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_612662920218","to":""},"idx":1546382470374,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_612662920218","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_996465585796","to":""},"idx":1546382455403,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"input","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee5802","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_996465585796","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_519663161578","to":""},"idx":1546382464830,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5805","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_519663161578","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_334622077167","to":""},"idx":1546382464834,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onResize","color":"#ff7cfa","_id":"5c2bec804a54460017ee5807","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_334622077167","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_324063758928","to":""},"idx":1546382470372,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee580b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_324063758928","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_523859359836","to":""},"idx":1546382470376,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_523859359836","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_759892384697","to":""},"idx":1546382973305,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline7","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5833","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_759892384697","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_219566954042","to":""},"idx":1546382470379,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onTimeline","color":"#a8ceff","_id":"5c2bec864a54460017ee580f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_219566954042","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_978315655837","to":""},"idx":1546382477531,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5811","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_978315655837","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1002887713637","to":""},"idx":1546382470368,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onFrame","color":"#05f1de","_id":"5c2bec864a54460017ee5809","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1002887713637","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_123487416285","to":""},"idx":1546382973299,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline4","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5830","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_123487416285","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_303554106652","to":""},"idx":1546382477536,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"onTimeline","color":"#a8ceff","_id":"5c2bec8d4a54460017ee5813","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_303554106652","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_875441463206","to":""},"idx":1546382973294,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline1","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_875441463206","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_321012926786","to":""},"idx":1546382973301,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline5","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5831","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_321012926786","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_695713574221","to":""},"idx":1546382470377,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"output","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"my socket","color":"#e4e3e5","_id":"5c2bec864a54460017ee580e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_695713574221","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_755527812656","to":""},"idx":1546382477534,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"uiControls","color":"#ffda00","_id":"5c2bec8d4a54460017ee5812","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_755527812656","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_451527354005","to":""},"idx":1546382455401,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize3","color":"#ff7cfa","_id":"5c2bec774a54460017ee5801","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_451527354005","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_584821513880","to":""},"idx":1546382973306,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"input","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onFrame","color":"#05f1de","_id":"5c2bee7d4a54460017ee5834","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_584821513880","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_745027424560","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_995818899006","to":""},"idx":1546382470371,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21785","type":"input","modID":"_hive_5c29c764e083af0017f21757module_745027424560","name":"onResize","color":"#ff7cfa","_id":"5c2bec864a54460017ee580a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_995818899006","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_693769435438","to":""},"idx":1546382464827,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"input","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5804","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_693769435438","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_248879527054","to":""},"idx":1546382973296,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline2","color":"#a8ceff","_id":"5c2bee7d4a54460017ee582e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_248879527054","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_738903359977","to":""},"idx":1546382455398,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"resize1","color":"#ff7cfa","_id":"5c2bec774a54460017ee57ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_738903359977","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_601770780071","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_1019523524659","to":""},"idx":1546382464832,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21784","type":"output","modID":"_hive_5c29c764e083af0017f21757module_601770780071","name":"onFrame","color":"#00f1de","_id":"5c2bec804a54460017ee5806","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_1019523524659","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_921698012366","to":""},"idx":1546382477541,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"input","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5817","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_921698012366","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_998063926878","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_238584382434","to":""},"idx":1546382973303,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21782","type":"output","modID":"_hive_5c29c764e083af0017f21757module_998063926878","name":"onTimeline6","color":"#a8ceff","_id":"5c2bee7d4a54460017ee5832","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_238584382434","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_33359812855","to":""},"idx":1546382477539,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5815","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_33359812855","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_75273206587","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_859459509584","to":""},"idx":1546382455395,"isTemplate":true,"isGallery":false,"oldID":"5c29c764e083af0017f21781","type":"output","modID":"_hive_5c29c764e083af0017f21757module_75273206587","name":"onFrame","color":"#05f1de","_id":"5c2bec774a54460017ee57fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_859459509584","__v":0},{"mod":{"from":"_hive_5c29c764e083af0017f21757module_615105680269","to":""},"socket":{"from":"_hive_5c29c764e083af0017f21757socket_468455196847","to":""},"idx":1546382477538,"isTemplate":true,"isGallery":false,"oldID":"5c2a8f8376169000174511d2","type":"output","modID":"_hive_5c29c764e083af0017f21757module_615105680269","name":"my socket","color":"#e4e3e5","_id":"5c2bec8d4a54460017ee5814","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c29c764e083af0017f21757socket_468455196847","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_677938423842","to":""},"idx":1546392960238,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_677938423842","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_254873398863","to":""},"idx":1546400930296,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onFrame","color":"#05f1de","_id":"5c2c34a2efaf8e0017b43a14","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_254873398863","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_306298862496","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_638419508312","to":""},"idx":1546392960240,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586f","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_306298862496","name":"onTimeline","color":"#a8ceff","_id":"5c2c1580aee6de001793bf2d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_638419508312","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_33801279554","to":""},"idx":1546400930288,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline3","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_33801279554","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_383438085145","to":""},"idx":1546400930289,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline4","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a10","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_383438085145","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_530059647969","to":""},"idx":1546400930282,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline1","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_530059647969","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_199945879640","to":""},"idx":1546400930293,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline6","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a12","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_199945879640","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_86253422236","to":""},"idx":1546400286714,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onClock","color":"#e9ca38","_id":"5c2c321eefaf8e0017b43a0a","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_86253422236","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_957027991806","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_939492560450","to":""},"idx":1546400286716,"isTemplate":true,"isGallery":false,"oldID":"5c2c181aaee6de001793bf2e","type":"input","modID":"_hive_5c2bf1674a54460017ee5842module_957027991806","name":"onStart","color":"#e4e3e5","_id":"5c2c321fefaf8e0017b43a0b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_939492560450","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_208648917120","to":""},"idx":1546400930285,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline2","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a0e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_208648917120","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_514979943166","to":""},"idx":1546400930292,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline5","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a11","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_514979943166","__v":0},{"mod":{"from":"_hive_5c2bf1674a54460017ee5842module_1052875161852","to":""},"socket":{"from":"_hive_5c2bf1674a54460017ee5842socket_700031301423","to":""},"idx":1546400930294,"isTemplate":true,"isGallery":false,"oldID":"5c2bf1674a54460017ee586c","type":"output","modID":"_hive_5c2bf1674a54460017ee5842module_1052875161852","name":"onTimeline7","color":"#a8ceff","_id":"5c2c34a2efaf8e0017b43a13","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2bf1674a54460017ee5842socket_700031301423","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","to":""},"idx":1546428436835,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onStart","color":"#e4e3e5","_id":"5c2ca015fed4f60017795c69","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_1066409208681","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_147401409991","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","to":""},"idx":1546428436832,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b96","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_147401409991","name":"onClock","color":"#e9ca38","_id":"5c2ca014fed4f60017795c68","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_187604180831","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","to":""},"idx":1546552236044,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6140","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_129020276620","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","to":""},"idx":1546548171246,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30f0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_982739412677","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","to":""},"idx":1546552236037,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613c","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_8955128244","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","to":""},"idx":1546552236041,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613e","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_517841294434","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","to":""},"idx":1546552236046,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a6141","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_176161262759","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","to":""},"idx":1546552236043,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"my socket","color":"#e4e3e5","_id":"5c2e83aca2a2ac00177a613f","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1036660437746","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","to":""},"idx":1546552236039,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613d","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_1033827577408","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","to":""},"idx":1546548171228,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30eb","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_654191274205","name":"onTimeline","color":"#a8ceff","_id":"5c2e73cbb5f7ed00178e30ef","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_182627824422","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","to":""},"idx":1546552236035,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30ec","type":"input","modID":"_hive_5c2e730ab5f7ed00178e30b8module_332674900834","name":"onTimeline","color":"#a8ceff","_id":"5c2e83aca2a2ac00177a613b","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_573401134967","__v":0},{"mod":{"from":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","to":""},"socket":{"from":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","to":""},"idx":1546669001835,"isTemplate":true,"isGallery":false,"oldID":"5c2e730ab5f7ed00178e30e8","type":"output","modID":"_hive_5c2e730ab5f7ed00178e30b8module_616629240685","name":"onClock","color":"#e9ca38","_id":"5c304bc90596a513ed715077","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2e730ab5f7ed00178e30b8socket_610834825200","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","to":""},"idx":1546685310202,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"output","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117276","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_550477945581","__v":0},{"mod":{"from":"_hive_5c2c4043f5aaf90017377b62module_950943352397","to":""},"socket":{"from":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","to":""},"idx":1546685310199,"isTemplate":true,"isGallery":false,"oldID":"5c2c4043f5aaf90017377b95","type":"input","modID":"_hive_5c2c4043f5aaf90017377b62module_950943352397","name":"onTimeline","color":"#a8ceff","_id":"5c308b7ecd5a5f0f21117275","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c2c4043f5aaf90017377b62socket_817879814928","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_145251118083","to":""},"idx":1546986349763,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"input","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f194","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_145251118083","created_at":"2019-01-08T22:25:49.864Z","updated_at":"2019-01-08T22:25:49.864Z","__v":0},{"mod":{"from":"_hive_5c34877026d465001733ca9cmodule_223817724340","to":""},"socket":{"from":"_hive_5c34877026d465001733ca9csocket_402320691394","to":""},"idx":1546986349767,"isTemplate":true,"isGallery":false,"oldID":"5c34877026d465001733cad1","type":"output","modID":"_hive_5c34877026d465001733ca9cmodule_223817724340","name":"onTimeline","color":"#a8ceff","_id":"5c35236d2b601f001738f195","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c34877026d465001733ca9csocket_402320691394","created_at":"2019-01-08T22:25:49.886Z","updated_at":"2019-01-08T22:25:49.886Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_432682571310","to":""},"idx":1547152881556,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf1d864b90e171937a0","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_432682571310","created_at":"2019-01-10T20:41:21.558Z","updated_at":"2019-01-10T20:41:21.558Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_951913996296","to":""},"idx":1547152881560,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a3","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_951913996296","created_at":"2019-01-10T20:41:22.014Z","updated_at":"2019-01-10T20:41:22.014Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_811060709425","to":""},"idx":1547152881561,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a4","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_811060709425","created_at":"2019-01-10T20:41:22.015Z","updated_at":"2019-01-10T20:41:22.015Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_298173305401","to":""},"idx":1547152881559,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a2","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_298173305401","created_at":"2019-01-10T20:41:22.013Z","updated_at":"2019-01-10T20:41:22.013Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_537577535677","to":""},"idx":1547152881563,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a5","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_537577535677","created_at":"2019-01-10T20:41:22.018Z","updated_at":"2019-01-10T20:41:22.018Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_999877641099","to":""},"idx":1547152881558,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a1","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_999877641099","created_at":"2019-01-10T20:41:22.011Z","updated_at":"2019-01-10T20:41:22.011Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_966742041419","to":""},"idx":1547152881565,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"input","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onClock","color":"#eaca38","_id":"5c37adf2d864b90e171937a7","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_966742041419","created_at":"2019-01-10T20:41:22.023Z","updated_at":"2019-01-10T20:41:22.023Z","__v":0},{"mod":{"from":"_hive_5c37ad95d864b90e17193769module_608635765892","to":""},"socket":{"from":"_hive_5c37ad95d864b90e17193769socket_1020478642380","to":""},"idx":1547152881564,"isTemplate":true,"isGallery":false,"oldID":"5c37ad96d864b90e17193798","type":"output","modID":"_hive_5c37ad95d864b90e17193769module_608635765892","name":"onFrame","color":"#00f1de","_id":"5c37adf2d864b90e171937a6","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c37ad95d864b90e17193769socket_1020478642380","created_at":"2019-01-10T20:41:22.022Z","updated_at":"2019-01-10T20:41:22.022Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","to":""},"idx":1547851870081,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fc","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_557351884560","created_at":"2019-01-18T22:51:10.077Z","updated_at":"2019-01-18T22:51:10.077Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","to":""},"idx":1547851870082,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"input","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73fd","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_676566235766","created_at":"2019-01-18T22:51:10.079Z","updated_at":"2019-01-18T22:51:10.079Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","to":""},"idx":1547851870084,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onResize","color":"#ff7cfa","_id":"5c42585e61be0d267c5c73ff","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_923702591480","created_at":"2019-01-18T22:51:10.084Z","updated_at":"2019-01-18T22:51:10.084Z","__v":0},{"mod":{"from":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","to":""},"socket":{"from":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","to":""},"idx":1547851870083,"isTemplate":true,"isGallery":false,"oldID":"5c3526d22b601f001738f1fc","type":"output","modID":"_hive_5c3526d22b601f001738f1ccmodule_693531521235","name":"onFrame","color":"#00f1de","_id":"5c42585e61be0d267c5c73fe","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c3526d22b601f001738f1ccsocket_229465412191","created_at":"2019-01-18T22:51:10.082Z","updated_at":"2019-01-18T22:51:10.082Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_937448995212","to":""},"idx":1547862807853,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa8","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_937448995212","created_at":"2019-01-19T01:53:27.856Z","updated_at":"2019-01-19T01:53:27.856Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_706467872897","to":""},"idx":1547862807855,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fa9","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_706467872897","created_at":"2019-01-19T01:53:27.865Z","updated_at":"2019-01-19T01:53:27.865Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_586583895383","to":""},"idx":1547862807857,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faa","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_586583895383","created_at":"2019-01-19T01:53:27.869Z","updated_at":"2019-01-19T01:53:27.869Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_674479069285","to":""},"idx":1547862807859,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fac","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_674479069285","created_at":"2019-01-19T01:53:27.875Z","updated_at":"2019-01-19T01:53:27.875Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","to":""},"idx":1547862807858,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"input","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fab","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_1072325700233","created_at":"2019-01-19T01:53:27.872Z","updated_at":"2019-01-19T01:53:27.872Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_150219820209","to":""},"idx":1547862807860,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fad","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_150219820209","created_at":"2019-01-19T01:53:27.878Z","updated_at":"2019-01-19T01:53:27.878Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_303024987482","to":""},"idx":1547862807862,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4faf","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_303024987482","created_at":"2019-01-19T01:53:27.883Z","updated_at":"2019-01-19T01:53:27.883Z","__v":0},{"mod":{"from":"_hive_5c40d4f969da031de2a3df17module_794457425519","to":""},"socket":{"from":"_hive_5c40d4f969da031de2a3df17socket_321473473110","to":""},"idx":1547862807861,"isTemplate":true,"isGallery":false,"oldID":"5c40d5b569da031de2a3df3c","type":"output","modID":"_hive_5c40d4f969da031de2a3df17module_794457425519","name":"my socket","color":"#e4e3e5","_id":"5c42831709fbab0ec72c4fae","userID":"5c1daecd6168c20017eec65e","projectID":"template","id":"_hive_5c40d4f969da031de2a3df17socket_321473473110","created_at":"2019-01-19T01:53:27.880Z","updated_at":"2019-01-19T01:53:27.880Z","__v":0}]}},"versions":[],"sessionID":"_c1ttvnd7b","projectID":"_c1ttvnd7b","userID":"_c1ttvnd7b"};

/***/ }),

/***/ "85f2":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("454f");

/***/ }),

/***/ "86b8":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Cable_vue_vue_type_style_index_0_id_7412da8d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("302a");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Cable_vue_vue_type_style_index_0_id_7412da8d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Cable_vue_vue_type_style_index_0_id_7412da8d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Cable_vue_vue_type_style_index_0_id_7412da8d_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "86cc":
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__("cb7c");
var IE8_DOM_DEFINE = __webpack_require__("c69a");
var toPrimitive = __webpack_require__("6a99");
var dP = Object.defineProperty;

exports.f = __webpack_require__("9e1e") ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ "8aae":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("32a6");
module.exports = __webpack_require__("584a").Object.keys;


/***/ }),

/***/ "8b8a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PreviewFrame_vue_vue_type_style_index_0_id_798a9402_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("63f2");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PreviewFrame_vue_vue_type_style_index_0_id_798a9402_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PreviewFrame_vue_vue_type_style_index_0_id_798a9402_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_PreviewFrame_vue_vue_type_style_index_0_id_798a9402_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "8b97":
/***/ (function(module, exports, __webpack_require__) {

// Works with __proto__ only. Old v8 can't work with null proto objects.
/* eslint-disable no-proto */
var isObject = __webpack_require__("d3f4");
var anObject = __webpack_require__("cb7c");
var check = function (O, proto) {
  anObject(O);
  if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!");
};
module.exports = {
  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
    function (test, buggy, set) {
      try {
        set = __webpack_require__("9b43")(Function.call, __webpack_require__("11e9").f(Object.prototype, '__proto__').set, 2);
        set(test, []);
        buggy = !(test instanceof Array);
      } catch (e) { buggy = true; }
      return function setPrototypeOf(O, proto) {
        check(O, proto);
        if (buggy) O.__proto__ = proto;
        else set(O, proto);
        return O;
      };
    }({}, false) : undefined),
  check: check
};


/***/ }),

/***/ "8bbf":
/***/ (function(module, exports) {

module.exports = require("vue");

/***/ }),

/***/ "8bd4":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Apps/samsam.vue?vue&type=template&id=dc5a5c6a&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full window-app"},[_c('titlebar',{attrs:{"portal":_vm.portal,"uiAPI":_vm.uiAPI},on:{"click":function($event){_vm.$emit('activated')}}},[_vm._v("\n    Animation with JSON\n  ")]),_c('div',{staticClass:"content-div",on:{"click":function($event){_vm.$emit('activated')}}},[(_vm.doc)?_c('animator',{attrs:{"doc":_vm.doc}}):_vm._e()],1)],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/components/Apps/samsam.vue?vue&type=template&id=dc5a5c6a&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js + 1 modules
var objectSpread = __webpack_require__("cebc");

// EXTERNAL MODULE: ./src/lib/index.js
var lib = __webpack_require__("d75a");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/Apps/samsam.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var samsamvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {},
    portal: {}
  },
  components: Object(objectSpread["a" /* default */])({}, lib["a" /* default */]),
  data: function data() {
    return {
      doc: false,
      rr: Math.random()
    };
  },
  mounted: function mounted() {
    /* eslint-disable */
    this.doc = __webpack_require__("b57b");
    /* eslint-enable */
  },
  computed: {}
});
// CONCATENATED MODULE: ./src/components/Apps/samsam.vue?vue&type=script&lang=js&
 /* harmony default export */ var Apps_samsamvue_type_script_lang_js_ = (samsamvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/components/Apps/samsam.vue?vue&type=style&index=0&id=dc5a5c6a&scoped=true&lang=css&
var samsamvue_type_style_index_0_id_dc5a5c6a_scoped_true_lang_css_ = __webpack_require__("8392");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/Apps/samsam.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  Apps_samsamvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "dc5a5c6a",
  null
  
)

/* harmony default export */ var samsam = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "8c65":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/modEdit.vue?vue&type=template&id=88794ac2&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full quotes-app"},[_c('TitleBar',{attrs:{"portal":_vm.portal,"uiAPI":_vm.uiAPI},on:{"click":function($event){_vm.$emit('activated')}}},[(_vm.currentMod)?_c('span',[_vm._v("\n      "+_vm._s(_vm.currentMod.name)+":\n    ")]):_vm._e(),_c('span',{staticStyle:{"cursor":"pointer","margin":"0px 6px","text-decoration":"underline"},on:{"click":function($event){_vm.view = 'inspect'}}},[_vm._v("Insepctor")]),_c('span',{staticStyle:{"cursor":"pointer","margin":"0px 6px","text-decoration":"underline"},on:{"click":function($event){_vm.view = 'remix'}}},[_vm._v("Remixer")]),_c('span',{staticStyle:{"cursor":"pointer","margin":"0px 6px","text-decoration":"underline"},on:{"click":function($event){_vm.view = 'code'}}},[_vm._v("Code")])]),_c('div',{staticClass:"content-div",on:{"click":function($event){_vm.$emit('activated')}}},[_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.view === 'remix'),expression:"view === 'remix'"}],staticClass:"full"},[(_vm.currentMod && _vm.currentMod.meta.length === 0)?_c('div',[_vm._v("\n        Effect Settings, choose to use\n        "),_c('button',{directives:[{name:"show",rawName:"v-show",value:(_vm.currentMod.meta.length === 0),expression:"currentMod.meta.length === 0"}],on:{"click":function($event){_vm.addRange()}}},[_vm._v("Value Sliders")]),_vm._v("\n        or\n        "),_c('button',{directives:[{name:"show",rawName:"v-show",value:(_vm.currentMod.meta.length === 0),expression:"currentMod.meta.length === 0"}],on:{"click":function($event){_vm.addTimelineTrack()}}},[_vm._v("Timeline")])]):_vm._e(),(_vm.view === 'remix' && _vm.currentMod && _vm.remixmode === 'timeline')?_c('RemixTimeline',{attrs:{"outputs":_vm.outputs,"currentMod":_vm.currentMod,"portal":_vm.portal},on:{"addTimelineTrack":_vm.addTimelineTrack,"removeMeta":_vm.removeMeta,"saveMeta":_vm.saveMeta,"saveModule":_vm.saveModule}}):_vm._e(),(_vm.view === 'remix' && _vm.currentMod && _vm.remixmode === 'values')?_c('RemixValues',{attrs:{"currentMod":_vm.currentMod,"portal":_vm.portal},on:{"addRange":_vm.addRange,"addColor":_vm.addColor,"removeMeta":_vm.removeMeta,"saveMeta":_vm.saveMeta}}):_vm._e()],1),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.view === 'code'),expression:"view === 'code'"}],ref:"editor",staticClass:"full"}),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.view === 'inspect'),expression:"view === 'inspect'"}]},[(_vm.currentMod && _vm.inputs && _vm.outputs)?_c('div',{staticStyle:{"width":"90%","margin":"0px 5%"}},[_c('h1',[_vm._v("Inspector")]),(_vm.currentMod)?_c('h2',[_vm._v(_vm._s(_vm.currentMod.name))]):_vm._e(),(_vm.currentMod)?_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.currentMod.name),expression:"currentMod.name"}],staticStyle:{"width":"400px"},attrs:{"type":"text"},domProps:{"value":(_vm.currentMod.name)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.currentMod, "name", $event.target.value)},function($event){_vm.saveModuleBox()}]}}):_vm._e(),_c('h2',[_vm._v("\n          I/O Input Sockets\n        ")]),_c('ul',[_vm._l((_vm.inputs),function(input,ii){return _c('li',{key:input._id},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(input.color),expression:"input.color"}],staticStyle:{"width":"20px"},attrs:{"type":"color"},domProps:{"value":(input.color)},on:{"change":function($event){_vm.saveConnection(input)},"input":function($event){if($event.target.composing){ return; }_vm.$set(input, "color", $event.target.value)}}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(input.color),expression:"input.color"}],staticStyle:{"width":"40px"},attrs:{"type":"text"},domProps:{"value":(input.color)},on:{"change":function($event){_vm.saveConnection(input)},"input":function($event){if($event.target.composing){ return; }_vm.$set(input, "color", $event.target.value)}}}),_vm._v("\n            IO.Input("+_vm._s(input.name === 'my socket' ? ("" + ii) : ("'" + (input.name) + "'"))+", handler);\n            "),_c('input',{directives:[{name:"model",rawName:"v-model",value:(input.name),expression:"input.name"}],attrs:{"type":"text"},domProps:{"value":(input.name)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(input, "name", $event.target.value)},function($event){_vm.saveConnection(input)}]}}),_c('button',{staticClass:"en-btn en-btn-danger",on:{"click":function($event){_vm.removeSocket(input)}}},[_vm._v("-")])])}),_c('li',[_c('button',{staticClass:"en-btn en-btn-successful",on:{"click":function($event){_vm.addSocket(_vm.currentMod, 'input')}}},[_vm._v("+")])])],2),_c('h2',[_vm._v("\n          I/O Output Sockets\n        ")]),_c('ul',[_vm._l((_vm.outputs),function(output,ii){return _c('li',{key:output._id},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(output.color),expression:"output.color"}],staticStyle:{"width":"20px"},attrs:{"type":"color"},domProps:{"value":(output.color)},on:{"change":function($event){_vm.saveConnection(output)},"input":function($event){if($event.target.composing){ return; }_vm.$set(output, "color", $event.target.value)}}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(output.color),expression:"output.color"}],staticStyle:{"width":"40px"},attrs:{"type":"text"},domProps:{"value":(output.color)},on:{"change":function($event){_vm.saveConnection(output)},"input":function($event){if($event.target.composing){ return; }_vm.$set(output, "color", $event.target.value)}}}),_vm._v("\n            IO.Output("+_vm._s(output.name === 'my socket' ? ("" + ii) : ("'" + (output.name) + "'"))+", data);\n            "),_c('input',{directives:[{name:"model",rawName:"v-model",value:(output.name),expression:"output.name"}],attrs:{"type":"text"},domProps:{"value":(output.name)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(output, "name", $event.target.value)},function($event){_vm.saveConnection(output)}]}}),_c('button',{staticClass:"en-btn en-btn-danger",on:{"click":function($event){_vm.removeSocket(output)}}},[_vm._v("-")])])}),_c('li',[_c('button',{staticClass:"en-btn en-btn-successful",on:{"click":function($event){_vm.addSocket(_vm.currentMod, 'output')}}},[_vm._v("+")])])],2),_c('h1',[_vm._v("Current Module")]),_c('pre',[_vm._v(_vm._s(_vm.currentMod))]),_c('h1',[_vm._v("Portal")]),_c('pre',[_vm._v(_vm._s(_vm.portal))]),_c('h1',[_vm._v("\n          Module I/O Inspector\n        ")]),_c('h2',[_vm._v("Active & Connected Inputs")]),_c('pre',[_vm._v(_vm._s(_vm.activeInputs))]),_c('h2',[_vm._v("Active & Connected Outpus")]),_c('pre',[_vm._v(_vm._s(_vm.activeOutputs))])]):_vm._e()])])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/modEdit/modEdit.vue?vue&type=template&id=88794ac2&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.sort.js
var es6_array_sort = __webpack_require__("55dd");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find.js
var es6_array_find = __webpack_require__("7514");

// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js
var web_dom_iterable = __webpack_require__("ac6a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find-index.js
var es6_array_find_index = __webpack_require__("20d6");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.number.constructor.js
var es6_number_constructor = __webpack_require__("c5f6");

// EXTERNAL MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue + 4 modules
var TitleBar = __webpack_require__("d654");

// EXTERNAL MODULE: ./node_modules/brace/index.js
var brace = __webpack_require__("061c");

// EXTERNAL MODULE: ./node_modules/brace/mode/javascript.js
var javascript = __webpack_require__("bb36");

// EXTERNAL MODULE: ./node_modules/brace/mode/glsl.js
var glsl = __webpack_require__("092b");

// EXTERNAL MODULE: ./node_modules/brace/theme/monokai.js
var monokai = __webpack_require__("14d4");

// EXTERNAL MODULE: ./node_modules/brace/ext/searchbox.js
var searchbox = __webpack_require__("56e3");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/RemixTimeline.vue?vue&type=template&id=c33fec0a&scoped=true&
var RemixTimelinevue_type_template_id_c33fec0a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.currentMod)?_c('div',{staticClass:"adders"},[(_vm.currentMod.meta.length > 0)?_c('div',[_c('span',{staticClass:"linker",on:{"click":function($event){_vm.addTimelineTrack()}}},[_vm._v("Add TimeTrack")]),(_vm.currentMod.meta.length === 1)?_c('span',[_c('span',{staticClass:"linker",on:{"click":function($event){_vm.removeMeta(_vm.currentMod.meta[0])}}},[_vm._v("Reset")])]):_vm._e(),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.timeMode = 'listen'}}},[_vm._v("Play")]),(_vm.currentMod.meta.length >= 1)?_c('span',[_c('span',{staticClass:"linker",on:{"click":_vm.removeAll}},[_vm._v("Remove all")]),_vm._v("\n        Total Length: "),_c('input',{staticClass:"values",attrs:{"type":"text"},domProps:{"value":_vm.currentMod.meta[0].value.totalTime},on:{"input":_vm.updateTime}}),_vm._v("\n        Zoom: "),_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.baseWidth),expression:"baseWidth"}],staticClass:"values",attrs:{"type":"text"},domProps:{"value":(_vm.baseWidth)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.baseWidth=$event.target.value},_vm.updateZoom]}}),_vm._v("\n        Auto play:"),_c('input',{directives:[{name:"model",rawName:"v-model",value:(_vm.autoRestorePlay),expression:"autoRestorePlay"}],attrs:{"type":"checkbox"},domProps:{"checked":Array.isArray(_vm.autoRestorePlay)?_vm._i(_vm.autoRestorePlay,null)>-1:(_vm.autoRestorePlay)},on:{"change":function($event){var $$a=_vm.autoRestorePlay,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.autoRestorePlay=$$a.concat([$$v]))}else{$$i>-1&&(_vm.autoRestorePlay=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.autoRestorePlay=$$c}}}})]):_vm._e()]):_vm._e()]):_vm._e(),_c('div',[(_vm.currentMod && _vm.refresher)?_c('Timeline',{attrs:{"baseWidth":_vm.baseWidth,"timeMode":_vm.timeMode,"currentMod":_vm.currentMod,"saveMeta":_vm.saveMeta,"outputs":_vm.outputs,"refresher":_vm.refresher,"meta":_vm.currentMod.meta,"win":_vm.portal.win},on:{"timeMode":function (v) { _vm.timeMode = v },"saveModule":_vm.saveModule,"removeMeta":_vm.removeMeta}}):_vm._e()],1)])}
var RemixTimelinevue_type_template_id_c33fec0a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixTimeline.vue?vue&type=template&id=c33fec0a&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/Timeline.vue?vue&type=template&id=3d4f8406&scoped=true&
var Timelinevue_type_template_id_3d4f8406_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{ref:"svg",attrs:{"width":_vm.win.width - 2,"height":_vm.win.height - _vm.marginTop,"viewBox":((_vm.view.x.toFixed(1)) + " " + ((_vm.view.y).toFixed(1)) + " " + (_vm.win.width) + " " + (_vm.win.height - _vm.marginTop))}},_vm._l((_vm.timetracks),function(m,mi){return (_vm.refresher)?_c('g',{key:m.id},[_c('TimeTrack',{attrs:{"baseWidth":_vm.baseWidth,"currentMod":_vm.currentMod,"timeMode":_vm.timeMode,"win":_vm.win,"outputs":_vm.outputs,"view":_vm.view,"marginLeft":_vm.marginLeft,"index":mi,"metaItem":m,"total":_vm.timetracks.length},on:{"timeMode":function (v) { _vm.$emit('timeMode', v) },"saveModule":_vm.saveModule,"save":_vm.saveModule,"remove":function($event){_vm.removeMeta(m)}}})],1):_vm._e()}),0)}
var Timelinevue_type_template_id_3d4f8406_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/modEdit/Timeline.vue?vue&type=template&id=3d4f8406&scoped=true&

// EXTERNAL MODULE: ./node_modules/animejs/lib/anime.es.js
var anime_es = __webpack_require__("1209");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/TimeTrack.vue?vue&type=template&id=ce3c328a&scoped=true&
var TimeTrackvue_type_template_id_ce3c328a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('rect',{attrs:{"fill":_vm.ui.fill,"width":_vm.ui.w,"height":_vm.ui.h,"x":_vm.ui.x,"y":_vm.ui.y}}),_c('rect',{attrs:{"fill":_vm.limit.fill,"width":_vm.limit.w,"height":_vm.limit.h,"x":_vm.limit.x,"y":_vm.limit.y}}),(_vm.index > (_vm.outputs.length - 1))?_c('g',[_c('text',{staticClass:"linker",attrs:{"height":_vm.ui.h,"x":0 + 50 + 20,"y":_vm.ui.y + 23 / 2},on:{"click":_vm.changeLabel}},[_vm._v(_vm._s(_vm.metaItem.label))])]):_c('g',[_c('text',{staticClass:"linker",attrs:{"height":_vm.ui.h,"x":0 + 50 + 20,"y":_vm.ui.y + 23 / 2},on:{"click":_vm.changeLabel}},[_vm._v(_vm._s(_vm.metaItem.label))])]),(_vm.ii === 0)?_c('text',{staticClass:"linker",attrs:{"height":_vm.ui.h,"x":5,"y":_vm.ui.y + 23 / 2},on:{"click":_vm.remove}},[_vm._v("Remove")]):_vm._e(),(_vm.ii === 1)?_c('text',{staticClass:"linker",attrs:{"height":_vm.ui.h,"x":5,"y":_vm.ui.y + 23 / 2},on:{"click":_vm.remove}},[_vm._v("Confirm")]):_vm._e(),_c('rect',{ref:"timebox",staticClass:"grab",attrs:{"fill":_vm.box.fill,"width":_vm.box.w,"height":_vm.box.h,"x":_vm.box.x,"y":_vm.box.y}}),_c('rect',{attrs:{"fill":_vm.cursor.fill,"width":_vm.cursor.w,"height":_vm.cursor.h,"x":_vm.cursor.x,"y":_vm.cursor.y}}),_c('circle',{ref:"start",staticClass:"point",attrs:{"fill":_vm.k1.fill,"r":_vm.k1.radius,"cx":_vm.k1.cx,"cy":_vm.k1.cy}}),_c('circle',{ref:"end",staticClass:"point",attrs:{"fill":_vm.k2.fill,"r":_vm.k2.radius,"cx":_vm.k2.cx,"cy":_vm.k2.cy}}),_c('circle',{ref:"afterStart",staticClass:"point",attrs:{"fill":_vm.k3.fill,"r":_vm.k3.radius,"cx":_vm.k3.cx,"cy":_vm.k3.cy}}),_c('circle',{ref:"beforeEnd",staticClass:"point",attrs:{"fill":_vm.k4.fill,"r":_vm.k4.radius,"cx":_vm.k4.cx,"cy":_vm.k4.cy}})])}
var TimeTrackvue_type_template_id_ce3c328a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/modEdit/TimeTrack.vue?vue&type=template&id=ce3c328a&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/TimeTrack.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var TimeTrackvue_type_script_lang_js_ = ({
  props: {
    currentMod: {},
    outputs: {},
    win: {},
    view: {},
    index: {},
    total: {},
    metaItem: {},
    marginLeft: {},
    timeMode: {},
    baseWidth: {
      default: 400
    }
  },
  data: function data() {
    return {
      currnetTime: 0,
      ii: 0,
      k1: {},
      // start
      k2: {},
      // end
      k3: {},
      // fade in end
      k4: {},
      // fade out start
      box: {},
      cursor: {},
      limit: {},
      socket: {},
      ui: {},
      time: {},
      h: {},
      targetProgress: 0,
      currnetProgress: 0
    };
  },
  computed: {
    meme: function meme() {
      return this.metaItem;
    }
  },
  created: function created() {
    this.refresh();
  },
  mounted: function mounted() {
    this.h.timebox = this.dragMaker('timebox');
    this.h.timebox.setup();
    this.h.start = this.dragMaker('start');
    this.h.start.setup();
    this.h.end = this.dragMaker('end');
    this.h.end.setup();
    this.h.afterStart = this.dragMaker('afterStart');
    this.h.afterStart.setup();
    this.h.beforeEnd = this.dragMaker('beforeEnd');
    this.h.beforeEnd.setup(); // let svg = this.$parent.$el
    // svg.addEventListener('move', (evt) => {
    //   let width = this.ui.wb || 1500
    //   let delta = evt.movementX / width * this.metaItem.value.totalTime
    // });

    this.handleIframe();
  },
  beforeDestroy: function beforeDestroy() {},
  methods: {
    handleIframe: function handleIframe() {
      var _this = this;

      var svg = this.$parent.$el; // this.$emit('timeMode', '')

      svg.addEventListener('mousemove', function (evt) {
        _this.$emit('timeMode', 'toEnv'); // this.relayoutCurosr(0)


        var xPos = evt.offsetX - _this.ui.x;
        var progress = xPos / _this.ui.wb;

        if (progress <= 0) {
          progress = 0;
        }

        _this.relayoutCurosr(progress);

        window[_this.currentMod.id + '-progress'] = progress;
      }, false); // window[this.currentMod.id + '-progress']

      window.addEventListener('message', function (evt) {
        var data = evt.data;

        if (data.type === 'timeline' && data.modID === _this.currentMod.id && _this.timeMode === 'listen') {
          _this.relayoutCurosr(data.progress);
        }
      });
    },
    relayoutCurosr: function relayoutCurosr(progress) {
      var cursor = this.cursor;
      cursor.w = 1;
      cursor.h = 1000000;

      if (this.ui) {
        cursor.x = this.ui.x + this.view.x + this.ui.wb * progress;
        cursor.y = this.index * 19 + 2 * this.index;
        cursor.fill = "red";
      }

      this.$forceUpdate();
    },
    dragMaker: function dragMaker(refID) {
      var _this2 = this;

      var vm = this;
      var svg = this.$parent.$el;
      var h = {
        dom: vm.$refs[refID],
        isDown: false,
        aX: 0,
        oMD: function oMD() {
          h.isDown = true;
        },
        oMM: function oMM(evt) {
          if (h.isDown) {
            h.aX += evt.movementX;
            var width = _this2.baseWidth;
            var delta = evt.movementX / width * _this2.metaItem.value.totalTime;

            if (refID === 'timebox') {
              _this2.metaItem.value.start += delta;
              _this2.metaItem.value.afterStart += delta;
              _this2.metaItem.value.beforeEnd += delta;
              _this2.metaItem.value.end += delta;

              if (_this2.metaItem.value.start < 0) {
                _this2.metaItem.value.start -= delta;
                _this2.metaItem.value.afterStart -= delta;
                _this2.metaItem.value.beforeEnd -= delta;
                _this2.metaItem.value.end -= delta;
              }
            }

            if (refID === 'start') {
              _this2.metaItem.value.start += delta;
              _this2.metaItem.value.afterStart += delta; // this.metaItem.value.beforeEnd += delta
              // this.metaItem.value.end += delta

              if (_this2.metaItem.value.start < 0) {
                _this2.metaItem.value.start -= delta;
                _this2.metaItem.value.afterStart -= delta; // this.metaItem.value.beforeEnd -= delta
                // this.metaItem.value.end -= delta
              }
            }

            if (refID === 'end') {
              // this.metaItem.value.start += delta
              // this.metaItem.value.afterStart += delta
              _this2.metaItem.value.beforeEnd += delta;
              _this2.metaItem.value.end += delta;

              if (_this2.metaItem.value.start < 0) {
                // this.metaItem.value.start -= delta
                // this.metaItem.value.afterStart -= delta
                _this2.metaItem.value.beforeEnd -= delta;
                _this2.metaItem.value.end -= delta;

                if (_this2.metaItem.value.beforeEnd > _this2.metaItem.value.totalTime) {
                  _this2.metaItem.value.beforeEnd += delta;
                }

                if (_this2.metaItem.value.end > _this2.metaItem.value.totalTime) {
                  _this2.metaItem.value.end += delta;
                }
              }
            }

            if (refID === 'afterStart') {
              _this2.metaItem.value.afterStart += delta; // if (this.metaItem.value.afterStart < this.metaItem.value.start || this.metaItem.value.afterStart > this.metaItem.value.end) {

              if (_this2.metaItem.value.afterStart < _this2.metaItem.value.start) {
                _this2.metaItem.value.afterStart -= delta;

                if (_this2.metaItem.value.afterStart > _this2.metaItem.value.totalTime) {
                  _this2.metaItem.value.afterStart += delta;
                }
              }
            }

            if (refID === 'beforeEnd') {
              _this2.metaItem.value.beforeEnd += delta; // if (this.metaItem.value.beforeEnd < this.metaItem.value.start || this.metaItem.value.beforeEnd > this.metaItem.value.end) {

              if (_this2.metaItem.value.beforeEnd < _this2.metaItem.value.start) {
                _this2.metaItem.value.beforeEnd -= delta;

                if (_this2.metaItem.value.beforeEnd > _this2.metaItem.value.totalTime) {
                  _this2.metaItem.value.beforeEnd += delta;
                }
              }
            }

            _this2.refresh();

            _this2.$forceUpdate();

            _this2.$emit('save');

            console.log(evt);
          }
        },
        oMU: function oMU() {
          h.isDown = false;
        },
        setup: function setup() {
          h.dom.addEventListener('mousedown', h.oMD, false);
          svg.addEventListener('mousemove', h.oMM, false);
          svg.addEventListener('mouseup', h.oMU, false);
        },
        clean: function clean() {
          h.dom.removeEventListener('mousedown', h.oMD);
          svg.removeEventListener('mousemove', h.oMM);
          svg.removeEventListener('mouseup', h.oMU);
        }
      };
      return h;
    },
    refresh: function refresh() {
      var ui = this.ui;
      ui.w = 500 * 5;
      ui.wb = this.baseWidth; // baseline size

      ui.h = 13;
      ui.x = this.marginLeft + 0;
      ui.y = this.index * 19 + 2 * this.index;
      ui.fill = "hsl(".concat((this.index / this.total * 360 + 0).toFixed(0), ", 70%, 70%)");
      var socket = this.socket;
      socket.w = 0;
      socket.h = 13;
      socket.x = 0 + 60 + 50;
      socket.y = this.index * 19 + 2 * this.index;
      socket.fill = "hsl(".concat((this.index / this.total * 360 + 0).toFixed(0), ", 70%, 70%)");
      var metaV = this.meme.value;
      var time = this.time;
      time.sf = metaV.start;
      time.fd = metaV.afterStart;
      time.fs = metaV.beforeEnd;
      time.ea = metaV.end;
      time.tt = metaV.totalTime;
      time.length = time.ea - time.sf;
      var k1cxp = time.sf / time.tt;
      var k2cxp = time.ea / time.tt;
      var k3cxp = time.fd / time.tt;
      var k4cxp = time.fs / time.tt;
      var k1 = this.k1;
      k1.fill = "hsl(".concat((this.index / this.total * 360 + 60).toFixed(0), ", 70%, 70%)");
      k1.radius = 6.5;
      k1.cx = ui.x + ui.wb * k1cxp;
      k1.cy = ui.y + k1.radius;
      var k2 = this.k2;
      k2.fill = "hsl(".concat((this.index / this.total * 360 + 60).toFixed(0), ", 70%, 70%)");
      k2.radius = 6.5;
      k2.cx = ui.x + ui.wb * k2cxp;
      k2.cy = ui.y + k2.radius;
      var k3 = this.k3;
      k3.fill = "hsl(".concat((this.index / this.total * 360 + 120).toFixed(0), ", 70%, 70%)");
      k3.radius = 6.5 * 0.8;
      k3.cx = ui.x + ui.wb * k3cxp;
      k3.cy = ui.y + k1.radius;
      var k4 = this.k4;
      k4.fill = "hsl(".concat((this.index / this.total * 360 + 120).toFixed(0), ", 70%, 70%)");
      k4.radius = 6.5 * 0.8;
      k4.cx = ui.x + ui.wb * k4cxp;
      k4.cy = ui.y + k2.radius;
      var box = this.box;
      box.w = k2.cx - k1.cx;
      box.h = 13;
      box.x = k1.cx;
      box.y = this.index * 19 + 2 * this.index;
      box.fill = "hsl(".concat((this.index / this.total * 360 + 0).toFixed(0), ", 60%, 90%)");
      var limit = this.limit;
      limit.w = 1;
      limit.h = 1000000;
      limit.x = ui.x + ui.wb;
      limit.y = this.index * 19 + 2 * this.index;
      limit.fill = "black";
    },
    remove: function remove(evt) {
      var _this3 = this;

      if (evt.metaKey) {
        this.ii++;

        if (this.ii === 2) {
          this.ii = 0;
          this.$emit('remove', this.metaItem);
        }
      } else {
        if (this.ii === 1) {
          this.ii = 0;
          return;
        }

        if (window.prompt("Please enter '".concat(this.metaItem.label, "' to remove.")) === this.metaItem.label) {
          this.$emit('remove', this.metaItem);
        }
      }

      this.refresh();
      this.$nextTick(function () {
        _this3.refresh();
      });
    },
    changeLabel: function changeLabel() {
      var newName = window.prompt('pleas enter new name for' + this.metaItem.label) || this.metaItem.label.item;

      if (newName) {
        this.metaItem.label = newName;
      }

      this.$emit('saveModule');
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/modEdit/TimeTrack.vue?vue&type=script&lang=js&
 /* harmony default export */ var modEdit_TimeTrackvue_type_script_lang_js_ = (TimeTrackvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/modEdit/TimeTrack.vue?vue&type=style&index=0&id=ce3c328a&scoped=true&lang=css&
var TimeTrackvue_type_style_index_0_id_ce3c328a_scoped_true_lang_css_ = __webpack_require__("2ce8");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Apps/modEdit/TimeTrack.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  modEdit_TimeTrackvue_type_script_lang_js_,
  TimeTrackvue_type_template_id_ce3c328a_scoped_true_render,
  TimeTrackvue_type_template_id_ce3c328a_scoped_true_staticRenderFns,
  false,
  null,
  "ce3c328a",
  null
  
)

/* harmony default export */ var TimeTrack = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/Timeline.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var Timelinevue_type_script_lang_js_ = ({
  components: {
    TimeTrack: TimeTrack
  },
  props: {
    currentMod: {},
    outputs: {},
    refresher: {},
    win: {},
    meta: {},
    timeMode: {},
    baseWidth: {}
  },
  data: function data() {
    return {
      marginLeft: 50 + 100,
      // 50 = remove words, 100 = label and socket
      marginTop: 30 + 30,
      // 30 buttons, 30 title bar
      ui: false,
      view: {
        x: 0,
        y: 0
      }
    };
  },
  mounted: function mounted() {
    this.setupWheel();
  },
  watch: {},
  computed: {
    svg: function svg() {
      return this.$refs['svg'];
    },
    timetracks: function timetracks() {
      return (this.meta || []).filter(function (m) {
        return m.type === 'timeline-track';
      });
    }
  },
  methods: {
    saveModule: function saveModule() {
      this.$emit('saveModule');
    },
    removeMeta: function removeMeta(v) {
      this.$emit('removeMeta', v);
      this.$forceUpdate();
    },
    scrolHome: function scrolHome() {
      Object(anime_es["a" /* default */])({
        targets: this.ui,
        aX: 0,
        aY: 0,
        aZ: 0,
        duration: Math.log(Math.abs(this.ui.aX + this.ui.aY)) * 300
      });
    },
    isDescendant: function isDescendant(parent, child) {
      var node = child.parentNode;

      if (parent === child) {
        return true;
      }

      while (node !== null) {
        if (node === parent) {
          return true;
        }

        node = node.parentNode;
      }

      return false;
    },
    onWheel: function onWheel(evt) {
      if (this.isDescendant(this.$refs.svg, evt.target)) {
        evt.preventDefault();
      } else {
        return;
      }

      var ui = this.ui;
      ui.deltaX = -event.deltaX * 0.02;
      ui.deltaY = -event.deltaY * 0.02;

      if (event.deltaX) {
        ui.deltaTheta = -event.deltaX * 0.02 / (Math.PI * 2);
      }

      if (event.deltaY) {
        ui.deltaTheta = -event.deltaY * 0.02 / (Math.PI * 2);
      }

      ui.inertia = ui.mass;
    },
    setupWheel: function setupWheel() {
      var _this = this;

      this.ui = {
        aX: 0,
        aY: 0,
        deltaX: 0,
        deltaY: 0,
        inX: 0,
        inY: 0,
        mass: 5.0,
        inertia: 5.0
      };
      var h = {
        onWheel: function onWheel(e) {
          _this.onWheel(e);
        }
      };
      window.addEventListener('wheel', h.onWheel);

      var rAF = function rAF() {
        _this.rAFID = requestAnimationFrame(rAF);
        var ui = _this.ui;

        if (ui) {
          if (ui.inertia > 0.01) {
            ui.inX = ui.deltaX * ui.inertia;
            ui.inY = ui.deltaY * ui.inertia;
            ui.aX += ui.inX;
            ui.aY += ui.inY; // inertia

            ui.inertia *= 0.98;
          }

          _this.view.x = -ui.aX * 1.5;
          _this.view.y = -ui.aY * 1.5;

          if (_this.view.x < 0) {
            _this.view.x = 0;
            ui.inertia = 0; // ui.aX = 0

            ui.inX = 0;
          }

          if (_this.view.y < 0) {
            _this.view.y = 0;
            ui.inertia = 0; // ui.aY = 0

            ui.inY = 0;
          }
        }
      };

      this.rAFID = requestAnimationFrame(rAF);

      this.onClose = function () {
        // uio.clean()
        window.removeEventListener('wheel', h.onWheel);
        cancelAnimationFrame(_this.rAFID);
      };
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/modEdit/Timeline.vue?vue&type=script&lang=js&
 /* harmony default export */ var modEdit_Timelinevue_type_script_lang_js_ = (Timelinevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/modEdit/Timeline.vue?vue&type=style&index=0&id=3d4f8406&scoped=true&lang=css&
var Timelinevue_type_style_index_0_id_3d4f8406_scoped_true_lang_css_ = __webpack_require__("fc80");

// CONCATENATED MODULE: ./src/enos/Apps/modEdit/Timeline.vue






/* normalize component */

var Timeline_component = Object(componentNormalizer["a" /* default */])(
  modEdit_Timelinevue_type_script_lang_js_,
  Timelinevue_type_template_id_3d4f8406_scoped_true_render,
  Timelinevue_type_template_id_3d4f8406_scoped_true_staticRenderFns,
  false,
  null,
  "3d4f8406",
  null
  
)

/* harmony default export */ var Timeline = (Timeline_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/RemixTimeline.vue?vue&type=script&lang=js&

//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var RemixTimelinevue_type_script_lang_js_ = ({
  components: {
    Timeline: Timeline
  },
  props: {
    outputs: {},
    portal: {},
    currentMod: {}
  },
  data: function data() {
    return {
      autoRestorePlay: true,
      baseWidth: 400,
      timeMode: 'listen',
      refresher: true
    };
  },
  mounted: function mounted() {
    window[this.currentMod.id + '-timeMode'] = this.timeMode;
  },
  beforeDestroy: function beforeDestroy() {
    window[this.currentMod.id + '-timeMode'] = this.timeMode = 'listen';
  },
  watch: {
    active: function active() {
      if (this.active === false && this.autoRestorePlay) {
        window[this.currentMod.id + '-timeMode'] = this.timeMode = 'listen';
      }
    },
    timeMode: function timeMode() {
      window[this.currentMod.id + '-timeMode'] = this.timeMode;
    }
  },
  computed: {
    active: function active() {
      if (this.portal && this.portal.win) {
        console.log(this.portal.win.active);
        return this.portal.win.active;
      } else {
        return false;
      }
    }
  },
  methods: {
    updateZoom: function updateZoom() {
      var _this = this;

      this.refresher = false;
      this.$nextTick(function () {
        _this.refresher = true;
      });
    },
    updateTime: function updateTime(evt) {
      var _this2 = this;

      var val = evt.target.value;
      this.currentMod.meta.forEach(function (m) {
        m.value.totalTime = val;
      });
      this.refresher = false;
      this.$nextTick(function () {
        _this2.refresher = true;
      });
    },
    removeAll: function removeAll() {
      if (window.prompt('reset all? type remove-all to confirm.') === 'remove-all') {
        this.currentMod.meta = [];
        this.saveModule();
      }
    },
    saveModule: function saveModule() {
      this.$emit('saveModule');
    },
    saveMeta: function saveMeta(_ref) {
      var v = _ref.v,
          mi = _ref.mi;
      this.$emit('saveMeta', {
        v: v,
        mi: mi
      });
    },
    removeMeta: function removeMeta(v) {
      var _this3 = this;

      this.refresher = false;
      this.$emit('removeMeta', v);
      this.$nextTick(function () {
        _this3.refresher = true;
      });
    },
    addTimelineTrack: function addTimelineTrack(v) {
      var _this4 = this;

      this.refresher = false;
      this.$emit('addTimelineTrack', v);
      this.$nextTick(function () {
        _this4.refresher = true;
      });
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixTimeline.vue?vue&type=script&lang=js&
 /* harmony default export */ var modEdit_RemixTimelinevue_type_script_lang_js_ = (RemixTimelinevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/modEdit/RemixTimeline.vue?vue&type=style&index=0&id=c33fec0a&scoped=true&lang=css&
var RemixTimelinevue_type_style_index_0_id_c33fec0a_scoped_true_lang_css_ = __webpack_require__("c37d");

// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixTimeline.vue






/* normalize component */

var RemixTimeline_component = Object(componentNormalizer["a" /* default */])(
  modEdit_RemixTimelinevue_type_script_lang_js_,
  RemixTimelinevue_type_template_id_c33fec0a_scoped_true_render,
  RemixTimelinevue_type_template_id_c33fec0a_scoped_true_staticRenderFns,
  false,
  null,
  "c33fec0a",
  null
  
)

/* harmony default export */ var RemixTimeline = (RemixTimeline_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/RemixValues.vue?vue&type=template&id=bfdcb2ea&scoped=true&
var RemixValuesvue_type_template_id_bfdcb2ea_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"marginer"},[(_vm.currentMod)?_c('div',{staticClass:"adders"},[(_vm.currentMod.meta.length > 0)?_c('div',[_c('button',{on:{"click":function($event){_vm.addRange()}}},[_vm._v("Add value slider")]),_c('button',{on:{"click":function($event){_vm.addColor()}}},[_vm._v("Add color picker")]),(_vm.currentMod.meta.length === 1)?_c('span',[_c('button',{on:{"click":function($event){_vm.removeMeta(_vm.currentMod.meta[0])}}},[_vm._v("Reset")])]):_vm._e()]):_vm._e()]):_vm._e(),_c('div',_vm._l((_vm.currentMod.meta),function(m,mi){return _c('div',{key:m.id + 'color'},[(m.type === 'color')?_c('div',[_c('button',{on:{"click":function($event){_vm.removeMeta(m)}}},[_vm._v("x")]),_c('span',[_vm._v(_vm._s(m.type))]),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.label),expression:"m.label"}],staticStyle:{"width":"100px"},domProps:{"value":(m.label)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "label", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.value),expression:"m.value"}],attrs:{"type":"color"},domProps:{"value":(m.value)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "value", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.value),expression:"m.value"}],staticStyle:{"width":"45px"},attrs:{"type":"text"},domProps:{"value":(m.value)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "value", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}})]):_vm._e(),(m.type === 'range')?_c('div',[_c('button',{on:{"click":function($event){_vm.removeMeta(m)}}},[_vm._v("x")]),_c('span',[_vm._v(_vm._s(m.type))]),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.label),expression:"m.label"}],staticStyle:{"width":"100px"},domProps:{"value":(m.label)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "label", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.value),expression:"m.value"}],attrs:{"type":"range","step":m.step,"min":m.min,"max":m.max},domProps:{"value":(m.value)},on:{"input":function($event){_vm.saveMeta(m, mi)},"__r":function($event){_vm.$set(m, "value", $event.target.value)}}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.value),expression:"m.value"}],staticStyle:{"width":"45px"},attrs:{"type":"number","step":m.step,"min":m.min,"max":m.max},domProps:{"value":(m.value)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "value", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.min),expression:"m.min"}],staticStyle:{"width":"40px"},attrs:{"type":"text","step":m.step},domProps:{"value":(m.min)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "min", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.max),expression:"m.max"}],staticStyle:{"width":"40px"},attrs:{"type":"text","step":m.step},domProps:{"value":(m.max)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "max", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}}),_c('input',{directives:[{name:"model",rawName:"v-model",value:(m.step),expression:"m.step"}],staticStyle:{"width":"45px"},attrs:{"type":"number","step":0.00000001,"min":m.min,"max":m.max},domProps:{"value":(m.step)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(m, "step", $event.target.value)},function($event){_vm.saveMeta(m, mi)}]}})]):_vm._e()])}),0)])}
var RemixValuesvue_type_template_id_bfdcb2ea_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixValues.vue?vue&type=template&id=bfdcb2ea&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/RemixValues.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var RemixValuesvue_type_script_lang_js_ = ({
  components: {
    Timeline: Timeline
  },
  props: {
    portal: {},
    currentMod: {}
  },
  data: function data() {
    return {
      refresher: true
    };
  },
  methods: {
    saveMeta: function saveMeta(v, mi) {
      this.$emit('saveMeta', {
        m: v,
        mi: mi
      });
    },
    removeMeta: function removeMeta(v) {
      var _this = this;

      this.refresher = false;
      this.$emit('removeMeta', v);
      this.$nextTick(function () {
        _this.refresher = true;
      });
    },
    addRange: function addRange(v) {
      this.$emit('addRange', v);
    },
    addColor: function addColor(v) {
      this.$emit('addColor', v);
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixValues.vue?vue&type=script&lang=js&
 /* harmony default export */ var modEdit_RemixValuesvue_type_script_lang_js_ = (RemixValuesvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/modEdit/RemixValues.vue?vue&type=style&index=0&id=bfdcb2ea&scoped=true&lang=css&
var RemixValuesvue_type_style_index_0_id_bfdcb2ea_scoped_true_lang_css_ = __webpack_require__("3807");

// CONCATENATED MODULE: ./src/enos/Apps/modEdit/RemixValues.vue






/* normalize component */

var RemixValues_component = Object(componentNormalizer["a" /* default */])(
  modEdit_RemixValuesvue_type_script_lang_js_,
  RemixValuesvue_type_template_id_bfdcb2ea_scoped_true_render,
  RemixValuesvue_type_template_id_bfdcb2ea_scoped_true_staticRenderFns,
  false,
  null,
  "bfdcb2ea",
  null
  
)

/* harmony default export */ var RemixValues = (RemixValues_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/modEdit/modEdit.vue?vue&type=script&lang=js&





//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
// import { codemirror } from 'vue-codemirror'
 // import 'codemirror/mode/javascript/javascript.js'







 // import axios from 'axios'
// import SVGArea from '../../SVGArea/Index.vue'
// import nlp from 'compromise'
// import csv from 'csvtojson'
// import { codemirror } from 'vue-codemirror'
// // require styles
// import 'codemirror/lib/codemirror.css'
// var CodeMirror = require('codemirror').default
// CodeMirror.defineMode('mymode', () => {
//   return {
//     token (stream, state) {
//       if (stream.match('const')) {
//         return 'style1'
//       } else if (stream.match('bbb')) {
//         return 'style2'
//       } else {
//         stream.next()
//         return null
//       }
//     }
//   }
// })

/* harmony default export */ var modEditvue_type_script_lang_js_ = ({
  components: {
    RemixValues: RemixValues,
    RemixTimeline: RemixTimeline,
    // codemirror,
    TitleBar: TitleBar["default"] // ,
    // SVGArea

  },
  props: {
    uiAPI: {},
    portal: {}
  },
  created: function created() {// this.$on('resize', ({ portal }) => {
    //   this.portal = portal
    // })
  },
  data: function data() {
    return {
      view: this.portal.data.view,
      // templateModuleQuery: '',
      Doc: false,
      Data: false,
      // root: false,
      ready: false
    };
  },
  methods: {
    // cloneSubmitModule ({ Doc, mod }) {
    //   this.Data.cloneSubmitModule({ mod, Doc })
    // },
    cloneModule: function cloneModule(_ref) {
      var Doc = _ref.Doc,
          mod = _ref.mod;
      this.Data.cloneModule({
        Doc: Doc,
        mod: mod,
        connectors: this.connectors
      });
      this.Data.saveDoc({
        Doc: Doc
      });
    },
    addSocket: function addSocket(currentMod, type) {
      if (type === 'input' || type === 'output') {
        var ss = this.Data.makeSocket({
          Doc: this.Doc,
          idx: this.Data.getIDX(),
          type: type,
          modID: currentMod.id
        });
        this.Data.addSocketToDoc({
          Doc: this.Doc,
          socket: ss
        });
        this.Data.saveDoc({
          Doc: this.Doc
        });
      } else {
        console.error('bad types');
      }
    },
    removeSocket: function removeSocket(socket) {
      this.Data.removeSocketFromMod({
        Doc: this.Doc,
        socket: socket
      });
      this.Data.saveDoc({
        Doc: this.Doc
      });
    },
    setDefaultView: function setDefaultView() {
      var defaultView = this.currentMod.meta.length > 0 ? 'remix' : 'code';
      this.portal.data.view = this.portal.data.view || defaultView;
    },
    // toggleTemplatePublic () {
    //   if (this.templateModuleItem) {
    //     this.templateModuleItem.isGallery = !this.templateModuleItem.isGallery
    //     this.templateInputs.forEach((ttc) => {
    //       ttc.isGallery = !ttc.isGallery
    //     })
    //     this.templateOutputs.forEach((ttc) => {
    //       ttc.isGallery = !ttc.isGallery
    //     })
    //     this.saveTemplate()
    //   }
    // },
    // saveTemplate () {
    //   clearTimeout(this.metaDelay)
    //   this.metaDelay = setTimeout(() => {
    //     this.Data.template.modules.update(this.templateModuleItem)
    //     this.templateInputs.forEach((ttc) => {
    //       this.Data.template.connectors.update(ttc)
    //     })
    //     this.templateOutputs.forEach((ttc) => {
    //       this.Data.template.connectors.update(ttc)
    //     })
    //   }, 500)
    // },
    saveModule: function saveModule() {
      var _this = this;

      // this.Data.ts.modules.animate(this.currentMod)
      clearTimeout(this.modDelay);
      this.modDelay = setTimeout(function () {
        _this.Data.saveDoc({
          Doc: _this.Doc
        }); // this.Data.ts.modules.update(this.currentMod)


        _this.realodIframe();
      }, 500);
    },
    removeTemplateBox: function removeTemplateBox(_ref2) {
      var mod = _ref2.mod,
          outputs = _ref2.outputs,
          inputs = _ref2.inputs;

      if (window.prompt('type yes to remove this template module and its connnections?') === 'yes') {
        this.Data.removeTemplateBox({
          mod: mod,
          inputs: inputs,
          outputs: outputs
        });
      }
    },
    saveMeta: function saveMeta(_ref3) {
      var _this2 = this;

      var m = _ref3.m,
          mi = _ref3.mi;

      if (m.type === 'range') {
        m.value = Number(m.value);
      }

      window.dispatchEvent(new CustomEvent('iframe-post-message', {
        detail: {
          type: 'send-module-meta',
          module: this.currentMod,
          meta: m
        }
      })); // this.Data.ts.modules.animate(this.currentMod)

      clearTimeout(this.metaDelay);
      this.metaDelay = setTimeout(function () {
        _this2.Data.saveDoc({
          Doc: _this2.Doc
        }); // this.Data.ts.modules.update(this.currentMod)


        _this2.realodIframe();
      }, 1500);
    },
    realodIframe: function realodIframe() {
      window.dispatchEvent(new Event("refresh-iframe"));
    },
    addRange: function addRange() {
      this.addMeta({
        id: '_r' + (Math.random() * 1024 * 1024 * 1024).toFixed(0),
        label: 'translateX',
        type: 'range',
        min: -100,
        max: 100,
        step: 0.1,
        value: 0
      });
    },
    addColor: function addColor() {
      this.addMeta({
        id: '_r' + (Math.random() * 1024 * 1024 * 1024).toFixed(0),
        label: 'color',
        type: 'color',
        value: "hsl(".concat((Math.random() * 360).toFixed(0), ", 50%, 50%)")
      });
    },
    addTimelineTrack: function addTimelineTrack() {
      this.addMeta({
        id: '_r' + (Math.random() * 1024 * 1024 * 1024).toFixed(0),
        label: window.prompt("what's the name of the time track? like opacity, speed, amount and etc") || 'my-track',
        type: 'timeline-track',
        value: {
          // mode: 'starting',
          // starting: 0,
          // during: 0,
          // leaving: 0,
          // timebox: 0,
          // tick: 0,
          // now: 0,
          start: 0,
          afterStart: 3,
          beforeEnd: 12,
          end: 15,
          totalTime: 15
        }
      });
    },
    addMeta: function addMeta(v) {
      this.currentMod.meta.push(v); // this.Data.ts.modules.update(this.currentMod)

      this.realodIframe();
      this.Data.saveDoc({
        Doc: this.Doc
      });
    },
    removeMeta: function removeMeta(v) {
      var idx = this.currentMod.meta.findIndex(function (e) {
        return e.id === v.id;
      });
      this.currentMod.meta.splice(idx, 1); // this.Data.ts.modules.update(this.currentMod)

      this.realodIframe();
      this.Data.saveDoc({
        Doc: this.Doc
      });
    },
    saveConnection: function saveConnection(v) {
      this.Data.ts.connectors.update(v); // this.Data.ts.connectors.animate(v)

      clearTimeout(this.connTimeout);
      this.connTimeout = setTimeout(function () {// this.Data.ts.connectors.update(v)
      }, 500);
    },
    saveModuleBox: function saveModuleBox() {
      var _this3 = this;

      // this.Data.ts.modules.animate(this.currentMod)
      clearTimeout(this.modTimeout);
      this.modTimeout = setTimeout(function () {
        _this3.realodIframe(); // this.Data.ts.modules.update(this.currentMod)


        _this3.Data.saveDoc({
          Doc: _this3.Doc
        });
      }, 1000);
    },
    init: function init() {
      var Doc = this.uiAPI.Doc;
      var Data = this.uiAPI.enAPI;
      this.Doc = Doc;
      this.Data = Data;

      if (Doc) {
        // this.root = Doc.root
        this.ready = true;
      } // console.log('OMG', )
      // this.$refs.mounter.appendChild(this.uiAPI.execEnv.Sys.$el)
      // return Hive.get({ doc: 'happy' }).then(({ Data, Doc }) => {
      //   this.Doc = Doc
      //   this.Data = Data
      //   this.root = Doc.root
      //   this.ready = true
      // })

    },
    setupBrace: function setupBrace() {
      var _this4 = this;

      this.$refs.editor.innerHTML = '';
      var editor = this.editor = brace["edit"](this.$refs.editor);
      editor.setTheme('ace/theme/monokai');
      editor.setFontSize(14);
      editor.setOptions({
        fontFamily: 'Inconsolata'
      });
      this.editor.$blockScrolling = Infinity;
      this.$on('resize', function () {
        _this4.editor.resize();
      });
      this.editor.on('change', function () {
        if (_this4.stopWatch) {
          return;
        }

        var newCode = _this4.editor.getValue();

        _this4.currentMod.src = newCode; // this.Data.ts.modules.update(this.currentMod)

        _this4.saveModuleBox();
      }); // on data down
      // this.Data.ts.modules.onLocal({
      //   handler: ({ results }) => {
      //     this.stopWatch = true
      //     // console.log(results.src)
      //     this.currentMod.src = results.src
      //     this.editor.setValue(this.currentMod.src, 1)
      //     // this.editor.moveCursorTo(0, 0)
      //     // this.editor.focus()
      //     // cm.focus()
      //     this.stopWatch = false
      //   },
      //   method: 'update'
      // })

      var session = editor.getSession();
      session.setUseWrapMode(false);
      session.setUseWorker(false);
      session.setMode('ace/mode/javascript');
      session.setOptions({
        tabSize: 2,
        useSoftTabs: true
      });
      var commands = [{
        name: 'save',
        bindKey: {
          win: 'Ctrl-S',
          mac: 'Command-S'
        },
        exec: function exec() {
          var newCode = _this4.editor.getValue();

          _this4.currentMod.src = newCode; // this.Data.ts.modules.update(this.currentMod)
        },
        readOnly: true // false if this command should not apply in readOnly mode

      }, {
        name: 'multicursor',
        bindKey: {
          win: 'Ctrl-D',
          mac: 'Command-D'
        },
        exec: function exec(editor) {
          editor.selectMore(1);
        },
        // multiSelectAction: 'forEach',
        scrollIntoView: 'cursor',
        readOnly: true // false if this command should not apply in readOnly mode

      }];
      commands.forEach(function (command) {
        _this4.editor.commands.addCommand(command);
      });
      this.editor.setValue(this.currentMod.src, 1);
    }
  },
  watch: {
    currentMod: function currentMod(newVal, oldVal) {
      if (newVal && !oldVal) {
        var defaultView = 'inspect';

        if (this.currentMod && this.currentMod.meta.length > 0) {
          defaultView = 'remix';
        }

        this.view = defaultView;
      }
    },
    view: function view() {
      this.portal.data.view = this.view;

      if (!this.editor) {
        this.setupBrace();
      }
    }
  },
  computed: {
    root: function root() {
      if (this.Doc) {
        return this.Doc.root;
      } else {
        return false;
      }
    },
    // view: {
    //   get () {
    //     return this.portal.data.view || 'inspect'
    //   },
    //   set (v) {
    //     this.portal.data.view = v
    //   }
    // },
    // templateInputs () {
    //   return this.templateConnectors.filter(tm => tm.oldID === this.currentMod._id).filter((c) => {
    //     return c.type === 'input'
    //   }).slice().sort((a, b) => {
    //     return a.idx - b.idx
    //   })
    // },
    // templateOutputs () {
    //   return this.templateConnectors.filter(tm => tm.oldID === this.currentMod._id).filter((c) => {
    //     return c.type === 'output'
    //   }).slice().sort((a, b) => {
    //     return a.idx - b.idx
    //   })
    // },
    // templateModuleItem () {
    //   return this.templateModules.find(tm => tm.oldID === this.currentMod._id)
    // },
    // templateConnectors () {
    //   if (this.Doc.root.template && this.Doc.root.template.connectors) {
    //     return this.Doc.root.template.connectors
    //   } else {
    //     return []
    //   }
    // },
    // templateModules () {
    //   if (this.Doc.root.template && this.Doc.root.template.modules) {
    //     return this.Doc.root.template.modules
    //   } else {
    //     return []
    //   }
    // },
    remixmode: function remixmode() {
      if (this.hasTimeTrack) {
        return 'timeline';
      } else {
        return 'values';
      }
    },
    hasTimeTrack: function hasTimeTrack() {
      return this.meta.filter(function (m) {
        return m.type === 'timeline-track';
      }).length > 0;
    },
    hasRange: function hasRange() {
      return this.meta.filter(function (m) {
        return m.type === 'range';
      }).length > 0;
    },
    meta: function meta() {
      if (!this.currentMod) {
        return [];
      }

      return this.currentMod.meta;
    },
    // codemirror () {
    //   return this.$refs.myCm.codemirror
    // },
    currentMod: function currentMod() {
      var _this5 = this;

      return this.modules.find(function (m) {
        return m._id === _this5.portal.data.boxID;
      });
    },
    inputs: function inputs() {
      return this.connectors.filter(function (c) {
        return c.type === 'input';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    outputs: function outputs() {
      return this.connectors.filter(function (c) {
        return c.type === 'output';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    activeInputs: function activeInputs() {
      return this.connectors.filter(function (c) {
        return c.socket.to && c.type === 'input';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    activeOutputs: function activeOutputs() {
      return this.connectors.filter(function (c) {
        return c.socket.to && c.type === 'output';
      }).slice().sort(function (a, b) {
        return a.idx - b.idx;
      });
    },
    connectors: function connectors() {
      var _this6 = this;

      if (this.root) {
        // let modIDs = this.root.modules.map(m => m.id)
        return this.root.connectors.filter(function (c) {
          return c.mod.from === _this6.portal.data.boxUUID;
        }).slice().sort(function (a, b) {
          return a.idx - b.idx;
        }); // .filter(c => {
        //   return modIDs.includes(c.mod.from) || modIDs.includes(c.mod.to)
        // })
      } else {
        return [];
      }
    },
    modules: function modules() {
      if (this.root) {
        return this.root.modules;
      } else {
        return [];
      }
    }
  },
  mounted: function mounted() {
    this.init();
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/modEdit/modEdit.vue?vue&type=script&lang=js&
 /* harmony default export */ var modEdit_modEditvue_type_script_lang_js_ = (modEditvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/modEdit/modEdit.vue?vue&type=style&index=0&id=88794ac2&scoped=true&lang=css&
var modEditvue_type_style_index_0_id_88794ac2_scoped_true_lang_css_ = __webpack_require__("9485");

// CONCATENATED MODULE: ./src/enos/Apps/modEdit/modEdit.vue






/* normalize component */

var modEdit_component = Object(componentNormalizer["a" /* default */])(
  modEdit_modEditvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "88794ac2",
  null
  
)

/* harmony default export */ var modEdit = __webpack_exports__["default"] = (modEdit_component.exports);

/***/ }),

/***/ "8dd3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("970c");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "8e60":
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__("294c")(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "8f60":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var create = __webpack_require__("a159");
var descriptor = __webpack_require__("aebd");
var setToStringTag = __webpack_require__("45f2");
var IteratorPrototype = {};

// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
__webpack_require__("35e8")(IteratorPrototype, __webpack_require__("5168")('iterator'), function () { return this; });

module.exports = function (Constructor, NAME, next) {
  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });
  setToStringTag(Constructor, NAME + ' Iterator');
};


/***/ }),

/***/ "9003":
/***/ (function(module, exports, __webpack_require__) {

// 7.2.2 IsArray(argument)
var cof = __webpack_require__("6b4c");
module.exports = Array.isArray || function isArray(arg) {
  return cof(arg) == 'Array';
};


/***/ }),

/***/ "901b":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/SysApp/SysApp.vue?vue&type=template&id=13ff6e6a&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full window-app"},[_c('TitleBar',{attrs:{"portal":_vm.portal,"uiAPI":_vm.uiAPI},on:{"click":function($event){_vm.$emit('activated')}}},[_vm._v("\n    App Template\n  ")]),_c('div',{staticClass:"content-div",on:{"click":function($event){_vm.$emit('activated')}}},[_vm._v(_vm._s(_vm.rr)+"\n  ")])],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/SysApp/SysApp.vue?vue&type=template&id=13ff6e6a&scoped=true&

// EXTERNAL MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue + 4 modules
var TitleBar = __webpack_require__("d654");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/SysApp/SysApp.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var SysAppvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {},
    portal: {}
  },
  components: {
    TitleBar: TitleBar["default"] // Dimension

  },
  data: function data() {
    return {
      rr: Math.random()
    };
  },
  mounted: function mounted() {},
  methods: {}
});
// CONCATENATED MODULE: ./src/enos/Apps/SysApp/SysApp.vue?vue&type=script&lang=js&
 /* harmony default export */ var SysApp_SysAppvue_type_script_lang_js_ = (SysAppvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/SysApp/SysApp.vue?vue&type=style&index=0&id=13ff6e6a&scoped=true&lang=css&
var SysAppvue_type_style_index_0_id_13ff6e6a_scoped_true_lang_css_ = __webpack_require__("9766");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Apps/SysApp/SysApp.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  SysApp_SysAppvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "13ff6e6a",
  null
  
)

/* harmony default export */ var SysApp = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "9093":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
var $keys = __webpack_require__("ce10");
var hiddenKeys = __webpack_require__("e11e").concat('length', 'prototype');

exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
  return $keys(O, hiddenKeys);
};


/***/ }),

/***/ "9138":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("35e8");


/***/ }),

/***/ "91fe":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("4c7c");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("c7b9847a", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "9327":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("30c4");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("7a45294e", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "9485":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modEdit_vue_vue_type_style_index_0_id_88794ac2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("313a");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modEdit_vue_vue_type_style_index_0_id_88794ac2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modEdit_vue_vue_type_style_index_0_id_88794ac2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_modEdit_vue_vue_type_style_index_0_id_88794ac2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "94e0":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_1_id_498978b2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("2631");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_1_id_498978b2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_1_id_498978b2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enos_vue_vue_type_style_index_1_id_498978b2_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "95d5":
/***/ (function(module, exports, __webpack_require__) {

var classof = __webpack_require__("40c3");
var ITERATOR = __webpack_require__("5168")('iterator');
var Iterators = __webpack_require__("481b");
module.exports = __webpack_require__("584a").isIterable = function (it) {
  var O = Object(it);
  return O[ITERATOR] !== undefined
    || '@@iterator' in O
    // eslint-disable-next-line no-prototype-builtins
    || Iterators.hasOwnProperty(classof(O));
};


/***/ }),

/***/ "96cf":
/***/ (function(module, exports) {

/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

!(function(global) {
  "use strict";

  var Op = Object.prototype;
  var hasOwn = Op.hasOwnProperty;
  var undefined; // More compressible than void 0.
  var $Symbol = typeof Symbol === "function" ? Symbol : {};
  var iteratorSymbol = $Symbol.iterator || "@@iterator";
  var asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator";
  var toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag";

  var inModule = typeof module === "object";
  var runtime = global.regeneratorRuntime;
  if (runtime) {
    if (inModule) {
      // If regeneratorRuntime is defined globally and we're in a module,
      // make the exports object identical to regeneratorRuntime.
      module.exports = runtime;
    }
    // Don't bother evaluating the rest of this file if the runtime was
    // already defined globally.
    return;
  }

  // Define the runtime globally (as expected by generated code) as either
  // module.exports (if we're in a module) or a new, empty object.
  runtime = global.regeneratorRuntime = inModule ? module.exports : {};

  function wrap(innerFn, outerFn, self, tryLocsList) {
    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.
    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;
    var generator = Object.create(protoGenerator.prototype);
    var context = new Context(tryLocsList || []);

    // The ._invoke method unifies the implementations of the .next,
    // .throw, and .return methods.
    generator._invoke = makeInvokeMethod(innerFn, self, context);

    return generator;
  }
  runtime.wrap = wrap;

  // Try/catch helper to minimize deoptimizations. Returns a completion
  // record like context.tryEntries[i].completion. This interface could
  // have been (and was previously) designed to take a closure to be
  // invoked without arguments, but in all the cases we care about we
  // already have an existing method we want to call, so there's no need
  // to create a new function object. We can even get away with assuming
  // the method takes exactly one argument, since that happens to be true
  // in every case, so we don't have to touch the arguments object. The
  // only additional allocation required is the completion record, which
  // has a stable shape and so hopefully should be cheap to allocate.
  function tryCatch(fn, obj, arg) {
    try {
      return { type: "normal", arg: fn.call(obj, arg) };
    } catch (err) {
      return { type: "throw", arg: err };
    }
  }

  var GenStateSuspendedStart = "suspendedStart";
  var GenStateSuspendedYield = "suspendedYield";
  var GenStateExecuting = "executing";
  var GenStateCompleted = "completed";

  // Returning this object from the innerFn has the same effect as
  // breaking out of the dispatch switch statement.
  var ContinueSentinel = {};

  // Dummy constructor functions that we use as the .constructor and
  // .constructor.prototype properties for functions that return Generator
  // objects. For full spec compliance, you may wish to configure your
  // minifier not to mangle the names of these two functions.
  function Generator() {}
  function GeneratorFunction() {}
  function GeneratorFunctionPrototype() {}

  // This is a polyfill for %IteratorPrototype% for environments that
  // don't natively support it.
  var IteratorPrototype = {};
  IteratorPrototype[iteratorSymbol] = function () {
    return this;
  };

  var getProto = Object.getPrototypeOf;
  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));
  if (NativeIteratorPrototype &&
      NativeIteratorPrototype !== Op &&
      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {
    // This environment has a native %IteratorPrototype%; use it instead
    // of the polyfill.
    IteratorPrototype = NativeIteratorPrototype;
  }

  var Gp = GeneratorFunctionPrototype.prototype =
    Generator.prototype = Object.create(IteratorPrototype);
  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
  GeneratorFunctionPrototype.constructor = GeneratorFunction;
  GeneratorFunctionPrototype[toStringTagSymbol] =
    GeneratorFunction.displayName = "GeneratorFunction";

  // Helper for defining the .next, .throw, and .return methods of the
  // Iterator interface in terms of a single ._invoke method.
  function defineIteratorMethods(prototype) {
    ["next", "throw", "return"].forEach(function(method) {
      prototype[method] = function(arg) {
        return this._invoke(method, arg);
      };
    });
  }

  runtime.isGeneratorFunction = function(genFun) {
    var ctor = typeof genFun === "function" && genFun.constructor;
    return ctor
      ? ctor === GeneratorFunction ||
        // For the native GeneratorFunction constructor, the best we can
        // do is to check its .name property.
        (ctor.displayName || ctor.name) === "GeneratorFunction"
      : false;
  };

  runtime.mark = function(genFun) {
    if (Object.setPrototypeOf) {
      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);
    } else {
      genFun.__proto__ = GeneratorFunctionPrototype;
      if (!(toStringTagSymbol in genFun)) {
        genFun[toStringTagSymbol] = "GeneratorFunction";
      }
    }
    genFun.prototype = Object.create(Gp);
    return genFun;
  };

  // Within the body of any async function, `await x` is transformed to
  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test
  // `hasOwn.call(value, "__await")` to determine if the yielded value is
  // meant to be awaited.
  runtime.awrap = function(arg) {
    return { __await: arg };
  };

  function AsyncIterator(generator) {
    function invoke(method, arg, resolve, reject) {
      var record = tryCatch(generator[method], generator, arg);
      if (record.type === "throw") {
        reject(record.arg);
      } else {
        var result = record.arg;
        var value = result.value;
        if (value &&
            typeof value === "object" &&
            hasOwn.call(value, "__await")) {
          return Promise.resolve(value.__await).then(function(value) {
            invoke("next", value, resolve, reject);
          }, function(err) {
            invoke("throw", err, resolve, reject);
          });
        }

        return Promise.resolve(value).then(function(unwrapped) {
          // When a yielded Promise is resolved, its final value becomes
          // the .value of the Promise<{value,done}> result for the
          // current iteration.
          result.value = unwrapped;
          resolve(result);
        }, function(error) {
          // If a rejected Promise was yielded, throw the rejection back
          // into the async generator function so it can be handled there.
          return invoke("throw", error, resolve, reject);
        });
      }
    }

    var previousPromise;

    function enqueue(method, arg) {
      function callInvokeWithMethodAndArg() {
        return new Promise(function(resolve, reject) {
          invoke(method, arg, resolve, reject);
        });
      }

      return previousPromise =
        // If enqueue has been called before, then we want to wait until
        // all previous Promises have been resolved before calling invoke,
        // so that results are always delivered in the correct order. If
        // enqueue has not been called before, then it is important to
        // call invoke immediately, without waiting on a callback to fire,
        // so that the async generator function has the opportunity to do
        // any necessary setup in a predictable way. This predictability
        // is why the Promise constructor synchronously invokes its
        // executor callback, and why async functions synchronously
        // execute code before the first await. Since we implement simple
        // async functions in terms of async generators, it is especially
        // important to get this right, even though it requires care.
        previousPromise ? previousPromise.then(
          callInvokeWithMethodAndArg,
          // Avoid propagating failures to Promises returned by later
          // invocations of the iterator.
          callInvokeWithMethodAndArg
        ) : callInvokeWithMethodAndArg();
    }

    // Define the unified helper method that is used to implement .next,
    // .throw, and .return (see defineIteratorMethods).
    this._invoke = enqueue;
  }

  defineIteratorMethods(AsyncIterator.prototype);
  AsyncIterator.prototype[asyncIteratorSymbol] = function () {
    return this;
  };
  runtime.AsyncIterator = AsyncIterator;

  // Note that simple async functions are implemented on top of
  // AsyncIterator objects; they just return a Promise for the value of
  // the final result produced by the iterator.
  runtime.async = function(innerFn, outerFn, self, tryLocsList) {
    var iter = new AsyncIterator(
      wrap(innerFn, outerFn, self, tryLocsList)
    );

    return runtime.isGeneratorFunction(outerFn)
      ? iter // If outerFn is a generator, return the full iterator.
      : iter.next().then(function(result) {
          return result.done ? result.value : iter.next();
        });
  };

  function makeInvokeMethod(innerFn, self, context) {
    var state = GenStateSuspendedStart;

    return function invoke(method, arg) {
      if (state === GenStateExecuting) {
        throw new Error("Generator is already running");
      }

      if (state === GenStateCompleted) {
        if (method === "throw") {
          throw arg;
        }

        // Be forgiving, per 25.3.3.3.3 of the spec:
        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume
        return doneResult();
      }

      context.method = method;
      context.arg = arg;

      while (true) {
        var delegate = context.delegate;
        if (delegate) {
          var delegateResult = maybeInvokeDelegate(delegate, context);
          if (delegateResult) {
            if (delegateResult === ContinueSentinel) continue;
            return delegateResult;
          }
        }

        if (context.method === "next") {
          // Setting context._sent for legacy support of Babel's
          // function.sent implementation.
          context.sent = context._sent = context.arg;

        } else if (context.method === "throw") {
          if (state === GenStateSuspendedStart) {
            state = GenStateCompleted;
            throw context.arg;
          }

          context.dispatchException(context.arg);

        } else if (context.method === "return") {
          context.abrupt("return", context.arg);
        }

        state = GenStateExecuting;

        var record = tryCatch(innerFn, self, context);
        if (record.type === "normal") {
          // If an exception is thrown from innerFn, we leave state ===
          // GenStateExecuting and loop back for another invocation.
          state = context.done
            ? GenStateCompleted
            : GenStateSuspendedYield;

          if (record.arg === ContinueSentinel) {
            continue;
          }

          return {
            value: record.arg,
            done: context.done
          };

        } else if (record.type === "throw") {
          state = GenStateCompleted;
          // Dispatch the exception by looping back around to the
          // context.dispatchException(context.arg) call above.
          context.method = "throw";
          context.arg = record.arg;
        }
      }
    };
  }

  // Call delegate.iterator[context.method](context.arg) and handle the
  // result, either by returning a { value, done } result from the
  // delegate iterator, or by modifying context.method and context.arg,
  // setting context.delegate to null, and returning the ContinueSentinel.
  function maybeInvokeDelegate(delegate, context) {
    var method = delegate.iterator[context.method];
    if (method === undefined) {
      // A .throw or .return when the delegate iterator has no .throw
      // method always terminates the yield* loop.
      context.delegate = null;

      if (context.method === "throw") {
        if (delegate.iterator.return) {
          // If the delegate iterator has a return method, give it a
          // chance to clean up.
          context.method = "return";
          context.arg = undefined;
          maybeInvokeDelegate(delegate, context);

          if (context.method === "throw") {
            // If maybeInvokeDelegate(context) changed context.method from
            // "return" to "throw", let that override the TypeError below.
            return ContinueSentinel;
          }
        }

        context.method = "throw";
        context.arg = new TypeError(
          "The iterator does not provide a 'throw' method");
      }

      return ContinueSentinel;
    }

    var record = tryCatch(method, delegate.iterator, context.arg);

    if (record.type === "throw") {
      context.method = "throw";
      context.arg = record.arg;
      context.delegate = null;
      return ContinueSentinel;
    }

    var info = record.arg;

    if (! info) {
      context.method = "throw";
      context.arg = new TypeError("iterator result is not an object");
      context.delegate = null;
      return ContinueSentinel;
    }

    if (info.done) {
      // Assign the result of the finished delegate to the temporary
      // variable specified by delegate.resultName (see delegateYield).
      context[delegate.resultName] = info.value;

      // Resume execution at the desired location (see delegateYield).
      context.next = delegate.nextLoc;

      // If context.method was "throw" but the delegate handled the
      // exception, let the outer generator proceed normally. If
      // context.method was "next", forget context.arg since it has been
      // "consumed" by the delegate iterator. If context.method was
      // "return", allow the original .return call to continue in the
      // outer generator.
      if (context.method !== "return") {
        context.method = "next";
        context.arg = undefined;
      }

    } else {
      // Re-yield the result returned by the delegate method.
      return info;
    }

    // The delegate iterator is finished, so forget it and continue with
    // the outer generator.
    context.delegate = null;
    return ContinueSentinel;
  }

  // Define Generator.prototype.{next,throw,return} in terms of the
  // unified ._invoke helper method.
  defineIteratorMethods(Gp);

  Gp[toStringTagSymbol] = "Generator";

  // A Generator should always return itself as the iterator object when the
  // @@iterator function is called on it. Some browsers' implementations of the
  // iterator prototype chain incorrectly implement this, causing the Generator
  // object to not be returned from this call. This ensures that doesn't happen.
  // See https://github.com/facebook/regenerator/issues/274 for more details.
  Gp[iteratorSymbol] = function() {
    return this;
  };

  Gp.toString = function() {
    return "[object Generator]";
  };

  function pushTryEntry(locs) {
    var entry = { tryLoc: locs[0] };

    if (1 in locs) {
      entry.catchLoc = locs[1];
    }

    if (2 in locs) {
      entry.finallyLoc = locs[2];
      entry.afterLoc = locs[3];
    }

    this.tryEntries.push(entry);
  }

  function resetTryEntry(entry) {
    var record = entry.completion || {};
    record.type = "normal";
    delete record.arg;
    entry.completion = record;
  }

  function Context(tryLocsList) {
    // The root entry object (effectively a try statement without a catch
    // or a finally block) gives us a place to store values thrown from
    // locations where there is no enclosing try statement.
    this.tryEntries = [{ tryLoc: "root" }];
    tryLocsList.forEach(pushTryEntry, this);
    this.reset(true);
  }

  runtime.keys = function(object) {
    var keys = [];
    for (var key in object) {
      keys.push(key);
    }
    keys.reverse();

    // Rather than returning an object with a next method, we keep
    // things simple and return the next function itself.
    return function next() {
      while (keys.length) {
        var key = keys.pop();
        if (key in object) {
          next.value = key;
          next.done = false;
          return next;
        }
      }

      // To avoid creating an additional object, we just hang the .value
      // and .done properties off the next function object itself. This
      // also ensures that the minifier will not anonymize the function.
      next.done = true;
      return next;
    };
  };

  function values(iterable) {
    if (iterable) {
      var iteratorMethod = iterable[iteratorSymbol];
      if (iteratorMethod) {
        return iteratorMethod.call(iterable);
      }

      if (typeof iterable.next === "function") {
        return iterable;
      }

      if (!isNaN(iterable.length)) {
        var i = -1, next = function next() {
          while (++i < iterable.length) {
            if (hasOwn.call(iterable, i)) {
              next.value = iterable[i];
              next.done = false;
              return next;
            }
          }

          next.value = undefined;
          next.done = true;

          return next;
        };

        return next.next = next;
      }
    }

    // Return an iterator with no values.
    return { next: doneResult };
  }
  runtime.values = values;

  function doneResult() {
    return { value: undefined, done: true };
  }

  Context.prototype = {
    constructor: Context,

    reset: function(skipTempReset) {
      this.prev = 0;
      this.next = 0;
      // Resetting context._sent for legacy support of Babel's
      // function.sent implementation.
      this.sent = this._sent = undefined;
      this.done = false;
      this.delegate = null;

      this.method = "next";
      this.arg = undefined;

      this.tryEntries.forEach(resetTryEntry);

      if (!skipTempReset) {
        for (var name in this) {
          // Not sure about the optimal order of these conditions:
          if (name.charAt(0) === "t" &&
              hasOwn.call(this, name) &&
              !isNaN(+name.slice(1))) {
            this[name] = undefined;
          }
        }
      }
    },

    stop: function() {
      this.done = true;

      var rootEntry = this.tryEntries[0];
      var rootRecord = rootEntry.completion;
      if (rootRecord.type === "throw") {
        throw rootRecord.arg;
      }

      return this.rval;
    },

    dispatchException: function(exception) {
      if (this.done) {
        throw exception;
      }

      var context = this;
      function handle(loc, caught) {
        record.type = "throw";
        record.arg = exception;
        context.next = loc;

        if (caught) {
          // If the dispatched exception was caught by a catch block,
          // then let that catch block handle the exception normally.
          context.method = "next";
          context.arg = undefined;
        }

        return !! caught;
      }

      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        var record = entry.completion;

        if (entry.tryLoc === "root") {
          // Exception thrown outside of any try block that could handle
          // it, so set the completion value of the entire function to
          // throw the exception.
          return handle("end");
        }

        if (entry.tryLoc <= this.prev) {
          var hasCatch = hasOwn.call(entry, "catchLoc");
          var hasFinally = hasOwn.call(entry, "finallyLoc");

          if (hasCatch && hasFinally) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            } else if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else if (hasCatch) {
            if (this.prev < entry.catchLoc) {
              return handle(entry.catchLoc, true);
            }

          } else if (hasFinally) {
            if (this.prev < entry.finallyLoc) {
              return handle(entry.finallyLoc);
            }

          } else {
            throw new Error("try statement without catch or finally");
          }
        }
      }
    },

    abrupt: function(type, arg) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc <= this.prev &&
            hasOwn.call(entry, "finallyLoc") &&
            this.prev < entry.finallyLoc) {
          var finallyEntry = entry;
          break;
        }
      }

      if (finallyEntry &&
          (type === "break" ||
           type === "continue") &&
          finallyEntry.tryLoc <= arg &&
          arg <= finallyEntry.finallyLoc) {
        // Ignore the finally entry if control is not jumping to a
        // location outside the try/catch block.
        finallyEntry = null;
      }

      var record = finallyEntry ? finallyEntry.completion : {};
      record.type = type;
      record.arg = arg;

      if (finallyEntry) {
        this.method = "next";
        this.next = finallyEntry.finallyLoc;
        return ContinueSentinel;
      }

      return this.complete(record);
    },

    complete: function(record, afterLoc) {
      if (record.type === "throw") {
        throw record.arg;
      }

      if (record.type === "break" ||
          record.type === "continue") {
        this.next = record.arg;
      } else if (record.type === "return") {
        this.rval = this.arg = record.arg;
        this.method = "return";
        this.next = "end";
      } else if (record.type === "normal" && afterLoc) {
        this.next = afterLoc;
      }

      return ContinueSentinel;
    },

    finish: function(finallyLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.finallyLoc === finallyLoc) {
          this.complete(entry.completion, entry.afterLoc);
          resetTryEntry(entry);
          return ContinueSentinel;
        }
      }
    },

    "catch": function(tryLoc) {
      for (var i = this.tryEntries.length - 1; i >= 0; --i) {
        var entry = this.tryEntries[i];
        if (entry.tryLoc === tryLoc) {
          var record = entry.completion;
          if (record.type === "throw") {
            var thrown = record.arg;
            resetTryEntry(entry);
          }
          return thrown;
        }
      }

      // The context.catch method must only be called with a location
      // argument that corresponds to a known catch block.
      throw new Error("illegal catch attempt");
    },

    delegateYield: function(iterable, resultName, nextLoc) {
      this.delegate = {
        iterator: values(iterable),
        resultName: resultName,
        nextLoc: nextLoc
      };

      if (this.method === "next") {
        // Deliberately forget the last sent value so that we don't
        // accidentally pass it on to the delegate.
        this.arg = undefined;
      }

      return ContinueSentinel;
    }
  };
})(
  // In sloppy mode, unbound `this` refers to the global object, fallback to
  // Function constructor if we're in global strict mode. That is sadly a form
  // of indirect eval which violates Content Security Policy.
  (function() {
    return this || (typeof self === "object" && self);
  })() || Function("return this")()
);


/***/ }),

/***/ "970c":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("122e");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("0d5731ec", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "9766":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SysApp_vue_vue_type_style_index_0_id_13ff6e6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("605b");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SysApp_vue_vue_type_style_index_0_id_13ff6e6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SysApp_vue_vue_type_style_index_0_id_13ff6e6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_SysApp_vue_vue_type_style_index_0_id_13ff6e6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "9aa9":
/***/ (function(module, exports) {

exports.f = Object.getOwnPropertySymbols;


/***/ }),

/***/ "9b43":
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__("d8e8");
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ "9c6c":
/***/ (function(module, exports, __webpack_require__) {

// 22.1.3.31 Array.prototype[@@unscopables]
var UNSCOPABLES = __webpack_require__("2b4c")('unscopables');
var ArrayProto = Array.prototype;
if (ArrayProto[UNSCOPABLES] == undefined) __webpack_require__("32e9")(ArrayProto, UNSCOPABLES, {});
module.exports = function (key) {
  ArrayProto[UNSCOPABLES][key] = true;
};


/***/ }),

/***/ "9def":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__("4588");
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),

/***/ "9e1e":
/***/ (function(module, exports, __webpack_require__) {

// Thank's IE8 for his funny defineProperty
module.exports = !__webpack_require__("79e5")(function () {
  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "9f3f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Animator/Animator.vue?vue&type=template&id=65d1b551&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:"myDIV",staticClass:"myDIV"})}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/Animator/Animator.vue?vue&type=template&id=65d1b551&scoped=true&

// EXTERNAL MODULE: ./src/enos/Compos/APIs/builder.js + 1 modules
var builder = __webpack_require__("6f9b");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Animator/Animator.vue?vue&type=script&lang=js&
//
//
//
//

/* harmony default export */ var Animatorvue_type_script_lang_js_ = ({
  props: {
    doc: {}
  },
  data: function data() {
    return {
      html: '',
      link: false
    };
  },
  mounted: function mounted() {
    return this.renderHTML();
  },
  watch: {},
  methods: {
    renderHTML: function renderHTML() {
      builder["fromDocToDiv"]({
        Doc: this.doc,
        Div: this.$refs['myDIV']
      });
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Compos/Animator/Animator.vue?vue&type=script&lang=js&
 /* harmony default export */ var Animator_Animatorvue_type_script_lang_js_ = (Animatorvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/Animator/Animator.vue?vue&type=style&index=0&id=65d1b551&scoped=true&lang=css&
var Animatorvue_type_style_index_0_id_65d1b551_scoped_true_lang_css_ = __webpack_require__("3a9e");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Compos/Animator/Animator.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  Animator_Animatorvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "65d1b551",
  null
  
)

/* harmony default export */ var Animator = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "a03e":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("36a7");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("61fb979b", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "a159":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
var anObject = __webpack_require__("e4ae");
var dPs = __webpack_require__("7e90");
var enumBugKeys = __webpack_require__("1691");
var IE_PROTO = __webpack_require__("5559")('IE_PROTO');
var Empty = function () { /* empty */ };
var PROTOTYPE = 'prototype';

// Create object with fake `null` prototype: use iframe Object with cleared prototype
var createDict = function () {
  // Thrash, waste and sodomy: IE GC bug
  var iframe = __webpack_require__("1ec9")('iframe');
  var i = enumBugKeys.length;
  var lt = '<';
  var gt = '>';
  var iframeDocument;
  iframe.style.display = 'none';
  __webpack_require__("32fc").appendChild(iframe);
  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
  // createDict = iframe.contentWindow.Object;
  // html.removeChild(iframe);
  iframeDocument = iframe.contentWindow.document;
  iframeDocument.open();
  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
  iframeDocument.close();
  createDict = iframeDocument.F;
  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
  return createDict();
};

module.exports = Object.create || function create(O, Properties) {
  var result;
  if (O !== null) {
    Empty[PROTOTYPE] = anObject(O);
    result = new Empty();
    Empty[PROTOTYPE] = null;
    // add "__proto__" for Object.getPrototypeOf polyfill
    result[IE_PROTO] = O;
  } else result = createDict();
  return Properties === undefined ? result : dPs(result, Properties);
};


/***/ }),

/***/ "a1ce":
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__("63b6");
var defined = __webpack_require__("25eb");
var fails = __webpack_require__("294c");
var spaces = __webpack_require__("e692");
var space = '[' + spaces + ']';
var non = '\u200b\u0085';
var ltrim = RegExp('^' + space + space + '*');
var rtrim = RegExp(space + space + '*$');

var exporter = function (KEY, exec, ALIAS) {
  var exp = {};
  var FORCE = fails(function () {
    return !!spaces[KEY]() || non[KEY]() != non;
  });
  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
  if (ALIAS) exp[ALIAS] = fn;
  $export($export.P + $export.F * FORCE, 'String', exp);
};

// 1 -> String#trimLeft
// 2 -> String#trimRight
// 3 -> String#trim
var trim = exporter.trim = function (string, TYPE) {
  string = String(defined(string));
  if (TYPE & 1) string = string.replace(ltrim, '');
  if (TYPE & 2) string = string.replace(rtrim, '');
  return string;
};

module.exports = exporter;


/***/ }),

/***/ "a21f":
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__("584a");
var $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });
module.exports = function stringify(it) { // eslint-disable-line no-unused-vars
  return $JSON.stringify.apply($JSON, arguments);
};


/***/ }),

/***/ "a22a":
/***/ (function(module, exports, __webpack_require__) {

var ctx = __webpack_require__("d864");
var call = __webpack_require__("b0dc");
var isArrayIter = __webpack_require__("3702");
var anObject = __webpack_require__("e4ae");
var toLength = __webpack_require__("b447");
var getIterFn = __webpack_require__("7cd6");
var BREAK = {};
var RETURN = {};
var exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {
  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);
  var f = ctx(fn, that, entries ? 2 : 1);
  var index = 0;
  var length, step, iterator, result;
  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');
  // fast case for arrays with default iterator
  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {
    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
    if (result === BREAK || result === RETURN) return result;
  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
    result = call(iterator, f, step.value, entries);
    if (result === BREAK || result === RETURN) return result;
  }
};
exports.BREAK = BREAK;
exports.RETURN = RETURN;


/***/ }),

/***/ "a259":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, "@-webkit-keyframes dash-data-v-7412da8d{to{stroke-dashoffset:1000}}@keyframes dash-data-v-7412da8d{to{stroke-dashoffset:1000}}.path[data-v-7412da8d]{-webkit-animation:dash-data-v-7412da8d 30s linear infinite;animation:dash-data-v-7412da8d 30s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused;stroke-dasharray:8}", ""]);

// exports


/***/ }),

/***/ "a470":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".title[data-v-78b124fe]{position:relative;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:10px 10px 0 0;cursor:move;background-image:radial-gradient(circle farthest-corner at 10% 20%,#e6a7ff 0,#bae3ff 90.1%);width:100%;height:30px;line-height:30px;text-align:center}.minify[data-v-78b124fe]{background-image:radial-gradient(circle farthest-corner at 10% 20%,#3f0 0,#00aeff 90.1%);right:28px}.close[data-v-78b124fe],.minify[data-v-78b124fe]{width:17px;height:17px;border-radius:50%;position:absolute;top:6.5px;cursor:pointer}.close[data-v-78b124fe]{background-image:radial-gradient(circle farthest-corner at 10% 20%,#f90 0,red 90.1%);right:8px}.touch-drag[data-v-78b124fe]{-ms-touch-action:manipulation;touch-action:manipulation}.dragger[data-v-78b124fe]{width:100%;height:100%;position:absolute;top:0;left:0}.drag.inactive[data-v-78b124fe]{background-image:radial-gradient(circle farthest-corner at 10% 20%,#313131 0,#d8d8d8 90.1%)}.title-words[data-v-78b124fe]{display:inline}.slot[data-v-78b124fe]{display:inline-block;z-index:1;color:#000}", ""]);

// exports


/***/ }),

/***/ "a481":
/***/ (function(module, exports, __webpack_require__) {

"use strict";


var anObject = __webpack_require__("cb7c");
var toObject = __webpack_require__("4bf8");
var toLength = __webpack_require__("9def");
var toInteger = __webpack_require__("4588");
var advanceStringIndex = __webpack_require__("0390");
var regExpExec = __webpack_require__("5f1b");
var max = Math.max;
var min = Math.min;
var floor = Math.floor;
var SUBSTITUTION_SYMBOLS = /\$([$&`']|\d\d?|<[^>]*>)/g;
var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&`']|\d\d?)/g;

var maybeToString = function (it) {
  return it === undefined ? it : String(it);
};

// @@replace logic
__webpack_require__("214f")('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {
  return [
    // `String.prototype.replace` method
    // https://tc39.github.io/ecma262/#sec-string.prototype.replace
    function replace(searchValue, replaceValue) {
      var O = defined(this);
      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];
      return fn !== undefined
        ? fn.call(searchValue, O, replaceValue)
        : $replace.call(String(O), searchValue, replaceValue);
    },
    // `RegExp.prototype[@@replace]` method
    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace
    function (regexp, replaceValue) {
      var res = maybeCallNative($replace, regexp, this, replaceValue);
      if (res.done) return res.value;

      var rx = anObject(regexp);
      var S = String(this);
      var functionalReplace = typeof replaceValue === 'function';
      if (!functionalReplace) replaceValue = String(replaceValue);
      var global = rx.global;
      if (global) {
        var fullUnicode = rx.unicode;
        rx.lastIndex = 0;
      }
      var results = [];
      while (true) {
        var result = regExpExec(rx, S);
        if (result === null) break;
        results.push(result);
        if (!global) break;
        var matchStr = String(result[0]);
        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);
      }
      var accumulatedResult = '';
      var nextSourcePosition = 0;
      for (var i = 0; i < results.length; i++) {
        result = results[i];
        var matched = String(result[0]);
        var position = max(min(toInteger(result.index), S.length), 0);
        var captures = [];
        // NOTE: This is equivalent to
        //   captures = result.slice(1).map(maybeToString)
        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
        // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));
        var namedCaptures = result.groups;
        if (functionalReplace) {
          var replacerArgs = [matched].concat(captures, position, S);
          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);
          var replacement = String(replaceValue.apply(undefined, replacerArgs));
        } else {
          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
        }
        if (position >= nextSourcePosition) {
          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;
          nextSourcePosition = position + matched.length;
        }
      }
      return accumulatedResult + S.slice(nextSourcePosition);
    }
  ];

    // https://tc39.github.io/ecma262/#sec-getsubstitution
  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {
    var tailPos = position + matched.length;
    var m = captures.length;
    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
    if (namedCaptures !== undefined) {
      namedCaptures = toObject(namedCaptures);
      symbols = SUBSTITUTION_SYMBOLS;
    }
    return $replace.call(replacement, symbols, function (match, ch) {
      var capture;
      switch (ch.charAt(0)) {
        case '$': return '$';
        case '&': return matched;
        case '`': return str.slice(0, position);
        case "'": return str.slice(tailPos);
        case '<':
          capture = namedCaptures[ch.slice(1, -1)];
          break;
        default: // \d\d?
          var n = +ch;
          if (n === 0) return match;
          if (n > m) {
            var f = floor(n / 10);
            if (f === 0) return match;
            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);
            return match;
          }
          capture = captures[n - 1];
      }
      return capture === undefined ? '' : capture;
    });
  }
});


/***/ }),

/***/ "a4bb":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("8aae");

/***/ }),

/***/ "a745":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("f410");

/***/ }),

/***/ "aa77":
/***/ (function(module, exports, __webpack_require__) {

var $export = __webpack_require__("5ca1");
var defined = __webpack_require__("be13");
var fails = __webpack_require__("79e5");
var spaces = __webpack_require__("fdef");
var space = '[' + spaces + ']';
var non = '\u200b\u0085';
var ltrim = RegExp('^' + space + space + '*');
var rtrim = RegExp(space + space + '*$');

var exporter = function (KEY, exec, ALIAS) {
  var exp = {};
  var FORCE = fails(function () {
    return !!spaces[KEY]() || non[KEY]() != non;
  });
  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
  if (ALIAS) exp[ALIAS] = fn;
  $export($export.P + $export.F * FORCE, 'String', exp);
};

// 1 -> String#trimLeft
// 2 -> String#trimRight
// 3 -> String#trim
var trim = exporter.trim = function (string, TYPE) {
  string = String(defined(string));
  if (TYPE & 1) string = string.replace(ltrim, '');
  if (TYPE & 2) string = string.replace(rtrim, '');
  return string;
};

module.exports = exporter;


/***/ }),

/***/ "aae3":
/***/ (function(module, exports, __webpack_require__) {

// 7.2.8 IsRegExp(argument)
var isObject = __webpack_require__("d3f4");
var cof = __webpack_require__("2d95");
var MATCH = __webpack_require__("2b4c")('match');
module.exports = function (it) {
  var isRegExp;
  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');
};


/***/ }),

/***/ "aba2":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("e53d");
var macrotask = __webpack_require__("4178").set;
var Observer = global.MutationObserver || global.WebKitMutationObserver;
var process = global.process;
var Promise = global.Promise;
var isNode = __webpack_require__("6b4c")(process) == 'process';

module.exports = function () {
  var head, last, notify;

  var flush = function () {
    var parent, fn;
    if (isNode && (parent = process.domain)) parent.exit();
    while (head) {
      fn = head.fn;
      head = head.next;
      try {
        fn();
      } catch (e) {
        if (head) notify();
        else last = undefined;
        throw e;
      }
    } last = undefined;
    if (parent) parent.enter();
  };

  // Node.js
  if (isNode) {
    notify = function () {
      process.nextTick(flush);
    };
  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339
  } else if (Observer && !(global.navigator && global.navigator.standalone)) {
    var toggle = true;
    var node = document.createTextNode('');
    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new
    notify = function () {
      node.data = toggle = !toggle;
    };
  // environments with maybe non-completely correct, but existent Promise
  } else if (Promise && Promise.resolve) {
    // Promise.resolve without an argument throws an error in LG WebOS 2
    var promise = Promise.resolve(undefined);
    notify = function () {
      promise.then(flush);
    };
  // for other environments - macrotask based on:
  // - setImmediate
  // - MessageChannel
  // - window.postMessag
  // - onreadystatechange
  // - setTimeout
  } else {
    notify = function () {
      // strange IE + webpack dev server bug - use .call(global)
      macrotask.call(global, flush);
    };
  }

  return function (fn) {
    var task = { fn: fn, next: undefined };
    if (last) last.next = task;
    if (!head) {
      head = task;
      notify();
    } last = task;
  };
};


/***/ }),

/***/ "ac6a":
/***/ (function(module, exports, __webpack_require__) {

var $iterators = __webpack_require__("cadf");
var getKeys = __webpack_require__("0d58");
var redefine = __webpack_require__("2aba");
var global = __webpack_require__("7726");
var hide = __webpack_require__("32e9");
var Iterators = __webpack_require__("84f2");
var wks = __webpack_require__("2b4c");
var ITERATOR = wks('iterator');
var TO_STRING_TAG = wks('toStringTag');
var ArrayValues = Iterators.Array;

var DOMIterables = {
  CSSRuleList: true, // TODO: Not spec compliant, should be false.
  CSSStyleDeclaration: false,
  CSSValueList: false,
  ClientRectList: false,
  DOMRectList: false,
  DOMStringList: false,
  DOMTokenList: true,
  DataTransferItemList: false,
  FileList: false,
  HTMLAllCollection: false,
  HTMLCollection: false,
  HTMLFormElement: false,
  HTMLSelectElement: false,
  MediaList: true, // TODO: Not spec compliant, should be false.
  MimeTypeArray: false,
  NamedNodeMap: false,
  NodeList: true,
  PaintRequestList: false,
  Plugin: false,
  PluginArray: false,
  SVGLengthList: false,
  SVGNumberList: false,
  SVGPathSegList: false,
  SVGPointList: false,
  SVGStringList: false,
  SVGTransformList: false,
  SourceBufferList: false,
  StyleSheetList: true, // TODO: Not spec compliant, should be false.
  TextTrackCueList: false,
  TextTrackList: false,
  TouchList: false
};

for (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {
  var NAME = collections[i];
  var explicit = DOMIterables[NAME];
  var Collection = global[NAME];
  var proto = Collection && Collection.prototype;
  var key;
  if (proto) {
    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);
    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
    Iterators[NAME] = ArrayValues;
    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);
  }
}


/***/ }),

/***/ "aebd":
/***/ (function(module, exports) {

module.exports = function (bitmap, value) {
  return {
    enumerable: !(bitmap & 1),
    configurable: !(bitmap & 2),
    writable: !(bitmap & 4),
    value: value
  };
};


/***/ }),

/***/ "aeef":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports
exports.i(__webpack_require__("6111"), "");

// module
exports.push([module.i, ".over-hidden[data-v-498978b2]{overflow:hidden}.avoid-clicks[data-v-498978b2]{pointer-events:none}.word-lite[data-v-498978b2]{color:#fff}", ""]);

// exports


/***/ }),

/***/ "af0a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var effectnode_namespaceObject = {};
__webpack_require__.r(effectnode_namespaceObject);
__webpack_require__.d(effectnode_namespaceObject, "DomModule", function() { return DomModule; });
__webpack_require__.d(effectnode_namespaceObject, "MainLoopModule", function() { return MainLoopModule; });
__webpack_require__.d(effectnode_namespaceObject, "NS", function() { return NS; });
__webpack_require__.d(effectnode_namespaceObject, "removeDB", function() { return effectnode_removeDB; });
__webpack_require__.d(effectnode_namespaceObject, "saveDB", function() { return effectnode_saveDB; });
__webpack_require__.d(effectnode_namespaceObject, "loadDB", function() { return loadDB; });
__webpack_require__.d(effectnode_namespaceObject, "hydrateDoc", function() { return hydrateDoc; });
__webpack_require__.d(effectnode_namespaceObject, "saveDoc", function() { return saveDoc; });
__webpack_require__.d(effectnode_namespaceObject, "init", function() { return effectnode_init; });
__webpack_require__.d(effectnode_namespaceObject, "getToSocketByFromID", function() { return getToSocketByFromID; });
__webpack_require__.d(effectnode_namespaceObject, "getModInputs", function() { return getModInputs; });
__webpack_require__.d(effectnode_namespaceObject, "getModOutputs", function() { return getModOutputs; });
__webpack_require__.d(effectnode_namespaceObject, "getIDX", function() { return effectnode_getIDX; });
__webpack_require__.d(effectnode_namespaceObject, "makeMod", function() { return effectnode_makeMod; });
__webpack_require__.d(effectnode_namespaceObject, "cloneModule", function() { return effectnode_cloneModule; });
__webpack_require__.d(effectnode_namespaceObject, "getAllSockets", function() { return getAllSockets; });
__webpack_require__.d(effectnode_namespaceObject, "getAllModules", function() { return getAllModules; });
__webpack_require__.d(effectnode_namespaceObject, "getAllModulesOfProject", function() { return getAllModulesOfProject; });
__webpack_require__.d(effectnode_namespaceObject, "getAllSocketsOfProject", function() { return getAllSocketsOfProject; });
__webpack_require__.d(effectnode_namespaceObject, "addSocketToDoc", function() { return addSocketToDoc; });
__webpack_require__.d(effectnode_namespaceObject, "getSocketByID", function() { return getSocketByID; });
__webpack_require__.d(effectnode_namespaceObject, "addModToDoc", function() { return addModToDoc; });
__webpack_require__.d(effectnode_namespaceObject, "getTop", function() { return getTop; });
__webpack_require__.d(effectnode_namespaceObject, "getBottom", function() { return getBottom; });
__webpack_require__.d(effectnode_namespaceObject, "removeModFromDoc", function() { return removeModFromDoc; });
__webpack_require__.d(effectnode_namespaceObject, "removeSocketFromMod", function() { return removeSocketFromMod; });
__webpack_require__.d(effectnode_namespaceObject, "makeDocumentStack", function() { return makeDocumentStack; });
__webpack_require__.d(effectnode_namespaceObject, "makeSocket", function() { return makeSocket; });
__webpack_require__.d(effectnode_namespaceObject, "makeModule", function() { return makeModule; });

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/enos.vue?vue&type=template&id=498978b2&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Screen',{staticClass:"over-hidden"},[(_vm.view === 'projects')?_c('Projects',{attrs:{"ns":_vm.pjsID},on:{"load":_vm.loadProject,"remove-project":_vm.removeProject}}):_vm._e(),(_vm.view === 'enos' && _vm.uiAPI)?_c('Portals',{attrs:{"uiAPI":_vm.uiAPI},on:{"view":function (v) { _vm.view = v }}}):_vm._e()],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/enos.vue?vue&type=template&id=498978b2&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/promise.js
var promise = __webpack_require__("795b");
var promise_default = /*#__PURE__*/__webpack_require__.n(promise);

// EXTERNAL MODULE: ./node_modules/core-js/modules/web.dom.iterable.js
var web_dom_iterable = __webpack_require__("ac6a");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.iterator.js
var es6_array_iterator = __webpack_require__("cadf");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.string.iterator.js
var es6_string_iterator = __webpack_require__("5df3");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/array/is-array.js
var is_array = __webpack_require__("a745");
var is_array_default = /*#__PURE__*/__webpack_require__.n(is_array);

// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js

function _arrayWithoutHoles(arr) {
  if (is_array_default()(arr)) {
    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {
      arr2[i] = arr[i];
    }

    return arr2;
  }
}
// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/array/from.js
var from = __webpack_require__("774e");
var from_default = /*#__PURE__*/__webpack_require__.n(from);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/is-iterable.js
var is_iterable = __webpack_require__("c8bb");
var is_iterable_default = /*#__PURE__*/__webpack_require__.n(is_iterable);

// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js


function _iterableToArray(iter) {
  if (is_iterable_default()(Object(iter)) || Object.prototype.toString.call(iter) === "[object Arguments]") return from_default()(iter);
}
// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance");
}
// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js



function _toConsumableArray(arr) {
  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();
}
// EXTERNAL MODULE: ./node_modules/regenerator-runtime/runtime.js
var runtime = __webpack_require__("96cf");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator.js
var asyncToGenerator = __webpack_require__("3b8d");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.regexp.to-string.js
var es6_regexp_to_string = __webpack_require__("6b54");

// EXTERNAL MODULE: external {"commonjs":"vue","commonjs2":"vue","root":"Vue"}
var external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__("8bbf");
var external_commonjs_vue_commonjs2_vue_root_Vue_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_vue_commonjs2_vue_root_Vue_);

// EXTERNAL MODULE: ./node_modules/vue-draggable-resizable/dist/VueDraggableResizable.umd.min.js
var VueDraggableResizable_umd_min = __webpack_require__("fb19");
var VueDraggableResizable_umd_min_default = /*#__PURE__*/__webpack_require__.n(VueDraggableResizable_umd_min);

// EXTERNAL MODULE: ./node_modules/web-animations-js/web-animations.min.js
var web_animations_min = __webpack_require__("e9d4");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Screen/Screen.vue?vue&type=template&id=41df5d42&scoped=true&
var Screenvue_type_template_id_41df5d42_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"ll-screen"},[_vm._t("default")],2)}
var Screenvue_type_template_id_41df5d42_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/Screen/Screen.vue?vue&type=template&id=41df5d42&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Screen/Screen.vue?vue&type=script&lang=js&
//
//
//
//
//
//
/* harmony default export */ var Screenvue_type_script_lang_js_ = ({});
// CONCATENATED MODULE: ./src/enos/Compos/Screen/Screen.vue?vue&type=script&lang=js&
 /* harmony default export */ var Screen_Screenvue_type_script_lang_js_ = (Screenvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/Screen/Screen.vue?vue&type=style&index=0&id=41df5d42&scoped=true&lang=css&
var Screenvue_type_style_index_0_id_41df5d42_scoped_true_lang_css_ = __webpack_require__("ce7f");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Compos/Screen/Screen.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  Screen_Screenvue_type_script_lang_js_,
  Screenvue_type_template_id_41df5d42_scoped_true_render,
  Screenvue_type_template_id_41df5d42_scoped_true_staticRenderFns,
  false,
  null,
  "41df5d42",
  null
  
)

/* harmony default export */ var Screen = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Portals/Portals.vue?vue&type=template&id=3da3219b&scoped=true&
var Portalsvue_type_template_id_3da3219b_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full ll-perspective dont-move"},[_c('div',{staticClass:"full ll-cam",style:(_vm.getGroupCSS()),attrs:{"tag":"div","name":"zoomba"}},_vm._l((_vm.uiAPI.portal.portals.slice().sort(function (a, b) {
            var da = new Date(a.date)
            var db = new Date(b.date)
            if (da > db) {
              return 1
            } else if (da === db) {
              return 0
            } else {
              return -1
            }
          })),function(ip,ipi){return _c('vue-draggable-resizable',{key:ip.id,ref:'portals_' + ip.id,refInFor:true,style:(_vm.getWindowStyle(ip, ipi)),attrs:{"w":ip.win.width,"h":ip.win.height,"x":ip.win.x,"y":ip.win.y,"z":ip.win.z,"minh":122,"minw":198,"drag-handle":".touch-drag","drag-cancel":".cancel","handles":['br', 'bl', 'tl'],"active":true},on:{"dragging":function (x, y) {
            _vm.onDrag(x, y, ip)
          },"resizing":function (x, y, w, h) {
            _vm.onResize(x, y, w, h, ip)
          },"activated":function($event){_vm.onActivated(ip)}}},[_c('keep-alive',[(!ip.win.minimised)?_c(ip.app,{ref:("p-compo-" + (ip.id)),refInFor:true,tag:"Component",staticClass:"full",attrs:{"uiAPI":_vm.uiAPI,"portal":ip},on:{"mouseenter":function () { ip.win.active = true; },"mouseout":function () { ip.win.active = true; },"activated":function($event){_vm.onActivated(ip)},"click":function($event){_vm.onActivated(ip)}}}):_vm._e()],1)],1)}),1),_c('TaskBar',{ref:"taskbar",attrs:{"uiAPI":_vm.uiAPI},on:{"activated":function (v) {
      _vm.onActivated(v.portal)
    },"view":function (v) {
      _vm.$emit('view', v)
    },"opened":function (v) {
      _vm.opened = v
    }}})],1)}
var Portalsvue_type_template_id_3da3219b_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/Portals/Portals.vue?vue&type=template&id=3da3219b&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/json/stringify.js
var stringify = __webpack_require__("f499");
var stringify_default = /*#__PURE__*/__webpack_require__.n(stringify);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/keys.js
var keys = __webpack_require__("a4bb");
var keys_default = /*#__PURE__*/__webpack_require__.n(keys);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js + 1 modules
var objectSpread = __webpack_require__("cebc");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/TaskBar/TaskBar.vue?vue&type=template&id=123b442a&scoped=true&
var TaskBarvue_type_template_id_123b442a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"div"},[_c('div',{staticClass:"taskbar",class:{ disconnected: _vm.isDisconnected }},[_c('div',{staticClass:"taskbar-content"},[(_vm.isDisconnected)?_c('div',{staticClass:"taskbar-icon disconnected"},[_vm._v("\n        Offline\n      ")]):_vm._e(),_c('div',{staticClass:"taskbar-icon home",on:{"click":function($event){_vm.$emit('view', 'projects')}}},[_vm._v("\n        Home\n      ")]),_c('div',{staticClass:"taskbar-icon home",on:{"click":function($event){_vm.startMenu = true}}},[_vm._v("\n        My Apps\n      ")]),(_vm.toggle3D && _vm.uiAPI.portal.portals.length > 0)?_c('div',{staticClass:"taskbar-icon button3d",on:{"click":_vm.toggle3DSpace}},[_vm._v("\n        2D 🦄\n      ")]):_vm._e(),(!_vm.toggle3D && _vm.uiAPI.portal.portals.length > 0)?_c('div',{staticClass:"taskbar-icon button3d",on:{"click":_vm.toggle3DSpace}},[_vm._v("\n        3D 🌈\n      ")]):_vm._e(),(_vm.uiAPI.portal.portals.length > 0)?_c('div',{staticClass:"taskbar-icon button3d",on:{"click":_vm.oragnise}},[_vm._v("\n        🎩 Organise\n      ")]):_vm._e(),_vm._l((_vm.uiAPI.portal.portals.slice().sort(function (a, b) {
        var da = new Date(a.date)
        var db = new Date(b.date)
        if (da > db) {
          return 1
        } else if (da === db) {
          return 0
        } else {
          return -1
        }
      })),function(ip,ipk){return _c('div',{key:ipk,staticClass:"taskbar-icon win",class:{ 'is-on': ip.win.minimised },on:{"touchstart":function($event){_vm.$emit('activated', { portal: ip })},"click":function($event){_vm.$emit('activated', { portal: ip })}}},[_vm._v("\n        "+_vm._s(ip.win.name || ip.app)+"\n      ")])})],2)]),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.startMenu),expression:"startMenu"}],staticClass:"start-menu-overlay",on:{"click":function($event){_vm.startMenu = false}}}),_c('div',{directives:[{name:"show",rawName:"v-show",value:(_vm.startMenu),expression:"startMenu"}],staticClass:"start-menu"},[_c('div',{staticClass:"start-title-bar"},[_vm._v("Fun Fun App Store")]),_c('div',{staticClass:"start-content-div"},[_c('div',{staticClass:"start-content-div-margin"},_vm._l((_vm.StartMenuItems),function(smi){return _c('div',{key:smi.name,staticClass:"app-icon adder",on:{"click":function($event){_vm.closeMenu(); _vm.uiAPI.portal.addWindow({ data: {}, appName: smi.windowTitle, type: smi.compoName })}}},[_vm._v("\n          "+_vm._s(smi.windowTitle)+"\n        ")])}),0)])])])}
var TaskBarvue_type_template_id_123b442a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/TaskBar/TaskBar.vue?vue&type=template&id=123b442a&scoped=true&

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find.js
var es6_array_find = __webpack_require__("7514");

// CONCATENATED MODULE: ./src/enos/AppList.js

// import Vue from 'vue'
var AppList = [{
  windowTitle: 'Demo',
  compoName: 'SysApp',
  App: __webpack_require__("901b").default
}];
var accessor = {
  get _AL() {
    return AppList.reduce(function (c, ii) {
      c[ii.compoName] = ii.App;
      return c;
    }, {});
  }

};
var setAppList = function setAppList(apps) {
  if (apps && apps.length > 0) {
    AppList = apps;
  }
};
var Apps = function Apps() {
  return accessor._AL;
};
var TypeFilter = function TypeFilter(type) {
  return (AppList.find(function (tc) {
    return tc.compoName === type;
  }) || {}).compoName;
};
var StartMenu = function StartMenu() {
  return AppList.slice().filter(function (e) {
    return !e.hidden;
  });
};
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/TaskBar/TaskBar.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
 // import * as YoNet from '@/enos/Compos/APIs/yoNet.js'

/* harmony default export */ var TaskBarvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {}
  },
  mounted: function mounted() {
    this.$forceUpdate();
  },
  watch: {
    startMenu: function startMenu() {
      this.$emit('opened', this.startMenu);
    },
    toggle3D: function toggle3D() {
      if (this.toggle3D) {
        this.uiAPI.portal.enableSpace3D();
      } else {
        this.uiAPI.portal.disableSpace3D();
      }
    }
  },
  computed: {
    isDisconnected: function isDisconnected() {
      return false; // YoNet.socket.disconnected
    }
  },
  data: function data() {
    return {
      // socket: YoNet.socket,
      StartMenuItems: StartMenu(),
      startMenu: false,
      toggle3D: false
    };
  },
  methods: {
    oragnise: function oragnise() {
      this.uiAPI.portal.organise();
      this.$root.$forceUpdate();
    },
    closeMenu: function closeMenu() {
      this.startMenu = false;
    },
    toggle3DSpace: function toggle3DSpace() {
      this.toggle3D = !this.toggle3D;
    },
    goHome: function goHome() {
      window.location.href = '/';
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Compos/TaskBar/TaskBar.vue?vue&type=script&lang=js&
 /* harmony default export */ var TaskBar_TaskBarvue_type_script_lang_js_ = (TaskBarvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/TaskBar/TaskBar.vue?vue&type=style&index=0&id=123b442a&scoped=true&lang=css&
var TaskBarvue_type_style_index_0_id_123b442a_scoped_true_lang_css_ = __webpack_require__("b0f3");

// CONCATENATED MODULE: ./src/enos/Compos/TaskBar/TaskBar.vue






/* normalize component */

var TaskBar_component = Object(componentNormalizer["a" /* default */])(
  TaskBar_TaskBarvue_type_script_lang_js_,
  TaskBarvue_type_template_id_123b442a_scoped_true_render,
  TaskBarvue_type_template_id_123b442a_scoped_true_staticRenderFns,
  false,
  null,
  "123b442a",
  null
  
)

/* harmony default export */ var TaskBar = (TaskBar_component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Portals/Portals.vue?vue&type=script&lang=js&




//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
// import QuotesApp from '@/enOS/Apps/QuotesApp'
// import AnimationApp from '@/enOS/Apps/AnimationApp'
// import DimensionalApp from '@/enOS/Apps/DimensionalApp'
// import ParticleSeaApp from '@/enOS/Apps/ParticleSeaApp'
// import VolumetricApp from '@/enOS/Apps/VolumetricApp'
// import ConnectorApp from '@/enOS/Apps/ConnectorApp'
// import ExecEnvApp from '@/enOS/Apps/ExecEnvApp'
// import ModEditorApp from '@/enOS/Apps/ModEditorApp'


/* harmony default export */ var Portalsvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {}
  },
  components: Object(objectSpread["a" /* default */])({
    TaskBar: TaskBar
  }, Apps()),
  data: function data() {
    return {
      opened: false,
      resizeTimeout: 0,
      sct: 0
    };
  },
  beforeCreate: function beforeCreate() {
    var _this = this;

    var apps = Apps();

    keys_default()(apps).forEach(function (kn) {
      _this.$options.components[kn] = apps[kn];
    });
  },
  created: function created() {},
  mounted: function mounted() {
    this.loadLS();
    this.loadResizer();
  },
  watch: {
    metasJSON: function metasJSON() {
      this.shouldSave();
    },
    portalsJSON: function portalsJSON() {
      this.shouldSave();
    },
    portalLength: function portalLength() {
      this.shouldSave();
      this.loadResizer();
    }
  },
  computed: {
    portalLength: function portalLength() {
      return this.uiAPI.portal.portals.length;
    },
    portalsJSON: function portalsJSON() {
      return stringify_default()(this.uiAPI.portal.portals);
    },
    metasJSON: function metasJSON() {
      return stringify_default()(this.uiAPI.portal.meta);
    }
  },
  methods: {
    getGroupCSS: function getGroupCSS() {
      if (this.opened) {
        return {
          filter: 'blur(20px)'
        };
      } else {
        return {
          filter: 'none'
        };
      }
    },
    loadResizer: function loadResizer() {
      var _this2 = this;

      this.$nextTick(function () {
        _this2.uiAPI.portal.portals.forEach(function (ip) {
          if (_this2.$refs['portals_' + ip.id]) {
            var e = _this2.$refs['portals_' + ip.id][0];

            if (e) {
              var br = e.$el.querySelector('.handle.handle-br');
              br.addEventListener('mousedown', function () {
                _this2.onActivated(ip);
              }, false);
              br.addEventListener('touchstart', function () {
                _this2.onActivated(ip);
              }, false);
            }
          }
        });
      });
    },
    getWindowStyle: function getWindowStyle(ip, ipi) {
      // ipi = ip.win.z
      // ipi = this.uiAPI.portal.portals.length - ipi
      // let max = -this.uiAPI.portal.portals.length * 300
      return {
        transition: 'transform 0.5s',
        // transform: this.uiAPI.portal.isIn3D() ? `translateZ(-500px) rotateX(-30deg) rotateY(30deg)` : ``
        transform: this.uiAPI.portal.isIn3D() ? "rotateX(-30deg) rotateY(30deg)" : ""
      };
    },
    loadLS: function loadLS() {
      var items = window.localStorage.getItem(this.uiAPI.sessionID + 'portals-enos');
      var meta = window.localStorage.getItem(this.uiAPI.sessionID + 'portals-meta-enos');

      try {
        if (items && meta) {
          this.uiAPI.portal.portals = JSON.parse(items);
          this.uiAPI.portal.meta = JSON.parse(meta);
        } else {
          this.uiAPI.portal.makeSample();
          this.$refs['taskbar'].startMenu = true;
        }

        this.uiAPI.portal.fixOverflow();
        this.uiAPI.portal.makeZList();
      } catch (e) {
        console.log('==== Reset ====');
        this.uiAPI.portal.portals = [];
        this.uiAPI.portal.makeSample();
        console.log(e);
      } // this.$forceUpdate()

    },
    shouldSave: function shouldSave() {
      var _this3 = this;

      this.$nextTick(function () {
        window.localStorage.setItem(_this3.uiAPI.sessionID + 'portals-meta-enos', stringify_default()(_this3.uiAPI.portal.meta));
        window.localStorage.setItem(_this3.uiAPI.sessionID + 'portals-enos', stringify_default()(_this3.uiAPI.portal.portals));
      });
    },
    onActivated: function onActivated(ip) {
      // console.log(ip)
      this.uiAPI.portal.activate(ip);

      if (!this.$options.components[ip.app]) {
        this.uiAPI.portal.removeWindow(ip);
      }

      this.$forceUpdate(); // this.shouldSave()
    },
    onResize: function onResize(x, y, width, height, p) {
      p.win.x = x;
      p.win.y = y;
      p.win.width = width;
      p.win.height = height; // this.shouldSave()

      var ip = p;
      var compo = this.$refs["p-compo-".concat(ip.id)];

      if (compo && compo[0]) {
        if (window.innerWidth < 500) {
          clearTimeout(this.resizeTimeout);
          this.resizeTimeout = setTimeout(function () {
            compo[0].$emit('resize', {
              portal: p
            });
          }, 60);
        } else {
          compo[0].$emit('resize', {
            portal: p
          });
        } // compo[0].$emit('resize', { portal: p })

      }
    },
    onDrag: function onDrag(x, y, p) {
      p.win.x = x;
      p.win.y = y; // this.shouldSave()
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Compos/Portals/Portals.vue?vue&type=script&lang=js&
 /* harmony default export */ var Portals_Portalsvue_type_script_lang_js_ = (Portalsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/Portals/Portals.vue?vue&type=style&index=0&lang=css&
var Portalsvue_type_style_index_0_lang_css_ = __webpack_require__("813c");

// EXTERNAL MODULE: ./src/enos/Compos/Portals/Portals.vue?vue&type=style&index=1&id=3da3219b&scoped=true&lang=css&
var Portalsvue_type_style_index_1_id_3da3219b_scoped_true_lang_css_ = __webpack_require__("fa19");

// CONCATENATED MODULE: ./src/enos/Compos/Portals/Portals.vue







/* normalize component */

var Portals_component = Object(componentNormalizer["a" /* default */])(
  Portals_Portalsvue_type_script_lang_js_,
  Portalsvue_type_template_id_3da3219b_scoped_true_render,
  Portalsvue_type_template_id_3da3219b_scoped_true_staticRenderFns,
  false,
  null,
  "3da3219b",
  null
  
)

/* harmony default export */ var Portals = (Portals_component.exports);
// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.sort.js
var es6_array_sort = __webpack_require__("55dd");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.array.find-index.js
var es6_array_find_index = __webpack_require__("20d6");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es7.array.includes.js
var es7_array_includes = __webpack_require__("6762");

// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.string.includes.js
var es6_string_includes = __webpack_require__("2fdb");

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/date/now.js
var now = __webpack_require__("0a0d");
var now_default = /*#__PURE__*/__webpack_require__.n(now);

// CONCATENATED MODULE: ./src/enos/Compos/APIs/portals.js









var removeDB = function removeDB(_ref) {
  var sess = _ref.sess;
  window.localStorage.removeItem(sess + 'portals-meta-enos');
  window.localStorage.removeItem(sess + 'portals-enos');
}; // import * as API from './API'

function getID() {
  return '_' + (Math.random() * 100000000).toFixed(0);
}
var temp = {
  x: 30,
  y: 30
};
function square(api, currentWin) {
  var avg = 360;
  currentWin.win.width = avg;
  currentWin.win.height = avg + 30;
  currentWin.win.minimised = true;
  setTimeout(function () {
    currentWin.win.minimised = false;
  }, 100);
}
function organise(api) {
  if (window.innerWidth <= 769) {
    var w = window.innerWidth - 10;
    var h = 333;
    api.portals.forEach(function (ip, idx) {
      ip.win.x = 5;
      ip.win.y = 5;
      ip.win.width = w;
      ip.win.height = h;

      if (idx === 0) {
        ip.win.minimised = true;
        setTimeout(function () {
          ip.win.minimised = false;
        }, 100 * (idx + 1));
      } else {
        ip.win.minimised = true;
      }
    });
  } else {
    var _w = window.innerWidth - 40;

    var _h = window.innerHeight - 70 - 30;

    api.portals.forEach(function (ip, idx) {
      ip.win.x = 30 * (idx + 1);
      ip.win.y = 30 * (idx + 1);
      ip.win.width = _w > 650 ? 650 : _w;
      ip.win.height = _h > 500 ? 500 : _h;
      setTimeout(function () {
        ip.win.minimised = true;
      }, 100);
    });
    var connectorApp = api.portals.find(function (a) {
      return a.app === 'enedit';
    });

    if (connectorApp) {
      connectorApp.win.x = 20;
      connectorApp.win.y = 20;
      connectorApp.win.minimised = true;
      setTimeout(function () {
        connectorApp.win.minimised = false;
      }, 200);
    }

    var previewApp = api.portals.find(function (a) {
      return a.app === 'enpreview';
    });

    if (previewApp) {
      previewApp.win.width = 400;
      previewApp.win.height = 300;
      previewApp.win.x = window.innerWidth - previewApp.win.width - 20;
      previewApp.win.y = 20;
      previewApp.win.minimised = true;
      setTimeout(function () {
        previewApp.win.minimised = false;
      }, 200);
    }
  }

  temp.x = 30;
  temp.y = 30;
}
function makeWin(id, appName) {
  var w = window.innerWidth - 40;
  var h = window.innerHeight - 70 - 30;
  var win = {
    id: getID(),
    name: appName,
    width: w > 650 ? 650 : w,
    height: h > 500 ? 500 : h,
    x: 20 + temp.x,
    y: 20 + temp.y,
    z: 100000,
    active: true,
    minimised: false,
    space3D: false
  };
  temp.x += 30;
  temp.y += 30;
  temp.x %= 210;
  temp.y %= 210;

  if (window.innerWidth < 500) {
    win.width = window.innerWidth - win.x * 2.0;
    temp.x = 0;
    temp.y = 0;
  }

  return win;
}
function makePortal(_ref2) {
  var type = _ref2.type,
      _ref2$appName = _ref2.appName,
      appName = _ref2$appName === void 0 ? 'App' : _ref2$appName,
      _ref2$data = _ref2.data,
      data = _ref2$data === void 0 ? {} : _ref2$data;
  var id = getID();
  var win = makeWin(id, appName);
  var app = 'NoteApp';
  app = TypeFilter(type) || app; // if (type === 'yoteach') {
  //   app = 'YoTeachApp'
  // } else if (type === 'sys') {
  //   app = 'SysApp'
  // } else if (type === 'note') {
  //   app = 'NoteApp'
  // }

  return {
    id: id,
    app: app,
    date: now_default()(),
    win: win,
    data: data
  };
}
function makeSample(api) {
  if (AppList.map(function (e) {
    return e.compoName;
  }).includes('enedit')) {
    api.portals.push(makePortal({
      type: 'enedit',
      data: {},
      appName: AppList.find(function (e) {
        return e.compoName === 'enedit';
      }).windowTitle
    }));
  }

  if (AppList.map(function (e) {
    return e.compoName;
  }).includes('enpreview')) {
    api.portals.push(makePortal({
      type: 'enpreview',
      data: {},
      appName: AppList.find(function (e) {
        return e.compoName === 'enpreview';
      }).windowTitle
    }));
  }

  api.organise();
}
function addWindow(api, args) {
  var newWin = makePortal(args);
  api.portals.push(newWin);
  sortWinZ(api, newWin);
}
function hideWindow(api, current) {
  current.win.minimised = true;
  makeZList(api);
}
function removeWindow(api, current) {
  var idx = api.portals.findIndex(function (e) {
    return e.id === current.id;
  });
  api.portals.splice(idx, 1);
}
function fixOverflow(api) {
  var go = api.portals.reduce(function (c, p) {
    var isOutView = p.win.x >= window.innerWidth || p.win.y >= window.innerHeight;

    if (isOutView) {
      c = true;
    }

    return c;
  }, false);

  if (go) {
    api.portals.forEach(function (p, i) {
      p.win.x = 50 + i * 50;
      p.win.y = 50 + i * 50;
      p.win.z = 10 + i;
    });
  }
} // export function sortWinZ (api, current) {
//   let idx = api.portals.findIndex(p => p.id === current.id)
//   api.portals.splice(idx, 1)
//   api.portals.push(current)
//   makeZList(api)
// }
// export function makeZList (api) {
//   api.portals.filter(e => !e.win.minimised).forEach((i, ii) => {
//     i.win.z = ii
//   })
// }

function sortWinZ(api, current) {
  // let idx = api.portals.findIndex(p => p.id === current.id)
  // api.portals.splice(idx, 1)
  // api.portals.push(current)
  makeZList(api);
}
function makeZList(api) {
  api.portals.slice().sort(function (a, b) {
    if (a.win.active) {
      return 1;
    } else {
      return -1;
    }
  }).forEach(function (i, ii) {
    i.win.z = ii;
  });
}
function isIn3D(api) {
  var firstPortal = api.portals[0];

  if (firstPortal) {
    return firstPortal.win.space3D;
  } else {
    return false;
  }
}
function enableSpace3D(api) {
  api.portals.forEach(function (i, ii) {
    i.win.space3D = true;
  });
}
function disableSpace3D(api) {
  api.portals.forEach(function (i, ii) {
    i.win.space3D = false;
  });
}
function activate(api, current) {
  api.portals.forEach(function (i) {
    i.win.active = false;
  });
  current.win.active = true;
  current.win.minimised = false;
  sortWinZ(api, current);
}
function portals_init() {
  var mod = {};
  mod.meta = {};
  mod.portals = [];

  mod.makeSample = function () {
    makeSample(mod);
  };

  mod.isIn3D = function () {
    return isIn3D(mod);
  };

  mod.addWindow = function (arg) {
    addWindow(mod, arg);
  };

  mod.fixOverflow = function () {
    fixOverflow(mod);
  };

  mod.enableSpace3D = function () {
    enableSpace3D(mod);
  };

  mod.disableSpace3D = function () {
    disableSpace3D(mod);
  };

  mod.makeZList = function () {
    makeZList(mod);
  };

  mod.sortWinZ = function (current) {
    sortWinZ(mod, current);
  };

  mod.removeWindow = function (current) {
    removeWindow(mod, current);
  };

  mod.hideWindow = function (current) {
    hideWindow(mod, current);
  };

  mod.activate = function (current) {
    activate(mod, current);
  };

  mod.square = function (current) {
    square(mod, current);
  };

  mod.organise = function () {
    organise(mod);
  };

  return new promise_default.a(function (resolve) {
    setTimeout(function () {
      resolve(mod);
    }, 1);
  });
}
// EXTERNAL MODULE: ./node_modules/core-js/modules/es6.function.name.js
var es6_function_name = __webpack_require__("7f7f");

// CONCATENATED MODULE: ./src/enos/Compos/APIs/effectnode.js












var effectnode_getID = function getID(prefix) {
  prefix = prefix || '';
  return '_hive_' + prefix + '_' + Math.random().toString(36).substr(2, 9);
};

var DomModule = "/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += 'linear-gradient(45deg, '\n    gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n";
var MainLoopModule = "/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('========' + 'box.name' + 'is Ready.  ========')\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n\n  event.time = performance.now();\n\n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n  "; // let Data = {
//   makeBridge () {
//     return {
//       id: getID(),
//       line: {
//         running: true,
//         stroke: `green`
//       },
//       a: {
//         rect: {
//           x: 50,
//           y: 50,
//           w: 25,
//           h: 10,
//           stroke: ``,
//           fill: `lime`
//         },
//         marker: {
//           stroke: ``,
//           fill: `green`
//         }
//       },
//       b: {
//         rect: {
//           x: 200,
//           y: 100,
//           w: 25,
//           h: 10,
//           stroke: ``,
//           fill: `lime`
//         },
//         marker: {
//           stroke: ``,
//           fill: `green`
//         }
//       }
//     }
//   }
// }

var NS = 'effectnode-project';
var effectnode_removeDB = function removeDB(_ref) {
  var sess = _ref.sess;
  window.localStorage.removeItem("".concat(NS, "-").concat(sess));
};
var effectnode_saveDB = function saveDB(_ref2) {
  var sess = _ref2.sess,
      data = _ref2.data;
  window.localStorage.setItem("".concat(NS, "-").concat(sess), stringify_default()(data));
};
var loadDB = function loadDB(_ref3) {
  var sess = _ref3.sess;
  var data = window.localStorage.getItem("".concat(NS, "-").concat(sess));

  if (data) {
    try {
      return JSON.parse(data);
    } catch (e) {
      console.log('bad json', e);
      return null;
    }
  } else {
    return null;
  }
};
var hydrateDoc = function hydrateDoc(_ref4) {
  var Doc = _ref4.Doc;
  var dbData = loadDB({
    sess: Doc.sessionID
  });

  if (dbData) {
    Doc.root = dbData;
  } else {
    var defaultJSON = __webpack_require__("01ce");

    Doc.root = defaultJSON.root;
  }
};
var saveDoc = function saveDoc(_ref5) {
  var Doc = _ref5.Doc;
  var dbData = effectnode_saveDB({
    sess: Doc.sessionID,
    data: Doc.root
  });

  if (dbData) {
    Doc.root = dbData;
  }
};
var effectnode_init =
/*#__PURE__*/
function () {
  var _ref6 = Object(asyncToGenerator["a" /* default */])(
  /*#__PURE__*/
  regeneratorRuntime.mark(function _callee2(uiAPI) {
    return regeneratorRuntime.wrap(function _callee2$(_context2) {
      while (1) {
        switch (_context2.prev = _context2.next) {
          case 0:
            return _context2.abrupt("return", new promise_default.a(
            /*#__PURE__*/
            function () {
              var _ref7 = Object(asyncToGenerator["a" /* default */])(
              /*#__PURE__*/
              regeneratorRuntime.mark(function _callee(resolve, reject) {
                var Doc;
                return regeneratorRuntime.wrap(function _callee$(_context) {
                  while (1) {
                    switch (_context.prev = _context.next) {
                      case 0:
                        Doc = makeDocumentStack();
                        Doc.sessionID = uiAPI.sessionID;
                        Doc.projectID = uiAPI.sessionID;
                        Doc.userID = uiAPI.sessionID;
                        hydrateDoc({
                          Doc: Doc
                        });
                        return _context.abrupt("return", resolve({
                          Doc: Doc
                        }));

                      case 6:
                      case "end":
                        return _context.stop();
                    }
                  }
                }, _callee, this);
              }));

              return function (_x2, _x3) {
                return _ref7.apply(this, arguments);
              };
            }()));

          case 1:
          case "end":
            return _context2.stop();
        }
      }
    }, _callee2, this);
  }));

  return function init(_x) {
    return _ref6.apply(this, arguments);
  };
}();
var getToSocketByFromID = function getToSocketByFromID(_ref8) {
  var Doc = _ref8.Doc,
      fromSocketID = _ref8.fromSocketID;
  var sockets = getAllSockets({
    Doc: Doc
  });
  return sockets.find(function (s) {
    return s.socket.to === fromSocketID;
  });
};
var getModInputs = function getModInputs(_ref9) {
  var Doc = _ref9.Doc,
      modID = _ref9.modID;
  var sockets = getAllSockets({
    Doc: Doc
  });
  return sockets.filter(function (s) {
    return s.modID === modID && s.type === 'input';
  }).slice().sort(function (a, b) {
    return a.idx - b.idx;
  });
};
var getModOutputs = function getModOutputs(_ref10) {
  var Doc = _ref10.Doc,
      modID = _ref10.modID;
  var sockets = getAllSockets({
    Doc: Doc
  });
  return sockets.filter(function (s) {
    return s.modID === modID && s.type === 'output';
  }).slice().sort(function (a, b) {
    return a.idx - b.idx;
  });
};
var idxAccu = 0;
var effectnode_getIDX = function getIDX() {
  idxAccu++;
  return now_default()() + idxAccu;
};
var effectnode_makeMod = function makeMod(_ref11) {
  var Doc = _ref11.Doc,
      src = _ref11.src,
      name = _ref11.name;
  var mod = makeModule({
    Doc: Doc,
    name: name,
    src: src,
    pos: {
      x: 50 + Math.random() * 10,
      y: 100 + Math.random() * 10
    },
    meta: JSON.parse(stringify_default()([]))
  });
  addModToDoc({
    mod: mod,
    Doc: Doc
  }); // inputs

  var in1 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'input',
    modID: mod.id
  });
  addSocketToDoc({
    socket: in1,
    Doc: Doc
  });
  var in2 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'input',
    modID: mod.id
  });
  addSocketToDoc({
    socket: in2,
    Doc: Doc
  });
  var in3 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'input',
    modID: mod.id
  });
  addSocketToDoc({
    socket: in3,
    Doc: Doc
  });
  var in4 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'input',
    modID: mod.id
  });
  addSocketToDoc({
    socket: in4,
    Doc: Doc
  }); // outptus

  var out1 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'output',
    modID: mod.id
  });
  addSocketToDoc({
    socket: out1,
    Doc: Doc
  });
  var out2 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'output',
    modID: mod.id
  });
  addSocketToDoc({
    socket: out2,
    Doc: Doc
  });
  var out3 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'output',
    modID: mod.id
  });
  addSocketToDoc({
    socket: out3,
    Doc: Doc
  });
  var ou4 = makeSocket({
    Doc: Doc,
    idx: effectnode_getIDX(),
    type: 'output',
    modID: mod.id
  });
  addSocketToDoc({
    socket: ou4,
    Doc: Doc
  });
  return mod;
};
var effectnode_cloneModule = function cloneModule(_ref12) {
  var Doc = _ref12.Doc,
      mod = _ref12.mod,
      _ref12$connectors = _ref12.connectors,
      connectors = _ref12$connectors === void 0 ? Doc.root.connectors : _ref12$connectors,
      _ref12$pos = _ref12.pos,
      pos = _ref12$pos === void 0 ? false : _ref12$pos;
  var newMod = makeModule({
    Doc: Doc,
    name: mod.name,
    src: mod.src,
    pos: pos || {
      x: mod.pos.x + 30,
      y: mod.pos.y + 30
    },
    meta: JSON.parse(stringify_default()(mod.meta || []))
  });
  addModToDoc({
    mod: newMod,
    Doc: Doc
  });
  connectors.filter(function (c) {
    return c.modID === mod.id;
  }).sort(function (a, b) {
    return a.idx - b.idx;
  }).forEach(function (e, ii) {
    var ss = makeSocket({
      Doc: Doc,
      idx: effectnode_getIDX(),
      color: e.color,
      type: e.type,
      name: e.name,
      modID: newMod.id
    });
    addSocketToDoc({
      socket: ss,
      Doc: Doc
    });
  });
  return newMod;
};
var getAllSockets = function getAllSockets(_ref13) {
  var Doc = _ref13.Doc;
  return Doc.root.connectors.slice().sort(function (a, b) {
    return a.idx - b.idx;
  });
};
var getAllModules = function getAllModules(_ref14) {
  var Doc = _ref14.Doc;
  return Doc.root.modules;
};
var getAllModulesOfProject = function getAllModulesOfProject(_ref15) {
  var Doc = _ref15.Doc;
  return Doc.root.modules;
};
var getAllSocketsOfProject = function getAllSocketsOfProject(_ref16) {
  var Doc = _ref16.Doc;
  return Doc.root.connectors.slice().sort(function (a, b) {
    return a.idx - b.idx;
  });
};
var addSocketToDoc = function addSocketToDoc(_ref17) {
  var socket = _ref17.socket,
      Doc = _ref17.Doc;
  Doc.root.connectors.push(socket);
};
var getSocketByID = function getSocketByID(_ref18) {
  var id = _ref18.id,
      Doc = _ref18.Doc;
  return Doc.root.connectors.find(function (s) {
    return s.socket.from === id;
  });
};
var addModToDoc = function addModToDoc(_ref19) {
  var mod = _ref19.mod,
      Doc = _ref19.Doc;
  Doc.root.modules.push(mod);
};
var getTop = function getTop(_ref20) {
  var Doc = _ref20.Doc,
      socket = _ref20.socket;
  var box = Doc.root.modules.find(function (m) {
    return m.id === socket.modID;
  });
  var boxW = box.size.w; // let boxH = box.size.h

  var inputs = getModInputs({
    Doc: Doc,
    modID: box.id
  }) || []; // let outputs = getModOutputs({ Doc, modID: box.id }) || []

  var inputW = boxW / (inputs.length || 3); // let outputW = boxW / (outputs.length || 3)

  return {
    rect: {
      x: box.pos.x + inputs.find(function (e) {
        return e.id === socket.id;
      }) * inputW,
      y: box.pos.y - 13,
      w: inputW,
      h: 13
    }
  };
};
var getBottom = function getBottom(_ref21) {
  var Doc = _ref21.Doc,
      socket = _ref21.socket;
  var box = Doc.root.modules.find(function (m) {
    return m.id === socket.modID;
  });
  var boxW = box.size.w;
  var boxH = box.size.h; // let inputs = getModInputs({ Doc, modID: box.id }) || []

  var outputs = getModOutputs({
    Doc: Doc,
    modID: box.id
  }) || []; // let inputW = boxW / (inputs.length || 3)

  var outputW = boxW / (outputs.length || 3);
  return {
    rect: {
      x: box.pos.x + outputs.find(function (e) {
        return e.id === socket.id;
      }) * outputW,
      y: box.pos.y + boxH - 13 + 13,
      w: outputW,
      h: 13
    }
  };
};
var removeModFromDoc = function removeModFromDoc(_ref22) {
  var mod = _ref22.mod,
      Doc = _ref22.Doc;
  var modules = Doc.root.modules;
  var idx = modules.findIndex(function (m) {
    return m.id === mod.id;
  });
  modules.splice(idx, 1);
};
var removeSocketFromMod = function removeSocketFromMod(_ref23) {
  var Doc = _ref23.Doc,
      socket = _ref23.socket;
  var connectors = Doc.root.connectors;
  var idx = connectors.findIndex(function (m) {
    return m._id === socket._id;
  });
  connectors.splice(idx, 1);
};
var makeDocumentStack = function makeDocumentStack() {
  return {
    root: {
      modules: [],
      connectors: []
    },
    versions: [// {
      //   date: new Date(),
      //   root: {}
      // }
    ]
  };
};
var makeSocket = function makeSocket(_ref24) {
  var Doc = _ref24.Doc,
      _ref24$oldID = _ref24.oldID,
      oldID = _ref24$oldID === void 0 ? '' : _ref24$oldID,
      _ref24$idx = _ref24.idx,
      idx = _ref24$idx === void 0 ? 0 : _ref24$idx,
      _ref24$type = _ref24.type,
      type = _ref24$type === void 0 ? 'input' : _ref24$type,
      _ref24$color = _ref24.color,
      color = _ref24$color === void 0 ? '#e4e3e5' : _ref24$color,
      _ref24$name = _ref24.name,
      name = _ref24$name === void 0 ? 'my socket' : _ref24$name,
      modID = _ref24.modID,
      _ref24$projectID = _ref24.projectID,
      projectID = _ref24$projectID === void 0 ? Doc.projectID : _ref24$projectID,
      _ref24$isTemplate = _ref24.isTemplate,
      isTemplate = _ref24$isTemplate === void 0 ? false : _ref24$isTemplate,
      _ref24$isGallery = _ref24.isGallery,
      isGallery = _ref24$isGallery === void 0 ? false : _ref24$isGallery;
  var sID = effectnode_getID(Doc.projectID + 'socket');
  var data = {
    userID: Doc.userID,
    projectID: projectID,
    oldID: oldID,
    id: sID,
    _id: sID,
    isTemplate: isTemplate,
    isGallery: isGallery,
    type: type,
    idx: idx,
    name: name,
    color: color,
    modID: modID,
    mod: {
      from: modID,
      to: ''
    },
    socket: {
      from: sID,
      to: ''
    }
  };
  return data; // let resp = await Service.connectors.add(data)
  // let obj = resp.results
  // return obj
};
var makeModule = function makeModule(_ref25) {
  var Doc = _ref25.Doc,
      _ref25$oldID = _ref25.oldID,
      oldID = _ref25$oldID === void 0 ? '' : _ref25$oldID,
      _ref25$src = _ref25.src,
      src = _ref25$src === void 0 ? '' : _ref25$src,
      _ref25$name = _ref25.name,
      name = _ref25$name === void 0 ? '' : _ref25$name,
      pos = _ref25.pos,
      meta = _ref25.meta,
      _ref25$projectID = _ref25.projectID,
      projectID = _ref25$projectID === void 0 ? Doc.projectID : _ref25$projectID,
      _ref25$isTemplate = _ref25.isTemplate,
      isTemplate = _ref25$isTemplate === void 0 ? false : _ref25$isTemplate,
      _ref25$isGallery = _ref25.isGallery,
      isGallery = _ref25$isGallery === void 0 ? false : _ref25$isGallery;
  var modID = effectnode_getID(Doc.projectID + 'module');
  var data = {
    userID: Doc.userID,
    projectID: projectID,
    id: modID,
    _id: modID,
    isTemplate: isTemplate,
    isGallery: isGallery,
    oldID: oldID,
    meta: meta || [],
    bg: '',
    name: name,
    pos: pos || {
      x: 100,
      y: 100
    },
    size: {
      w: 200,
      h: 40
    },
    src: src // let resp = await Service.modules.add(data)
    // let obj = resp.results

  };
  return data;
};
// EXTERNAL MODULE: ./src/enos/Compos/APIs/builder.js + 1 modules
var builder = __webpack_require__("6f9b");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Projects/Projects.vue?vue&type=template&id=0c874d6a&scoped=true&
var Projectsvue_type_template_id_0c874d6a_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v("\n    Clone From Template\n  ")]),_c('ul',[_c('li',[_c('span',{staticClass:"linker",on:{"click":_vm.importProject}},[_vm._v(" Import Project")])])]),_c('ul',_vm._l((_vm.starters),function(start){return _c('li',{key:start.name},[_c('span',{staticClass:"linker",on:{"click":function($event){_vm.starterProject({ Doc: start.data })}}},[_vm._v(_vm._s(start.name))])])}),0),_c('h1',[_vm._v("Projects in window.localStorage")]),_c('ul',_vm._l((_vm.projects),function(project){return _c('li',{key:project.projectID},[_c('input',{directives:[{name:"model",rawName:"v-model",value:(project.name),expression:"project.name"}],attrs:{"type":"text"},domProps:{"value":(project.name)},on:{"input":[function($event){if($event.target.composing){ return; }_vm.$set(project, "name", $event.target.value)},function($event){_vm.saveProjects()}]}}),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.$emit('load', project)}}},[_vm._v(" Enter ")]),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.removeProject(project)}}},[_vm._v(" Remove")]),_c('span',{staticClass:"linker",on:{"click":function($event){_vm.exportProject(project)}}},[_vm._v(" Export ")])])}),0)])}
var Projectsvue_type_template_id_0c874d6a_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Compos/Projects/Projects.vue?vue&type=template&id=0c874d6a&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Compos/Projects/Projects.vue?vue&type=script&lang=js&




//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


var Projectsvue_type_script_lang_js_getID = function getID() {
  return '_' + Math.random().toString(36).substr(2, 9);
};

/* harmony default export */ var Projectsvue_type_script_lang_js_ = ({
  props: {
    ns: {
      default: 'ENPJ'
    }
  },
  data: function data() {
    return {
      starters: [],
      projects: []
    };
  },
  mounted: function mounted() {
    this.starters = [{
      name: 'NOVA WebGL',
      data: __webpack_require__("1e95")
    }, // {
    //   name: 'Basic DOM',
    //   data: require('../APIs/defaults/dom.json')
    // },
    {
      name: 'Basic DOM',
      data: __webpack_require__("e95a")
    }, {
      name: 'Iris WebGL',
      data: __webpack_require__("01ce")
    }, {
      name: 'Star Ball WebGL',
      data: __webpack_require__("712d")
    }, {
      name: 'Particle Sea WebGL',
      data: __webpack_require__("854a")
    }];
    this.hydrateProjects();
  },
  methods: {
    starterProject: function starterProject(_ref) {
      var Doc = _ref.Doc;
      var sess = Projectsvue_type_script_lang_js_getID();
      effectnode_saveDB({
        sess: sess,
        data: Doc.root
      });
      this.projects.push({
        projectID: sess,
        name: window.prompt('new name of the imported project?') || 'imported project'
      });
      this.saveProjects();
    },
    importProject: function importProject() {
      var _this = this;

      var input = document.createElement('input');
      input.type = 'file';

      input.onchange = function (evt) {
        var files = evt.target.files;

        if (files[0]) {
          var sess = Projectsvue_type_script_lang_js_getID();
          var reader = new FileReader();

          reader.onload = function () {
            try {
              var data = JSON.parse(reader.result);
              effectnode_saveDB({
                sess: sess,
                data: data.root
              });

              _this.projects.push({
                projectID: sess,
                name: files[0].name // window.prompt('new name of the imported project?') || 'imported project'

              });

              _this.saveProjects();
            } catch (e) {}
          };

          reader.readAsText(files[0]);
        }
      };

      input.click();
    },
    exportProject: function exportProject(project) {
      var db = loadDB({
        sess: project.projectID
      });
      console.log(project, db);

      if (db) {
        var link = URL.createObjectURL(new Blob([stringify_default()({
          root: db
        }, null, '  ')], {
          type: 'application/json'
        }));
        var a = document.createElement('a');
        a.href = link;
        a.download = (window.prompt('save as?') || 'effect node') + '.json';
        a.click();
      }
    },
    addProject: function addProject() {
      this.projects.push({
        projectID: Projectsvue_type_script_lang_js_getID(),
        name: 'my new project'
      });
      this.saveProjects();
    },
    removeProject: function removeProject(project) {
      if (window.confirm('remove project?' + project.name)) {
        this.projects.splice(this.projects.findIndex(function (pj) {
          return pj.projectID === project.projectID;
        }), 1);
        this.$emit('remove-project', project);
        this.saveProjects();
      }
    },
    saveProjects: function saveProjects() {
      var nsID = window.localStorage.getItem(this.ns);
      window.localStorage.setItem("".concat(nsID, "-projects"), stringify_default()(this.projects));
    },
    hydrateProjects: function hydrateProjects() {
      var nsID = window.localStorage.getItem(this.ns);
      var projects = window.localStorage.getItem("".concat(nsID, "-projects"));

      if (!projects) {
        window.localStorage.setItem("".concat(nsID, "-projects"), stringify_default()([{
          projectID: Projectsvue_type_script_lang_js_getID(),
          name: 'my first project'
        }]));
      }

      this.projects = JSON.parse(window.localStorage.getItem("".concat(nsID, "-projects")));
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Compos/Projects/Projects.vue?vue&type=script&lang=js&
 /* harmony default export */ var Projects_Projectsvue_type_script_lang_js_ = (Projectsvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Compos/Projects/Projects.vue?vue&type=style&index=0&id=0c874d6a&scoped=true&lang=css&
var Projectsvue_type_style_index_0_id_0c874d6a_scoped_true_lang_css_ = __webpack_require__("2cb0");

// CONCATENATED MODULE: ./src/enos/Compos/Projects/Projects.vue






/* normalize component */

var Projects_component = Object(componentNormalizer["a" /* default */])(
  Projects_Projectsvue_type_script_lang_js_,
  Projectsvue_type_template_id_0c874d6a_scoped_true_render,
  Projectsvue_type_template_id_0c874d6a_scoped_true_staticRenderFns,
  false,
  null,
  "0c874d6a",
  null
  
)

/* harmony default export */ var Projects = (Projects_component.exports);
// EXTERNAL MODULE: ./node_modules/vue-draggable-resizable/dist/VueDraggableResizable.css
var VueDraggableResizable = __webpack_require__("278f");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/enos.vue?vue&type=script&lang=js&








//
//
//
//
//
//
//
//











external_commonjs_vue_commonjs2_vue_root_Vue_default.a.component('vue-draggable-resizable', VueDraggableResizable_umd_min_default.a);

var enosvue_type_script_lang_js_getID = function getID() {
  return '_' + Math.random().toString(36).substr(2, 9);
};

/* harmony default export */ var enosvue_type_script_lang_js_ = ({
  props: {
    apps: {
      default: function _default() {
        return [];
      }
    },
    pjsID: {
      default: 'ENPJ'
    },
    ns: {
      default: 'RSSID'
    },
    effectnode: {
      default: true
    },
    single: {
      default: false
    }
  },
  components: {
    Screen: Screen,
    Portals: Portals,
    Projects: Projects
  },
  data: function data() {
    return {
      view: this.effectnode ? 'projects' : 'enos',
      uiAPI: false,
      sessionID: 0
    };
  },
  mounted: function () {
    var _mounted = Object(asyncToGenerator["a" /* default */])(
    /*#__PURE__*/
    regeneratorRuntime.mark(function _callee() {
      var NS, sessionID;
      return regeneratorRuntime.wrap(function _callee$(_context) {
        while (1) {
          switch (_context.prev = _context.next) {
            case 0:
              NS = this.ns;
              sessionID = window.localStorage.getItem(NS);

              if (!sessionID) {
                window.localStorage.setItem(NS, "".concat(NS, "-@-") + Math.random().toString(36).substr(2, 9));
                sessionID = window.localStorage.getItem(NS);
              }

              if (!this.effectnode) {
                this.init({
                  sessionID: enosvue_type_script_lang_js_getID()
                });
              } else if (this.single) {
                this.init({
                  sessionID: sessionID
                });
              }

            case 4:
            case "end":
              return _context.stop();
          }
        }
      }, _callee, this);
    }));

    function mounted() {
      return _mounted.apply(this, arguments);
    }

    return mounted;
  }(),
  methods: {
    removeProject: function removeProject(_ref) {
      var projectID = _ref.projectID;
      removeDB({
        sess: projectID
      });
      effectnode_removeDB({
        sess: projectID
      });
    },
    loadProject: function loadProject(_ref2) {
      var projectID = _ref2.projectID;
      this.init({
        sessionID: projectID
      });
    },
    init: function () {
      var _init = Object(asyncToGenerator["a" /* default */])(
      /*#__PURE__*/
      regeneratorRuntime.mark(function _callee2(_ref3) {
        var _this = this;

        var sessionID, adder, apis;
        return regeneratorRuntime.wrap(function _callee2$(_context2) {
          while (1) {
            switch (_context2.prev = _context2.next) {
              case 0:
                sessionID = _ref3.sessionID;
                this.uiAPI = false;
                this.view = 'enos';
                adder = this.apps;

                if (this.effectnode) {
                  adder = [{
                    windowTitle: 'Effect Node Editor',
                    compoName: 'enedit',
                    App: __webpack_require__("0064").default
                  }, {
                    windowTitle: 'Animation Preview Window',
                    compoName: 'enpreview',
                    App: __webpack_require__("0096").default
                  }, {
                    windowTitle: 'Mod Editor Window',
                    compoName: 'enmodedit',
                    App: __webpack_require__("8c65").default,
                    hidden: true
                  }].concat(_toConsumableArray(adder));
                }

                setAppList(adder); // effectnode

                apis = [portals_init(), effectnode_init({
                  sessionID: sessionID
                })];

                promise_default.a.all(apis).then(function (res) {
                  var portal = res[0];
                  var Doc = res[1].Doc;
                  _this.uiAPI = {
                    Builder: builder,
                    projectID: sessionID,
                    userID: sessionID,
                    portal: portal,
                    enAPI: effectnode_namespaceObject,
                    Doc: Doc,
                    hive: {
                      Data: effectnode_namespaceObject,
                      Doc: Doc
                    },
                    sessionID: sessionID
                  };
                });

              case 8:
              case "end":
                return _context2.stop();
            }
          }
        }, _callee2, this);
      }));

      function init(_x) {
        return _init.apply(this, arguments);
      }

      return init;
    }()
  }
});
// CONCATENATED MODULE: ./src/enos/enos.vue?vue&type=script&lang=js&
 /* harmony default export */ var enos_enosvue_type_script_lang_js_ = (enosvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/enos.vue?vue&type=style&index=0&lang=css&
var enosvue_type_style_index_0_lang_css_ = __webpack_require__("8dd3");

// EXTERNAL MODULE: ./src/enos/enos.vue?vue&type=style&index=1&id=498978b2&scoped=true&lang=css&
var enosvue_type_style_index_1_id_498978b2_scoped_true_lang_css_ = __webpack_require__("94e0");

// CONCATENATED MODULE: ./src/enos/enos.vue







/* normalize component */

var enos_component = Object(componentNormalizer["a" /* default */])(
  enos_enosvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "498978b2",
  null
  
)

/* harmony default export */ var enos = __webpack_exports__["default"] = (enos_component.exports);

/***/ }),

/***/ "b0c5":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var regexpExec = __webpack_require__("520a");
__webpack_require__("5ca1")({
  target: 'RegExp',
  proto: true,
  forced: regexpExec !== /./.exec
}, {
  exec: regexpExec
});


/***/ }),

/***/ "b0dc":
/***/ (function(module, exports, __webpack_require__) {

// call something on iterator step with safe closing on error
var anObject = __webpack_require__("e4ae");
module.exports = function (iterator, fn, value, entries) {
  try {
    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
  // 7.4.6 IteratorClose(iterator, completion)
  } catch (e) {
    var ret = iterator['return'];
    if (ret !== undefined) anObject(ret.call(iterator));
    throw e;
  }
};


/***/ }),

/***/ "b0f3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TaskBar_vue_vue_type_style_index_0_id_123b442a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("91fe");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TaskBar_vue_vue_type_style_index_0_id_123b442a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TaskBar_vue_vue_type_style_index_0_id_123b442a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_TaskBar_vue_vue_type_style_index_0_id_123b442a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "b447":
/***/ (function(module, exports, __webpack_require__) {

// 7.1.15 ToLength
var toInteger = __webpack_require__("3a38");
var min = Math.min;
module.exports = function (it) {
  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
};


/***/ }),

/***/ "b57b":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","id":"_hive_RSSID-@-169323258080960module_1055303947199","_id":"_hive_RSSID-@-169323258080960module_1055303947199","isTemplate":false,"isGallery":false,"oldID":"","meta":[],"bg":"","name":"Main Loop Module","pos":{"x":50,"y":100},"size":{"w":200,"h":40},"src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('========' + 'box.name' + 'is Ready.  ========')\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n\n  event.time = performance.now();\n\n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n  "},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","id":"_hive_RSSID-@-169323258080960module_498789066779","_id":"_hive_RSSID-@-169323258080960module_498789066779","isTemplate":false,"isGallery":false,"oldID":"","meta":[],"bg":"","name":"Dom Updater Module","pos":{"x":116,"y":222},"size":{"w":200,"h":40},"src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet h = {\n  fillBackground: (degree) => {\n    let gradBg = ''\n    gradBg += 'linear-gradient(45deg, '\n    gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n"}],"connectors":[{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_1016306455414","_id":"_hive_RSSID-@-169323258080960socket_1016306455414","isTemplate":false,"isGallery":false,"type":"input","idx":1548892302778,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_1016306455414","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_752697699500","_id":"_hive_RSSID-@-169323258080960socket_752697699500","isTemplate":false,"isGallery":false,"type":"input","idx":1548892302779,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_752697699500","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_979982438295","_id":"_hive_RSSID-@-169323258080960socket_979982438295","isTemplate":false,"isGallery":false,"type":"input","idx":1548892302780,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_979982438295","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_324518543818","_id":"_hive_RSSID-@-169323258080960socket_324518543818","isTemplate":false,"isGallery":false,"type":"input","idx":1548892302781,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_324518543818","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_1021648471288","_id":"_hive_RSSID-@-169323258080960socket_1021648471288","isTemplate":false,"isGallery":false,"type":"output","idx":1548892302782,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":"_hive_RSSID-@-169323258080960module_498789066779"},"socket":{"from":"_hive_RSSID-@-169323258080960socket_1021648471288","to":"_hive_RSSID-@-169323258080960socket_1029666396919"},"onHand":true},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_660800831253","_id":"_hive_RSSID-@-169323258080960socket_660800831253","isTemplate":false,"isGallery":false,"type":"output","idx":1548892302783,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_660800831253","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_961564071883","_id":"_hive_RSSID-@-169323258080960socket_961564071883","isTemplate":false,"isGallery":false,"type":"output","idx":1548892302784,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_961564071883","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_903308585172","_id":"_hive_RSSID-@-169323258080960socket_903308585172","isTemplate":false,"isGallery":false,"type":"output","idx":1548892302785,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_1055303947199","mod":{"from":"_hive_RSSID-@-169323258080960module_1055303947199","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_903308585172","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_1029666396919","_id":"_hive_RSSID-@-169323258080960socket_1029666396919","isTemplate":false,"isGallery":false,"type":"input","idx":1548892303328,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":"_hive_RSSID-@-169323258080960module_1055303947199"},"socket":{"from":"_hive_RSSID-@-169323258080960socket_1029666396919","to":"_hive_RSSID-@-169323258080960socket_1021648471288"}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_55894682938","_id":"_hive_RSSID-@-169323258080960socket_55894682938","isTemplate":false,"isGallery":false,"type":"input","idx":1548892303329,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_55894682938","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_95803533795","_id":"_hive_RSSID-@-169323258080960socket_95803533795","isTemplate":false,"isGallery":false,"type":"input","idx":1548892303330,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_95803533795","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_238271223920","_id":"_hive_RSSID-@-169323258080960socket_238271223920","isTemplate":false,"isGallery":false,"type":"input","idx":1548892303331,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_238271223920","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_163621113434","_id":"_hive_RSSID-@-169323258080960socket_163621113434","isTemplate":false,"isGallery":false,"type":"output","idx":1548892303332,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_163621113434","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_1047439066373","_id":"_hive_RSSID-@-169323258080960socket_1047439066373","isTemplate":false,"isGallery":false,"type":"output","idx":1548892303333,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_1047439066373","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_641807581485","_id":"_hive_RSSID-@-169323258080960socket_641807581485","isTemplate":false,"isGallery":false,"type":"output","idx":1548892303334,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_641807581485","to":""}},{"userID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","oldID":"","id":"_hive_RSSID-@-169323258080960socket_586815102045","_id":"_hive_RSSID-@-169323258080960socket_586815102045","isTemplate":false,"isGallery":false,"type":"output","idx":1548892303335,"name":"my socket","color":"#e4e3e5","modID":"_hive_RSSID-@-169323258080960module_498789066779","mod":{"from":"_hive_RSSID-@-169323258080960module_498789066779","to":""},"socket":{"from":"_hive_RSSID-@-169323258080960socket_586815102045","to":""}}]},"versions":[],"sessionID":"RSSID-@-169323258080960","projectID":"RSSID-@-169323258080960","userID":"RSSID-@-169323258080960"};

/***/ }),

/***/ "b8e3":
/***/ (function(module, exports) {

module.exports = true;


/***/ }),

/***/ "b9e6":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("cb0b");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("78e09140", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "b9e9":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("7445");
module.exports = __webpack_require__("584a").parseInt;


/***/ }),

/***/ "bb36":
/***/ (function(module, exports, __webpack_require__) {

ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;

var DocCommentHighlightRules = function() {
    this.$rules = {
        "start" : [ {
            token : "comment.doc.tag",
            regex : "@[\\w\\d_]+" // TODO: fix email addresses
        }, 
        DocCommentHighlightRules.getTagRule(),
        {
            defaultToken : "comment.doc",
            caseInsensitive: true
        }]
    };
};

oop.inherits(DocCommentHighlightRules, TextHighlightRules);

DocCommentHighlightRules.getTagRule = function(start) {
    return {
        token : "comment.doc.tag.storage.type",
        regex : "\\b(?:TODO|FIXME|XXX|HACK)\\b"
    };
};

DocCommentHighlightRules.getStartRule = function(start) {
    return {
        token : "comment.doc", // doc comment
        regex : "\\/\\*(?=\\*)",
        next  : start
    };
};

DocCommentHighlightRules.getEndRule = function (start) {
    return {
        token : "comment.doc", // closing comment
        regex : "\\*\\/",
        next  : start
    };
};


exports.DocCommentHighlightRules = DocCommentHighlightRules;

});

ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var DocCommentHighlightRules = acequire("./doc_comment_highlight_rules").DocCommentHighlightRules;
var TextHighlightRules = acequire("./text_highlight_rules").TextHighlightRules;
var identifierRe = "[a-zA-Z\\$_\u00a1-\uffff][a-zA-Z\\d\\$_\u00a1-\uffff]*";

var JavaScriptHighlightRules = function(options) {
    var keywordMapper = this.createKeywordMapper({
        "variable.language":
            "Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|"  + // Constructors
            "Namespace|QName|XML|XMLList|"                                             + // E4X
            "ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|"   +
            "Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|"                    +
            "Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|"   + // Errors
            "SyntaxError|TypeError|URIError|"                                          +
            "decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|" + // Non-constructor functions
            "isNaN|parseFloat|parseInt|"                                               +
            "JSON|Math|"                                                               + // Other
            "this|arguments|prototype|window|document"                                 , // Pseudo
        "keyword":
            "const|yield|import|get|set|async|await|" +
            "break|case|catch|continue|default|delete|do|else|finally|for|function|" +
            "if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|" +
            "__parent__|__count__|escape|unescape|with|__proto__|" +
            "class|enum|extends|super|export|implements|private|public|interface|package|protected|static",
        "storage.type":
            "const|let|var|function",
        "constant.language":
            "null|Infinity|NaN|undefined",
        "support.function":
            "alert",
        "constant.language.boolean": "true|false"
    }, "identifier");
    var kwBeforeRe = "case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void";

    var escapedRe = "\\\\(?:x[0-9a-fA-F]{2}|" + // hex
        "u[0-9a-fA-F]{4}|" + // unicode
        "u{[0-9a-fA-F]{1,6}}|" + // es6 unicode
        "[0-2][0-7]{0,2}|" + // oct
        "3[0-7][0-7]?|" + // oct
        "[4-7][0-7]?|" + //oct
        ".)";

    this.$rules = {
        "no_regex" : [
            DocCommentHighlightRules.getStartRule("doc-start"),
            comments("no_regex"),
            {
                token : "string",
                regex : "'(?=.)",
                next  : "qstring"
            }, {
                token : "string",
                regex : '"(?=.)',
                next  : "qqstring"
            }, {
                token : "constant.numeric", // hexadecimal, octal and binary
                regex : /0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/
            }, {
                token : "constant.numeric", // decimal integers and floats
                regex : /(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/
            }, {
                token : [
                    "storage.type", "punctuation.operator", "support.function",
                    "punctuation.operator", "entity.name.function", "text","keyword.operator"
                ],
                regex : "(" + identifierRe + ")(\\.)(prototype)(\\.)(" + identifierRe +")(\\s*)(=)",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "keyword.operator", "text", "storage.type",
                    "text", "paren.lparen"
                ],
                regex : "(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(\\s+)(\\w+)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(function)(\\s+)(" + identifierRe + ")(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "entity.name.function", "text", "punctuation.operator",
                    "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\s*)(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : [
                    "text", "text", "storage.type", "text", "paren.lparen"
                ],
                regex : "(:)(\\s*)(function)(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "keyword",
                regex : "from(?=\\s*('|\"))"
            }, {
                token : "keyword",
                regex : "(?:" + kwBeforeRe + ")\\b",
                next : "start"
            }, {
                token : ["support.constant"],
                regex : /that\b/
            }, {
                token : ["storage.type", "punctuation.operator", "support.function.firebug"],
                regex : /(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/
            }, {
                token : keywordMapper,
                regex : identifierRe
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/,
                next  : "property"
            }, {
                token : "storage.type",
                regex : /=>/
            }, {
                token : "keyword.operator",
                regex : /--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,
                next  : "start"
            }, {
                token : "punctuation.operator",
                regex : /[?:,;.]/,
                next  : "start"
            }, {
                token : "paren.lparen",
                regex : /[\[({]/,
                next  : "start"
            }, {
                token : "paren.rparen",
                regex : /[\])}]/
            }, {
                token: "comment",
                regex: /^#!.*$/
            }
        ],
        property: [{
                token : "text",
                regex : "\\s+"
            }, {
                token : [
                    "storage.type", "punctuation.operator", "entity.name.function", "text",
                    "keyword.operator", "text",
                    "storage.type", "text", "entity.name.function", "text", "paren.lparen"
                ],
                regex : "(" + identifierRe + ")(\\.)(" + identifierRe +")(\\s*)(=)(\\s*)(function)(?:(\\s+)(\\w+))?(\\s*)(\\()",
                next: "function_arguments"
            }, {
                token : "punctuation.operator",
                regex : /[.](?![.])/
            }, {
                token : "support.function",
                regex : /(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/
            }, {
                token : "support.function.dom",
                regex : /(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/
            }, {
                token :  "support.constant",
                regex : /(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/
            }, {
                token : "identifier",
                regex : identifierRe
            }, {
                regex: "",
                token: "empty",
                next: "no_regex"
            }
        ],
        "start": [
            DocCommentHighlightRules.getStartRule("doc-start"),
            comments("start"),
            {
                token: "string.regexp",
                regex: "\\/",
                next: "regex"
            }, {
                token : "text",
                regex : "\\s+|^$",
                next : "start"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "regex": [
            {
                token: "regexp.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "string.regexp",
                regex: "/[sxngimy]*",
                next: "no_regex"
            }, {
                token : "invalid",
                regex: /\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/
            }, {
                token : "constant.language.escape",
                regex: /\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/
            }, {
                token : "constant.language.delimiter",
                regex: /\|/
            }, {
                token: "constant.language.escape",
                regex: /\[\^?/,
                next: "regex_character_class"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp"
            }
        ],
        "regex_character_class": [
            {
                token: "regexp.charclass.keyword.operator",
                regex: "\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"
            }, {
                token: "constant.language.escape",
                regex: "]",
                next: "regex"
            }, {
                token: "constant.language.escape",
                regex: "-"
            }, {
                token: "empty",
                regex: "$",
                next: "no_regex"
            }, {
                defaultToken: "string.regexp.charachterclass"
            }
        ],
        "function_arguments": [
            {
                token: "variable.parameter",
                regex: identifierRe
            }, {
                token: "punctuation.operator",
                regex: "[, ]+"
            }, {
                token: "punctuation.operator",
                regex: "$"
            }, {
                token: "empty",
                regex: "",
                next: "no_regex"
            }
        ],
        "qqstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                consumeLineEnd  : true
            }, {
                token : "string",
                regex : '"|$',
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ],
        "qstring" : [
            {
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "string",
                regex : "\\\\$",
                consumeLineEnd  : true
            }, {
                token : "string",
                regex : "'|$",
                next  : "no_regex"
            }, {
                defaultToken: "string"
            }
        ]
    };


    if (!options || !options.noES6) {
        this.$rules.no_regex.unshift({
            regex: "[{}]", onMatch: function(val, state, stack) {
                this.next = val == "{" ? this.nextState : "";
                if (val == "{" && stack.length) {
                    stack.unshift("start", state);
                }
                else if (val == "}" && stack.length) {
                    stack.shift();
                    this.next = stack.shift();
                    if (this.next.indexOf("string") != -1 || this.next.indexOf("jsx") != -1)
                        return "paren.quasi.end";
                }
                return val == "{" ? "paren.lparen" : "paren.rparen";
            },
            nextState: "start"
        }, {
            token : "string.quasi.start",
            regex : /`/,
            push  : [{
                token : "constant.language.escape",
                regex : escapedRe
            }, {
                token : "paren.quasi.start",
                regex : /\${/,
                push  : "start"
            }, {
                token : "string.quasi.end",
                regex : /`/,
                next  : "pop"
            }, {
                defaultToken: "string.quasi"
            }]
        });

        if (!options || options.jsx != false)
            JSX.call(this);
    }

    this.embedRules(DocCommentHighlightRules, "doc-",
        [ DocCommentHighlightRules.getEndRule("no_regex") ]);

    this.normalizeRules();
};

oop.inherits(JavaScriptHighlightRules, TextHighlightRules);

function JSX() {
    var tagRegex = identifierRe.replace("\\d", "\\d\\-");
    var jsxTag = {
        onMatch : function(val, state, stack) {
            var offset = val.charAt(1) == "/" ? 2 : 1;
            if (offset == 1) {
                if (state != this.nextState)
                    stack.unshift(this.next, this.nextState, 0);
                else
                    stack.unshift(this.next);
                stack[2]++;
            } else if (offset == 2) {
                if (state == this.nextState) {
                    stack[1]--;
                    if (!stack[1] || stack[1] < 0) {
                        stack.shift();
                        stack.shift();
                    }
                }
            }
            return [{
                type: "meta.tag.punctuation." + (offset == 1 ? "" : "end-") + "tag-open.xml",
                value: val.slice(0, offset)
            }, {
                type: "meta.tag.tag-name.xml",
                value: val.substr(offset)
            }];
        },
        regex : "</?" + tagRegex + "",
        next: "jsxAttributes",
        nextState: "jsx"
    };
    this.$rules.start.unshift(jsxTag);
    var jsxJsRule = {
        regex: "{",
        token: "paren.quasi.start",
        push: "start"
    };
    this.$rules.jsx = [
        jsxJsRule,
        jsxTag,
        {include : "reference"},
        {defaultToken: "string"}
    ];
    this.$rules.jsxAttributes = [{
        token : "meta.tag.punctuation.tag-close.xml",
        regex : "/?>",
        onMatch : function(value, currentState, stack) {
            if (currentState == stack[0])
                stack.shift();
            if (value.length == 2) {
                if (stack[0] == this.nextState)
                    stack[1]--;
                if (!stack[1] || stack[1] < 0) {
                    stack.splice(0, 2);
                }
            }
            this.next = stack[0] || "start";
            return [{type: this.token, value: value}];
        },
        nextState: "jsx"
    },
    jsxJsRule,
    comments("jsxAttributes"),
    {
        token : "entity.other.attribute-name.xml",
        regex : tagRegex
    }, {
        token : "keyword.operator.attribute-equals.xml",
        regex : "="
    }, {
        token : "text.tag-whitespace.xml",
        regex : "\\s+"
    }, {
        token : "string.attribute-value.xml",
        regex : "'",
        stateName : "jsx_attr_q",
        push : [
            {token : "string.attribute-value.xml", regex: "'", next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    }, {
        token : "string.attribute-value.xml",
        regex : '"',
        stateName : "jsx_attr_qq",
        push : [
            {token : "string.attribute-value.xml", regex: '"', next: "pop"},
            {include : "reference"},
            {defaultToken : "string.attribute-value.xml"}
        ]
    },
    jsxTag
    ];
    this.$rules.reference = [{
        token : "constant.language.escape.reference.xml",
        regex : "(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"
    }];
}

function comments(next) {
    return [
        {
            token : "comment", // multi line comment
            regex : /\/\*/,
            next: [
                DocCommentHighlightRules.getTagRule(),
                {token : "comment", regex : "\\*\\/", next : next || "pop"},
                {defaultToken : "comment", caseInsensitive: true}
            ]
        }, {
            token : "comment",
            regex : "\\/\\/",
            next: [
                DocCommentHighlightRules.getTagRule(),
                {token : "comment", regex : "$|^", next : next || "pop"},
                {defaultToken : "comment", caseInsensitive: true}
            ]
        }
    ];
}
exports.JavaScriptHighlightRules = JavaScriptHighlightRules;
});

ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"], function(acequire, exports, module) {
"use strict";

var Range = acequire("../range").Range;

var MatchingBraceOutdent = function() {};

(function() {

    this.checkOutdent = function(line, input) {
        if (! /^\s+$/.test(line))
            return false;

        return /^\s*\}/.test(input);
    };

    this.autoOutdent = function(doc, row) {
        var line = doc.getLine(row);
        var match = line.match(/^(\s*\})/);

        if (!match) return 0;

        var column = match[1].length;
        var openBracePos = doc.findMatchingBracket({row: row, column: column});

        if (!openBracePos || openBracePos.row == row) return 0;

        var indent = this.$getIndent(doc.getLine(openBracePos.row));
        doc.replace(new Range(row, 0, row, column-1), indent);
    };

    this.$getIndent = function(line) {
        return line.match(/^\s*/)[0];
    };

}).call(MatchingBraceOutdent.prototype);

exports.MatchingBraceOutdent = MatchingBraceOutdent;
});

ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../../lib/oop");
var Range = acequire("../../range").Range;
var BaseFoldMode = acequire("./fold_mode").FoldMode;

var FoldMode = exports.FoldMode = function(commentRegex) {
    if (commentRegex) {
        this.foldingStartMarker = new RegExp(
            this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.start)
        );
        this.foldingStopMarker = new RegExp(
            this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + commentRegex.end)
        );
    }
};
oop.inherits(FoldMode, BaseFoldMode);

(function() {
    
    this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/;
    this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/;
    this.singleLineBlockCommentRe= /^\s*(\/\*).*\*\/\s*$/;
    this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/;
    this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/;
    this._getFoldWidgetBase = this.getFoldWidget;
    this.getFoldWidget = function(session, foldStyle, row) {
        var line = session.getLine(row);
    
        if (this.singleLineBlockCommentRe.test(line)) {
            if (!this.startRegionRe.test(line) && !this.tripleStarBlockCommentRe.test(line))
                return "";
        }
    
        var fw = this._getFoldWidgetBase(session, foldStyle, row);
    
        if (!fw && this.startRegionRe.test(line))
            return "start"; // lineCommentRegionStart
    
        return fw;
    };

    this.getFoldWidgetRange = function(session, foldStyle, row, forceMultiline) {
        var line = session.getLine(row);
        
        if (this.startRegionRe.test(line))
            return this.getCommentRegionBlock(session, line, row);
        
        var match = line.match(this.foldingStartMarker);
        if (match) {
            var i = match.index;

            if (match[1])
                return this.openingBracketBlock(session, match[1], row, i);
                
            var range = session.getCommentFoldRange(row, i + match[0].length, 1);
            
            if (range && !range.isMultiLine()) {
                if (forceMultiline) {
                    range = this.getSectionRange(session, row);
                } else if (foldStyle != "all")
                    range = null;
            }
            
            return range;
        }

        if (foldStyle === "markbegin")
            return;

        var match = line.match(this.foldingStopMarker);
        if (match) {
            var i = match.index + match[0].length;

            if (match[1])
                return this.closingBracketBlock(session, match[1], row, i);

            return session.getCommentFoldRange(row, i, -1);
        }
    };
    
    this.getSectionRange = function(session, row) {
        var line = session.getLine(row);
        var startIndent = line.search(/\S/);
        var startRow = row;
        var startColumn = line.length;
        row = row + 1;
        var endRow = row;
        var maxRow = session.getLength();
        while (++row < maxRow) {
            line = session.getLine(row);
            var indent = line.search(/\S/);
            if (indent === -1)
                continue;
            if  (startIndent > indent)
                break;
            var subRange = this.getFoldWidgetRange(session, "all", row);
            
            if (subRange) {
                if (subRange.start.row <= startRow) {
                    break;
                } else if (subRange.isMultiLine()) {
                    row = subRange.end.row;
                } else if (startIndent == indent) {
                    break;
                }
            }
            endRow = row;
        }
        
        return new Range(startRow, startColumn, endRow, session.getLine(endRow).length);
    };
    this.getCommentRegionBlock = function(session, line, row) {
        var startColumn = line.search(/\s*$/);
        var maxRow = session.getLength();
        var startRow = row;
        
        var re = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/;
        var depth = 1;
        while (++row < maxRow) {
            line = session.getLine(row);
            var m = re.exec(line);
            if (!m) continue;
            if (m[1]) depth--;
            else depth++;

            if (!depth) break;
        }

        var endRow = row;
        if (endRow > startRow) {
            return new Range(startRow, startColumn, endRow, line.length);
        }
    };

}).call(FoldMode.prototype);

});

ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"], function(acequire, exports, module) {
"use strict";

var oop = acequire("../lib/oop");
var TextMode = acequire("./text").Mode;
var JavaScriptHighlightRules = acequire("./javascript_highlight_rules").JavaScriptHighlightRules;
var MatchingBraceOutdent = acequire("./matching_brace_outdent").MatchingBraceOutdent;
var WorkerClient = acequire("../worker/worker_client").WorkerClient;
var CstyleBehaviour = acequire("./behaviour/cstyle").CstyleBehaviour;
var CStyleFoldMode = acequire("./folding/cstyle").FoldMode;

var Mode = function() {
    this.HighlightRules = JavaScriptHighlightRules;
    
    this.$outdent = new MatchingBraceOutdent();
    this.$behaviour = new CstyleBehaviour();
    this.foldingRules = new CStyleFoldMode();
};
oop.inherits(Mode, TextMode);

(function() {

    this.lineCommentStart = "//";
    this.blockComment = {start: "/*", end: "*/"};
    this.$quotes = {'"': '"', "'": "'", "`": "`"};

    this.getNextLineIndent = function(state, line, tab) {
        var indent = this.$getIndent(line);

        var tokenizedLine = this.getTokenizer().getLineTokens(line, state);
        var tokens = tokenizedLine.tokens;
        var endState = tokenizedLine.state;

        if (tokens.length && tokens[tokens.length-1].type == "comment") {
            return indent;
        }

        if (state == "start" || state == "no_regex") {
            var match = line.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/);
            if (match) {
                indent += tab;
            }
        } else if (state == "doc-start") {
            if (endState == "start" || endState == "no_regex") {
                return "";
            }
            var match = line.match(/^\s*(\/?)\*/);
            if (match) {
                if (match[1]) {
                    indent += " ";
                }
                indent += "* ";
            }
        }

        return indent;
    };

    this.checkOutdent = function(state, line, input) {
        return this.$outdent.checkOutdent(line, input);
    };

    this.autoOutdent = function(state, doc, row) {
        this.$outdent.autoOutdent(doc, row);
    };

    this.createWorker = function(session) {
        var worker = new WorkerClient(["ace"], __webpack_require__("6d68"), "JavaScriptWorker");
        worker.attachToDocument(session.getDocument());

        worker.on("annotate", function(results) {
            session.setAnnotations(results.data);
        });

        worker.on("terminate", function() {
            session.clearAnnotations();
        });

        return worker;
    };

    this.$id = "ace/mode/javascript";
}).call(Mode.prototype);

exports.Mode = Mode;
});


/***/ }),

/***/ "bc0b":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("a470");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("60659ff8", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "bc13":
/***/ (function(module, exports, __webpack_require__) {

var global = __webpack_require__("e53d");
var navigator = global.navigator;

module.exports = navigator && navigator.userAgent || '';


/***/ }),

/***/ "be13":
/***/ (function(module, exports) {

// 7.2.1 RequireObjectCoercible(argument)
module.exports = function (it) {
  if (it == undefined) throw TypeError("Can't call method on  " + it);
  return it;
};


/***/ }),

/***/ "bf0b":
/***/ (function(module, exports, __webpack_require__) {

var pIE = __webpack_require__("355d");
var createDesc = __webpack_require__("aebd");
var toIObject = __webpack_require__("36c3");
var toPrimitive = __webpack_require__("1bc3");
var has = __webpack_require__("07e3");
var IE8_DOM_DEFINE = __webpack_require__("794b");
var gOPD = Object.getOwnPropertyDescriptor;

exports.f = __webpack_require__("8e60") ? gOPD : function getOwnPropertyDescriptor(O, P) {
  O = toIObject(O);
  P = toPrimitive(P, true);
  if (IE8_DOM_DEFINE) try {
    return gOPD(O, P);
  } catch (e) { /* empty */ }
  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);
};


/***/ }),

/***/ "bf90":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
var toIObject = __webpack_require__("36c3");
var $getOwnPropertyDescriptor = __webpack_require__("bf0b").f;

__webpack_require__("ce7e")('getOwnPropertyDescriptor', function () {
  return function getOwnPropertyDescriptor(it, key) {
    return $getOwnPropertyDescriptor(toIObject(it), key);
  };
});


/***/ }),

/***/ "c0b9":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("c654");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("2cee5332", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "c207":
/***/ (function(module, exports) {



/***/ }),

/***/ "c366":
/***/ (function(module, exports, __webpack_require__) {

// false -> Array#indexOf
// true  -> Array#includes
var toIObject = __webpack_require__("6821");
var toLength = __webpack_require__("9def");
var toAbsoluteIndex = __webpack_require__("77f1");
module.exports = function (IS_INCLUDES) {
  return function ($this, el, fromIndex) {
    var O = toIObject($this);
    var length = toLength(O.length);
    var index = toAbsoluteIndex(fromIndex, length);
    var value;
    // Array#includes uses SameValueZero equality algorithm
    // eslint-disable-next-line no-self-compare
    if (IS_INCLUDES && el != el) while (length > index) {
      value = O[index++];
      // eslint-disable-next-line no-self-compare
      if (value != value) return true;
    // Array#indexOf ignores holes, Array#includes - not
    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
      if (O[index] === el) return IS_INCLUDES || index || 0;
    } return !IS_INCLUDES && -1;
  };
};


/***/ }),

/***/ "c367":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__("8436");
var step = __webpack_require__("50ed");
var Iterators = __webpack_require__("481b");
var toIObject = __webpack_require__("36c3");

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__("30f1")(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),

/***/ "c37d":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixTimeline_vue_vue_type_style_index_0_id_c33fec0a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("5b96");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixTimeline_vue_vue_type_style_index_0_id_c33fec0a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixTimeline_vue_vue_type_style_index_0_id_c33fec0a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_RemixTimeline_vue_vue_type_style_index_0_id_c33fec0a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "c39f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enPreview_vue_vue_type_style_index_0_id_5b57970e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("3f75");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enPreview_vue_vue_type_style_index_0_id_5b57970e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enPreview_vue_vue_type_style_index_0_id_5b57970e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_enPreview_vue_vue_type_style_index_0_id_5b57970e_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "c3a1":
/***/ (function(module, exports, __webpack_require__) {

// 19.1.2.14 / 15.2.3.14 Object.keys(O)
var $keys = __webpack_require__("e6f3");
var enumBugKeys = __webpack_require__("1691");

module.exports = Object.keys || function keys(O) {
  return $keys(O, enumBugKeys);
};


/***/ }),

/***/ "c5f6":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__("7726");
var has = __webpack_require__("69a8");
var cof = __webpack_require__("2d95");
var inheritIfRequired = __webpack_require__("5dbc");
var toPrimitive = __webpack_require__("6a99");
var fails = __webpack_require__("79e5");
var gOPN = __webpack_require__("9093").f;
var gOPD = __webpack_require__("11e9").f;
var dP = __webpack_require__("86cc").f;
var $trim = __webpack_require__("aa77").trim;
var NUMBER = 'Number';
var $Number = global[NUMBER];
var Base = $Number;
var proto = $Number.prototype;
// Opera ~12 has broken Object#toString
var BROKEN_COF = cof(__webpack_require__("2aeb")(proto)) == NUMBER;
var TRIM = 'trim' in String.prototype;

// 7.1.3 ToNumber(argument)
var toNumber = function (argument) {
  var it = toPrimitive(argument, false);
  if (typeof it == 'string' && it.length > 2) {
    it = TRIM ? it.trim() : $trim(it, 3);
    var first = it.charCodeAt(0);
    var third, radix, maxCode;
    if (first === 43 || first === 45) {
      third = it.charCodeAt(2);
      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix
    } else if (first === 48) {
      switch (it.charCodeAt(1)) {
        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal /^0b[01]+$/i
        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal /^0o[0-7]+$/i
        default: return +it;
      }
      for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {
        code = digits.charCodeAt(i);
        // parseInt parses a string to a first unavailable symbol
        // but ToNumber should return NaN if a string contains unavailable symbols
        if (code < 48 || code > maxCode) return NaN;
      } return parseInt(digits, radix);
    }
  } return +it;
};

if (!$Number(' 0o1') || !$Number('0b1') || $Number('+0x1')) {
  $Number = function Number(value) {
    var it = arguments.length < 1 ? 0 : value;
    var that = this;
    return that instanceof $Number
      // check on 1..constructor(foo) case
      && (BROKEN_COF ? fails(function () { proto.valueOf.call(that); }) : cof(that) != NUMBER)
        ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
  };
  for (var keys = __webpack_require__("9e1e") ? gOPN(Base) : (
    // ES3:
    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +
    // ES6 (in case, if modules with ES6 Number statics required before):
    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +
    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger'
  ).split(','), j = 0, key; keys.length > j; j++) {
    if (has(Base, key = keys[j]) && !has($Number, key)) {
      dP($Number, key, gOPD(Base, key));
    }
  }
  $Number.prototype = proto;
  proto.constructor = $Number;
  __webpack_require__("2aba")(global, NUMBER, $Number);
}


/***/ }),

/***/ "c654":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".margin-div[data-v-3d4f8406]{width:90%;margin:0 5%}", ""]);

// exports


/***/ }),

/***/ "c69a":
/***/ (function(module, exports, __webpack_require__) {

module.exports = !__webpack_require__("9e1e") && !__webpack_require__("79e5")(function () {
  return Object.defineProperty(__webpack_require__("230e")('div'), 'a', { get: function () { return 7; } }).a != 7;
});


/***/ }),

/***/ "c7f4":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("6c93");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("3764c030", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "c8ba":
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "c8bb":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("54a1");

/***/ }),

/***/ "c9c7":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("1601");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("3e35c841", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "ca5a":
/***/ (function(module, exports) {

var id = 0;
var px = Math.random();
module.exports = function (key) {
  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
};


/***/ }),

/***/ "cadf":
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var addToUnscopables = __webpack_require__("9c6c");
var step = __webpack_require__("d53b");
var Iterators = __webpack_require__("84f2");
var toIObject = __webpack_require__("6821");

// 22.1.3.4 Array.prototype.entries()
// 22.1.3.13 Array.prototype.keys()
// 22.1.3.29 Array.prototype.values()
// 22.1.3.30 Array.prototype[@@iterator]()
module.exports = __webpack_require__("01f9")(Array, 'Array', function (iterated, kind) {
  this._t = toIObject(iterated); // target
  this._i = 0;                   // next index
  this._k = kind;                // kind
// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
}, function () {
  var O = this._t;
  var kind = this._k;
  var index = this._i++;
  if (!O || index >= O.length) {
    this._t = undefined;
    return step(1);
  }
  if (kind == 'keys') return step(0, index);
  if (kind == 'values') return step(0, O[index]);
  return step(0, [index, O[index]]);
}, 'values');

// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
Iterators.Arguments = Iterators.Array;

addToUnscopables('keys');
addToUnscopables('values');
addToUnscopables('entries');


/***/ }),

/***/ "cb0b":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".pos-rel[data-v-58da8613]{position:relative}.tools[data-v-58da8613]{position:absolute;top:0;left:0}", ""]);

// exports


/***/ }),

/***/ "cb7c":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("d3f4");
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),

/***/ "ccb9":
/***/ (function(module, exports, __webpack_require__) {

exports.f = __webpack_require__("5168");


/***/ }),

/***/ "cd1c":
/***/ (function(module, exports, __webpack_require__) {

// 9.4.2.3 ArraySpeciesCreate(originalArray, length)
var speciesConstructor = __webpack_require__("e853");

module.exports = function (original, length) {
  return new (speciesConstructor(original))(length);
};


/***/ }),

/***/ "cd78":
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__("e4ae");
var isObject = __webpack_require__("f772");
var newPromiseCapability = __webpack_require__("656e");

module.exports = function (C, x) {
  anObject(C);
  if (isObject(x) && x.constructor === C) return x;
  var promiseCapability = newPromiseCapability.f(C);
  var resolve = promiseCapability.resolve;
  resolve(x);
  return promiseCapability.promise;
};


/***/ }),

/***/ "ce10":
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__("69a8");
var toIObject = __webpack_require__("6821");
var arrayIndexOf = __webpack_require__("c366")(false);
var IE_PROTO = __webpack_require__("613b")('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),

/***/ "ce7e":
/***/ (function(module, exports, __webpack_require__) {

// most Object methods by ES6 should accept primitives
var $export = __webpack_require__("63b6");
var core = __webpack_require__("584a");
var fails = __webpack_require__("294c");
module.exports = function (KEY, exec) {
  var fn = (core.Object || {})[KEY] || Object[KEY];
  var exp = {};
  exp[KEY] = exec(fn);
  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);
};


/***/ }),

/***/ "ce7f":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Screen_vue_vue_type_style_index_0_id_41df5d42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("9327");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Screen_vue_vue_type_style_index_0_id_41df5d42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Screen_vue_vue_type_style_index_0_id_41df5d42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Screen_vue_vue_type_style_index_0_id_41df5d42_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "cea2":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".mover[data-v-16b57e2f]{cursor:move}.is-down .crosshair[data-v-16b57e2f]{cursor:crosshair}@-webkit-keyframes dash-data-v-16b57e2f{to{stroke-dashoffset:1000}}@keyframes dash-data-v-16b57e2f{to{stroke-dashoffset:1000}}.path[data-v-16b57e2f]{-webkit-animation:dash-data-v-16b57e2f 30s linear infinite;animation:dash-data-v-16b57e2f 30s linear infinite;-webkit-animation-play-state:paused;animation-play-state:paused;stroke-dasharray:8}", ""]);

// exports


/***/ }),

/***/ "cebc":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-descriptor.js
var get_own_property_descriptor = __webpack_require__("268f");
var get_own_property_descriptor_default = /*#__PURE__*/__webpack_require__.n(get_own_property_descriptor);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/get-own-property-symbols.js
var get_own_property_symbols = __webpack_require__("e265");
var get_own_property_symbols_default = /*#__PURE__*/__webpack_require__.n(get_own_property_symbols);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/keys.js
var keys = __webpack_require__("a4bb");
var keys_default = /*#__PURE__*/__webpack_require__.n(keys);

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js
var define_property = __webpack_require__("85f2");
var define_property_default = /*#__PURE__*/__webpack_require__.n(define_property);

// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js

function _defineProperty(obj, key, value) {
  if (key in obj) {
    define_property_default()(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}
// CONCATENATED MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return _objectSpread; });




function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};

    var ownKeys = keys_default()(source);

    if (typeof get_own_property_symbols_default.a === 'function') {
      ownKeys = ownKeys.concat(get_own_property_symbols_default()(source).filter(function (sym) {
        return get_own_property_descriptor_default()(source, sym).enumerable;
      }));
    }

    ownKeys.forEach(function (key) {
      _defineProperty(target, key, source[key]);
    });
  }

  return target;
}

/***/ }),

/***/ "d0b9":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".box[data-v-1d17a179]{stroke:#000;cursor:-webkit-grab;cursor:grab}.noselect[data-v-1d17a179]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.text[data-v-1d17a179]{color:#000}.labels[data-v-1d17a179]{display:inline-block}", ""]);

// exports


/***/ }),

/***/ "d2c8":
/***/ (function(module, exports, __webpack_require__) {

// helper for String#{startsWith, endsWith, includes}
var isRegExp = __webpack_require__("aae3");
var defined = __webpack_require__("be13");

module.exports = function (that, searchString, NAME) {
  if (isRegExp(searchString)) throw TypeError('String#' + NAME + " doesn't accept regex!");
  return String(defined(that));
};


/***/ }),

/***/ "d2d5":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("1654");
__webpack_require__("549b");
module.exports = __webpack_require__("584a").Array.from;


/***/ }),

/***/ "d3f4":
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),

/***/ "d53b":
/***/ (function(module, exports) {

module.exports = function (done, value) {
  return { value: value, done: !!done };
};


/***/ }),

/***/ "d654":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/AppShared/TitleBar/TitleBar.vue?vue&type=template&id=78b124fe&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:"title",staticClass:"title",class:{ inactive: !_vm.portal.win.active }},[_c('div',{ref:"dragger",staticClass:"dragger touch-drag"}),_c('div',{ref:"slot",staticClass:"slot touch-drag"},[_vm._t("default")],2),_c('div',{staticClass:"minify",on:{"click":_vm.hide}}),_c('div',{staticClass:"close",on:{"click":_vm.close}})])}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue?vue&type=template&id=78b124fe&scoped=true&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/enos/Apps/AppShared/TitleBar/TitleBar.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
/* harmony default export */ var TitleBarvue_type_script_lang_js_ = ({
  props: {
    uiAPI: {},
    portal: {}
  },
  mounted: function mounted() {
    this.$parent.$emit('activated');
    var dragger = this.$refs.dragger;
    dragger.addEventListener('touchstart', function (evt) {
      evt.preventDefault();
    });
    dragger.addEventListener('touchmove', function (evt) {
      evt.preventDefault();
    });
    var slot = this.$refs.slot;
    slot.addEventListener('touchstart', function (evt) {// evt.preventDefault()
    });
    slot.addEventListener('touchmove', function (evt) {
      evt.preventDefault();
    });
  },
  methods: {
    close: function close() {
      this.uiAPI.portal.removeWindow(this.portal);
    },
    hide: function hide() {
      this.uiAPI.portal.hideWindow(this.portal);
    }
  }
});
// CONCATENATED MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue?vue&type=script&lang=js&
 /* harmony default export */ var TitleBar_TitleBarvue_type_script_lang_js_ = (TitleBarvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue?vue&type=style&index=0&id=78b124fe&scoped=true&lang=css&
var TitleBarvue_type_style_index_0_id_78b124fe_scoped_true_lang_css_ = __webpack_require__("0c5f");

// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/enos/Apps/AppShared/TitleBar/TitleBar.vue






/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  TitleBar_TitleBarvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "78b124fe",
  null
  
)

/* harmony default export */ var TitleBar = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ "d75a":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// import Vue from 'vue'
// import '@/enos/enos.vue'
var Components = {
  titlebar: __webpack_require__("d654").default,
  PreviewDiv: __webpack_require__("9f3f").default,
  Animator: __webpack_require__("9f3f").default,
  PreviewFrame: __webpack_require__("237a").default,
  enos: __webpack_require__("af0a").default // Object.keys(Components).forEach(name => {
  //   Vue.component(name, Components[name])
  // })

};
/* harmony default export */ __webpack_exports__["a"] = (Components);

/***/ }),

/***/ "d864":
/***/ (function(module, exports, __webpack_require__) {

// optional / simple context binding
var aFunction = __webpack_require__("79aa");
module.exports = function (fn, that, length) {
  aFunction(fn);
  if (that === undefined) return fn;
  switch (length) {
    case 1: return function (a) {
      return fn.call(that, a);
    };
    case 2: return function (a, b) {
      return fn.call(that, a, b);
    };
    case 3: return function (a, b, c) {
      return fn.call(that, a, b, c);
    };
  }
  return function (/* ...args */) {
    return fn.apply(that, arguments);
  };
};


/***/ }),

/***/ "d8d6":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("1654");
__webpack_require__("6c1c");
module.exports = __webpack_require__("ccb9").f('iterator');


/***/ }),

/***/ "d8e8":
/***/ (function(module, exports) {

module.exports = function (it) {
  if (typeof it != 'function') throw TypeError(it + ' is not a function!');
  return it;
};


/***/ }),

/***/ "d9f6":
/***/ (function(module, exports, __webpack_require__) {

var anObject = __webpack_require__("e4ae");
var IE8_DOM_DEFINE = __webpack_require__("794b");
var toPrimitive = __webpack_require__("1bc3");
var dP = Object.defineProperty;

exports.f = __webpack_require__("8e60") ? Object.defineProperty : function defineProperty(O, P, Attributes) {
  anObject(O);
  P = toPrimitive(P, true);
  anObject(Attributes);
  if (IE8_DOM_DEFINE) try {
    return dP(O, P, Attributes);
  } catch (e) { /* empty */ }
  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
  if ('value' in Attributes) O[P] = Attributes.value;
  return O;
};


/***/ }),

/***/ "dbdb":
/***/ (function(module, exports, __webpack_require__) {

var core = __webpack_require__("584a");
var global = __webpack_require__("e53d");
var SHARED = '__core-js_shared__';
var store = global[SHARED] || (global[SHARED] = {});

(module.exports = function (key, value) {
  return store[key] || (store[key] = value !== undefined ? value : {});
})('versions', []).push({
  version: core.version,
  mode: __webpack_require__("b8e3") ? 'pure' : 'global',
  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'
});


/***/ }),

/***/ "df6b":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("0079");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("efb710e6", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "e11e":
/***/ (function(module, exports) {

// IE 8- don't enum bug keys
module.exports = (
  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
).split(',');


/***/ }),

/***/ "e265":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("ed33");

/***/ }),

/***/ "e2a1":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("3f8c");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("1f50beb8", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "e4ae":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("f772");
module.exports = function (it) {
  if (!isObject(it)) throw TypeError(it + ' is not an object!');
  return it;
};


/***/ }),

/***/ "e53d":
/***/ (function(module, exports) {

// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
var global = module.exports = typeof window != 'undefined' && window.Math == Math
  ? window : typeof self != 'undefined' && self.Math == Math ? self
  // eslint-disable-next-line no-new-func
  : Function('return this')();
if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef


/***/ }),

/***/ "e692":
/***/ (function(module, exports) {

module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ }),

/***/ "e6f3":
/***/ (function(module, exports, __webpack_require__) {

var has = __webpack_require__("07e3");
var toIObject = __webpack_require__("36c3");
var arrayIndexOf = __webpack_require__("5b4e")(false);
var IE_PROTO = __webpack_require__("5559")('IE_PROTO');

module.exports = function (object, names) {
  var O = toIObject(object);
  var i = 0;
  var result = [];
  var key;
  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);
  // Don't enum bug & hidden keys
  while (names.length > i) if (has(O, key = names[i++])) {
    ~arrayIndexOf(result, key) || result.push(key);
  }
  return result;
};


/***/ }),

/***/ "e774":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("2350")(false);
// imports


// module
exports.push([module.i, ".iframer[data-v-798a9402]{margin:0;padding:0;width:100%;height:100%}", ""]);

// exports


/***/ }),

/***/ "e814":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("b9e9");

/***/ }),

/***/ "e829":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("2f37");
module.exports = __webpack_require__("584a").Date.now;


/***/ }),

/***/ "e853":
/***/ (function(module, exports, __webpack_require__) {

var isObject = __webpack_require__("d3f4");
var isArray = __webpack_require__("1169");
var SPECIES = __webpack_require__("2b4c")('species');

module.exports = function (original) {
  var C;
  if (isArray(original)) {
    C = original.constructor;
    // cross-realm fallback
    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;
    if (isObject(C)) {
      C = C[SPECIES];
      if (C === null) C = undefined;
    }
  } return C === undefined ? Array : C;
};


/***/ }),

/***/ "e95a":
/***/ (function(module) {

module.exports = {"root":{"modules":[{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","id":"_hive__kmpzwxuvtmodule_8ri3883lp","_id":"_hive__kmpzwxuvtmodule_8ri3883lp","isTemplate":false,"isGallery":false,"oldID":"","meta":[],"bg":"","name":"Main Loop Module","pos":{"x":104.65149349751405,"y":45.610152467143564},"size":{"w":200,"h":40},"src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('========' + 'box.name' + 'is Ready.  ========')\n// sender\n\nlet startTime = performance.now();\n\nlet rAFID = 0\nlet event = {}\nlet rAF = () => {\n  rAFID = window.requestAnimationFrame(rAF);\n\n  event.time = performance.now();\n\n  OutputAll(event);\n}\nrAFID = window.requestAnimationFrame(rAF);\n\nInput('onClock', (evt) => {\n  OutputAll(evt);\n}, () => {\n  // cancenl the loop for the recorder\n  cancelAnimationFrame(rAFID);\n})\n  "},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","id":"_hive__kmpzwxuvtmodule_1a8va3na3","_id":"_hive__kmpzwxuvtmodule_1a8va3na3","isTemplate":false,"isGallery":false,"oldID":"","meta":[],"bg":"","name":"Dom Updater Module","pos":{"x":204.133809368063,"y":283.45076271462653},"size":{"w":200,"h":40},"src":"/* global env */\n/* eslint-disable */\nlet {\n  Signal,\n  Resources,\n  sockets,\n  box,\n  IO,\n  Input,\n  Output,\n  OutputAll\n} = env\n/* esltint-enable */\nconsole.log('Environment is ready for you!::', box.id)\n\nlet degree = 0\n\nInput('onTimeline', (tl) => {\n  degree = tl.degree.timebox\n  console.log(tl.degree.timebox)\n});\n\nlet h = {\n  fillBackground: () => {\n    let gradBg = ''\n    gradBg += `linear-gradient(${degree * 360 * 10}deg, `\n    gradBg += '    hsl(' + Math.floor(Math.abs(0.5 - degree) * 360)  + ', 50%, 50%), '\n    gradBg += '    hsl(' + Math.floor(Math.abs(1.25 - degree) * 360)  + ', 50%, 50%) '\n    gradBg += ')'\n\n    Resources.get('rootDOM')\n      .style\n      .background = gradBg\n  }\n}\n\nvar i = 0;\nInput(0, () => {\n  h.fillBackground(i / 100);\n  i++\n  i = i % 100;\n});\n"},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","id":"_hive__65uw2ywi7module_kv2r1xupj","_id":"_hive__65uw2ywi7module_kv2r1xupj","isTemplate":false,"isGallery":false,"oldID":"","meta":[{"id":"_r15339132","label":"degree","type":"timeline-track","value":{"start":0,"afterStart":3,"beforeEnd":12,"end":15,"totalTime":15}}],"bg":"","name":"Timeline","pos":{"x":294.64965500984187,"y":155.3473108097976},"size":{"w":200,"h":40},"src":"/* global env */\n/* eslint-disable */\nlet {\nSignal,\nResources,\nsockets,\nbox,\nInput,\nOutput,\nOutputAll,\ngetMeta\n} = env\n/* esltint-enable */\nconsole.log(`========  ${box.name} is Ready.  ========`)\n// sender\n\nlet startTime = performance.now() / 1000\n\nInput('onFrame', (evt) => {\n  let timeMode = window.top[box.id + '-timeMode']\n  let progress = window.top[box.id + '-progress']\n  // console.log(timeMode)\n  \n  let timetracks = box.meta.filter(e => e.type === 'timeline-track')\n  timetracks.forEach((m, mi) => {\n    let time = 0\n    \n    if (timeMode === 'toEnv') {\n      time = (progress * m.value.totalTime)\n    } else {\n      time = evt.time / 1000 - startTime\n      if (time > m.value.totalTime) {\n        startTime = evt.time / 1000\n      }\n    }\n    \n    updateTimeValue({ time, mVal: m.value, totalTime: m.value.totalTime })\n  })\n  \n  // tell UI\n  if (timetracks.length > 0) {\n    let m = timetracks[0]\n    let time = performance.now() / 1000 - startTime\n    window.top.postMessage({ type: 'timeline', modID: box.id, time, totalTime: m.value.totalTime, progress: time / m.value.totalTime }, window.location.origin)\n  }\n})\n\n\nlet updateTimeValue = ({ time, mVal, totalTime }) => {\n  mVal.time = time\n  \n  // ---------------------------------\n  // periods\n  //  starting\n  if (time >= mVal.start && time <= mVal.afterStart) {\n    let progress = (time - mVal.start) / (mVal.afterStart - mVal.start)\n    mVal.starting = progress\n    mVal.mode = 'starting'\n    mVal.var = progress\n  }\n  \n  // periods\n  // during\n  if (time >= mVal.afterStart && time <= mVal.beforeEnd) {\n    let progress = (time - mVal.afterStart) / (mVal.beforeEnd - mVal.afterStart)\n    mVal.during = progress\n    mVal.mode = 'during'\n    mVal.var = 1.0\n  }\n  \n  // periods\n  //  leaving\n  if (time >= mVal.beforeEnd && time <= mVal.end) {\n    let progress = 1.0 - (mVal.end - time) / (mVal.end - mVal.beforeEnd)\n    mVal.leaving = 1.0 - progress\n    mVal.mode = 'leaving'\n    mVal.var = 1.0 - progress\n  }\n  \n  // ---------------------------------\n  \n  // overriders\n  // before start\n  if (time < mVal.start) {\n    let progress = 0\n    mVal.starting = 0\n    mVal.mode = 'beforeStart'\n    mVal.beforeStart = 0\n    mVal.var = 0\n  }\n  \n  // after end\n  if (time > mVal.end) {\n    let progress = 0\n    mVal.leaving = 0\n    mVal.afterEnd = 0\n    mVal.mode = 'afterEnd'\n    mVal.var = 0\n  }\n  \n  // timebox mVal\n  // timebox\n  if (time >= mVal.start && time <= mVal.end) {\n    let progress = (time - mVal.start) / (mVal.end - mVal.start)\n    mVal.timebox = progress\n  }\n  \n  mVal.tick = time / totalTime\n  mVal.now = time\n};\n\nlet event = {\n  $ready: true\n}\nlet setToEvent = (key) => {\n  event[key] = getMeta(key)\n}\n\nInput('onFrame', (v) => {\n  let tracks = box.meta.filter(e => e.type === 'timeline-track');\n  tracks.forEach((m, mi) => {\n    setToEvent(m.label);\n  });\n  OutputAll(event);\n});\n\n\n// this.onClean = () => {\n//   window.cancelAnimationFrame(rAFID);\n//   console.log('onClean', box.id)\n// }\n"}],"connectors":[{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_tazqg4avl","_id":"_hive__kmpzwxuvtsocket_tazqg4avl","isTemplate":false,"isGallery":false,"type":"input","idx":1549062751488,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_tazqg4avl","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_wsit7ilwf","_id":"_hive__kmpzwxuvtsocket_wsit7ilwf","isTemplate":false,"isGallery":false,"type":"input","idx":1549062751489,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_wsit7ilwf","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_t56asumak","_id":"_hive__kmpzwxuvtsocket_t56asumak","isTemplate":false,"isGallery":false,"type":"input","idx":1549062751490,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_t56asumak","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_nj526uvgj","_id":"_hive__kmpzwxuvtsocket_nj526uvgj","isTemplate":false,"isGallery":false,"type":"input","idx":1549062751491,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_nj526uvgj","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_e1geg4khm","_id":"_hive__kmpzwxuvtsocket_e1geg4khm","isTemplate":false,"isGallery":false,"type":"output","idx":1549062751492,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":"_hive__kmpzwxuvtmodule_1a8va3na3"},"socket":{"from":"_hive__kmpzwxuvtsocket_e1geg4khm","to":"_hive__kmpzwxuvtsocket_oj3wl25lm"},"onHand":false},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_0z2eer5u7","_id":"_hive__kmpzwxuvtsocket_0z2eer5u7","isTemplate":false,"isGallery":false,"type":"output","idx":1549062751493,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_0z2eer5u7","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_vsnka2da3","_id":"_hive__kmpzwxuvtsocket_vsnka2da3","isTemplate":false,"isGallery":false,"type":"output","idx":1549062751494,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_vsnka2da3","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_op7btzilb","_id":"_hive__kmpzwxuvtsocket_op7btzilb","isTemplate":false,"isGallery":false,"type":"output","idx":1549062751495,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_8ri3883lp","mod":{"from":"_hive__kmpzwxuvtmodule_8ri3883lp","to":"_hive__65uw2ywi7module_kv2r1xupj"},"socket":{"from":"_hive__kmpzwxuvtsocket_op7btzilb","to":"_hive__65uw2ywi7socket_tlqqyj9z3"},"onHand":false},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_oj3wl25lm","_id":"_hive__kmpzwxuvtsocket_oj3wl25lm","isTemplate":false,"isGallery":false,"type":"input","idx":1549062752109,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":"_hive__kmpzwxuvtmodule_8ri3883lp"},"socket":{"from":"_hive__kmpzwxuvtsocket_oj3wl25lm","to":"_hive__kmpzwxuvtsocket_e1geg4khm"}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_9r92etc98","_id":"_hive__kmpzwxuvtsocket_9r92etc98","isTemplate":false,"isGallery":false,"type":"input","idx":1549062752110,"name":"onTimeline","color":"#00e9e7","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":"_hive__65uw2ywi7module_kv2r1xupj"},"socket":{"from":"_hive__kmpzwxuvtsocket_9r92etc98","to":"_hive__65uw2ywi7socket_f59ug5ime"}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_pknvu0u34","_id":"_hive__kmpzwxuvtsocket_pknvu0u34","isTemplate":false,"isGallery":false,"type":"input","idx":1549062752111,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_pknvu0u34","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_hkxy3nh2t","_id":"_hive__kmpzwxuvtsocket_hkxy3nh2t","isTemplate":false,"isGallery":false,"type":"input","idx":1549062752112,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_hkxy3nh2t","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_s60372ugm","_id":"_hive__kmpzwxuvtsocket_s60372ugm","isTemplate":false,"isGallery":false,"type":"output","idx":1549062752113,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_s60372ugm","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_x237v033r","_id":"_hive__kmpzwxuvtsocket_x237v033r","isTemplate":false,"isGallery":false,"type":"output","idx":1549062752114,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_x237v033r","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_zqwqvvedp","_id":"_hive__kmpzwxuvtsocket_zqwqvvedp","isTemplate":false,"isGallery":false,"type":"output","idx":1549062752115,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_zqwqvvedp","to":""}},{"userID":"_kmpzwxuvt","projectID":"_kmpzwxuvt","oldID":"","id":"_hive__kmpzwxuvtsocket_7vek35d5d","_id":"_hive__kmpzwxuvtsocket_7vek35d5d","isTemplate":false,"isGallery":false,"type":"output","idx":1549062752116,"name":"my socket","color":"#e4e3e5","modID":"_hive__kmpzwxuvtmodule_1a8va3na3","mod":{"from":"_hive__kmpzwxuvtmodule_1a8va3na3","to":""},"socket":{"from":"_hive__kmpzwxuvtsocket_7vek35d5d","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_tlqqyj9z3","_id":"_hive__65uw2ywi7socket_tlqqyj9z3","isTemplate":false,"isGallery":false,"type":"input","idx":1549068530505,"name":"onFrame","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":"_hive__kmpzwxuvtmodule_8ri3883lp"},"socket":{"from":"_hive__65uw2ywi7socket_tlqqyj9z3","to":"_hive__kmpzwxuvtsocket_op7btzilb"}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_j4aen4tfd","_id":"_hive__65uw2ywi7socket_j4aen4tfd","isTemplate":false,"isGallery":false,"type":"input","idx":1549068530506,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_j4aen4tfd","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_1umq2d8mx","_id":"_hive__65uw2ywi7socket_1umq2d8mx","isTemplate":false,"isGallery":false,"type":"input","idx":1549068530507,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_1umq2d8mx","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_fjac3rf4z","_id":"_hive__65uw2ywi7socket_fjac3rf4z","isTemplate":false,"isGallery":false,"type":"input","idx":1549068530508,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_fjac3rf4z","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_f59ug5ime","_id":"_hive__65uw2ywi7socket_f59ug5ime","isTemplate":false,"isGallery":false,"type":"output","idx":1549068530509,"name":"onFrame","color":"#00e94e","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":"_hive__kmpzwxuvtmodule_1a8va3na3"},"socket":{"from":"_hive__65uw2ywi7socket_f59ug5ime","to":"_hive__kmpzwxuvtsocket_9r92etc98"},"onHand":false},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_u9mmi7d1x","_id":"_hive__65uw2ywi7socket_u9mmi7d1x","isTemplate":false,"isGallery":false,"type":"output","idx":1549068530510,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_u9mmi7d1x","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_9ys0tyid4","_id":"_hive__65uw2ywi7socket_9ys0tyid4","isTemplate":false,"isGallery":false,"type":"output","idx":1549068530511,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_9ys0tyid4","to":""}},{"userID":"_65uw2ywi7","projectID":"_65uw2ywi7","oldID":"","id":"_hive__65uw2ywi7socket_42q66o2yh","_id":"_hive__65uw2ywi7socket_42q66o2yh","isTemplate":false,"isGallery":false,"type":"output","idx":1549068530512,"name":"my socket","color":"#e4e3e5","modID":"_hive__65uw2ywi7module_kv2r1xupj","mod":{"from":"_hive__65uw2ywi7module_kv2r1xupj","to":""},"socket":{"from":"_hive__65uw2ywi7socket_42q66o2yh","to":""}}]},"versions":[],"sessionID":"_ksg1jo4wh","projectID":"_ksg1jo4wh","userID":"_ksg1jo4wh"};

/***/ }),

/***/ "e9d4":
/***/ (function(module, exports) {

// Copyright 2014 Google Inc. All rights reserved.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
//     You may obtain a copy of the License at
//
// http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
//     See the License for the specific language governing permissions and
// limitations under the License.

!function(a,b){var c={},d={};!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=x}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==v.indexOf(b[c]))return;if("direction"==c&&-1==w.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return a<0||a>1||c<0||c>1?x:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(e<=0){var g=0;return a>0?g=b/a:!b&&c>0&&(g=d/c),g*e}if(e>=1){var h=0;return c<1?h=(d-1)/(c-1):1==c&&a<1&&(h=(b-1)/(a-1)),1+h*(e-1)}for(var i=0,j=1;i<j;){var k=(i+j)/2,l=f(a,c,k);if(Math.abs(e-l)<1e-5)return f(b,d,k);l<e?i=k:j=k}return f(b,d,k)}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return(c+=b*d)-c%d}}function k(a){C||(C=document.createElement("div").style),C.animationTimingFunction="",C.animationTimingFunction=a;var b=C.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");return b}function l(a){if("linear"==a)return x;var b=E.exec(a);if(b)return i.apply(this,b.slice(1).map(Number));var c=F.exec(a);return c?j(Number(c[1]),{start:y,middle:z,end:A}[c[2]]):B[a]||x}function m(a){return Math.abs(n(a)/a.playbackRate)}function n(a){return 0===a.duration||0===a.iterations?0:a.duration*a.iterations}function o(a,b,c){if(null==b)return G;var d=c.delay+a+c.endDelay;return b<Math.min(c.delay,d)?H:b>=Math.min(c.delay+a,d)?I:J}function p(a,b,c,d,e){switch(d){case H:return"backwards"==b||"both"==b?0:null;case J:return c-e;case I:return"forwards"==b||"both"==b?a:null;case G:return null}}function q(a,b,c,d,e){var f=e;return 0===a?b!==H&&(f+=c):f+=d/a,f}function r(a,b,c,d,e,f){var g=a===1/0?b%1:a%1;return 0!==g||c!==I||0===d||0===e&&0!==f||(g=1),g}function s(a,b,c,d){return a===I&&b===1/0?1/0:1===c?Math.floor(d)-1:Math.floor(d)}function t(a,b,c){var d=a;if("normal"!==a&&"reverse"!==a){var e=b;"alternate-reverse"===a&&(e+=1),d="normal",e!==1/0&&e%2!=0&&(d="reverse")}return"normal"===d?c:1-c}function u(a,b,c){var d=o(a,b,c),e=p(a,c.fill,b,d,c.delay);if(null===e)return null;var f=q(c.duration,d,c.iterations,e,c.iterationStart),g=r(f,c.iterationStart,d,c.iterations,e,c.duration),h=s(d,c.iterations,g,f),i=t(c.direction,h,g);return c._easingFunction(i)}var v="backwards|forwards|both|none".split("|"),w="reverse|alternate|alternate-reverse".split("|"),x=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||a<0)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||a<0)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=l(k(a)),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||a<0)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var y=1,z=.5,A=0,B={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,y),"step-middle":j(1,z),"step-end":j(1,A)},C=null,D="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",E=new RegExp("cubic-bezier\\("+D+","+D+","+D+","+D+"\\)"),F=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,G=0,H=1,I=2,J=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=m,a.calculateIterationProgress=u,a.calculatePhase=o,a.normalizeEasing=k,a.parseEasingFunction=l}(c),function(a,b){function c(a,b){return a in k?k[a][b]||b:b}function d(a){return"display"===a||0===a.lastIndexOf("animation",0)||0===a.lastIndexOf("transition",0)}function e(a,b,e){if(!d(a)){var f=h[a];if(f){i.style[a]=b;for(var g in f){var j=f[g],k=i.style[j];e[j]=c(j,k)}}else e[a]=c(a,b)}}function f(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;g<f;g++)e={},e.offset="offset"in a?a.offset:1==f?1:g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function g(b){function c(){var a=d.length;null==d[a-1].offset&&(d[a-1].offset=1),a>1&&null==d[0].offset&&(d[0].offset=0);for(var b=0,c=d[0].offset,e=1;e<a;e++){var f=d[e].offset;if(null!=f){for(var g=1;g<e-b;g++)d[b+g].offset=c+(f-c)*g/(e-b);b=e,c=f}}}if(null==b)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||(b=f(b));for(var d=b.map(function(b){var c={};for(var d in b){var f=b[d];if("offset"==d){if(null!=f){if(f=Number(f),!isFinite(f))throw new TypeError("Keyframe offsets must be numbers.");if(f<0||f>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==d){if("add"==f||"accumulate"==f)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=f)throw new TypeError("Invalid composite mode "+f+".")}else f="easing"==d?a.normalizeEasing(f):""+f;e(d,f,c)}return void 0==c.offset&&(c.offset=null),void 0==c.easing&&(c.easing="linear"),c}),g=!0,h=-1/0,i=0;i<d.length;i++){var j=d[i].offset;if(null!=j){if(j<h)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");h=j}else g=!1}return d=d.filter(function(a){return a.offset>=0&&a.offset<=1}),g||c(),d}var h={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),j={thin:"1px",medium:"3px",thick:"5px"},k={borderBottomWidth:j,borderLeftWidth:j,borderRightWidth:j,borderTopWidth:j,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:j,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=f,a.normalizeKeyframes=g}(c),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),!(g<h&&(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,1))},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=g,i=g+1,j=f[h].offset,k=f[i].offset,l=j,m=k;0==g&&(l=-1/0,0==k&&(i=h)),g==f.length-2&&(m=1/0,1==j&&(h=i)),d.push({applyFrom:l,applyTo:m,startOffset:f[h].offset,endOffset:f[i].offset,easingFunction:a.parseEasingFunction(f[h].easing),property:e,interpolation:b.propertyInterpolation(e,f[h].value,f[i].value)})}return d.sort(function(a,b){return a.startOffset-b.startOffset}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return c>=a.applyFrom&&c<a.applyTo}).forEach(function(d){var e=c-d.startOffset,f=d.endOffset-d.startOffset,g=0==f?0:d.easingFunction(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++){e(a,b,d(c[f]))}}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateIterationProgress(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return null!==(h=i(a))},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._target=c,k._totalDuration=i._totalDuration,k._id=g,k}}(c,d),function(a,b){function c(a,b){return!(!b.namespaceURI||-1==b.namespaceURI.indexOf("/svg"))&&(g in a||(a[g]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(a.navigator.userAgent)),a[g])}function d(a,b,c){c.enumerable=!0,c.configurable=!0,Object.defineProperty(a,b,c)}function e(a){this._element=a,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=a.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=c(window,a),this._savedTransformAttr=null;for(var b=0;b<this._style.length;b++){var d=this._style[b];this._surrogateStyle[d]=this._style[d]}this._updateIndices()}function f(a){if(!a._webAnimationsPatchedStyle){var b=new e(a);try{d(a,"style",{get:function(){return b}})}catch(b){a.style._set=function(b,c){a.style[b]=c},a.style._clear=function(b){a.style[b]=""}}a._webAnimationsPatchedStyle=a.style}}var g="_webAnimationsUpdateSvgTransformAttr",h={cssText:1,length:1,parentRule:1},i={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},j={removeProperty:1,setProperty:1};e.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(a){for(var b={},c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;this._surrogateStyle.cssText=a,this._updateIndices();for(var c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;for(var d in b)this._isAnimatedProperty[d]||this._style.setProperty(d,this._surrogateStyle.getPropertyValue(d))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(a){return function(){return this._surrogateStyle[a]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(b,c){this._style[b]=c,this._isAnimatedProperty[b]=!0,this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",a.transformToSvgMatrix(c)))},_clear:function(b){this._style[b]=this._surrogateStyle[b],this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[b]}};for(var k in i)e.prototype[k]=function(a,b){return function(){var c=this._surrogateStyle[a].apply(this._surrogateStyle,arguments);return b&&(this._isAnimatedProperty[arguments[0]]||this._style[a].apply(this._style,arguments),this._updateIndices()),c}}(k,k in j);for(var l in document.documentElement.style)l in h||l in i||function(a){d(e.prototype,a,{get:function(){return this._surrogateStyle[a]},set:function(b){this._surrogateStyle[a]=b,this._updateIndices(),this._isAnimatedProperty[a]||(this._style[a]=b)}})}(l);a.apply=function(b,c,d){f(b),b.style._set(a.propertyName(c),d)},a.clear=function(b,c){b._webAnimationsPatchedStyle&&b.style._clear(a.propertyName(c))}}(d),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return d<.5?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d),function(a,b){function c(a,b,c){return Math.max(Math.min(a,c),b)}function d(b,d,e){var f=a.dot(b,d);f=c(f,-1,1);var g=[];if(1===f)g=b;else for(var h=Math.acos(f),i=1*Math.sin(e*h)/Math.sqrt(1-f*f),j=0;j<4;j++)g.push(b[j]*(Math.cos(e*h)-f*i)+d[j]*i);return g}var e=function(){function a(a,b){for(var c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d=0;d<4;d++)for(var e=0;e<4;e++)for(var f=0;f<4;f++)c[d][e]+=b[d][f]*a[f][e];return c}function b(a){return 0==a[0][2]&&0==a[0][3]&&0==a[1][2]&&0==a[1][3]&&0==a[2][0]&&0==a[2][1]&&1==a[2][2]&&0==a[2][3]&&0==a[3][2]&&1==a[3][3]}function c(c,d,e,f,g){for(var h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],i=0;i<4;i++)h[i][3]=g[i];for(var i=0;i<3;i++)for(var j=0;j<3;j++)h[3][i]+=c[j]*h[j][i];var k=f[0],l=f[1],m=f[2],n=f[3],o=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[0][0]=1-2*(l*l+m*m),o[0][1]=2*(k*l-m*n),o[0][2]=2*(k*m+l*n),o[1][0]=2*(k*l+m*n),o[1][1]=1-2*(k*k+m*m),o[1][2]=2*(l*m-k*n),o[2][0]=2*(k*m-l*n),o[2][1]=2*(l*m+k*n),o[2][2]=1-2*(k*k+l*l),h=a(h,o);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];e[2]&&(p[2][1]=e[2],h=a(h,p)),e[1]&&(p[2][1]=0,p[2][0]=e[0],h=a(h,p)),e[0]&&(p[2][0]=0,p[1][0]=e[0],h=a(h,p));for(var i=0;i<3;i++)for(var j=0;j<3;j++)h[i][j]*=d[i];return b(h)?[h[0][0],h[0][1],h[1][0],h[1][1],h[3][0],h[3][1]]:h[0].concat(h[1],h[2],h[3])}return c}();a.composeMatrix=e,a.quat=d}(d),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),b.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)),null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),b.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;return a._activeAnimations||(a._activeAnimations=[]),a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),b=a.indexOf(this);-1!==b&&a.splice(b,1)}}}(c,d),function(a,b,c){function d(a){var b=j;j=[],a<q.currentTime&&(a=q.currentTime),q._animations.sort(e),q._animations=h(a,!0,q._animations)[0],b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c,d){p=!0,n=!1,b.timeline.currentTime=a,m=!1;var e=[],f=[],g=[],h=[];return d.forEach(function(b){b._tick(a,c),b._inEffect?(f.push(b._effect),b._markTarget()):(e.push(b._effect),b._unmarkTarget()),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;b._inTimeline=d,d?g.push(b):h.push(b)}),o.push.apply(o,e),o.push.apply(o,f),m&&requestAnimationFrame(function(){}),p=!1,[g,h]}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.applyDirtiedAnimation(d),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.applyDirtiedAnimation=function(a){if(!p){a._markTarget();var c=a._targetAnimations();c.sort(e),h(b.timeline.currentTime,!1,c.slice())[1].forEach(function(a){var b=q._animations.indexOf(a);-1!==b&&q._animations.splice(b,1)}),g()}};var o=[],p=!1,q=new f;b.timeline=q}(c,d),function(a,b){function c(a,b){for(var c=0,d=0;d<a.length;d++)c+=a[d]*b[d];return c}function d(a,b){return[a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15]]}function e(a){var b=a.rad||0;return((a.deg||0)/360+(a.grad||0)/400+(a.turn||0))*(2*Math.PI)+b}function f(a){switch(a.t){case"rotatex":var b=e(a.d[0]);return[1,0,0,0,0,Math.cos(b),Math.sin(b),0,0,-Math.sin(b),Math.cos(b),0,0,0,0,1];case"rotatey":var b=e(a.d[0]);return[Math.cos(b),0,-Math.sin(b),0,0,1,0,0,Math.sin(b),0,Math.cos(b),0,0,0,0,1];case"rotate":case"rotatez":var b=e(a.d[0]);return[Math.cos(b),Math.sin(b),0,0,-Math.sin(b),Math.cos(b),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var c=a.d[0],d=a.d[1],f=a.d[2],b=e(a.d[3]),g=c*c+d*d+f*f;if(0===g)c=1,d=0,f=0;else if(1!==g){var h=Math.sqrt(g);c/=h,d/=h,f/=h}var i=Math.sin(b/2),j=i*Math.cos(b/2),k=i*i;return[1-2*(d*d+f*f)*k,2*(c*d*k+f*j),2*(c*f*k-d*j),0,2*(c*d*k-f*j),1-2*(c*c+f*f)*k,2*(d*f*k+c*j),0,2*(c*f*k+d*j),2*(d*f*k-c*j),1-2*(c*c+d*d)*k,0,0,0,0,1];case"scale":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[a.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,a.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,a.d[0],0,0,0,0,1];case"scale3d":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,a.d[2],0,0,0,0,1];case"skew":var l=e(a.d[0]),m=e(a.d[1]);return[1,Math.tan(m),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewx":var b=e(a.d[0]);return[1,0,0,0,Math.tan(b),1,0,0,0,0,1,0,0,0,0,1];case"skewy":var b=e(a.d[0]);return[1,Math.tan(b),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":var c=a.d[0].px||0,d=a.d[1].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,d,0,1];case"translatex":var c=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,0,0,1];case"translatey":var d=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,d,0,1];case"translatez":var f=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,f,1];case"translate3d":var c=a.d[0].px||0,d=a.d[1].px||0,f=a.d[2].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,d,f,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,a.d[0].px?-1/a.d[0].px:0,0,0,0,1];case"matrix":return[a.d[0],a.d[1],0,0,a.d[2],a.d[3],0,0,0,0,1,0,a.d[4],a.d[5],0,1];case"matrix3d":return a.d}}function g(a){return 0===a.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:a.map(f).reduce(d)}function h(a){return[i(g(a))]}var i=function(){function a(a){return a[0][0]*a[1][1]*a[2][2]+a[1][0]*a[2][1]*a[0][2]+a[2][0]*a[0][1]*a[1][2]-a[0][2]*a[1][1]*a[2][0]-a[1][2]*a[2][1]*a[0][0]-a[2][2]*a[0][1]*a[1][0]}function b(b){for(var c=1/a(b),d=b[0][0],e=b[0][1],f=b[0][2],g=b[1][0],h=b[1][1],i=b[1][2],j=b[2][0],k=b[2][1],l=b[2][2],m=[[(h*l-i*k)*c,(f*k-e*l)*c,(e*i-f*h)*c,0],[(i*j-g*l)*c,(d*l-f*j)*c,(f*g-d*i)*c,0],[(g*k-h*j)*c,(j*e-d*k)*c,(d*h-e*g)*c,0]],n=[],o=0;o<3;o++){for(var p=0,q=0;q<3;q++)p+=b[3][q]*m[q][o];n.push(p)}return n.push(1),m.push(n),m}function d(a){return[[a[0][0],a[1][0],a[2][0],a[3][0]],[a[0][1],a[1][1],a[2][1],a[3][1]],[a[0][2],a[1][2],a[2][2],a[3][2]],[a[0][3],a[1][3],a[2][3],a[3][3]]]}function e(a,b){for(var c=[],d=0;d<4;d++){for(var e=0,f=0;f<4;f++)e+=a[f]*b[f][d];c.push(e)}return c}function f(a){var b=g(a);return[a[0]/b,a[1]/b,a[2]/b]}function g(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}function h(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1],c*a[2]+d*b[2]]}function i(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function j(j){var k=[j.slice(0,4),j.slice(4,8),j.slice(8,12),j.slice(12,16)];if(1!==k[3][3])return null;for(var l=[],m=0;m<4;m++)l.push(k[m].slice());for(var m=0;m<3;m++)l[m][3]=0;if(0===a(l))return null;var n,o=[];k[0][3]||k[1][3]||k[2][3]?(o.push(k[0][3]),o.push(k[1][3]),o.push(k[2][3]),o.push(k[3][3]),n=e(o,d(b(l)))):n=[0,0,0,1];var p=k[3].slice(0,3),q=[];q.push(k[0].slice(0,3));var r=[];r.push(g(q[0])),q[0]=f(q[0]);var s=[];q.push(k[1].slice(0,3)),s.push(c(q[0],q[1])),q[1]=h(q[1],q[0],1,-s[0]),r.push(g(q[1])),q[1]=f(q[1]),s[0]/=r[1],q.push(k[2].slice(0,3)),s.push(c(q[0],q[2])),q[2]=h(q[2],q[0],1,-s[1]),s.push(c(q[1],q[2])),q[2]=h(q[2],q[1],1,-s[2]),r.push(g(q[2])),q[2]=f(q[2]),s[1]/=r[2],s[2]/=r[2];var t=i(q[1],q[2]);if(c(q[0],t)<0)for(var m=0;m<3;m++)r[m]*=-1,q[m][0]*=-1,q[m][1]*=-1,q[m][2]*=-1;var u,v,w=q[0][0]+q[1][1]+q[2][2]+1;return w>1e-4?(u=.5/Math.sqrt(w),v=[(q[2][1]-q[1][2])*u,(q[0][2]-q[2][0])*u,(q[1][0]-q[0][1])*u,.25/u]):q[0][0]>q[1][1]&&q[0][0]>q[2][2]?(u=2*Math.sqrt(1+q[0][0]-q[1][1]-q[2][2]),v=[.25*u,(q[0][1]+q[1][0])/u,(q[0][2]+q[2][0])/u,(q[2][1]-q[1][2])/u]):q[1][1]>q[2][2]?(u=2*Math.sqrt(1+q[1][1]-q[0][0]-q[2][2]),v=[(q[0][1]+q[1][0])/u,.25*u,(q[1][2]+q[2][1])/u,(q[0][2]-q[2][0])/u]):(u=2*Math.sqrt(1+q[2][2]-q[0][0]-q[1][1]),v=[(q[0][2]+q[2][0])/u,(q[1][2]+q[2][1])/u,.25*u,(q[1][0]-q[0][1])/u]),[p,r,s,v,n]}return j}();a.dot=c,a.makeMatrixDecomposition=h,a.transformListToMatrix=g}(d),function(a){function b(a,b){var c=a.exec(b);if(c)return c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);if(c)return[c[0],c[1].replace(/^\s*/,"")]}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],!(g=b(d,e))||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,c<=0))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){return a(c)||[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}if(""==c)return d}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;k<j;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);if(e&&e[0].length)return[d,e[1]]}function c(c){var d=a.consumeRepeated(b,/^,/,c);if(d&&""==d[1])return d[0]}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a))return Number(a)}function f(a,b){return[a,b,c]}function g(a,b){if(0!=a)return i(0,1/0)(a,b)}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a){var b=a.trim().split(/\s*[\s,]\s*/);if(0!==b.length){for(var c=[],d=0;d<b.length;d++){var f=e(b[d]);if(void 0===f)return;c.push(f)}return c}}function k(a,b){if(a.length==b.length)return[a,b,function(a){return a.map(c).join(" ")}]}function l(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(j,k,["stroke-dasharray"]),a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,l,["z-index"]),a.parseNumber=e,a.parseNumberList=j,a.mergeNumbers=f,a.numberToString=c}(d),function(a,b){function c(a,b){if("visible"==a||"visible"==b)return[0,1,function(c){return c<=0?a:c>=1?b:"visible"}]}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;d<3;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d),function(a,b){function c(a){function b(){var b=h.exec(a);g=b?b[0]:void 0}function c(){var a=Number(g);return b(),a}function d(){if("("!==g)return c();b();var a=f();return")"!==g?NaN:(b(),a)}function e(){for(var a=d();"*"===g||"/"===g;){var c=g;b();var e=d();"*"===c?a*=e:a/=e}return a}function f(){for(var a=e();"+"===g||"-"===g;){var c=g;b();var d=e();"+"===c?a+=d:a-=d}return a}var g,h=/([\+\-\w\.]+|[\(\)\*\/])/g;return b(),f()}function d(a,b){if("0"==(b=b.trim().toLowerCase())&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var d={};b=b.replace(a,function(a){return d[a]=null,"U"+a});for(var e="U("+a.source+")",f=b.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+e,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),g=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],h=0;h<g.length;)g[h].test(f)?(f=f.replace(g[h],"$1"),h=0):h++;if("D"==f){for(var i in d){var j=c(b.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(e,"g"),"*0"));if(!isFinite(j))return;d[i]=j}return d}}}function e(a,b){return f(a,b,!0)}function f(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var g="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",h=d.bind(null,new RegExp(g,"g")),i=d.bind(null,new RegExp(g+"|%","g")),j=d.bind(null,/deg|rad|grad|turn/g);a.parseLength=h,a.parseLengthOrPercent=i,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,i),a.parseAngle=j,a.mergeDimensions=f;var k=a.consumeParenthesised.bind(null,h),l=a.consumeRepeated.bind(void 0,k,/^/),m=a.consumeRepeated.bind(void 0,l,/^,/);a.consumeSizePairList=m;var n=function(a){var b=m(a);if(b&&""==b[1])return b[0]},o=a.mergeNestedRepeated.bind(void 0,e," "),p=a.mergeNestedRepeated.bind(void 0,o,",");a.mergeNonNegativeSizePair=o,a.addPropertiesHandler(n,p,["background-size"]),a.addPropertiesHandler(i,e,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(i,f,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(d),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);if(d&&4==d[0].length)return d[0]}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if("none"==(b=b.toLowerCase().trim()))return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(void 0===(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r]))return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]);return a.composeMatrix(b[0],b[1],b[2],c,b[4]).map(f).join(",")}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"]),a.transformToSvgMatrix=function(b){var c=a.transformListToMatrix(e(b));return"matrix("+f(c[0])+" "+f(c[1])+" "+f(c[4])+" "+f(c[5])+" "+f(c[12])+" "+f(c[13])+")"}}(d),function(a){function b(a){var b=Number(a);if(!(isNaN(b)||b<100||b>900||b%100!=0))return b}function c(b){return b=100*Math.round(b/100),b=a.clamp(100,900,b),400===b?"normal":700===b?"bold":String(b)}function d(a,b){return[a,b,c]}a.addPropertiesHandler(b,d,["font-weight"])}(d),function(a){function b(a){var b={};for(var c in a)b[c]=-a[c];return b}function c(b){return a.consumeToken(/^(left|center|right|top|bottom)\b/i,b)||a.consumeLengthOrPercent(b)}function d(b,d){var e=a.consumeRepeated(c,/^/,d);if(e&&""==e[1]){var f=e[0];if(f[0]=f[0]||"center",f[1]=f[1]||"center",3==b&&(f[2]=f[2]||{px:0}),f.length==b){if(/top|bottom/.test(f[0])||/left|right/.test(f[1])){var h=f[0];f[0]=f[1],f[1]=h}if(/left|right|center|Object/.test(f[0])&&/top|bottom|center|Object/.test(f[1]))return f.map(function(a){return"object"==typeof a?a:g[a]})}}}function e(d){var e=a.consumeRepeated(c,/^/,d);if(e){for(var f=e[0],h=[{"%":50},{"%":50}],i=0,j=!1,k=0;k<f.length;k++){var l=f[k];"string"==typeof l?(j=/bottom|right/.test(l),i={left:0,right:0,center:i,top:1,bottom:1}[l],h[i]=g[l],"center"==l&&i++):(j&&(l=b(l),l["%"]=(l["%"]||0)+100),h[i]=l,i++,j=!1)}return[h,e[1]]}}function f(b){var c=a.consumeRepeated(e,/^,/,b);if(c&&""==c[1])return c[0]}var g={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},h=a.mergeNestedRepeated.bind(null,a.mergeDimensions," ");a.addPropertiesHandler(d.bind(null,3),h,["transform-origin"]),a.addPropertiesHandler(d.bind(null,2),h,["perspective-origin"]),a.consumePosition=e,a.mergeOffsetList=h;var i=a.mergeNestedRepeated.bind(null,h,", ");a.addPropertiesHandler(f,i,["background-position","object-position"])}(d),function(a){function b(b){var c=a.consumeToken(/^circle/,b);if(c&&c[0])return["circle"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),d,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,/^\)/))],c[1]));var f=a.consumeToken(/^ellipse/,b);if(f&&f[0])return["ellipse"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),e,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,/^\)/))],f[1]));var g=a.consumeToken(/^polygon/,b);return g&&g[0]?["polygon"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),a.optional(a.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),a.consumeSizePairList,a.ignore(a.consumeToken.bind(void 0,/^\)/))],g[1])):void 0}function c(b,c){if(b[0]===c[0])return"circle"==b[0]?a.mergeList(b.slice(1),c.slice(1),["circle(",a.mergeDimensions," at ",a.mergeOffsetList,")"]):"ellipse"==b[0]?a.mergeList(b.slice(1),c.slice(1),["ellipse(",a.mergeNonNegativeSizePair," at ",a.mergeOffsetList,")"]):"polygon"==b[0]&&b[1]==c[1]?a.mergeList(b.slice(2),c.slice(2),["polygon(",b[1],g,")"]):void 0}var d=a.consumeParenthesised.bind(null,a.parseLengthOrPercent),e=a.consumeRepeated.bind(void 0,d,/^/),f=a.mergeNestedRepeated.bind(void 0,a.mergeDimensions," "),g=a.mergeNestedRepeated.bind(void 0,f,",");a.addPropertiesHandler(b,c,["shape-outside"])}(d),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b),e[b]=a})}var d={},e={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a},a.unprefixedPropertyName=function(a){return e[a]||a}}(d)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(a){}finally{c&&c.cancel()}if(!d){var g=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),g.call(this,b,c)}}}(c),b.true=a}({},function(){return this}());
//# sourceMappingURL=web-animations.min.js.map

/***/ }),

/***/ "ebfd":
/***/ (function(module, exports, __webpack_require__) {

var META = __webpack_require__("62a0")('meta');
var isObject = __webpack_require__("f772");
var has = __webpack_require__("07e3");
var setDesc = __webpack_require__("d9f6").f;
var id = 0;
var isExtensible = Object.isExtensible || function () {
  return true;
};
var FREEZE = !__webpack_require__("294c")(function () {
  return isExtensible(Object.preventExtensions({}));
});
var setMeta = function (it) {
  setDesc(it, META, { value: {
    i: 'O' + ++id, // object ID
    w: {}          // weak collections IDs
  } });
};
var fastKey = function (it, create) {
  // return primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMeta(it);
  // return object ID
  } return it[META].i;
};
var getWeak = function (it, create) {
  if (!has(it, META)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMeta(it);
  // return hash weak collections IDs
  } return it[META].w;
};
// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
  return it;
};
var meta = module.exports = {
  KEY: META,
  NEED: false,
  fastKey: fastKey,
  getWeak: getWeak,
  onFreeze: onFreeze
};


/***/ }),

/***/ "ed33":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("014b");
module.exports = __webpack_require__("584a").Object.getOwnPropertySymbols;


/***/ }),

/***/ "f160":
/***/ (function(module, exports) {

module.exports = "<!doctype html>\n\n<html lang=\"en\">\n<head>\n  <meta charset=\"utf-8\">\n\n  <title>Effect Node System</title>\n  <meta name=\"description\" content=\"Effect Node System\">\n  <meta name=\"author\" content=\"Effect Node System\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n  <!-- <link rel=\"stylesheet\" href=\"css/styles.css?v=1.0\"> -->\n  <style type=\"text/css\">\n    /*STYLE_HEAD*/\n  </style>\n  <script>\n    /*SCRIPT_HEAD*/\n  </script>\n</head>\n\n<body>\n  <!--=*+BODY_HTML+*=-->\n  <script>\n    /*SCRIPT_BODY*/\n  </script>\n</body>\n</html>"

/***/ }),

/***/ "f201":
/***/ (function(module, exports, __webpack_require__) {

// 7.3.20 SpeciesConstructor(O, defaultConstructor)
var anObject = __webpack_require__("e4ae");
var aFunction = __webpack_require__("79aa");
var SPECIES = __webpack_require__("5168")('species');
module.exports = function (O, D) {
  var C = anObject(O).constructor;
  var S;
  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
};


/***/ }),

/***/ "f37d":
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__("cea2");
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add the styles to the DOM
var add = __webpack_require__("499e").default
var update = add("4458431c", content, true, {"sourceMap":false,"shadowMode":false});

/***/ }),

/***/ "f410":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("1af6");
module.exports = __webpack_require__("584a").Array.isArray;


/***/ }),

/***/ "f499":
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("a21f");

/***/ }),

/***/ "f772":
/***/ (function(module, exports) {

module.exports = function (it) {
  return typeof it === 'object' ? it !== null : typeof it === 'function';
};


/***/ }),

/***/ "f921":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("014b");
__webpack_require__("c207");
__webpack_require__("69d3");
__webpack_require__("765d");
module.exports = __webpack_require__("584a").Symbol;


/***/ }),

/***/ "fa19":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_1_id_3da3219b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("1825");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_1_id_3da3219b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_1_id_3da3219b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Portals_vue_vue_type_style_index_1_id_3da3219b_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "fab2":
/***/ (function(module, exports, __webpack_require__) {

var document = __webpack_require__("7726").document;
module.exports = document && document.documentElement;


/***/ }),

/***/ "fae3":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/setPublicPath.js
// This file is imported into lib/wc client bundles.

if (typeof window !== 'undefined') {
  var i
  if ((i = window.document.currentScript) && (i = i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))) {
    __webpack_require__.p = i[1] // eslint-disable-line
  }
}

// Indicate to webpack that this file can be concatenated
/* harmony default export */ var setPublicPath = (null);

// EXTERNAL MODULE: external {"commonjs":"vue","commonjs2":"vue","root":"Vue"}
var external_commonjs_vue_commonjs2_vue_root_Vue_ = __webpack_require__("8bbf");
var external_commonjs_vue_commonjs2_vue_root_Vue_default = /*#__PURE__*/__webpack_require__.n(external_commonjs_vue_commonjs2_vue_root_Vue_);

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=template&id=f21baa2e&
var Appvue_type_template_id_f21baa2e_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"full",attrs:{"id":"app"}},[_c('HelloWorld',{staticClass:"full"})],1)}
var staticRenderFns = []


// CONCATENATED MODULE: ./src/App.vue?vue&type=template&id=f21baa2e&

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js?{"cacheDirectory":"node_modules/.cache/vue-loader","cacheIdentifier":"2eeb37e7-vue-loader-template"}!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=template&id=28d48f46&scoped=true&
var HelloWorldvue_type_template_id_28d48f46_scoped_true_render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"hello"},[(_vm.myApps)?_c('enos',{attrs:{"effectnode":true,"apps":_vm.myApps}}):_vm._e()],1)}
var HelloWorldvue_type_template_id_28d48f46_scoped_true_staticRenderFns = []


// CONCATENATED MODULE: ./src/components/HelloWorld.vue?vue&type=template&id=28d48f46&scoped=true&

// EXTERNAL MODULE: ./node_modules/@babel/runtime-corejs2/helpers/esm/objectSpread.js + 1 modules
var objectSpread = __webpack_require__("cebc");

// EXTERNAL MODULE: ./src/lib/index.js
var lib = __webpack_require__("d75a");

// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/components/HelloWorld.vue?vue&type=script&lang=js&

//
//
//
//
//
//

/* harmony default export */ var HelloWorldvue_type_script_lang_js_ = ({
  components: Object(objectSpread["a" /* default */])({}, lib["a" /* default */]),
  data: function data() {
    return {
      myApps: false
    };
  },
  mounted: function mounted() {
    this.myApps = [{
      windowTitle: 'Sample',
      compoName: 'samsam',
      App: __webpack_require__("8bd4").default
    }];
  }
});
// CONCATENATED MODULE: ./src/components/HelloWorld.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_HelloWorldvue_type_script_lang_js_ = (HelloWorldvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__("2877");

// CONCATENATED MODULE: ./src/components/HelloWorld.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_HelloWorldvue_type_script_lang_js_,
  HelloWorldvue_type_template_id_28d48f46_scoped_true_render,
  HelloWorldvue_type_template_id_28d48f46_scoped_true_staticRenderFns,
  false,
  null,
  "28d48f46",
  null
  
)

/* harmony default export */ var HelloWorld = (component.exports);
// CONCATENATED MODULE: ./node_modules/cache-loader/dist/cjs.js??ref--12-0!./node_modules/thread-loader/dist/cjs.js!./node_modules/babel-loader/lib!./node_modules/cache-loader/dist/cjs.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./src/App.vue?vue&type=script&lang=js&
//
//
//
//
//
//

/* harmony default export */ var Appvue_type_script_lang_js_ = ({
  name: 'app',
  components: {
    HelloWorld: HelloWorld
  }
});
// CONCATENATED MODULE: ./src/App.vue?vue&type=script&lang=js&
 /* harmony default export */ var src_Appvue_type_script_lang_js_ = (Appvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./src/App.vue?vue&type=style&index=0&lang=css&
var Appvue_type_style_index_0_lang_css_ = __webpack_require__("034f");

// CONCATENATED MODULE: ./src/App.vue






/* normalize component */

var App_component = Object(componentNormalizer["a" /* default */])(
  src_Appvue_type_script_lang_js_,
  Appvue_type_template_id_f21baa2e_render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* harmony default export */ var App = (App_component.exports);
// CONCATENATED MODULE: ./node_modules/vuex/dist/vuex.esm.js
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */
function applyMixin (Vue) {
  var version = Number(Vue.version.split('.')[0]);

  if (version >= 2) {
    Vue.mixin({ beforeCreate: vuexInit });
  } else {
    // override init and inject vuex init procedure
    // for 1.x backwards compatibility.
    var _init = Vue.prototype._init;
    Vue.prototype._init = function (options) {
      if ( options === void 0 ) options = {};

      options.init = options.init
        ? [vuexInit].concat(options.init)
        : vuexInit;
      _init.call(this, options);
    };
  }

  /**
   * Vuex init hook, injected into each instances init hooks list.
   */

  function vuexInit () {
    var options = this.$options;
    // store injection
    if (options.store) {
      this.$store = typeof options.store === 'function'
        ? options.store()
        : options.store;
    } else if (options.parent && options.parent.$store) {
      this.$store = options.parent.$store;
    }
  }
}

var devtoolHook =
  typeof window !== 'undefined' &&
  window.__VUE_DEVTOOLS_GLOBAL_HOOK__;

function devtoolPlugin (store) {
  if (!devtoolHook) { return }

  store._devtoolHook = devtoolHook;

  devtoolHook.emit('vuex:init', store);

  devtoolHook.on('vuex:travel-to-state', function (targetState) {
    store.replaceState(targetState);
  });

  store.subscribe(function (mutation, state) {
    devtoolHook.emit('vuex:mutation', mutation, state);
  });
}

/**
 * Get the first item that pass the test
 * by second argument function
 *
 * @param {Array} list
 * @param {Function} f
 * @return {*}
 */

/**
 * forEach for object
 */
function forEachValue (obj, fn) {
  Object.keys(obj).forEach(function (key) { return fn(obj[key], key); });
}

function isObject (obj) {
  return obj !== null && typeof obj === 'object'
}

function isPromise (val) {
  return val && typeof val.then === 'function'
}

function assert (condition, msg) {
  if (!condition) { throw new Error(("[vuex] " + msg)) }
}

// Base data struct for store's module, package with some attribute and method
var Module = function Module (rawModule, runtime) {
  this.runtime = runtime;
  // Store some children item
  this._children = Object.create(null);
  // Store the origin module object which passed by programmer
  this._rawModule = rawModule;
  var rawState = rawModule.state;

  // Store the origin module's state
  this.state = (typeof rawState === 'function' ? rawState() : rawState) || {};
};

var prototypeAccessors = { namespaced: { configurable: true } };

prototypeAccessors.namespaced.get = function () {
  return !!this._rawModule.namespaced
};

Module.prototype.addChild = function addChild (key, module) {
  this._children[key] = module;
};

Module.prototype.removeChild = function removeChild (key) {
  delete this._children[key];
};

Module.prototype.getChild = function getChild (key) {
  return this._children[key]
};

Module.prototype.update = function update (rawModule) {
  this._rawModule.namespaced = rawModule.namespaced;
  if (rawModule.actions) {
    this._rawModule.actions = rawModule.actions;
  }
  if (rawModule.mutations) {
    this._rawModule.mutations = rawModule.mutations;
  }
  if (rawModule.getters) {
    this._rawModule.getters = rawModule.getters;
  }
};

Module.prototype.forEachChild = function forEachChild (fn) {
  forEachValue(this._children, fn);
};

Module.prototype.forEachGetter = function forEachGetter (fn) {
  if (this._rawModule.getters) {
    forEachValue(this._rawModule.getters, fn);
  }
};

Module.prototype.forEachAction = function forEachAction (fn) {
  if (this._rawModule.actions) {
    forEachValue(this._rawModule.actions, fn);
  }
};

Module.prototype.forEachMutation = function forEachMutation (fn) {
  if (this._rawModule.mutations) {
    forEachValue(this._rawModule.mutations, fn);
  }
};

Object.defineProperties( Module.prototype, prototypeAccessors );

var ModuleCollection = function ModuleCollection (rawRootModule) {
  // register root module (Vuex.Store options)
  this.register([], rawRootModule, false);
};

ModuleCollection.prototype.get = function get (path) {
  return path.reduce(function (module, key) {
    return module.getChild(key)
  }, this.root)
};

ModuleCollection.prototype.getNamespace = function getNamespace (path) {
  var module = this.root;
  return path.reduce(function (namespace, key) {
    module = module.getChild(key);
    return namespace + (module.namespaced ? key + '/' : '')
  }, '')
};

ModuleCollection.prototype.update = function update$1 (rawRootModule) {
  update([], this.root, rawRootModule);
};

ModuleCollection.prototype.register = function register (path, rawModule, runtime) {
    var this$1 = this;
    if ( runtime === void 0 ) runtime = true;

  if (false) {}

  var newModule = new Module(rawModule, runtime);
  if (path.length === 0) {
    this.root = newModule;
  } else {
    var parent = this.get(path.slice(0, -1));
    parent.addChild(path[path.length - 1], newModule);
  }

  // register nested modules
  if (rawModule.modules) {
    forEachValue(rawModule.modules, function (rawChildModule, key) {
      this$1.register(path.concat(key), rawChildModule, runtime);
    });
  }
};

ModuleCollection.prototype.unregister = function unregister (path) {
  var parent = this.get(path.slice(0, -1));
  var key = path[path.length - 1];
  if (!parent.getChild(key).runtime) { return }

  parent.removeChild(key);
};

function update (path, targetModule, newModule) {
  if (false) {}

  // update target module
  targetModule.update(newModule);

  // update nested modules
  if (newModule.modules) {
    for (var key in newModule.modules) {
      if (!targetModule.getChild(key)) {
        if (false) {}
        return
      }
      update(
        path.concat(key),
        targetModule.getChild(key),
        newModule.modules[key]
      );
    }
  }
}

var functionAssert = {
  assert: function (value) { return typeof value === 'function'; },
  expected: 'function'
};

var objectAssert = {
  assert: function (value) { return typeof value === 'function' ||
    (typeof value === 'object' && typeof value.handler === 'function'); },
  expected: 'function or object with "handler" function'
};

var assertTypes = {
  getters: functionAssert,
  mutations: functionAssert,
  actions: objectAssert
};

function assertRawModule (path, rawModule) {
  Object.keys(assertTypes).forEach(function (key) {
    if (!rawModule[key]) { return }

    var assertOptions = assertTypes[key];

    forEachValue(rawModule[key], function (value, type) {
      assert(
        assertOptions.assert(value),
        makeAssertionMessage(path, key, type, value, assertOptions.expected)
      );
    });
  });
}

function makeAssertionMessage (path, key, type, value, expected) {
  var buf = key + " should be " + expected + " but \"" + key + "." + type + "\"";
  if (path.length > 0) {
    buf += " in module \"" + (path.join('.')) + "\"";
  }
  buf += " is " + (JSON.stringify(value)) + ".";
  return buf
}

var Vue; // bind on install

var Store = function Store (options) {
  var this$1 = this;
  if ( options === void 0 ) options = {};

  // Auto install if it is not done yet and `window` has `Vue`.
  // To allow users to avoid auto-installation in some cases,
  // this code should be placed here. See #731
  if (!Vue && typeof window !== 'undefined' && window.Vue) {
    install(window.Vue);
  }

  if (false) {}

  var plugins = options.plugins; if ( plugins === void 0 ) plugins = [];
  var strict = options.strict; if ( strict === void 0 ) strict = false;

  // store internal state
  this._committing = false;
  this._actions = Object.create(null);
  this._actionSubscribers = [];
  this._mutations = Object.create(null);
  this._wrappedGetters = Object.create(null);
  this._modules = new ModuleCollection(options);
  this._modulesNamespaceMap = Object.create(null);
  this._subscribers = [];
  this._watcherVM = new Vue();

  // bind commit and dispatch to self
  var store = this;
  var ref = this;
  var dispatch = ref.dispatch;
  var commit = ref.commit;
  this.dispatch = function boundDispatch (type, payload) {
    return dispatch.call(store, type, payload)
  };
  this.commit = function boundCommit (type, payload, options) {
    return commit.call(store, type, payload, options)
  };

  // strict mode
  this.strict = strict;

  var state = this._modules.root.state;

  // init root module.
  // this also recursively registers all sub-modules
  // and collects all module getters inside this._wrappedGetters
  installModule(this, state, [], this._modules.root);

  // initialize the store vm, which is responsible for the reactivity
  // (also registers _wrappedGetters as computed properties)
  resetStoreVM(this, state);

  // apply plugins
  plugins.forEach(function (plugin) { return plugin(this$1); });

  var useDevtools = options.devtools !== undefined ? options.devtools : Vue.config.devtools;
  if (useDevtools) {
    devtoolPlugin(this);
  }
};

var prototypeAccessors$1 = { state: { configurable: true } };

prototypeAccessors$1.state.get = function () {
  return this._vm._data.$$state
};

prototypeAccessors$1.state.set = function (v) {
  if (false) {}
};

Store.prototype.commit = function commit (_type, _payload, _options) {
    var this$1 = this;

  // check object-style commit
  var ref = unifyObjectStyle(_type, _payload, _options);
    var type = ref.type;
    var payload = ref.payload;
    var options = ref.options;

  var mutation = { type: type, payload: payload };
  var entry = this._mutations[type];
  if (!entry) {
    if (false) {}
    return
  }
  this._withCommit(function () {
    entry.forEach(function commitIterator (handler) {
      handler(payload);
    });
  });
  this._subscribers.forEach(function (sub) { return sub(mutation, this$1.state); });

  if (
    false
  ) {}
};

Store.prototype.dispatch = function dispatch (_type, _payload) {
    var this$1 = this;

  // check object-style dispatch
  var ref = unifyObjectStyle(_type, _payload);
    var type = ref.type;
    var payload = ref.payload;

  var action = { type: type, payload: payload };
  var entry = this._actions[type];
  if (!entry) {
    if (false) {}
    return
  }

  try {
    this._actionSubscribers
      .filter(function (sub) { return sub.before; })
      .forEach(function (sub) { return sub.before(action, this$1.state); });
  } catch (e) {
    if (false) {}
  }

  var result = entry.length > 1
    ? Promise.all(entry.map(function (handler) { return handler(payload); }))
    : entry[0](payload);

  return result.then(function (res) {
    try {
      this$1._actionSubscribers
        .filter(function (sub) { return sub.after; })
        .forEach(function (sub) { return sub.after(action, this$1.state); });
    } catch (e) {
      if (false) {}
    }
    return res
  })
};

Store.prototype.subscribe = function subscribe (fn) {
  return genericSubscribe(fn, this._subscribers)
};

Store.prototype.subscribeAction = function subscribeAction (fn) {
  var subs = typeof fn === 'function' ? { before: fn } : fn;
  return genericSubscribe(subs, this._actionSubscribers)
};

Store.prototype.watch = function watch (getter, cb, options) {
    var this$1 = this;

  if (false) {}
  return this._watcherVM.$watch(function () { return getter(this$1.state, this$1.getters); }, cb, options)
};

Store.prototype.replaceState = function replaceState (state) {
    var this$1 = this;

  this._withCommit(function () {
    this$1._vm._data.$$state = state;
  });
};

Store.prototype.registerModule = function registerModule (path, rawModule, options) {
    if ( options === void 0 ) options = {};

  if (typeof path === 'string') { path = [path]; }

  if (false) {}

  this._modules.register(path, rawModule);
  installModule(this, this.state, path, this._modules.get(path), options.preserveState);
  // reset store to update getters...
  resetStoreVM(this, this.state);
};

Store.prototype.unregisterModule = function unregisterModule (path) {
    var this$1 = this;

  if (typeof path === 'string') { path = [path]; }

  if (false) {}

  this._modules.unregister(path);
  this._withCommit(function () {
    var parentState = getNestedState(this$1.state, path.slice(0, -1));
    Vue.delete(parentState, path[path.length - 1]);
  });
  resetStore(this);
};

Store.prototype.hotUpdate = function hotUpdate (newOptions) {
  this._modules.update(newOptions);
  resetStore(this, true);
};

Store.prototype._withCommit = function _withCommit (fn) {
  var committing = this._committing;
  this._committing = true;
  fn();
  this._committing = committing;
};

Object.defineProperties( Store.prototype, prototypeAccessors$1 );

function genericSubscribe (fn, subs) {
  if (subs.indexOf(fn) < 0) {
    subs.push(fn);
  }
  return function () {
    var i = subs.indexOf(fn);
    if (i > -1) {
      subs.splice(i, 1);
    }
  }
}

function resetStore (store, hot) {
  store._actions = Object.create(null);
  store._mutations = Object.create(null);
  store._wrappedGetters = Object.create(null);
  store._modulesNamespaceMap = Object.create(null);
  var state = store.state;
  // init all modules
  installModule(store, state, [], store._modules.root, true);
  // reset vm
  resetStoreVM(store, state, hot);
}

function resetStoreVM (store, state, hot) {
  var oldVm = store._vm;

  // bind store public getters
  store.getters = {};
  var wrappedGetters = store._wrappedGetters;
  var computed = {};
  forEachValue(wrappedGetters, function (fn, key) {
    // use computed to leverage its lazy-caching mechanism
    computed[key] = function () { return fn(store); };
    Object.defineProperty(store.getters, key, {
      get: function () { return store._vm[key]; },
      enumerable: true // for local getters
    });
  });

  // use a Vue instance to store the state tree
  // suppress warnings just in case the user has added
  // some funky global mixins
  var silent = Vue.config.silent;
  Vue.config.silent = true;
  store._vm = new Vue({
    data: {
      $$state: state
    },
    computed: computed
  });
  Vue.config.silent = silent;

  // enable strict mode for new vm
  if (store.strict) {
    enableStrictMode(store);
  }

  if (oldVm) {
    if (hot) {
      // dispatch changes in all subscribed watchers
      // to force getter re-evaluation for hot reloading.
      store._withCommit(function () {
        oldVm._data.$$state = null;
      });
    }
    Vue.nextTick(function () { return oldVm.$destroy(); });
  }
}

function installModule (store, rootState, path, module, hot) {
  var isRoot = !path.length;
  var namespace = store._modules.getNamespace(path);

  // register in namespace map
  if (module.namespaced) {
    store._modulesNamespaceMap[namespace] = module;
  }

  // set state
  if (!isRoot && !hot) {
    var parentState = getNestedState(rootState, path.slice(0, -1));
    var moduleName = path[path.length - 1];
    store._withCommit(function () {
      Vue.set(parentState, moduleName, module.state);
    });
  }

  var local = module.context = makeLocalContext(store, namespace, path);

  module.forEachMutation(function (mutation, key) {
    var namespacedType = namespace + key;
    registerMutation(store, namespacedType, mutation, local);
  });

  module.forEachAction(function (action, key) {
    var type = action.root ? key : namespace + key;
    var handler = action.handler || action;
    registerAction(store, type, handler, local);
  });

  module.forEachGetter(function (getter, key) {
    var namespacedType = namespace + key;
    registerGetter(store, namespacedType, getter, local);
  });

  module.forEachChild(function (child, key) {
    installModule(store, rootState, path.concat(key), child, hot);
  });
}

/**
 * make localized dispatch, commit, getters and state
 * if there is no namespace, just use root ones
 */
function makeLocalContext (store, namespace, path) {
  var noNamespace = namespace === '';

  var local = {
    dispatch: noNamespace ? store.dispatch : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (false) {}
      }

      return store.dispatch(type, payload)
    },

    commit: noNamespace ? store.commit : function (_type, _payload, _options) {
      var args = unifyObjectStyle(_type, _payload, _options);
      var payload = args.payload;
      var options = args.options;
      var type = args.type;

      if (!options || !options.root) {
        type = namespace + type;
        if (false) {}
      }

      store.commit(type, payload, options);
    }
  };

  // getters and state object must be gotten lazily
  // because they will be changed by vm update
  Object.defineProperties(local, {
    getters: {
      get: noNamespace
        ? function () { return store.getters; }
        : function () { return makeLocalGetters(store, namespace); }
    },
    state: {
      get: function () { return getNestedState(store.state, path); }
    }
  });

  return local
}

function makeLocalGetters (store, namespace) {
  var gettersProxy = {};

  var splitPos = namespace.length;
  Object.keys(store.getters).forEach(function (type) {
    // skip if the target getter is not match this namespace
    if (type.slice(0, splitPos) !== namespace) { return }

    // extract local getter type
    var localType = type.slice(splitPos);

    // Add a port to the getters proxy.
    // Define as getter property because
    // we do not want to evaluate the getters in this time.
    Object.defineProperty(gettersProxy, localType, {
      get: function () { return store.getters[type]; },
      enumerable: true
    });
  });

  return gettersProxy
}

function registerMutation (store, type, handler, local) {
  var entry = store._mutations[type] || (store._mutations[type] = []);
  entry.push(function wrappedMutationHandler (payload) {
    handler.call(store, local.state, payload);
  });
}

function registerAction (store, type, handler, local) {
  var entry = store._actions[type] || (store._actions[type] = []);
  entry.push(function wrappedActionHandler (payload, cb) {
    var res = handler.call(store, {
      dispatch: local.dispatch,
      commit: local.commit,
      getters: local.getters,
      state: local.state,
      rootGetters: store.getters,
      rootState: store.state
    }, payload, cb);
    if (!isPromise(res)) {
      res = Promise.resolve(res);
    }
    if (store._devtoolHook) {
      return res.catch(function (err) {
        store._devtoolHook.emit('vuex:error', err);
        throw err
      })
    } else {
      return res
    }
  });
}

function registerGetter (store, type, rawGetter, local) {
  if (store._wrappedGetters[type]) {
    if (false) {}
    return
  }
  store._wrappedGetters[type] = function wrappedGetter (store) {
    return rawGetter(
      local.state, // local state
      local.getters, // local getters
      store.state, // root state
      store.getters // root getters
    )
  };
}

function enableStrictMode (store) {
  store._vm.$watch(function () { return this._data.$$state }, function () {
    if (false) {}
  }, { deep: true, sync: true });
}

function getNestedState (state, path) {
  return path.length
    ? path.reduce(function (state, key) { return state[key]; }, state)
    : state
}

function unifyObjectStyle (type, payload, options) {
  if (isObject(type) && type.type) {
    options = payload;
    payload = type;
    type = type.type;
  }

  if (false) {}

  return { type: type, payload: payload, options: options }
}

function install (_Vue) {
  if (Vue && _Vue === Vue) {
    if (false) {}
    return
  }
  Vue = _Vue;
  applyMixin(Vue);
}

/**
 * Reduce the code which written in Vue.js for getting the state.
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} states # Object's item can be a function which accept state and getters for param, you can do something for state and getters in it.
 * @param {Object}
 */
var mapState = normalizeNamespace(function (namespace, states) {
  var res = {};
  normalizeMap(states).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedState () {
      var state = this.$store.state;
      var getters = this.$store.getters;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapState', namespace);
        if (!module) {
          return
        }
        state = module.context.state;
        getters = module.context.getters;
      }
      return typeof val === 'function'
        ? val.call(this, state, getters)
        : state[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for committing the mutation
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} mutations # Object's item can be a function which accept `commit` function as the first param, it can accept anthor params. You can commit mutation and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapMutations = normalizeNamespace(function (namespace, mutations) {
  var res = {};
  normalizeMap(mutations).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedMutation () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // Get the commit method from store
      var commit = this.$store.commit;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapMutations', namespace);
        if (!module) {
          return
        }
        commit = module.context.commit;
      }
      return typeof val === 'function'
        ? val.apply(this, [commit].concat(args))
        : commit.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for getting the getters
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} getters
 * @return {Object}
 */
var mapGetters = normalizeNamespace(function (namespace, getters) {
  var res = {};
  normalizeMap(getters).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    // The namespace has been mutated by normalizeNamespace
    val = namespace + val;
    res[key] = function mappedGetter () {
      if (namespace && !getModuleByNamespace(this.$store, 'mapGetters', namespace)) {
        return
      }
      if (false) {}
      return this.$store.getters[val]
    };
    // mark vuex getter for devtools
    res[key].vuex = true;
  });
  return res
});

/**
 * Reduce the code which written in Vue.js for dispatch the action
 * @param {String} [namespace] - Module's namespace
 * @param {Object|Array} actions # Object's item can be a function which accept `dispatch` function as the first param, it can accept anthor params. You can dispatch action and do any other things in this function. specially, You need to pass anthor params from the mapped function.
 * @return {Object}
 */
var mapActions = normalizeNamespace(function (namespace, actions) {
  var res = {};
  normalizeMap(actions).forEach(function (ref) {
    var key = ref.key;
    var val = ref.val;

    res[key] = function mappedAction () {
      var args = [], len = arguments.length;
      while ( len-- ) args[ len ] = arguments[ len ];

      // get dispatch function from store
      var dispatch = this.$store.dispatch;
      if (namespace) {
        var module = getModuleByNamespace(this.$store, 'mapActions', namespace);
        if (!module) {
          return
        }
        dispatch = module.context.dispatch;
      }
      return typeof val === 'function'
        ? val.apply(this, [dispatch].concat(args))
        : dispatch.apply(this.$store, [val].concat(args))
    };
  });
  return res
});

/**
 * Rebinding namespace param for mapXXX function in special scoped, and return them by simple object
 * @param {String} namespace
 * @return {Object}
 */
var createNamespacedHelpers = function (namespace) { return ({
  mapState: mapState.bind(null, namespace),
  mapGetters: mapGetters.bind(null, namespace),
  mapMutations: mapMutations.bind(null, namespace),
  mapActions: mapActions.bind(null, namespace)
}); };

/**
 * Normalize the map
 * normalizeMap([1, 2, 3]) => [ { key: 1, val: 1 }, { key: 2, val: 2 }, { key: 3, val: 3 } ]
 * normalizeMap({a: 1, b: 2, c: 3}) => [ { key: 'a', val: 1 }, { key: 'b', val: 2 }, { key: 'c', val: 3 } ]
 * @param {Array|Object} map
 * @return {Object}
 */
function normalizeMap (map) {
  return Array.isArray(map)
    ? map.map(function (key) { return ({ key: key, val: key }); })
    : Object.keys(map).map(function (key) { return ({ key: key, val: map[key] }); })
}

/**
 * Return a function expect two param contains namespace and map. it will normalize the namespace and then the param's function will handle the new namespace and the map.
 * @param {Function} fn
 * @return {Function}
 */
function normalizeNamespace (fn) {
  return function (namespace, map) {
    if (typeof namespace !== 'string') {
      map = namespace;
      namespace = '';
    } else if (namespace.charAt(namespace.length - 1) !== '/') {
      namespace += '/';
    }
    return fn(namespace, map)
  }
}

/**
 * Search a special module from store by namespace. if module not exist, print error message.
 * @param {Object} store
 * @param {String} helper
 * @param {String} namespace
 * @return {Object}
 */
function getModuleByNamespace (store, helper, namespace) {
  var module = store._modulesNamespaceMap[namespace];
  if (false) {}
  return module
}

var index_esm = {
  Store: Store,
  install: install,
  version: '3.1.0',
  mapState: mapState,
  mapMutations: mapMutations,
  mapGetters: mapGetters,
  mapActions: mapActions,
  createNamespacedHelpers: createNamespacedHelpers
};

/* harmony default export */ var vuex_esm = (index_esm);


// CONCATENATED MODULE: ./src/store.js


external_commonjs_vue_commonjs2_vue_root_Vue_default.a.use(vuex_esm);
/* harmony default export */ var store = (new vuex_esm.Store({
  state: {},
  mutations: {},
  actions: {}
}));
// CONCATENATED MODULE: ./src/lib/palms.js



external_commonjs_vue_commonjs2_vue_root_Vue_default.a.config.productionTip = false;

var palms_main = function main() {
  var baseCSS = "\n      position: fixed;\n      top: 0px;\n      left: 0px;\n      width: 100%;\n      z-index: 10;\n      height: 100%;\n      background-color: #f1f1f1;\n  ";
  document.querySelector('html').style.overflow = 'hidden';
  var base = document.createElement('div');
  base.style.cssText = baseCSS;
  document.body.appendChild(base); // let installerDiv = document.createElement('div')
  // base.appendChild(installerDiv)
  // let sizer = () => {
  //   installerDiv.style.height = (window.innerHeight) + 'px'
  // }
  // sizer()
  // window.addEventListener('resize', sizer, false)

  new external_commonjs_vue_commonjs2_vue_root_Vue_default.a({
    store: store,
    render: function render(h) {
      return h(App);
    }
  }).$mount(base);
};

palms_main();
// CONCATENATED MODULE: ./node_modules/@vue/cli-service/lib/commands/build/entry-lib-no-default.js




/***/ }),

/***/ "fb19":
/***/ (function(module, exports, __webpack_require__) {

(function(t,e){ true?module.exports=e():undefined})("undefined"!==typeof self?self:this,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"014b":function(t,e,n){"use strict";var r=n("e53d"),i=n("07e3"),o=n("8e60"),a=n("63b6"),u=n("9138"),c=n("ebfd").KEY,s=n("294c"),f=n("dbdb"),l=n("45f2"),h=n("62a0"),p=n("5168"),d=n("ccb9"),m=n("6718"),g=n("47ee"),v=n("9003"),b=n("e4ae"),y=n("f772"),x=n("36c3"),w=n("1bc3"),S=n("aebd"),_=n("a159"),O=n("0395"),E=n("bf0b"),P=n("d9f6"),T=n("c3a1"),R=E.f,M=P.f,j=O.f,N=r.Symbol,L=r.JSON,k=L&&L.stringify,A="prototype",z=p("_hidden"),B=p("toPrimitive"),F={}.propertyIsEnumerable,C=f("symbol-registry"),I=f("symbols"),D=f("op-symbols"),H=Object[A],W="function"==typeof N,$=r.QObject,U=!$||!$[A]||!$[A].findChild,V=o&&s(function(){return 7!=_(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=R(H,e);r&&delete H[e],M(t,e,n),r&&t!==H&&M(H,e,r)}:M,X=function(t){var e=I[t]=_(N[A]);return e._k=t,e},Y=W&&"symbol"==typeof N.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof N},G=function(t,e,n){return t===H&&G(D,e,n),b(t),e=w(e,!0),b(n),i(I,e)?(n.enumerable?(i(t,z)&&t[z][e]&&(t[z][e]=!1),n=_(n,{enumerable:S(0,!1)})):(i(t,z)||M(t,z,S(1,{})),t[z][e]=!0),V(t,e,n)):M(t,e,n)},J=function(t,e){b(t);var n,r=g(e=x(e)),i=0,o=r.length;while(o>i)G(t,n=r[i++],e[n]);return t},K=function(t,e){return void 0===e?_(t):J(_(t),e)},q=function(t){var e=F.call(this,t=w(t,!0));return!(this===H&&i(I,t)&&!i(D,t))&&(!(e||!i(this,t)||!i(I,t)||i(this,z)&&this[z][t])||e)},Q=function(t,e){if(t=x(t),e=w(e,!0),t!==H||!i(I,e)||i(D,e)){var n=R(t,e);return!n||!i(I,e)||i(t,z)&&t[z][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=j(x(t)),r=[],o=0;while(n.length>o)i(I,e=n[o++])||e==z||e==c||r.push(e);return r},tt=function(t){var e,n=t===H,r=j(n?D:x(t)),o=[],a=0;while(r.length>a)!i(I,e=r[a++])||n&&!i(H,e)||o.push(I[e]);return o};W||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===H&&e.call(D,n),i(this,z)&&i(this[z],t)&&(this[z][t]=!1),V(this,t,S(1,n))};return o&&U&&V(H,t,{configurable:!0,set:e}),X(t)},u(N[A],"toString",function(){return this._k}),E.f=Q,P.f=G,n("6abf").f=O.f=Z,n("355d").f=q,n("9aa9").f=tt,o&&!n("b8e3")&&u(H,"propertyIsEnumerable",q,!0),d.f=function(t){return X(p(t))}),a(a.G+a.W+a.F*!W,{Symbol:N});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=T(p.store),it=0;rt.length>it;)m(rt[it++]);a(a.S+a.F*!W,"Symbol",{for:function(t){return i(C,t+="")?C[t]:C[t]=N(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in C)if(C[e]===t)return e},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!W,"Object",{create:K,defineProperty:G,defineProperties:J,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),L&&a(a.S+a.F*(!W||s(function(){var t=N();return"[null]"!=k([t])||"{}"!=k({a:t})||"{}"!=k(Object(t))})),"JSON",{stringify:function(t){var e,n,r=[t],i=1;while(arguments.length>i)r.push(arguments[i++]);if(n=e=r[1],(y(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Y(e))return e}),r[1]=e,k.apply(L,r)}}),N[A][B]||n("35e8")(N[A],B,N[A].valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},"0395":function(t,e,n){var r=n("36c3"),i=n("6abf").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(t){try{return i(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?u(t):i(r(t))}},"07d8":function(t,e,n){"use strict";var r=n("5aee"),i=n("9f79"),o="Set";t.exports=n("ada4")(o,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return r.def(i(this,o),t=0===t?0:t,t)}},r)},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"0a49":function(t,e,n){var r=n("9b43"),i=n("626a"),o=n("4bf8"),a=n("9def"),u=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,p=e||u;return function(e,u,d){for(var m,g,v=o(e),b=i(v),y=r(u,d,3),x=a(b.length),w=0,S=n?p(e,x):c?p(e,0):void 0;x>w;w++)if((h||w in b)&&(m=b[w],g=y(m,w,v),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(f)return!1;return l?-1:s||f?f:S}}},"0b64":function(t,e,n){var r=n("f772"),i=n("9003"),o=n("5168")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"0bfb":function(t,e,n){"use strict";var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},"0fc9":function(t,e,n){var r=n("3a38"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},1169:function(t,e,n){var r=n("2d95");t.exports=Array.isArray||function(t){return"Array"==r(t)}},1173:function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},"11e9":function(t,e,n){var r=n("52a7"),i=n("4630"),o=n("6821"),a=n("6a99"),u=n("69a8"),c=n("c69a"),s=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?s:function(t,e){if(t=o(t),e=a(e,!0),c)try{return s(t,e)}catch(n){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),u=a.length,c=0;while(u>c)r.f(t,n=a[c++],e[n]);return t}},1654:function(t,e,n){"use strict";var r=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"1bc3":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var r=n("f772"),i=n("e53d").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"241e":function(t,e,n){var r=n("25eb");t.exports=function(t){return Object(r(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},"268f":function(t,e,n){t.exports=n("fde4")},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),u="toString",c=Function[u],s=(""+c).split(u);n("8378").inspectSource=function(t){return c.call(t)},(t.exports=function(t,e,n,u){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:s.join(String(e)))),t===r?t[e]=n:u?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,u,function(){return"function"==typeof this&&this[a]||c.call(this)})},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),u=function(){},c="prototype",s=function(){var t,e=n("230e")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),s=t.F;while(r--)delete s[c][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2f21":function(t,e,n){"use strict";var r=n("79e5");t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},"2fdb":function(t,e,n){"use strict";var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"30f1":function(t,e,n){"use strict";var r=n("b8e3"),i=n("63b6"),o=n("9138"),a=n("35e8"),u=n("481b"),c=n("8f60"),s=n("45f2"),f=n("53e2"),l=n("5168")("iterator"),h=!([].keys&&"next"in[].keys()),p="@@iterator",d="keys",m="values",g=function(){return this};t.exports=function(t,e,n,v,b,y,x){c(n,e,v);var w,S,_,O=function(t){if(!h&&t in R)return R[t];switch(t){case d:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",P=b==m,T=!1,R=t.prototype,M=R[l]||R[p]||b&&R[b],j=M||O(b),N=b?P?O("entries"):j:void 0,L="Array"==e&&R.entries||M;if(L&&(_=f(L.call(new t)),_!==Object.prototype&&_.next&&(s(_,E,!0),r||"function"==typeof _[l]||a(_,l,g))),P&&M&&M.name!==m&&(T=!0,j=function(){return M.call(this)}),r&&!x||!h&&!T&&R[l]||a(R,l,j),u[e]=j,u[E]=g,b)if(w={values:P?j:O(m),keys:y?j:O(d),entries:N},x)for(S in w)S in R||o(R,S,w[S]);else i(i.P+i.F*(h||T),e,w);return w}},"32a6":function(t,e,n){var r=n("241e"),i=n("c3a1");n("ce7e")("keys",function(){return function(t){return i(r(t))}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var r=n("e53d").document;t.exports=r&&r.documentElement},"335c":function(t,e,n){var r=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},3425:function(t,e,n){"use strict";var r=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{class:[(t={},t[e.classNameActive]=e.enabled,t[e.classNameDragging]=e.dragging,t[e.classNameResizing]=e.resizing,t[e.classNameDraggable]=e.draggable,t[e.classNameResizable]=e.resizable,t),e.className],style:e.style,on:{mousedown:e.elementDown,touchstart:e.elementTouchDown}},[e._l(e.actualHandles,function(t){return r("div",{key:t,class:[e.classNameHandle,e.classNameHandle+"-"+t],style:{display:e.enabled?"block":"none"},on:{mousedown:function(n){n.stopPropagation(),n.preventDefault(),e.handleDown(t,n)},touchstart:function(n){n.stopPropagation(),n.preventDefault(),e.handleTouchDown(t,n)}}},[e._t(t)],2)}),e._t("default")],2)},i=[],o=n("268f"),a=n.n(o),u=n("e265"),c=n.n(u),s=n("a4bb"),f=n.n(s),l=n("85f2"),h=n.n(l);function p(t,e,n){return e in t?h()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=f()(n);"function"===typeof c.a&&(r=r.concat(c()(n).filter(function(t){return a()(n,t).enumerable}))),r.forEach(function(e){p(t,e,n[e])})}return t}n("3b2b");var m=n("e814"),g=n.n(m),v=n("a745"),b=n.n(v);function y(t){if(b()(t))return t}var x=n("5d73"),w=n.n(x);function S(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=w()(t);!(r=(a=u.next()).done);r=!0)if(n.push(a.value),e&&n.length===e)break}catch(c){i=!0,o=c}finally{try{r||null==u["return"]||u["return"]()}finally{if(i)throw o}}return n}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function O(t,e){return y(t)||S(t,e)||_()}n("6762"),n("2fdb"),n("d25f");var E=n("b6d0"),P=n.n(E);n("c5f6"),n("7514"),n("6b54"),n("87b3");function T(t){return"function"===typeof t||"[object Function]"===Object.prototype.toString.call(t)}function R(t,e,n){var r=t,i=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(function(t){return T(r[t])});if(!T(r[i]))return!1;do{if(r[i](e))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function M(t,e,n){t&&(t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener?t.addEventListener(e,n,!0):t["on"+e]=n)}function j(t,e,n){t&&(t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener?t.removeEventListener(e,n,!0):t["on"+e]=null)}var N={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},L={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},k={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},A=N.mouse,z={replace:!0,name:"vue-draggable-resizable",props:{debug:{type:Boolean,default:!1},className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:Number,default:200,validator:function(t){return t>0}},h:{type:Number,default:200,validator:function(t){return t>0}},minWidth:{type:Number,default:0,validator:function(t){return t>=0}},minHeight:{type:Number,default:0,validator:function(t){return t>=0}},maxWidth:{type:Number,default:null,validator:function(t){return t>=0}},maxHeight:{type:Number,default:null,validator:function(t){return t>=0}},x:{type:Number,default:0,validator:function(t){return"number"===typeof t}},y:{type:Number,default:0,validator:function(t){return"number"===typeof t}},z:{type:[String,Number],default:"auto",validator:function(t){return"string"===typeof t?"auto"===t:t>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(t){var e=new P.a(["tl","tm","tr","mr","br","bm","bl","ml"]);return new P.a(t.filter(function(t){return e.has(t)})).size===t.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(t){return["x","y","both"].includes(t)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:null},onResizeStart:{type:Function,default:null}},data:function(){return{rawWidth:this.w,rawHeight:this.h,rawLeft:this.x,rawTop:this.y,rawRight:null,rawBottom:null,left:this.x,top:this.y,right:null,bottom:null,aspectFactor:this.w/this.h,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var t=this.getParentSize(),e=O(t,2);this.parentWidth=e[0],this.parentHeight=e[1],this.rawRight=this.parentWidth-this.rawWidth-this.rawLeft,this.rawBottom=this.parentHeight-this.rawHeight-this.rawTop,M(document.documentElement,"mousedown",this.deselect),M(document.documentElement,"touchend touchcancel",this.deselect),M(window,"resize",this.checkParentSize)},beforeDestroy:function(){j(document.documentElement,"mousedown",this.deselect),j(document.documentElement,"touchstart",this.handleUp),j(document.documentElement,"mousemove",this.move),j(document.documentElement,"touchmove",this.move),j(document.documentElement,"mouseup",this.handleUp),j(document.documentElement,"touchend touchcancel",this.deselect),j(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var t=this.getParentSize(),e=O(t,2),n=e[0],r=e[1],i=this.parentWidth-n,o=this.parentHeight-r;this.rawRight-=i,this.rawBottom-=o,this.parentWidth=n,this.parentHeight=r}},getParentSize:function(){var t=this.parent;if(!0===t){var e=window.getComputedStyle(this.$el.parentNode,null);return[g()(e.getPropertyValue("width"),10),g()(e.getPropertyValue("height"),10)]}if("string"===typeof t){var n=document.querySelector(t);if(!(n instanceof HTMLElement))throw new Error("The selector ".concat(t," does not match any element"));return[n.offsetWidth,n.offsetHeight]}return[null,null]},elementTouchDown:function(t){A=N.touch,this.elementDown(t)},elementDown:function(t){var e=t.target||t.srcElement;if(this.$el.contains(e)){if(this.onDragStart&&!1===this.onDragStart(t))return;if(this.dragHandle&&!R(e,this.dragHandle,this.$el)||this.dragCancel&&R(e,this.dragCancel,this.$el))return;this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),M(document.documentElement,A.move,this.move),M(document.documentElement,A.stop,this.handleUp)}},calcDragLimits:function(){return{minLeft:(this.parentWidth+this.left)%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:(this.parentWidth+this.right)%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:(this.parentHeight+this.top)%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:(this.parentHeight+this.bottom)%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(t){var e=t.target||t.srcElement,n=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(e)||n.test(e.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),j(document.documentElement,A.move,this.handleMove)),this.resetBoundsAndMouseState()},handleTouchDown:function(t,e){A=N.touch,this.handleDown(t,e)},handleDown:function(t,e){this.onResizeStart&&!1===this.onResizeStart(t,e)||(e.stopPropagation&&e.stopPropagation(),this.lockAspectRatio&&!t.includes("m")?this.handle="m"+t.substring(1):this.handle=t,this.resizing=!0,this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),M(document.documentElement,A.move,this.handleMove),M(document.documentElement,A.stop,this.handleUp))},calcResizeLimits:function(){var t=this.minW,e=this.minH,n=this.maxW,r=this.maxH,i=this.aspectFactor,o=O(this.grid,2),a=o[0],u=o[1],c=this.width,s=this.height,f=this.left,l=this.top,h=this.right,p=this.bottom;this.lockAspectRatio&&(t/e>i?e=t/i:t=i*e,n&&r?(n=Math.min(n,i*r),r=Math.min(r,n/i)):n?r=n/i:r&&(n=i*r)),n-=n%a,r-=r%u;var d={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(d.minLeft=(this.parentWidth+f)%a,d.maxLeft=f+Math.floor((c-t)/a)*a,d.minTop=(this.parentHeight+l)%u,d.maxTop=l+Math.floor((s-e)/u)*u,d.minRight=(this.parentWidth+h)%a,d.maxRight=h+Math.floor((c-t)/a)*a,d.minBottom=(this.parentHeight+p)%u,d.maxBottom=p+Math.floor((s-e)/u)*u,n&&(d.minLeft=Math.max(d.minLeft,this.parentWidth-h-n),d.minRight=Math.max(d.minRight,this.parentWidth-f-n)),r&&(d.minTop=Math.max(d.minTop,this.parentHeight-p-r),d.minBottom=Math.max(d.minBottom,this.parentHeight-l-r)),this.lockAspectRatio&&(d.minLeft=Math.max(d.minLeft,f-l*i),d.minTop=Math.max(d.minTop,l-f/i),d.minRight=Math.max(d.minRight,h-p*i),d.minBottom=Math.max(d.minBottom,p-h/i))):(d.minLeft=null,d.maxLeft=f+Math.floor((c-t)/a)*a,d.minTop=null,d.maxTop=l+Math.floor((s-e)/u)*u,d.minRight=null,d.maxRight=h+Math.floor((c-t)/a)*a,d.minBottom=null,d.maxBottom=p+Math.floor((s-e)/u)*u,n&&(d.minLeft=-(h+n),d.minRight=-(f+n)),r&&(d.minTop=-(p+r),d.minBottom=-(l+r)),this.lockAspectRatio&&n&&r&&(d.minLeft=Math.min(d.minLeft,-(h+n)),d.minTop=Math.min(d.minTop,-(r+p)),d.minRight=Math.min(d.minRight,-f-n),d.minBottom=Math.min(d.minBottom,-l-r))),d},move:function(t){this.resizing?this.handleMove(t):this.dragging&&this.elementMove(t)},elementMove:function(t){var e=this.axis,n=(this.grid,this.mouseClickPosition),r=e&&"y"!==e?n.mouseX-(t.touches?t.touches[0].pageX:t.pageX):0,i=e&&"x"!==e?n.mouseY-(t.touches?t.touches[0].pageY:t.pageY):0,o=this.snapToGrid(this.grid,r,i),a=O(o,2),u=a[0],c=a[1];(u||c)&&(this.rawTop=n.top-c,this.rawBottom=n.bottom+c,this.rawLeft=n.left-u,this.rawRight=n.right+u,this.$emit("dragging",this.left,this.top))},handleMove:function(t){var e=this.handle,n=this.mouseClickPosition,r=n.mouseX-(t.touches?t.touches[0].pageX:t.pageX),i=n.mouseY-(t.touches?t.touches[0].pageY:t.pageY),o=this.snapToGrid(this.grid,r,i),a=O(o,2),u=a[0],c=a[1];(u||c)&&(e.includes("b")?this.rawBottom=n.bottom+c:e.includes("t")&&(this.rawTop=n.top-c),e.includes("r")?this.rawRight=n.right+u:e.includes("l")&&(this.rawLeft=n.left-u),this.$emit("resizing",this.left,this.top,this.width,this.height))},handleUp:function(t){this.handle=null,this.resetBoundsAndMouseState(),this.rawTop=this.top,this.rawBottom=this.bottom,this.rawLeft=this.left,this.rawRight=this.right,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),j(document.documentElement,A.move,this.handleMove)},snapToGrid:function(t,e,n){var r=Math.round(e/t[0])*t[0],i=Math.round(n/t[1])*t[1];return[r,i]}},computed:{style:function(){return d({position:"absolute",top:this.top+"px",left:this.left+"px",width:this.width+"px",height:this.height+"px",zIndex:this.zIndex},this.dragging&&this.disableUserSelect?L:k)},actualHandles:function(){return this.resizable?this.handles:[]},width:function(){return this.parentWidth-this.left-this.right},height:function(){return this.parentHeight-this.top-this.bottom},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(t){this.enabled=t,t?this.$emit("activated"):this.$emit("deactivated")},z:function(t){(t>=0||"auto"===t)&&(this.zIndex=t)},rawLeft:function(t){var e=this.bounds,n=this.aspectFactor,r=this.lockAspectRatio,i=this.left,o=this.top;null!==e.minLeft&&t<e.minLeft?t=e.minLeft:null!==e.maxLeft&&e.maxLeft<t&&(t=e.maxLeft),r&&this.resizingOnX&&(this.rawTop=o-(i-t)/n),this.left=t},rawRight:function(t){var e=this.bounds,n=this.aspectFactor,r=this.lockAspectRatio,i=this.right,o=this.bottom;null!==e.minRight&&t<e.minRight?t=e.minRight:null!==e.maxRight&&e.maxRight<t&&(t=e.maxRight),r&&this.resizingOnX&&(this.rawBottom=o-(i-t)/n),this.right=t},rawTop:function(t){var e=this.bounds,n=this.aspectFactor,r=this.lockAspectRatio,i=this.left,o=this.top;null!==e.minTop&&t<e.minTop?t=e.minTop:null!==e.maxTop&&e.maxTop<t&&(t=e.maxTop),r&&this.resizingOnY&&(this.rawLeft=i-(o-t)*n),this.top=t},rawBottom:function(t){var e=this.bounds,n=this.aspectFactor,r=this.lockAspectRatio,i=this.right,o=this.bottom;null!==e.minBottom&&t<e.minBottom?t=e.minBottom:null!==e.maxBottom&&e.maxBottom<t&&(t=e.maxBottom),r&&this.resizingOnY&&(this.rawRight=i-(o-t)*n),this.bottom=t},x:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.x-this.left;t%this.grid[0]===0&&(this.rawLeft=this.x,this.rawRight=this.right-t)}},y:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcDragLimits());var t=this.y-this.top;t%this.grid[1]===0&&(this.rawTop=this.y,this.rawBottom=this.bottom-t)}},lockAspectRatio:function(t){this.aspectFactor=t?this.width/this.height:void 0},minWidth:function(t){t>0&&t<=this.width&&(this.minW=t)},minHeight:function(t){t>0&&t<=this.height&&(this.minH=t)},maxWidth:function(t){this.maxW=t},maxHeight:function(t){this.maxH=t},w:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.width-this.w;t%this.grid[0]===0&&(this.rawRight=this.right+t)}},h:function(){if(!this.resizing&&!this.dragging){this.parent&&(this.bounds=this.calcResizeLimits());var t=this.height-this.h;t%this.grid[1]===0&&(this.rawBottom=this.bottom+t)}}}},B=z;function F(t,e,n,r,i,o,a,u){var c,s="function"===typeof t?t.options:t;if(e&&(s.render=e,s.staticRenderFns=n,s._compiled=!0),r&&(s.functional=!0),o&&(s._scopeId="data-v-"+o),a?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},s._ssrRegister=c):i&&(c=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(s.functional){s._injectStyles=c;var f=s.render;s.render=function(t,e){return c.call(e),f(t,e)}}else{var l=s.beforeCreate;s.beforeCreate=l?[].concat(l,c):[c]}return{exports:t,options:s}}var C=F(B,r,i,!1,null,null,null);C.options.__file="vue-draggable-resizable.vue";e["a"]=C.exports},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var r=n("d9f6"),i=n("aebd");t.exports=n("8e60")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var r=n("335c"),i=n("25eb");t.exports=function(t){return r(i(t))}},3702:function(t,e,n){var r=n("481b"),i=n("5168")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||o[i]===t)}},3846:function(t,e,n){n("9e1e")&&"g"!=/./g.flags&&n("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:n("0bfb")})},"3a38":function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"3b2b":function(t,e,n){var r=n("7726"),i=n("5dbc"),o=n("86cc").f,a=n("9093").f,u=n("aae3"),c=n("0bfb"),s=r.RegExp,f=s,l=s.prototype,h=/a/g,p=/a/g,d=new s(h)!==h;if(n("9e1e")&&(!d||n("79e5")(function(){return p[n("2b4c")("match")]=!1,s(h)!=h||s(p)==p||"/a/i"!=s(h,"i")}))){s=function(t,e){var n=this instanceof s,r=u(t),o=void 0===e;return!n&&r&&t.constructor===s&&o?t:i(d?new f(r&&!o?t.source:t,e):f((r=t instanceof s)?t.source:t,r&&o?c.call(t):e),n?this:l,s)};for(var m=function(t){t in s||o(s,t,{configurable:!0,get:function(){return f[t]},set:function(e){f[t]=e}})},g=a(f),v=0;g.length>v;)m(g[v++]);l.constructor=s,s.prototype=l,n("2aba")(r,"RegExp",s)}n("7a56")("RegExp")},"40c3":function(t,e,n){var r=n("6b4c"),i=n("5168")("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,u;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:o?r(e):"Object"==(u=r(e))&&"function"==typeof e.callee?"Arguments":u}},4517:function(t,e,n){var r=n("a22a");t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},"45f2":function(t,e,n){var r=n("d9f6").f,i=n("07e3"),o=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"469f":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("7d7b")},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var r=n("c3a1"),i=n("9aa9"),o=n("355d");t.exports=function(t){var e=r(t),n=i.f;if(n){var a,u=n(t),c=o.f,s=0;while(u.length>s)c.call(t,a=u[s++])&&e.push(a)}return e}},"481b":function(t,e){t.exports={}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},"4c95":function(t,e,n){"use strict";var r=n("e53d"),i=n("584a"),o=n("d9f6"),a=n("8e60"),u=n("5168")("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:r[t];a&&e&&!e[u]&&o.f(e,u,{configurable:!0,get:function(){return this}})}},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},5168:function(t,e,n){var r=n("dbdb")("wks"),i=n("62a0"),o=n("e53d").Symbol,a="function"==typeof o,u=t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))};u.store=r},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53e2":function(t,e,n){var r=n("07e3"),i=n("241e"),o=n("5559")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var r=n("dbdb")("keys"),i=n("62a0");t.exports=function(t){return r[t]||(r[t]=i(t))}},"57b1":function(t,e,n){var r=n("d864"),i=n("335c"),o=n("241e"),a=n("b447"),u=n("bfac");t.exports=function(t,e){var n=1==t,c=2==t,s=3==t,f=4==t,l=6==t,h=5==t||l,p=e||u;return function(e,u,d){for(var m,g,v=o(e),b=i(v),y=r(u,d,3),x=a(b.length),w=0,S=n?p(e,x):c?p(e,0):void 0;x>w;w++)if((h||w in b)&&(m=b[w],g=y(m,w,v),t))if(n)S[w]=g;else if(g)switch(t){case 3:return!0;case 5:return m;case 6:return w;case 2:S.push(m)}else if(f)return!1;return l?-1:s||f?f:S}}},"57e3":function(t,e,n){n("68f7")("Set")},"584a":function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},"5aee":function(t,e,n){"use strict";var r=n("d9f6").f,i=n("a159"),o=n("5c95"),a=n("d864"),u=n("1173"),c=n("a22a"),s=n("30f1"),f=n("50ed"),l=n("4c95"),h=n("8e60"),p=n("ebfd").fastKey,d=n("9f79"),m=h?"_s":"size",g=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,s){var f=t(function(t,r){u(t,f,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[m]=0,void 0!=r&&c(r,n,t[s],t)});return o(f.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[m]=0},delete:function(t){var n=d(this,e),r=g(n,t);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[m]--}return!!r},forEach:function(t){d(this,e);var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){r(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!g(d(this,e),t)}}),h&&r(f.prototype,"size",{get:function(){return d(this,e)[m]}}),f},def:function(t,e,n){var r,i,o=g(t,e);return o?o.v=n:(t._l=o={i:i=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[m]++,"F"!==i&&(t._i[i]=o)),t},getEntry:g,setStrong:function(t,e,n){s(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?f(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,f(1))},n?"entries":"values",!n,!0),l(e)}}},"5b4e":function(t,e,n){var r=n("36c3"),i=n("b447"),o=n("0fc9");t.exports=function(t){return function(e,n,a){var u,c=r(e),s=i(c.length),f=o(a,s);if(t&&n!=n){while(s>f)if(u=c[f++],u!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},"5c95":function(t,e,n){var r=n("35e8");t.exports=function(t,e,n){for(var i in e)n&&t[i]?t[i]=e[i]:r(t,i,e[i]);return t}},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),u=n("9b43"),c="prototype",s=function(t,e,n){var f,l,h,p,d=t&s.F,m=t&s.G,g=t&s.S,v=t&s.P,b=t&s.B,y=m?r:g?r[e]||(r[e]={}):(r[e]||{})[c],x=m?i:i[e]||(i[e]={}),w=x[c]||(x[c]={});for(f in m&&(n=e),n)l=!d&&y&&void 0!==y[f],h=(l?y:n)[f],p=b&&l?u(h,r):v&&"function"==typeof h?u(Function.call,h):h,y&&a(y,f,h,t&s.U),x[f]!=h&&o(x,f,p),v&&w[f]!=h&&(w[f]=h)};r.core=i,s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},"5d6b":function(t,e,n){var r=n("e53d").parseInt,i=n("a1ce").trim,o=n("e692"),a=/^[-+]?0[xX]/;t.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(t,e){var n=i(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},"5d73":function(t,e,n){t.exports=n("469f")},"5dbc":function(t,e,n){var r=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(t,o),t}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},"63b6":function(t,e,n){var r=n("e53d"),i=n("584a"),o=n("d864"),a=n("35e8"),u=n("07e3"),c="prototype",s=function(t,e,n){var f,l,h,p=t&s.F,d=t&s.G,m=t&s.S,g=t&s.P,v=t&s.B,b=t&s.W,y=d?i:i[e]||(i[e]={}),x=y[c],w=d?r:m?r[e]:(r[e]||{})[c];for(f in d&&(n=e),n)l=!p&&w&&void 0!==w[f],l&&u(y,f)||(h=l?w[f]:n[f],y[f]=d&&"function"!=typeof w[f]?n[f]:v&&l?o(h,r):b&&w[f]==h?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e[c]=t[c],e}(h):g&&"function"==typeof h?o(Function.call,h):h,g&&((y.virtual||(y.virtual={}))[f]=h,t&s.R&&x&&!x[f]&&a(x,f,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,t.exports=s},6718:function(t,e,n){var r=n("e53d"),i=n("584a"),o=n("b8e3"),a=n("ccb9"),u=n("d9f6").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||u(e,t,{value:a.f(t)})}},6762:function(t,e,n){"use strict";var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"68f7":function(t,e,n){"use strict";var r=n("63b6"),i=n("79aa"),o=n("d864"),a=n("a22a");t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,u,c=arguments[1];return i(this),e=void 0!==c,e&&i(c),void 0==t?new this:(n=[],e?(r=0,u=o(c,arguments[2],2),a(t,!1,function(t){n.push(u(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var r=n("e6f3"),i=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b54":function(t,e,n){"use strict";n("3846");var r=n("cb7c"),i=n("0bfb"),o=n("9e1e"),a="toString",u=/./[a],c=function(t){n("2aba")(RegExp.prototype,a,t,!0)};n("79e5")(function(){return"/a/b"!=u.call({source:"a",flags:"b"})})?c(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?i.call(t):void 0)}):u.name!=a&&c(function(){return u.call(this)})},"6c1c":function(t,e,n){n("c367");for(var r=n("e53d"),i=n("35e8"),o=n("481b"),a=n("5168")("toStringTag"),u="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<u.length;c++){var s=u[c],f=r[s],l=f&&f.prototype;l&&!l[a]&&i(l,a,s),o[s]=o.Array}},"6f42":function(t,e,n){},7075:function(t,e,n){"use strict";var r=n("63b6");t.exports=function(t){r(r.S,t,{of:function(){var t=arguments.length,e=new Array(t);while(t--)e[t]=arguments[t];return new this(e)}})}},"71c1":function(t,e,n){var r=n("3a38"),i=n("25eb");t.exports=function(t){return function(e,n){var o,a,u=String(i(e)),c=r(n),s=u.length;return c<0||c>=s?t?"":void 0:(o=u.charCodeAt(c),o<55296||o>56319||c+1===s||(a=u.charCodeAt(c+1))<56320||a>57343?t?u.charAt(c):o:t?u.slice(c,c+2):a-56320+(o-55296<<10)+65536)}}},7445:function(t,e,n){var r=n("63b6"),i=n("5d6b");r(r.G+r.F*(parseInt!=i),{parseInt:i})},"74be":function(t,e,n){var r=n("63b6");r(r.P+r.R,"Set",{toJSON:n("f228")("Set")})},7514:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(o)},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return t=r(t),t<0?i(t+e,0):o(t,e)}},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var r=n("7726"),i=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=r[t];o&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},"7cd6":function(t,e,n){var r=n("40c3"),i=n("5168")("iterator"),o=n("481b");t.exports=n("584a").getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||o[r(t)]}},"7d7b":function(t,e,n){var r=n("e4ae"),i=n("7cd6");t.exports=n("584a").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return r(e.call(t))}},"7e90":function(t,e,n){var r=n("d9f6"),i=n("e4ae"),o=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){i(t);var n,a=o(e),u=a.length,c=0;while(u>c)r.f(t,n=a[c++],e[n]);return t}},8378:function(t,e){var n=t.exports={version:"2.6.1"};"number"==typeof __e&&(__e=n)},8436:function(t,e){t.exports=function(){}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"87b3":function(t,e,n){var r=Date.prototype,i="Invalid Date",o="toString",a=r[o],u=r.getTime;new Date(NaN)+""!=i&&n("2aba")(r,o,function(){var t=u.call(this);return t===t?a.call(this):i})},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8b97":function(t,e,n){var r=n("d3f4"),i=n("cb7c"),o=function(t,e){if(i(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:o}},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var r=n("a159"),i=n("aebd"),o=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},9093:function(t,e,n){var r=n("ce10"),i=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},9138:function(t,e,n){t.exports=n("35e8")},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;void 0==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9f79":function(t,e,n){var r=n("f772");t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},a159:function(t,e,n){var r=n("e4ae"),i=n("7e90"),o=n("1691"),a=n("5559")("IE_PROTO"),u=function(){},c="prototype",s=function(){var t,e=n("1ec9")("iframe"),r=o.length,i="<",a=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+a+"document.F=Object"+i+"/script"+a),t.close(),s=t.F;while(r--)delete s[c][o[r]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(u[c]=r(t),n=new u,u[c]=null,n[a]=t):n=s(),void 0===e?n:i(n,e)}},a1ce:function(t,e,n){var r=n("63b6"),i=n("25eb"),o=n("294c"),a=n("e692"),u="["+a+"]",c="​",s=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(t,e,n){var i={},u=o(function(){return!!a[t]()||c[t]()!=c}),s=i[t]=u?e(h):a[t];n&&(i[n]=s),r(r.P+r.F*u,"String",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},a22a:function(t,e,n){var r=n("d864"),i=n("b0dc"),o=n("3702"),a=n("e4ae"),u=n("b447"),c=n("7cd6"),s={},f={};e=t.exports=function(t,e,n,l,h){var p,d,m,g,v=h?function(){return t}:c(t),b=r(n,l,e?2:1),y=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(o(v)){for(p=u(t.length);p>y;y++)if(g=e?b(a(d=t[y])[0],d[1]):b(t[y]),g===s||g===f)return g}else for(m=v.call(t);!(d=m.next()).done;)if(g=i(m,b,d.value,e),g===s||g===f)return g};e.BREAK=s,e.RETURN=f},a4bb:function(t,e,n){t.exports=n("8aae")},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var r=n("5ca1"),i=n("be13"),o=n("79e5"),a=n("fdef"),u="["+a+"]",c="​",s=RegExp("^"+u+u+"*"),f=RegExp(u+u+"*$"),l=function(t,e,n){var i={},u=o(function(){return!!a[t]()||c[t]()!=c}),s=i[t]=u?e(h):a[t];n&&(i[n]=s),r(r.P+r.F*u,"String",i)},h=l.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ada4:function(t,e,n){"use strict";var r=n("e53d"),i=n("63b6"),o=n("ebfd"),a=n("294c"),u=n("35e8"),c=n("5c95"),s=n("a22a"),f=n("1173"),l=n("f772"),h=n("45f2"),p=n("d9f6").f,d=n("57b1")(0),m=n("8e60");t.exports=function(t,e,n,g,v,b){var y=r[t],x=y,w=v?"set":"add",S=x&&x.prototype,_={};return m&&"function"==typeof x&&(b||S.forEach&&!a(function(){(new x).entries().next()}))?(x=e(function(e,n){f(e,x,t,"_c"),e._c=new y,void 0!=n&&s(n,v,e[w],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in S&&(!b||"clear"!=t)&&u(x.prototype,t,function(n,r){if(f(this,x,t),!e&&b&&!l(n))return"get"==t&&void 0;var i=this._c[t](0===n?0:n,r);return e?this:i})}),b||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=g.getConstructor(e,t,v,w),c(x.prototype,n),o.NEED=!0),h(x,t),_[t]=x,i(i.G+i.W+i.F,_),b||g.setStrong(x,t,v),x}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0dc:function(t,e,n){var r=n("e4ae");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&r(o.call(t)),a}}},b447:function(t,e,n){var r=n("3a38"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},b635:function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return i});n("6f42");var r=n("3425");function i(t){i.installed||(i.installed=!0,t.component("VueDraggableResizable",r["a"]))}var o={install:i},a=null;"undefined"!==typeof window?a=window.Vue:"undefined"!==typeof t&&(a=t.Vue),a&&a.use(o),e["a"]=r["a"]}).call(this,n("c8ba"))},b6d0:function(t,e,n){t.exports=n("fa2b")},b8e3:function(t,e){t.exports=!0},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf0b:function(t,e,n){var r=n("355d"),i=n("aebd"),o=n("36c3"),a=n("1bc3"),u=n("07e3"),c=n("794b"),s=Object.getOwnPropertyDescriptor;e.f=n("8e60")?s:function(t,e){if(t=o(t),e=a(e,!0),c)try{return s(t,e)}catch(n){}if(u(t,e))return i(!r.f.call(t,e),t[e])}},bf90:function(t,e,n){var r=n("36c3"),i=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return i(r(t),e)}})},bfac:function(t,e,n){var r=n("0b64");t.exports=function(t,e){return new(r(t))(e)}},c207:function(t,e){},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var u,c=r(e),s=i(c.length),f=o(a,s);if(t&&n!=n){while(s>f)if(u=c[f++],u!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var r=n("8436"),i=n("50ed"),o=n("481b"),a=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},c3a1:function(t,e,n){var r=n("e6f3"),i=n("1691");t.exports=Object.keys||function(t){return r(t,i)}},c5f6:function(t,e,n){"use strict";var r=n("7726"),i=n("69a8"),o=n("2d95"),a=n("5dbc"),u=n("6a99"),c=n("79e5"),s=n("9093").f,f=n("11e9").f,l=n("86cc").f,h=n("aa77").trim,p="Number",d=r[p],m=d,g=d.prototype,v=o(n("2aeb")(g))==p,b="trim"in String.prototype,y=function(t){var e=u(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():h(e,3);var n,r,i,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+e}for(var a,c=e.slice(2),s=0,f=c.length;s<f;s++)if(a=c.charCodeAt(s),a<48||a>i)return NaN;return parseInt(c,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof d&&(v?c(function(){g.valueOf.call(n)}):o(n)!=p)?a(new m(y(e)),n,d):y(e)};for(var x,w=n("9e1e")?s(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;w.length>S;S++)i(m,x=w[S])&&!i(d,x)&&l(d,x,f(m,x));d.prototype=g,g.constructor=d,n("2aba")(r,p,d)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c6fb:function(t,e,n){n("7075")("Set")},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ccb9:function(t,e,n){e.f=n("5168")},cd1c:function(t,e,n){var r=n("e853");t.exports=function(t,e){return new(r(t))(e)}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);while(e.length>c)r(u,n=e[c++])&&(~o(s,n)||s.push(n));return s}},ce7e:function(t,e,n){var r=n("63b6"),i=n("584a"),o=n("294c");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},d25f:function(t,e,n){"use strict";var r=n("5ca1"),i=n("0a49")(2);r(r.P+r.F*!n("2f21")([].filter,!0),"Array",{filter:function(t){return i(this,t,arguments[1])}})},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d864:function(t,e,n){var r=n("79aa");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var r=n("e4ae"),i=n("794b"),o=n("1bc3"),a=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(u){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var r=n("584a"),i=n("e53d"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("b8e3")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e265:function(t,e,n){t.exports=n("ed33")},e4ae:function(t,e,n){var r=n("f772");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e6f3:function(t,e,n){var r=n("07e3"),i=n("36c3"),o=n("5b4e")(!1),a=n("5559")("IE_PROTO");t.exports=function(t,e){var n,u=i(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);while(e.length>c)r(u,n=e[c++])&&(~o(s,n)||s.push(n));return s}},e814:function(t,e,n){t.exports=n("b9e9")},e853:function(t,e,n){var r=n("d3f4"),i=n("1169"),o=n("2b4c")("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},ebfd:function(t,e,n){var r=n("62a0")("meta"),i=n("f772"),o=n("07e3"),a=n("d9f6").f,u=0,c=Object.isExtensible||function(){return!0},s=!n("294c")(function(){return c(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++u,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!c(t))return"F";if(!e)return"E";f(t)}return t[r].i},h=function(t,e){if(!o(t,r)){if(!c(t))return!0;if(!e)return!1;f(t)}return t[r].w},p=function(t){return s&&d.NEED&&c(t)&&!o(t,r)&&f(t),t},d=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:h,onFreeze:p}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},f228:function(t,e,n){var r=n("40c3"),i=n("4517");t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},fa2b:function(t,e,n){n("c207"),n("1654"),n("6c1c"),n("07d8"),n("74be"),n("c6fb"),n("57e3"),t.exports=n("584a").Set},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){"use strict";var r;(n.r(e),"undefined"!==typeof window)&&((r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^\/]+\.js(\?.*)?$/))&&(n.p=r[1]));var i=n("b635");n.d(e,"install",function(){return i["b"]});e["default"]=i["a"]},fde4:function(t,e,n){n("bf90");var r=n("584a").Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}})["default"]});
//# sourceMappingURL=VueDraggableResizable.umd.min.js.map

/***/ }),

/***/ "fc80":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_3d4f8406_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__("c0b9");
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_3d4f8406_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_3d4f8406_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* unused harmony reexport * */
 /* unused harmony default export */ var _unused_webpack_default_export = (_node_modules_vue_style_loader_index_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Timeline_vue_vue_type_style_index_0_id_3d4f8406_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ "fde4":
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__("bf90");
var $Object = __webpack_require__("584a").Object;
module.exports = function getOwnPropertyDescriptor(it, key) {
  return $Object.getOwnPropertyDescriptor(it, key);
};


/***/ }),

/***/ "fdef":
/***/ (function(module, exports) {

module.exports = '\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003' +
  '\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF';


/***/ })

/******/ });
//# sourceMappingURL=enos-palms.common.js.map